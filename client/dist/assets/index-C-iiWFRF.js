function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["assets/swipe-back-Dr9KwQdC.js","assets/index3-1Wug3oCw.js"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
var L$=Object.defineProperty;var O$=(e,t,n)=>t in e?L$(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var bT=(e,t,n)=>(O$(e,typeof t!="symbol"?t+"":t,n),n),Tx=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)};var _e=(e,t,n)=>(Tx(e,t,"read from private field"),n?n.call(e):t.get(e)),Ot=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},St=(e,t,n,i)=>(Tx(e,t,"write to private field"),i?i.call(e,n):t.set(e,n),n);var Yy=(e,t,n,i)=>({set _(s){St(e,t,s,n)},get _(){return _e(e,t,i)}}),pn=(e,t,n)=>(Tx(e,t,"access private method"),n);function Kne(){import.meta.url,import("_").catch(()=>1),async function*(){}().next()}function D$(e,t){for(var n=0;n<t.length;n++){const i=t[n];if(typeof i!="string"&&!Array.isArray(i)){for(const s in i)if(s!=="default"&&!(s in e)){const l=Object.getOwnPropertyDescriptor(i,s);l&&Object.defineProperty(e,s,l.get?l:{enumerable:!0,get:()=>i[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const l of s)if(l.type==="childList")for(const d of l.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&i(d)}).observe(document,{childList:!0,subtree:!0});function n(s){const l={};return s.integrity&&(l.integrity=s.integrity),s.referrerPolicy&&(l.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?l.credentials="include":s.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(s){if(s.ep)return;s.ep=!0;const l=n(s);fetch(s.href,l)}})();var V1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function fd(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var HR={exports:{}},h0={},qR={exports:{}},_n={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bg=Symbol.for("react.element"),$$=Symbol.for("react.portal"),B$=Symbol.for("react.fragment"),F$=Symbol.for("react.strict_mode"),N$=Symbol.for("react.profiler"),j$=Symbol.for("react.provider"),V$=Symbol.for("react.context"),U$=Symbol.for("react.forward_ref"),H$=Symbol.for("react.suspense"),q$=Symbol.for("react.memo"),W$=Symbol.for("react.lazy"),_T=Symbol.iterator;function Z$(e){return e===null||typeof e!="object"?null:(e=_T&&e[_T]||e["@@iterator"],typeof e=="function"?e:null)}var WR={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ZR=Object.assign,GR={};function wf(e,t,n){this.props=e,this.context=t,this.refs=GR,this.updater=n||WR}wf.prototype.isReactComponent={};wf.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};wf.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function KR(){}KR.prototype=wf.prototype;function H2(e,t,n){this.props=e,this.context=t,this.refs=GR,this.updater=n||WR}var q2=H2.prototype=new KR;q2.constructor=H2;ZR(q2,wf.prototype);q2.isPureReactComponent=!0;var xT=Array.isArray,XR=Object.prototype.hasOwnProperty,W2={current:null},YR={key:!0,ref:!0,__self:!0,__source:!0};function JR(e,t,n){var i,s={},l=null,d=null;if(t!=null)for(i in t.ref!==void 0&&(d=t.ref),t.key!==void 0&&(l=""+t.key),t)XR.call(t,i)&&!YR.hasOwnProperty(i)&&(s[i]=t[i]);var c=arguments.length-2;if(c===1)s.children=n;else if(1<c){for(var y=Array(c),b=0;b<c;b++)y[b]=arguments[b+2];s.children=y}if(e&&e.defaultProps)for(i in c=e.defaultProps,c)s[i]===void 0&&(s[i]=c[i]);return{$$typeof:bg,type:e,key:l,ref:d,props:s,_owner:W2.current}}function G$(e,t){return{$$typeof:bg,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Z2(e){return typeof e=="object"&&e!==null&&e.$$typeof===bg}function K$(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var wT=/\/+/g;function Ix(e,t){return typeof e=="object"&&e!==null&&e.key!=null?K$(""+e.key):t.toString(36)}function Av(e,t,n,i,s){var l=typeof e;(l==="undefined"||l==="boolean")&&(e=null);var d=!1;if(e===null)d=!0;else switch(l){case"string":case"number":d=!0;break;case"object":switch(e.$$typeof){case bg:case $$:d=!0}}if(d)return d=e,s=s(d),e=i===""?"."+Ix(d,0):i,xT(s)?(n="",e!=null&&(n=e.replace(wT,"$&/")+"/"),Av(s,t,n,"",function(b){return b})):s!=null&&(Z2(s)&&(s=G$(s,n+(!s.key||d&&d.key===s.key?"":(""+s.key).replace(wT,"$&/")+"/")+e)),t.push(s)),1;if(d=0,i=i===""?".":i+":",xT(e))for(var c=0;c<e.length;c++){l=e[c];var y=i+Ix(l,c);d+=Av(l,t,n,y,s)}else if(y=Z$(e),typeof y=="function")for(e=y.call(e),c=0;!(l=e.next()).done;)l=l.value,y=i+Ix(l,c++),d+=Av(l,t,n,y,s);else if(l==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return d}function Jy(e,t,n){if(e==null)return e;var i=[],s=0;return Av(e,i,"","",function(l){return t.call(n,l,s++)}),i}function X$(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var fo={current:null},Rv={transition:null},Y$={ReactCurrentDispatcher:fo,ReactCurrentBatchConfig:Rv,ReactCurrentOwner:W2};_n.Children={map:Jy,forEach:function(e,t,n){Jy(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Jy(e,function(){t++}),t},toArray:function(e){return Jy(e,function(t){return t})||[]},only:function(e){if(!Z2(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};_n.Component=wf;_n.Fragment=B$;_n.Profiler=N$;_n.PureComponent=H2;_n.StrictMode=F$;_n.Suspense=H$;_n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Y$;_n.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=ZR({},e.props),s=e.key,l=e.ref,d=e._owner;if(t!=null){if(t.ref!==void 0&&(l=t.ref,d=W2.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(y in t)XR.call(t,y)&&!YR.hasOwnProperty(y)&&(i[y]=t[y]===void 0&&c!==void 0?c[y]:t[y])}var y=arguments.length-2;if(y===1)i.children=n;else if(1<y){c=Array(y);for(var b=0;b<y;b++)c[b]=arguments[b+2];i.children=c}return{$$typeof:bg,type:e.type,key:s,ref:l,props:i,_owner:d}};_n.createContext=function(e){return e={$$typeof:V$,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:j$,_context:e},e.Consumer=e};_n.createElement=JR;_n.createFactory=function(e){var t=JR.bind(null,e);return t.type=e,t};_n.createRef=function(){return{current:null}};_n.forwardRef=function(e){return{$$typeof:U$,render:e}};_n.isValidElement=Z2;_n.lazy=function(e){return{$$typeof:W$,_payload:{_status:-1,_result:e},_init:X$}};_n.memo=function(e,t){return{$$typeof:q$,type:e,compare:t===void 0?null:t}};_n.startTransition=function(e){var t=Rv.transition;Rv.transition={};try{e()}finally{Rv.transition=t}};_n.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};_n.useCallback=function(e,t){return fo.current.useCallback(e,t)};_n.useContext=function(e){return fo.current.useContext(e)};_n.useDebugValue=function(){};_n.useDeferredValue=function(e){return fo.current.useDeferredValue(e)};_n.useEffect=function(e,t){return fo.current.useEffect(e,t)};_n.useId=function(){return fo.current.useId()};_n.useImperativeHandle=function(e,t,n){return fo.current.useImperativeHandle(e,t,n)};_n.useInsertionEffect=function(e,t){return fo.current.useInsertionEffect(e,t)};_n.useLayoutEffect=function(e,t){return fo.current.useLayoutEffect(e,t)};_n.useMemo=function(e,t){return fo.current.useMemo(e,t)};_n.useReducer=function(e,t,n){return fo.current.useReducer(e,t,n)};_n.useRef=function(e){return fo.current.useRef(e)};_n.useState=function(e){return fo.current.useState(e)};_n.useSyncExternalStore=function(e,t,n){return fo.current.useSyncExternalStore(e,t,n)};_n.useTransition=function(){return fo.current.useTransition()};_n.version="18.2.0";qR.exports=_n;var ce=qR.exports;const J=fd(ce),ib=D$({__proto__:null,default:J},[ce]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var J$=ce,Q$=Symbol.for("react.element"),e6=Symbol.for("react.fragment"),t6=Object.prototype.hasOwnProperty,n6=J$.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i6={key:!0,ref:!0,__self:!0,__source:!0};function QR(e,t,n){var i,s={},l=null,d=null;n!==void 0&&(l=""+n),t.key!==void 0&&(l=""+t.key),t.ref!==void 0&&(d=t.ref);for(i in t)t6.call(t,i)&&!i6.hasOwnProperty(i)&&(s[i]=t[i]);if(e&&e.defaultProps)for(i in t=e.defaultProps,t)s[i]===void 0&&(s[i]=t[i]);return{$$typeof:Q$,type:e,key:l,ref:d,props:s,_owner:n6.current}}h0.Fragment=e6;h0.jsx=QR;h0.jsxs=QR;HR.exports=h0;var ne=HR.exports;const r6="modulepreload",o6=function(e){return"/"+e},ST={},Ar=function(t,n,i){let s=Promise.resolve();if(n&&n.length>0){const l=document.getElementsByTagName("link"),d=document.querySelector("meta[property=csp-nonce]"),c=(d==null?void 0:d.nonce)||(d==null?void 0:d.getAttribute("nonce"));s=Promise.all(n.map(y=>{if(y=o6(y),y in ST)return;ST[y]=!0;const b=y.endsWith(".css"),k=b?'[rel="stylesheet"]':"";if(!!i)for(let A=l.length-1;A>=0;A--){const z=l[A];if(z.href===y&&(!b||z.rel==="stylesheet"))return}else if(document.querySelector('link[href="'.concat(y,'"]').concat(k)))return;const E=document.createElement("link");if(E.rel=b?"stylesheet":r6,b||(E.as="script",E.crossOrigin=""),E.href=y,c&&E.setAttribute("nonce",c),document.head.appendChild(E),b)return new Promise((A,z)=>{E.addEventListener("load",A),E.addEventListener("error",()=>z(new Error("Unable to preload CSS for ".concat(y))))})}))}return s.then(()=>t()).catch(l=>{const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=l,window.dispatchEvent(d),!d.defaultPrevented)throw l})};var s6=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,s){i.__proto__=s}||function(i,s){for(var l in s)Object.prototype.hasOwnProperty.call(s,l)&&(i[l]=s[l])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function i(){this.constructor=t}t.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}}(),e4=function(e,t,n,i){function s(l){return l instanceof n?l:new n(function(d){d(l)})}return new(n||(n=Promise))(function(l,d){function c(k){try{b(i.next(k))}catch(S){d(S)}}function y(k){try{b(i.throw(k))}catch(S){d(S)}}function b(k){k.done?l(k.value):s(k.value).then(c,y)}b((i=i.apply(e,t||[])).next())})},t4=function(e,t){var n={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},i,s,l,d;return d={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function c(b){return function(k){return y([b,k])}}function y(b){if(i)throw new TypeError("Generator is already executing.");for(;d&&(d=0,b[0]&&(n=0)),n;)try{if(i=1,s&&(l=b[0]&2?s.return:b[0]?s.throw||((l=s.return)&&l.call(s),0):s.next)&&!(l=l.call(s,b[1])).done)return l;switch(s=0,l&&(b=[b[0]&2,l.value]),b[0]){case 0:case 1:l=b;break;case 4:return n.label++,{value:b[1],done:!1};case 5:n.label++,s=b[1],b=[0];continue;case 7:b=n.ops.pop(),n.trys.pop();continue;default:if(l=n.trys,!(l=l.length>0&&l[l.length-1])&&(b[0]===6||b[0]===2)){n=0;continue}if(b[0]===3&&(!l||b[1]>l[0]&&b[1]<l[3])){n.label=b[1];break}if(b[0]===6&&n.label<l[1]){n.label=l[1],l=b;break}if(l&&n.label<l[2]){n.label=l[2],n.ops.push(b);break}l[2]&&n.ops.pop(),n.trys.pop();continue}b=t.call(e,n)}catch(k){b=[6,k],s=0}finally{i=l=0}if(b[0]&5)throw b[1];return{value:b[0]?b[1]:void 0,done:!0}}},kT=function(e,t,n){if(n||arguments.length===2)for(var i=0,s=t.length,l;i<s;i++)(l||!(i in t))&&(l||(l=Array.prototype.slice.call(t,0,i)),l[i]=t[i]);return e.concat(l||Array.prototype.slice.call(t))},a6="ionicpwaelements",Mv,n4,Wo=!1,U1=!1,vl=function(e,t){return function(){}},l6=function(e,t){return function(){}},c6="{visibility:hidden}.hydrated{visibility:inherit}",ET={},u6="http://www.w3.org/2000/svg",d6="http://www.w3.org/1999/xhtml",h6=function(e){return e!=null},G2=function(e){return e=typeof e,e==="object"||e==="function"};function i4(e){var t,n,i;return(i=(n=(t=e.head)===null||t===void 0?void 0:t.querySelector('meta[name="csp-nonce"]'))===null||n===void 0?void 0:n.getAttribute("content"))!==null&&i!==void 0?i:void 0}var f6=function(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];var s=null,l=!1,d=!1,c=[],y=function(S){for(var E=0;E<S.length;E++)s=S[E],Array.isArray(s)?y(s):s!=null&&typeof s!="boolean"&&((l=typeof e!="function"&&!G2(s))&&(s=String(s)),l&&d?c[c.length-1].$text$+=s:c.push(l?H1(null,s):s),d=l)};if(y(n),t){var b=t.className||t.class;b&&(t.class=typeof b!="object"?b:Object.keys(b).filter(function(S){return b[S]}).join(" "))}var k=H1(e,null);return k.$attrs$=t,c.length>0&&(k.$children$=c),k},H1=function(e,t){var n={$flags$:0,$tag$:e,$text$:t,$elm$:null,$children$:null};return n.$attrs$=null,n},p6={},m6=function(e){return e&&e.$tag$===p6},g6=function(e,t){return e!=null&&!G2(e)?t&4?e==="false"?!1:e===""||!!e:t&2?parseFloat(e):t&1?String(e):e:e},y6=function(e){return Qc(e).$hostElement$},Xne=function(e,t,n){var i=y6(e);return{emit:function(s){return r4(i,t,{bubbles:!!(n&4),composed:!!(n&2),cancelable:!!(n&1),detail:s})}}},r4=function(e,t,n){var i=fr.ce(t,n);return e.dispatchEvent(i),i},CT=new WeakMap,v6=function(e,t,n){var i=rb.get(e);j6&&n?(i=i||new CSSStyleSheet,typeof i=="string"?i=t:i.replaceSync(t)):i=t,rb.set(e,i)},b6=function(e,t,n,i){var s,l=o4(t),d=rb.get(l);if(e=e.nodeType===11?e:Xs,d)if(typeof d=="string"){e=e.head||e;var c=CT.get(e),y=void 0;if(c||CT.set(e,c=new Set),!c.has(l)){{y=Xs.createElement("style"),y.innerHTML=d;var b=(s=fr.$nonce$)!==null&&s!==void 0?s:i4(Xs);b!=null&&y.setAttribute("nonce",b),e.insertBefore(y,e.querySelector("link"))}c&&c.add(l)}}else e.adoptedStyleSheets.includes(d)||(e.adoptedStyleSheets=kT(kT([],e.adoptedStyleSheets,!0),[d],!1));return l},_6=function(e){var t=e.$cmpMeta$,n=e.$hostElement$,i=t.$flags$,s=vl("attachStyles",t.$tagName$),l=b6(n.shadowRoot?n.shadowRoot:n.getRootNode(),t);i&10&&(n["s-sc"]=l,n.classList.add(l+"-h")),s()},o4=function(e,t){return"sc-"+e.$tagName$},TT=function(e,t,n,i,s,l){if(n!==i){var d=PT(e,t),c=t.toLowerCase();if(t==="class"){var y=e.classList,b=IT(n),k=IT(i);y.remove.apply(y,b.filter(function(z){return z&&!k.includes(z)})),y.add.apply(y,k.filter(function(z){return z&&!b.includes(z)}))}else if(t==="style"){for(var S in n)(!i||i[S]==null)&&(S.includes("-")?e.style.removeProperty(S):e.style[S]="");for(var S in i)(!n||i[S]!==n[S])&&(S.includes("-")?e.style.setProperty(S,i[S]):e.style[S]=i[S])}else if(t==="ref")i&&i(e);else if(!d&&t[0]==="o"&&t[1]==="n")t[2]==="-"?t=t.slice(3):PT(p0,c)?t=c.slice(2):t=c[2]+t.slice(3),n&&fr.rel(e,t,n,!1),i&&fr.ael(e,t,i,!1);else{var E=G2(i);if((d||E&&i!==null)&&!s)try{if(e.tagName.includes("-"))e[t]=i;else{var A=i==null?"":i;t==="list"?d=!1:(n==null||e[t]!=A)&&(e[t]=A)}}catch(z){}i==null||i===!1?(i!==!1||e.getAttribute(t)==="")&&e.removeAttribute(t):(!d||l&4||s)&&!E&&(i=i===!0?"":i,e.setAttribute(t,i))}}},x6=/\s/,IT=function(e){return e?e.split(x6):[]},s4=function(e,t,n,i){var s=t.$elm$.nodeType===11&&t.$elm$.host?t.$elm$.host:t.$elm$,l=e&&e.$attrs$||ET,d=t.$attrs$||ET;for(i in l)i in d||TT(s,i,l[i],void 0,n,t.$flags$);for(i in d)TT(s,i,l[i],d[i],n,t.$flags$)},K2=function(e,t,n,i){var s=t.$children$[n],l=0,d,c;if(s.$text$!==null)d=s.$elm$=Xs.createTextNode(s.$text$);else{if(Wo||(Wo=s.$tag$==="svg"),d=s.$elm$=Xs.createElementNS(Wo?u6:d6,s.$tag$),Wo&&s.$tag$==="foreignObject"&&(Wo=!1),s4(null,s,Wo),h6(Mv)&&d["s-si"]!==Mv&&d.classList.add(d["s-si"]=Mv),s.$children$)for(l=0;l<s.$children$.length;++l)c=K2(e,s,l),c&&d.appendChild(c);s.$tag$==="svg"?Wo=!1:d.tagName==="foreignObject"&&(Wo=!0)}return d},a4=function(e,t,n,i,s,l){var d=e,c;for(d.shadowRoot&&d.tagName===n4&&(d=d.shadowRoot);s<=l;++s)i[s]&&(c=K2(null,n,s),c&&(i[s].$elm$=c,d.insertBefore(c,t)))},l4=function(e,t,n){for(var i=t;i<=n;++i){var s=e[i];if(s){var l=s.$elm$;c4(s),l&&l.remove()}}},w6=function(e,t,n,i){for(var s=0,l=0,d=t.length-1,c=t[0],y=t[d],b=i.length-1,k=i[0],S=i[b],E;s<=d&&l<=b;)c==null?c=t[++s]:y==null?y=t[--d]:k==null?k=i[++l]:S==null?S=i[--b]:Qy(c,k)?(Yp(c,k),c=t[++s],k=i[++l]):Qy(y,S)?(Yp(y,S),y=t[--d],S=i[--b]):Qy(c,S)?(Yp(c,S),e.insertBefore(c.$elm$,y.$elm$.nextSibling),c=t[++s],S=i[--b]):Qy(y,k)?(Yp(y,k),e.insertBefore(y.$elm$,c.$elm$),y=t[--d],k=i[++l]):(E=K2(t&&t[l],n,l),k=i[++l],E&&c.$elm$.parentNode.insertBefore(E,c.$elm$));s>d?a4(e,i[b+1]==null?null:i[b+1].$elm$,n,i,l,b):l>b&&l4(t,s,d)},Qy=function(e,t){return e.$tag$===t.$tag$},Yp=function(e,t){var n=t.$elm$=e.$elm$,i=e.$children$,s=t.$children$,l=t.$tag$,d=t.$text$;d===null?(Wo=l==="svg"?!0:l==="foreignObject"?!1:Wo,s4(e,t,Wo),i!==null&&s!==null?w6(n,i,t,s):s!==null?(e.$text$!==null&&(n.textContent=""),a4(n,null,t,s,0,s.length-1)):i!==null&&l4(i,0,i.length-1),Wo&&l==="svg"&&(Wo=!1)):e.$text$!==d&&(n.data=d)},c4=function(e){e.$attrs$&&e.$attrs$.ref&&e.$attrs$.ref(null),e.$children$&&e.$children$.map(c4)},S6=function(e,t){var n=e.$hostElement$,i=e.$vnode$||H1(null,null),s=m6(t)?t:f6(null,null,t);n4=n.tagName,s.$tag$=null,s.$flags$|=4,e.$vnode$=s,s.$elm$=i.$elm$=n.shadowRoot||n,Mv=n["s-sc"],Yp(i,s)},u4=function(e,t){t&&!e.$onRenderResolve$&&t["s-p"]&&t["s-p"].push(new Promise(function(n){return e.$onRenderResolve$=n}))},f0=function(e,t){if(e.$flags$|=16,e.$flags$&4){e.$flags$|=512;return}u4(e,e.$ancestorComponent$);var n=function(){return k6(e,t)};return U6(n)},k6=function(e,t){var n=vl("scheduleUpdate",e.$cmpMeta$.$tagName$),i=e.$lazyInstance$,s;return t&&(e.$flags$|=256,e.$queuedListeners$&&(e.$queuedListeners$.map(function(l){var d=l[0],c=l[1];return X2(i,d,c)}),e.$queuedListeners$=void 0)),n(),E6(s,function(){return T6(e,i,t)})},E6=function(e,t){return C6(e)?e.then(t):t()},C6=function(e){return e instanceof Promise||e&&e.then&&typeof e.then=="function"},T6=function(e,t,n){return e4(void 0,void 0,void 0,function(){var i,s,l,d,c,y,b;return t4(this,function(k){return s=e.$hostElement$,l=vl("update",e.$cmpMeta$.$tagName$),d=s["s-rc"],n&&_6(e),c=vl("render",e.$cmpMeta$.$tagName$),I6(e,t),d&&(d.map(function(S){return S()}),s["s-rc"]=void 0),c(),l(),y=(i=s["s-p"])!==null&&i!==void 0?i:[],b=function(){return P6(e)},y.length===0?b():(Promise.all(y).then(b),e.$flags$|=4,y.length=0),[2]})})},I6=function(e,t,n){try{t=t.render(),e.$flags$&=-17,e.$flags$|=2,S6(e,t)}catch(i){Zs(i,e.$hostElement$)}return null},P6=function(e){e.$cmpMeta$.$tagName$;var t=e.$hostElement$,n=vl(),i=e.$lazyInstance$,s=e.$ancestorComponent$;e.$flags$&64?n():(e.$flags$|=64,h4(t),X2(i,"componentDidLoad"),n(),e.$onReadyResolve$(t),s||d4()),e.$onInstanceResolve$(t),e.$onRenderResolve$&&(e.$onRenderResolve$(),e.$onRenderResolve$=void 0),e.$flags$&512&&J2(function(){return f0(e,!1)}),e.$flags$&=-517},Yne=function(e){{var t=Qc(e),n=t.$hostElement$.isConnected;return n&&(t.$flags$&18)===2&&f0(t,!1),n}},d4=function(e){h4(Xs.documentElement),J2(function(){return r4(p0,"appload",{detail:{namespace:a6}})})},X2=function(e,t,n){if(e&&e[t])try{return e[t](n)}catch(i){Zs(i)}},h4=function(e){return e.classList.add("hydrated")},A6=function(e,t){return Qc(e).$instanceValues$.get(t)},R6=function(e,t,n,i){var s=Qc(e),l=s.$instanceValues$.get(t),d=s.$flags$,c=s.$lazyInstance$;n=g6(n,i.$members$[t][0]);var y=Number.isNaN(l)&&Number.isNaN(n),b=n!==l&&!y;(!(d&8)||l===void 0)&&b&&(s.$instanceValues$.set(t,n),c&&(d&18)===2&&f0(s,!1))},f4=function(e,t,n){if(t.$members$){var i=Object.entries(t.$members$),s=e.prototype;if(i.map(function(d){var c=d[0],y=d[1][0];y&31||n&2&&y&32?Object.defineProperty(s,c,{get:function(){return A6(this,c)},set:function(b){R6(this,c,b,t)},configurable:!0,enumerable:!0}):n&1&&y&64&&Object.defineProperty(s,c,{value:function(){for(var b=[],k=0;k<arguments.length;k++)b[k]=arguments[k];var S=Qc(this);return S.$onInstancePromise$.then(function(){var E;return(E=S.$lazyInstance$)[c].apply(E,b)})}})}),n&1){var l=new Map;s.attributeChangedCallback=function(d,c,y){var b=this;fr.jmp(function(){var k=l.get(d);if(b.hasOwnProperty(k))y=b[k],delete b[k];else if(s.hasOwnProperty(k)&&typeof b[k]=="number"&&b[k]==y)return;b[k]=y===null&&typeof b[k]=="boolean"?!1:y})},e.observedAttributes=i.filter(function(d){d[0];var c=d[1];return c[0]&15}).map(function(d){var c=d[0],y=d[1],b=y[1]||c;return l.set(b,c),b})}}return e},M6=function(e,t,n,i,s){return e4(void 0,void 0,void 0,function(){var l,d,c,y,b,k,S;return t4(this,function(E){switch(E.label){case 0:return t.$flags$&32?[3,3]:(t.$flags$|=32,s=N6(n),s.then?(l=l6(),[4,s]):[3,2]);case 1:s=E.sent(),l(),E.label=2;case 2:s.isProxied||(f4(s,n,2),s.isProxied=!0),d=vl("createInstance",n.$tagName$),t.$flags$|=8;try{new s(t)}catch(A){Zs(A)}t.$flags$&=-9,d(),s.style&&(c=s.style,y=o4(n),rb.has(y)||(b=vl("registerStyles",n.$tagName$),v6(y,c,!!(n.$flags$&1)),b())),E.label=3;case 3:return k=t.$ancestorComponent$,S=function(){return f0(t,!0)},k&&k["s-rc"]?k["s-rc"].push(S):S(),[2]}})})},z6=function(e){if(!(fr.$flags$&1)){var t=Qc(e),n=t.$cmpMeta$,i=vl("connectedCallback",n.$tagName$);if(t.$flags$&1)p4(e,t,n.$listeners$);else{t.$flags$|=1;for(var s=e;s=s.parentNode||s.host;)if(s["s-p"]){u4(t,t.$ancestorComponent$=s);break}n.$members$&&Object.entries(n.$members$).map(function(l){var d=l[0],c=l[1][0];if(c&31&&e.hasOwnProperty(d)){var y=e[d];delete e[d],e[d]=y}}),M6(e,t,n)}i()}},L6=function(e){if(!(fr.$flags$&1)){var t=Qc(e),n=t.$lazyInstance$;t.$rmListeners$&&(t.$rmListeners$.map(function(i){return i()}),t.$rmListeners$=void 0),X2(n,"disconnectedCallback")}},O6=function(e,t){t===void 0&&(t={});var n,i=vl(),s=[],l=t.exclude||[],d=p0.customElements,c=Xs.head,y=c.querySelector("meta[charset]"),b=Xs.createElement("style"),k=[],S,E=!0;Object.assign(fr,t),fr.$resourcesUrl$=new URL(t.resourcesUrl||"./",Xs.baseURI).href,e.map(function(z){z[1].map(function(N){var q={$flags$:N[0],$tagName$:N[1],$members$:N[2],$listeners$:N[3]};q.$members$=N[2],q.$listeners$=N[3];var F=q.$tagName$,$=function(V){s6(Z,V);function Z(Q){var fe=V.call(this,Q)||this;return Q=fe,F6(Q,q),q.$flags$&1&&Q.attachShadow({mode:"open"}),fe}return Z.prototype.connectedCallback=function(){var Q=this;S&&(clearTimeout(S),S=null),E?k.push(this):fr.jmp(function(){return z6(Q)})},Z.prototype.disconnectedCallback=function(){var Q=this;fr.jmp(function(){return L6(Q)})},Z.prototype.componentOnReady=function(){return Qc(this).$onReadyPromise$},Z}(HTMLElement);q.$lazyBundleId$=z[0],!l.includes(F)&&!d.get(F)&&(s.push(F),d.define(F,f4($,q,1)))})});{b.innerHTML=s+c6,b.setAttribute("data-styles","");var A=(n=fr.$nonce$)!==null&&n!==void 0?n:i4(Xs);A!=null&&b.setAttribute("nonce",A),c.insertBefore(b,y?y.nextSibling:c.firstChild)}E=!1,k.length?k.map(function(z){return z.connectedCallback()}):fr.jmp(function(){return S=setTimeout(d4,30)}),i()},p4=function(e,t,n,i){n&&n.map(function(s){var l=s[0],d=s[1],c=s[2],y=$6(e,l),b=D6(t,c),k=B6(l);fr.ael(y,d,b,k),(t.$rmListeners$=t.$rmListeners$||[]).push(function(){return fr.rel(y,d,b,k)})})},D6=function(e,t){return function(n){try{e.$flags$&256?e.$lazyInstance$[t](n):(e.$queuedListeners$=e.$queuedListeners$||[]).push([t,n])}catch(i){Zs(i)}}},$6=function(e,t){return t&16?Xs.body:e},B6=function(e){return(e&2)!==0},Y2=new WeakMap,Qc=function(e){return Y2.get(e)},Jne=function(e,t){return Y2.set(t.$lazyInstance$=e,t)},F6=function(e,t){var n={$flags$:0,$hostElement$:e,$cmpMeta$:t,$instanceValues$:new Map};return n.$onInstancePromise$=new Promise(function(i){return n.$onInstanceResolve$=i}),n.$onReadyPromise$=new Promise(function(i){return n.$onReadyResolve$=i}),e["s-p"]=[],e["s-rc"]=[],p4(e,n,t.$listeners$),Y2.set(e,n)},PT=function(e,t){return t in e},Zs=function(e,t){return(0,console.error)(e,t)},Px=new Map,N6=function(e,t,n){var i=e.$tagName$.replace(/-/g,"_"),s=e.$lazyBundleId$,l=Px.get(s);if(l)return l[i];if(!n||!BUILD.hotModuleReplacement){var d=function(c){return Px.set(s,c),c[i]};switch(s){case"pwa-action-sheet":return Ar(()=>import("./pwa-action-sheet.entry-DMdeAM0-.js"),__vite__mapDeps([])).then(d,Zs);case"pwa-camera-modal":return Ar(()=>import("./pwa-camera-modal.entry-CHB2mbWQ.js"),__vite__mapDeps([])).then(d,Zs);case"pwa-toast":return Ar(()=>import("./pwa-toast.entry-Do7pZxzo.js"),__vite__mapDeps([])).then(d,Zs);case"pwa-camera-modal-instance":return Ar(()=>import("./pwa-camera-modal-instance.entry-BoSmCMl1.js"),__vite__mapDeps([])).then(d,Zs);case"pwa-camera":return Ar(()=>import("./pwa-camera.entry--hE7tXfa.js"),__vite__mapDeps([])).then(d,Zs)}}return Ar(()=>import("./".concat(s,".entry.js").concat("")),__vite__mapDeps([])).then(function(c){return Px.set(s,c),c[i]},Zs)},rb=new Map,p0=typeof window<"u"?window:{},Xs=p0.document||{head:{}},fr={$flags$:0,$resourcesUrl$:"",jmp:function(e){return e()},raf:function(e){return requestAnimationFrame(e)},ael:function(e,t,n,i){return e.addEventListener(t,n,i)},rel:function(e,t,n,i){return e.removeEventListener(t,n,i)},ce:function(e,t){return new CustomEvent(e,t)}},m4=function(e){return Promise.resolve(e)},j6=function(){try{return new CSSStyleSheet,typeof new CSSStyleSheet().replaceSync=="function"}catch(e){}return!1}(),AT=[],g4=[],V6=function(e,t){return function(n){e.push(n),U1||(U1=!0,t&&fr.$flags$&4?J2(q1):fr.raf(q1))}},RT=function(e){for(var t=0;t<e.length;t++)try{e[t](performance.now())}catch(n){Zs(n)}e.length=0},q1=function(){RT(AT),RT(g4),(U1=AT.length>0)&&fr.raf(q1)},J2=function(e){return m4().then(e)},U6=V6(g4,!0),H6=function(){return m4()},q6=function(e,t){return typeof window>"u"?Promise.resolve():H6().then(function(){return O6([["pwa-camera-modal",[[1,"pwa-camera-modal",{facingMode:[1,"facing-mode"],present:[64],dismiss:[64]}]]],["pwa-action-sheet",[[1,"pwa-action-sheet",{header:[1],cancelable:[4],options:[16],open:[32]}]]],["pwa-toast",[[1,"pwa-toast",{message:[1],duration:[2],closing:[32]}]]],["pwa-camera",[[1,"pwa-camera",{facingMode:[1,"facing-mode"],handlePhoto:[16],handleNoDeviceError:[16],noDevicesText:[1,"no-devices-text"],noDevicesButtonText:[1,"no-devices-button-text"],photo:[32],photoSrc:[32],showShutterOverlay:[32],flashIndex:[32],hasCamera:[32],rotation:[32],deviceError:[32]}]]],["pwa-camera-modal-instance",[[1,"pwa-camera-modal-instance",{facingMode:[1,"facing-mode"],noDevicesText:[1,"no-devices-text"],noDevicesButtonText:[1,"no-devices-button-text"]},[[16,"keyup","handleBackdropKeyUp"]]]]]],t)})};(function(){if(typeof window<"u"&&window.Reflect!==void 0&&window.customElements!==void 0){var e=HTMLElement;window.HTMLElement=function(){return Reflect.construct(e,[],this.constructor)},HTMLElement.prototype=e.prototype,HTMLElement.prototype.constructor=HTMLElement,Object.setPrototypeOf(HTMLElement,e)}})();function Gr(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(e);s<i.length;s++)t.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(e,i[s])&&(n[i[s]]=e[i[s]]);return n}function Pa(e){return Object.keys(e)}function Ax(e){return e&&typeof e=="object"&&!Array.isArray(e)}function Q2(e,t){const n={...e},i=t;return Ax(e)&&Ax(t)&&Object.keys(t).forEach(s=>{Ax(i[s])&&s in e?n[s]=Q2(n[s],i[s]):n[s]=i[s]}),n}function W6(e){return e.replace(/[A-Z]/g,t=>"-".concat(t.toLowerCase()))}function Z6(e){var t;return typeof e!="string"||!e.includes("var(--mantine-scale)")?e:(t=e.match(/^calc\((.*?)\)$/))==null?void 0:t[1].split("*")[0].trim()}function G6(e){const t=Z6(e);return typeof t=="number"?t:typeof t=="string"?t.includes("calc")||t.includes("var")?t:t.includes("px")?Number(t.replace("px","")):t.includes("rem")?Number(t.replace("rem",""))*16:t.includes("em")?Number(t.replace("em",""))*16:Number(t):NaN}function Rx(e){return"calc(".concat(e," * var(--mantine-scale))")}function y4(e,{shouldScale:t=!1}={}){function n(i){if(i===0||i==="0")return"0".concat(e);if(typeof i=="number"){const s="".concat(i/16).concat(e);return t?Rx(s):s}if(typeof i=="string"){if(i.startsWith("calc(")||i.startsWith("var(")||i.startsWith("clamp("))return i;if(i.includes(" "))return i.split(" ").map(l=>n(l)).join(" ");if(i.includes(e))return t?Rx(i):i;const s=i.replace("px","");if(!Number.isNaN(Number(s))){const l="".concat(Number(s)/16).concat(e);return t?Rx(l):l}}return i}return n}const Qe=y4("rem",{shouldScale:!0}),MT=y4("em");function eS(e){return Object.keys(e).reduce((t,n)=>(e[n]!==void 0&&(t[n]=e[n]),t),{})}function v4(e){return typeof e=="number"?!0:typeof e=="string"?e.startsWith("calc(")||e.startsWith("var(")||e.includes(" ")&&e.trim()!==""?!0:/[0-9]/.test(e.trim().replace("-","")[0]):!1}function _g(e){return Array.isArray(e)||e===null?!1:typeof e=="object"?e.type!==J.Fragment:!1}function m0(e){const t=ce.createContext(null);return[({children:s,value:l})=>J.createElement(t.Provider,{value:l},s),()=>{const s=ce.useContext(t);if(s===null)throw new Error(e);return s}]}function K6(e=null){const t=ce.createContext(e);return[({children:s,value:l})=>J.createElement(t.Provider,{value:l},s),()=>ce.useContext(t)]}const X6={app:100,modal:200,popover:300,overlay:400,max:9999};function tS(e){return X6[e]}const Y6=()=>{};function J6(e,t={active:!0}){return typeof e!="function"||!t.active?t.onKeyDown||Y6:n=>{var i;n.key==="Escape"&&(e(n),(i=t.onTrigger)==null||i.call(t))}}function nr(e,t="size",n=!0){if(e!==void 0)return v4(e)?n?Qe(e):e:"var(--".concat(t,"-").concat(e,")")}function Q6(e){return nr(e,"mantine-spacing")}function pd(e){return e===void 0?"var(--mantine-radius-default)":nr(e,"mantine-radius")}function ks(e){return nr(e,"mantine-font-size")}function e8(e){return nr(e,"mantine-line-height",!1)}function t8(e){if(e)return nr(e,"mantine-shadow",!1)}function b4(){return"mantine-".concat(Math.random().toString(36).slice(2,11))}function zu(e){const t=ce.useRef(e);return ce.useEffect(()=>{t.current=e}),ce.useMemo(()=>(...n)=>{var i;return(i=t.current)==null?void 0:i.call(t,...n)},[])}function g0(e,t){const n=zu(e),i=ce.useRef(0);return ce.useEffect(()=>()=>window.clearTimeout(i.current),[]),ce.useCallback(()=>{window.clearTimeout(i.current),i.current=window.setTimeout(n,t)},[n,t])}const zT=["mousedown","touchstart"];function n8(e,t,n){const i=ce.useRef();return ce.useEffect(()=>{const s=l=>{const{target:d}=l!=null?l:{};if(Array.isArray(n)){const c=(d==null?void 0:d.hasAttribute("data-ignore-outside-clicks"))||!document.body.contains(d)&&d.tagName!=="HTML";n.every(b=>!!b&&!l.composedPath().includes(b))&&!c&&e()}else i.current&&!i.current.contains(d)&&e()};return(t||zT).forEach(l=>document.addEventListener(l,s)),()=>{(t||zT).forEach(l=>document.removeEventListener(l,s))}},[i,e,n]),i}function i8(e,t){try{return e.addEventListener("change",t),()=>e.removeEventListener("change",t)}catch(n){return e.addListener(t),()=>e.removeListener(t)}}function r8(e,t){return typeof t=="boolean"?t:typeof window<"u"&&"matchMedia"in window?window.matchMedia(e).matches:!1}function o8(e,t,{getInitialValueInEffect:n}={getInitialValueInEffect:!0}){const[i,s]=ce.useState(n?t:r8(e)),l=ce.useRef();return ce.useEffect(()=>{if("matchMedia"in window)return l.current=window.matchMedia(e),s(l.current.matches),i8(l.current,d=>s(d.matches))},[e]),i}const xg=typeof document<"u"?ce.useLayoutEffect:ce.useEffect;function Qh(e,t){const n=ce.useRef(!1);ce.useEffect(()=>()=>{n.current=!1},[]),ce.useEffect(()=>{if(n.current)return e();n.current=!0},t)}function s8({opened:e,shouldReturnFocus:t=!0}){const n=ce.useRef(),i=()=>{var s;n.current&&"focus"in n.current&&typeof n.current.focus=="function"&&((s=n.current)==null||s.focus({preventScroll:!0}))};return Qh(()=>{let s=-1;const l=d=>{d.key==="Tab"&&window.clearTimeout(s)};return document.addEventListener("keydown",l),e?n.current=document.activeElement:t&&(s=window.setTimeout(i,10)),()=>{window.clearTimeout(s),document.removeEventListener("keydown",l)}},[e,t]),i}function a8(e,t="body > :not(script)"){const n=b4(),i=Array.from(document.querySelectorAll(t)).map(s=>{var y;if((y=s==null?void 0:s.shadowRoot)!=null&&y.contains(e)||s.contains(e))return;const l=s.getAttribute("aria-hidden"),d=s.getAttribute("data-hidden"),c=s.getAttribute("data-focus-id");return s.setAttribute("data-focus-id",n),l===null||l==="false"?s.setAttribute("aria-hidden","true"):!d&&!c&&s.setAttribute("data-hidden",l),{node:s,ariaHidden:d||null}});return()=>{i.forEach(s=>{!s||n!==s.node.getAttribute("data-focus-id")||(s.ariaHidden===null?s.node.removeAttribute("aria-hidden"):s.node.setAttribute("aria-hidden",s.ariaHidden),s.node.removeAttribute("data-focus-id"),s.node.removeAttribute("data-hidden"))})}}const l8=/input|select|textarea|button|object/,_4="a, input, select, textarea, button, object, [tabindex]";function c8(e){return e.style.display==="none"}function u8(e){if(e.getAttribute("aria-hidden")||e.getAttribute("hidden")||e.getAttribute("type")==="hidden")return!1;let n=e;for(;n&&!(n===document.body||n.nodeType===11);){if(c8(n))return!1;n=n.parentNode}return!0}function x4(e){let t=e.getAttribute("tabindex");return t===null&&(t=void 0),parseInt(t,10)}function W1(e){const t=e.nodeName.toLowerCase(),n=!Number.isNaN(x4(e));return(l8.test(t)&&!e.disabled||e instanceof HTMLAnchorElement&&e.href||n)&&u8(e)}function w4(e){const t=x4(e);return(Number.isNaN(t)||t>=0)&&W1(e)}function d8(e){return Array.from(e.querySelectorAll(_4)).filter(w4)}function h8(e,t){const n=d8(e);if(!n.length){t.preventDefault();return}const i=n[t.shiftKey?0:n.length-1],s=e.getRootNode();let l=i===s.activeElement||e===s.activeElement;const d=s.activeElement;if(d.tagName==="INPUT"&&d.getAttribute("type")==="radio"&&(l=n.filter(k=>k.getAttribute("type")==="radio"&&k.getAttribute("name")===d.getAttribute("name")).includes(i)),!l)return;t.preventDefault();const y=n[t.shiftKey?n.length-1:0];y&&y.focus()}function f8(e=!0){const t=ce.useRef(),n=ce.useRef(null),i=l=>{let d=l.querySelector("[data-autofocus]");if(!d){const c=Array.from(l.querySelectorAll(_4));d=c.find(w4)||c.find(W1)||null,!d&&W1(l)&&(d=l)}d&&d.focus({preventScroll:!0})},s=ce.useCallback(l=>{if(e){if(l===null){n.current&&(n.current(),n.current=null);return}n.current=a8(l),t.current!==l&&(l?(setTimeout(()=>{l.getRootNode()&&i(l)}),t.current=l):t.current=null)}},[e]);return ce.useEffect(()=>{if(!e)return;t.current&&setTimeout(()=>i(t.current));const l=d=>{d.key==="Tab"&&t.current&&h8(t.current,d)};return document.addEventListener("keydown",l),()=>{document.removeEventListener("keydown",l),n.current&&n.current()}},[e]),s}const p8=J.useId||(()=>{});function m8(){const e=p8();return e?"mantine-".concat(e.replace(/:/g,"")):""}function wg(e){const t=m8(),[n,i]=ce.useState(t);return xg(()=>{i(b4())},[]),typeof e=="string"?e:typeof window>"u"?t:n}function S4(e,t){typeof e=="function"?e(t):typeof e=="object"&&e!==null&&"current"in e&&(e.current=t)}function g8(...e){return t=>{e.forEach(n=>S4(n,t))}}function As(...e){return ce.useCallback(g8(...e),e)}function y0({value:e,defaultValue:t,finalValue:n,onChange:i=()=>{}}){const[s,l]=ce.useState(t!==void 0?t:n),d=(c,...y)=>{l(c),i==null||i(c,...y)};return e!==void 0?[e,i,!0]:[s,d,!1]}function y8(e,t){return o8("(prefers-reduced-motion: reduce)",e,t)}function v8(e=!1,t){const{onOpen:n,onClose:i}=t||{},[s,l]=ce.useState(e),d=ce.useCallback(()=>{l(b=>b||(n==null||n(),!0))},[n]),c=ce.useCallback(()=>{l(b=>b&&(i==null||i(),!1))},[i]),y=ce.useCallback(()=>{s?c():d()},[c,d,s]);return[s,{open:d,close:c,toggle:y}]}var b8={};function _8(){return typeof process<"u"&&b8?"production":"development"}function k4(e){var t,n,i="";if(typeof e=="string"||typeof e=="number")i+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(n=k4(e[t]))&&(i&&(i+=" "),i+=n)}else for(n in e)e[n]&&(i&&(i+=" "),i+=n);return i}function $a(){for(var e,t,n=0,i="",s=arguments.length;n<s;n++)(e=arguments[n])&&(t=k4(e))&&(i&&(i+=" "),i+=t);return i}const x8={};function w8(e){const t={};return e.forEach(n=>{Object.entries(n).forEach(([i,s])=>{t[i]?t[i]=$a(t[i],s):t[i]=s})}),t}function v0({theme:e,classNames:t,props:n,stylesCtx:i}){const l=(Array.isArray(t)?t:[t]).map(d=>typeof d=="function"?d(e,n,i):d||x8);return w8(l)}function ob({theme:e,styles:t,props:n,stylesCtx:i}){return(Array.isArray(t)?t:[t]).reduce((l,d)=>typeof d=="function"?{...l,...d(e,n,i)}:{...l,...d},{})}const E4=ce.createContext(null);function Sg(){const e=ce.useContext(E4);if(!e)throw new Error("[@mantine/core] MantineProvider was not found in tree");return e}function S8(){return Sg().cssVariablesResolver}function k8(){return Sg().classNamesPrefix}function nS(){return Sg().getStyleNonce}function E8(){return Sg().withStaticClasses}function C8(){return Sg().headless}function T8(e){return/^#?([0-9A-F]{3}){1,2}([0-9A-F]{2})?$/i.test(e)}function I8(e){let t=e.replace("#","");if(t.length===3){const d=t.split("");t=[d[0],d[0],d[1],d[1],d[2],d[2]].join("")}if(t.length===8){const d=parseInt(t.slice(6,8),16)/255;return{r:parseInt(t.slice(0,2),16),g:parseInt(t.slice(2,4),16),b:parseInt(t.slice(4,6),16),a:d}}const n=parseInt(t,16),i=n>>16&255,s=n>>8&255,l=n&255;return{r:i,g:s,b:l,a:1}}function P8(e){const[t,n,i,s]=e.replace(/[^0-9,./]/g,"").split(/[/,]/).map(Number);return{r:t,g:n,b:i,a:s||1}}function A8(e){const t=/^hsla?\(\s*(\d+)\s*,\s*(\d+%)\s*,\s*(\d+%)\s*(,\s*(0?\.\d+|\d+(\.\d+)?))?\s*\)$/i,n=e.match(t);if(!n)return{r:0,g:0,b:0,a:1};const i=parseInt(n[1],10),s=parseInt(n[2],10)/100,l=parseInt(n[3],10)/100,d=n[5]?parseFloat(n[5]):void 0,c=(1-Math.abs(2*l-1))*s,y=i/60,b=c*(1-Math.abs(y%2-1)),k=l-c/2;let S,E,A;return y>=0&&y<1?(S=c,E=b,A=0):y>=1&&y<2?(S=b,E=c,A=0):y>=2&&y<3?(S=0,E=c,A=b):y>=3&&y<4?(S=0,E=b,A=c):y>=4&&y<5?(S=b,E=0,A=c):(S=c,E=0,A=b),{r:Math.round((S+k)*255),g:Math.round((E+k)*255),b:Math.round((A+k)*255),a:d||1}}function iS(e){return T8(e)?I8(e):e.startsWith("rgb")?P8(e):e.startsWith("hsl")?A8(e):{r:0,g:0,b:0,a:1}}function ev(e,t){if(e.startsWith("var("))return"color-mix(in srgb, ".concat(e,", black ").concat(t*100,"%)");const{r:n,g:i,b:s,a:l}=iS(e),d=1-t,c=y=>Math.round(y*d);return"rgba(".concat(c(n),", ").concat(c(i),", ").concat(c(s),", ").concat(l,")")}function ym(e,t){return typeof e.primaryShade=="number"?e.primaryShade:t==="dark"?e.primaryShade.dark:e.primaryShade.light}function Mx(e){return e<=.03928?e/12.92:((e+.055)/1.055)**2.4}function R8(e){const t=e.match(/oklch\((.*?)%\s/);return t?parseFloat(t[1]):null}function M8(e){if(e.startsWith("oklch("))return(R8(e)||0)/100;const{r:t,g:n,b:i}=iS(e),s=t/255,l=n/255,d=i/255,c=Mx(s),y=Mx(l),b=Mx(d);return .2126*c+.7152*y+.0722*b}function Fp(e,t=.179){return e.startsWith("var(")?!1:M8(e)>t}function kg({color:e,theme:t,colorScheme:n}){if(typeof e!="string")throw new Error("[@mantine/core] Failed to parse color. Expected color to be a string, instead got ".concat(typeof e));if(e==="bright")return{color:e,value:n==="dark"?t.white:t.black,shade:void 0,isThemeColor:!1,isLight:Fp(n==="dark"?t.white:t.black,t.luminanceThreshold),variable:"--mantine-color-bright"};if(e==="dimmed")return{color:e,value:n==="dark"?t.colors.dark[2]:t.colors.gray[7],shade:void 0,isThemeColor:!1,isLight:Fp(n==="dark"?t.colors.dark[2]:t.colors.gray[6],t.luminanceThreshold),variable:"--mantine-color-dimmed"};if(e==="white"||e==="black")return{color:e,value:e==="white"?t.white:t.black,shade:void 0,isThemeColor:!1,isLight:Fp(e==="white"?t.white:t.black,t.luminanceThreshold),variable:"--mantine-color-".concat(e)};const[i,s]=e.split("."),l=s?Number(s):void 0,d=i in t.colors;if(d){const c=l!==void 0?t.colors[i][l]:t.colors[i][ym(t,n||"light")];return{color:i,value:c,shade:l,isThemeColor:d,isLight:Fp(c,t.luminanceThreshold),variable:s?"--mantine-color-".concat(i,"-").concat(l):"--mantine-color-".concat(i,"-filled")}}return{color:e,value:e,isThemeColor:d,isLight:Fp(e,t.luminanceThreshold),shade:l,variable:void 0}}function vm(e,t){const n=kg({color:e||t.primaryColor,theme:t});return n.variable?"var(".concat(n.variable,")"):e}function Z1(e,t){const n={from:(e==null?void 0:e.from)||t.defaultGradient.from,to:(e==null?void 0:e.to)||t.defaultGradient.to,deg:(e==null?void 0:e.deg)||t.defaultGradient.deg||0},i=vm(n.from,t),s=vm(n.to,t);return"linear-gradient(".concat(n.deg,"deg, ").concat(i," 0%, ").concat(s," 100%)")}function _a(e,t){if(typeof e!="string"||t>1||t<0)return"rgba(0, 0, 0, 1)";if(e.startsWith("var(")){const l=(1-t)*100;return"color-mix(in srgb, ".concat(e,", transparent ").concat(l,"%)")}if(e.startsWith("oklch"))return e.includes("/")?e.replace(/\/\s*[\d.]+\s*\)/,"/ ".concat(t,")")):e.replace(")"," / ".concat(t,")"));const{r:n,g:i,b:s}=iS(e);return"rgba(".concat(n,", ").concat(i,", ").concat(s,", ").concat(t,")")}const ah=_a,z8=({color:e,theme:t,variant:n,gradient:i,autoContrast:s})=>{const l=kg({color:e,theme:t}),d=typeof s=="boolean"?s:t.autoContrast;if(n==="filled"){const c=d&&l.isLight?"var(--mantine-color-black)":"var(--mantine-color-white)";return l.isThemeColor?l.shade===void 0?{background:"var(--mantine-color-".concat(e,"-filled)"),hover:"var(--mantine-color-".concat(e,"-filled-hover)"),color:c,border:"".concat(Qe(1)," solid transparent")}:{background:"var(--mantine-color-".concat(l.color,"-").concat(l.shade,")"),hover:"var(--mantine-color-".concat(l.color,"-").concat(l.shade===9?8:l.shade+1,")"),color:c,border:"".concat(Qe(1)," solid transparent")}:{background:e,hover:ev(e,.1),color:c,border:"".concat(Qe(1)," solid transparent")}}if(n==="light"){if(l.isThemeColor){if(l.shade===void 0)return{background:"var(--mantine-color-".concat(e,"-light)"),hover:"var(--mantine-color-".concat(e,"-light-hover)"),color:"var(--mantine-color-".concat(e,"-light-color)"),border:"".concat(Qe(1)," solid transparent")};const c=t.colors[l.color][l.shade];return{background:_a(c,.1),hover:_a(c,.12),color:"var(--mantine-color-".concat(l.color,"-").concat(Math.min(l.shade,6),")"),border:"".concat(Qe(1)," solid transparent")}}return{background:_a(e,.1),hover:_a(e,.12),color:e,border:"".concat(Qe(1)," solid transparent")}}if(n==="outline")return l.isThemeColor?l.shade===void 0?{background:"transparent",hover:"var(--mantine-color-".concat(e,"-outline-hover)"),color:"var(--mantine-color-".concat(e,"-outline)"),border:"".concat(Qe(1)," solid var(--mantine-color-").concat(e,"-outline)")}:{background:"transparent",hover:_a(t.colors[l.color][l.shade],.05),color:"var(--mantine-color-".concat(l.color,"-").concat(l.shade,")"),border:"".concat(Qe(1)," solid var(--mantine-color-").concat(l.color,"-").concat(l.shade,")")}:{background:"transparent",hover:_a(e,.05),color:e,border:"".concat(Qe(1)," solid ").concat(e)};if(n==="subtle"){if(l.isThemeColor){if(l.shade===void 0)return{background:"transparent",hover:"var(--mantine-color-".concat(e,"-light-hover)"),color:"var(--mantine-color-".concat(e,"-light-color)"),border:"".concat(Qe(1)," solid transparent")};const c=t.colors[l.color][l.shade];return{background:"transparent",hover:_a(c,.12),color:"var(--mantine-color-".concat(l.color,"-").concat(Math.min(l.shade,6),")"),border:"".concat(Qe(1)," solid transparent")}}return{background:"transparent",hover:_a(e,.12),color:e,border:"".concat(Qe(1)," solid transparent")}}return n==="transparent"?l.isThemeColor?l.shade===void 0?{background:"transparent",hover:"transparent",color:"var(--mantine-color-".concat(e,"-light-color)"),border:"".concat(Qe(1)," solid transparent")}:{background:"transparent",hover:"transparent",color:"var(--mantine-color-".concat(l.color,"-").concat(Math.min(l.shade,6),")"),border:"".concat(Qe(1)," solid transparent")}:{background:"transparent",hover:"transparent",color:e,border:"".concat(Qe(1)," solid transparent")}:n==="white"?l.isThemeColor?l.shade===void 0?{background:"var(--mantine-color-white)",hover:ev(t.white,.01),color:"var(--mantine-color-".concat(e,"-filled)"),border:"".concat(Qe(1)," solid transparent")}:{background:"var(--mantine-color-white)",hover:ev(t.white,.01),color:"var(--mantine-color-".concat(l.color,"-").concat(l.shade,")"),border:"".concat(Qe(1)," solid transparent")}:{background:"var(--mantine-color-white)",hover:ev(t.white,.01),color:e,border:"".concat(Qe(1)," solid transparent")}:n==="gradient"?{background:Z1(i,t),hover:Z1(i,t),color:"var(--mantine-color-white)",border:"none"}:n==="default"?{background:"var(--mantine-color-default)",hover:"var(--mantine-color-default-hover)",color:"var(--mantine-color-default-color)",border:"".concat(Qe(1)," solid var(--mantine-color-default-border)")}:{}},L8={dark:["#C9C9C9","#b8b8b8","#828282","#696969","#424242","#3b3b3b","#2e2e2e","#242424","#1f1f1f","#141414"],gray:["#f8f9fa","#f1f3f5","#e9ecef","#dee2e6","#ced4da","#adb5bd","#868e96","#495057","#343a40","#212529"],red:["#fff5f5","#ffe3e3","#ffc9c9","#ffa8a8","#ff8787","#ff6b6b","#fa5252","#f03e3e","#e03131","#c92a2a"],pink:["#fff0f6","#ffdeeb","#fcc2d7","#faa2c1","#f783ac","#f06595","#e64980","#d6336c","#c2255c","#a61e4d"],grape:["#f8f0fc","#f3d9fa","#eebefa","#e599f7","#da77f2","#cc5de8","#be4bdb","#ae3ec9","#9c36b5","#862e9c"],violet:["#f3f0ff","#e5dbff","#d0bfff","#b197fc","#9775fa","#845ef7","#7950f2","#7048e8","#6741d9","#5f3dc4"],indigo:["#edf2ff","#dbe4ff","#bac8ff","#91a7ff","#748ffc","#5c7cfa","#4c6ef5","#4263eb","#3b5bdb","#364fc7"],blue:["#e7f5ff","#d0ebff","#a5d8ff","#74c0fc","#4dabf7","#339af0","#228be6","#1c7ed6","#1971c2","#1864ab"],cyan:["#e3fafc","#c5f6fa","#99e9f2","#66d9e8","#3bc9db","#22b8cf","#15aabf","#1098ad","#0c8599","#0b7285"],teal:["#e6fcf5","#c3fae8","#96f2d7","#63e6be","#38d9a9","#20c997","#12b886","#0ca678","#099268","#087f5b"],green:["#ebfbee","#d3f9d8","#b2f2bb","#8ce99a","#69db7c","#51cf66","#40c057","#37b24d","#2f9e44","#2b8a3e"],lime:["#f4fce3","#e9fac8","#d8f5a2","#c0eb75","#a9e34b","#94d82d","#82c91e","#74b816","#66a80f","#5c940d"],yellow:["#fff9db","#fff3bf","#ffec99","#ffe066","#ffd43b","#fcc419","#fab005","#f59f00","#f08c00","#e67700"],orange:["#fff4e6","#ffe8cc","#ffd8a8","#ffc078","#ffa94d","#ff922b","#fd7e14","#f76707","#e8590c","#d9480f"]},LT="-apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica, Arial, sans-serif, Apple Color Emoji, Segoe UI Emoji",rS={scale:1,fontSmoothing:!0,focusRing:"auto",white:"#fff",black:"#000",colors:L8,primaryShade:{light:6,dark:8},primaryColor:"blue",variantColorResolver:z8,autoContrast:!1,luminanceThreshold:.3,fontFamily:LT,fontFamilyMonospace:"ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, Liberation Mono, Courier New, monospace",respectReducedMotion:!1,cursorType:"default",defaultGradient:{from:"blue",to:"cyan",deg:45},defaultRadius:"sm",activeClassName:"mantine-active",focusClassName:"",headings:{fontFamily:LT,fontWeight:"700",textWrap:"wrap",sizes:{h1:{fontSize:Qe(34),lineHeight:"1.3"},h2:{fontSize:Qe(26),lineHeight:"1.35"},h3:{fontSize:Qe(22),lineHeight:"1.4"},h4:{fontSize:Qe(18),lineHeight:"1.45"},h5:{fontSize:Qe(16),lineHeight:"1.5"},h6:{fontSize:Qe(14),lineHeight:"1.5"}}},fontSizes:{xs:Qe(12),sm:Qe(14),md:Qe(16),lg:Qe(18),xl:Qe(20)},lineHeights:{xs:"1.4",sm:"1.45",md:"1.55",lg:"1.6",xl:"1.65"},radius:{xs:Qe(2),sm:Qe(4),md:Qe(8),lg:Qe(16),xl:Qe(32)},spacing:{xs:Qe(10),sm:Qe(12),md:Qe(16),lg:Qe(20),xl:Qe(32)},breakpoints:{xs:"36em",sm:"48em",md:"62em",lg:"75em",xl:"88em"},shadows:{xs:"0 ".concat(Qe(1)," ").concat(Qe(3)," rgba(0, 0, 0, 0.05), 0 ").concat(Qe(1)," ").concat(Qe(2)," rgba(0, 0, 0, 0.1)"),sm:"0 ".concat(Qe(1)," ").concat(Qe(3)," rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ").concat(Qe(10)," ").concat(Qe(15)," ").concat(Qe(-5),", rgba(0, 0, 0, 0.04) 0 ").concat(Qe(7)," ").concat(Qe(7)," ").concat(Qe(-5)),md:"0 ".concat(Qe(1)," ").concat(Qe(3)," rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ").concat(Qe(20)," ").concat(Qe(25)," ").concat(Qe(-5),", rgba(0, 0, 0, 0.04) 0 ").concat(Qe(10)," ").concat(Qe(10)," ").concat(Qe(-5)),lg:"0 ".concat(Qe(1)," ").concat(Qe(3)," rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ").concat(Qe(28)," ").concat(Qe(23)," ").concat(Qe(-7),", rgba(0, 0, 0, 0.04) 0 ").concat(Qe(12)," ").concat(Qe(12)," ").concat(Qe(-7)),xl:"0 ".concat(Qe(1)," ").concat(Qe(3)," rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ").concat(Qe(36)," ").concat(Qe(28)," ").concat(Qe(-7),", rgba(0, 0, 0, 0.04) 0 ").concat(Qe(17)," ").concat(Qe(17)," ").concat(Qe(-7))},other:{},components:{}};function OT(e){return e==="auto"||e==="dark"||e==="light"}function O8({key:e="mantine-color-scheme-value"}={}){let t;return{get:n=>{if(typeof window>"u")return n;try{const i=window.localStorage.getItem(e);return OT(i)?i:n}catch(i){return n}},set:n=>{try{window.localStorage.setItem(e,n)}catch(i){console.warn("[@mantine/core] Local storage color scheme manager was unable to save color scheme.",i)}},subscribe:n=>{t=i=>{i.storageArea===window.localStorage&&i.key===e&&OT(i.newValue)&&n(i.newValue)},window.addEventListener("storage",t)},unsubscribe:()=>{window.removeEventListener("storage",t)},clear:()=>{window.localStorage.removeItem(e)}}}const D8="[@mantine/core] MantineProvider: Invalid theme.primaryColor, it accepts only key of theme.colors, learn more – https://mantine.dev/theming/colors/#primary-color",DT="[@mantine/core] MantineProvider: Invalid theme.primaryShade, it accepts only 0-9 integers or an object { light: 0-9, dark: 0-9 }";function zx(e){return e<0||e>9?!1:parseInt(e.toString(),10)===e}function $T(e){if(!(e.primaryColor in e.colors))throw new Error(D8);if(typeof e.primaryShade=="object"&&(!zx(e.primaryShade.dark)||!zx(e.primaryShade.light)))throw new Error(DT);if(typeof e.primaryShade=="number"&&!zx(e.primaryShade))throw new Error(DT)}function $8(e,t){var i;if(!t)return $T(e),e;const n=Q2(e,t);return t.fontFamily&&!((i=t.headings)!=null&&i.fontFamily)&&(n.headings.fontFamily=t.fontFamily),$T(n),n}const oS=ce.createContext(null),B8=()=>ce.useContext(oS)||rS;function eu(){const e=ce.useContext(oS);if(!e)throw new Error("@mantine/core: MantineProvider was not found in component tree, make sure you have it in your app");return e}function C4({theme:e,children:t,inherit:n=!0}){const i=B8(),s=ce.useMemo(()=>$8(n?i:rS,e),[e,i,n]);return J.createElement(oS.Provider,{value:s},t)}C4.displayName="@mantine/core/MantineThemeProvider";function F8(){const e=eu(),t=nS(),n=Pa(e.breakpoints).reduce((i,s)=>{const l=e.breakpoints[s].includes("px"),d=G6(e.breakpoints[s]),c=l?"".concat(d-.1,"px"):MT(d-.1),y=l?"".concat(d,"px"):MT(d);return"".concat(i,"@media (max-width: ").concat(c,") {.mantine-visible-from-").concat(s," {display: none !important;}}@media (min-width: ").concat(y,") {.mantine-hidden-from-").concat(s," {display: none !important;}}")},"");return J.createElement("style",{"data-mantine-styles":"classes",nonce:t==null?void 0:t(),dangerouslySetInnerHTML:{__html:n}})}function Lx(e){return Object.entries(e).map(([t,n])=>"".concat(t,": ").concat(n,";")).join("")}function Ox(e,t){return(Array.isArray(e)?e:[e]).reduce((i,s)=>"".concat(s,"{").concat(i,"}"),t)}function N8(e,t){const n=Lx(e.variables),i=n?Ox(t,n):"",s=Lx(e.dark),l=s?Ox("".concat(t,'[data-mantine-color-scheme="dark"]'),s):"",d=Lx(e.light),c=d?Ox("".concat(t,'[data-mantine-color-scheme="light"]'),d):"";return"".concat(i).concat(l).concat(c)}function j8({color:e,theme:t,autoContrast:n}){return(typeof n=="boolean"?n:t.autoContrast)&&kg({color:e||t.primaryColor,theme:t}).isLight?"var(--mantine-color-black)":"var(--mantine-color-white)"}function BT(e,t){return j8({color:e.colors[e.primaryColor][ym(e,t)],theme:e,autoContrast:null})}function tv({theme:e,color:t,colorScheme:n,name:i=t,withColorValues:s=!0}){if(!e.colors[t])return{};if(n==="light"){const c=ym(e,"light"),y={["--mantine-color-".concat(i,"-text")]:"var(--mantine-color-".concat(i,"-filled)"),["--mantine-color-".concat(i,"-filled")]:"var(--mantine-color-".concat(i,"-").concat(c,")"),["--mantine-color-".concat(i,"-filled-hover")]:"var(--mantine-color-".concat(i,"-").concat(c===9?8:c+1,")"),["--mantine-color-".concat(i,"-light")]:ah(e.colors[t][c],.1),["--mantine-color-".concat(i,"-light-hover")]:ah(e.colors[t][c],.12),["--mantine-color-".concat(i,"-light-color")]:"var(--mantine-color-".concat(i,"-").concat(c,")"),["--mantine-color-".concat(i,"-outline")]:"var(--mantine-color-".concat(i,"-").concat(c,")"),["--mantine-color-".concat(i,"-outline-hover")]:ah(e.colors[t][c],.05)};return s?{["--mantine-color-".concat(i,"-0")]:e.colors[t][0],["--mantine-color-".concat(i,"-1")]:e.colors[t][1],["--mantine-color-".concat(i,"-2")]:e.colors[t][2],["--mantine-color-".concat(i,"-3")]:e.colors[t][3],["--mantine-color-".concat(i,"-4")]:e.colors[t][4],["--mantine-color-".concat(i,"-5")]:e.colors[t][5],["--mantine-color-".concat(i,"-6")]:e.colors[t][6],["--mantine-color-".concat(i,"-7")]:e.colors[t][7],["--mantine-color-".concat(i,"-8")]:e.colors[t][8],["--mantine-color-".concat(i,"-9")]:e.colors[t][9],...y}:y}const l=ym(e,"dark"),d={["--mantine-color-".concat(i,"-text")]:"var(--mantine-color-".concat(i,"-4)"),["--mantine-color-".concat(i,"-filled")]:"var(--mantine-color-".concat(i,"-").concat(l,")"),["--mantine-color-".concat(i,"-filled-hover")]:"var(--mantine-color-".concat(i,"-").concat(l===9?8:l+1,")"),["--mantine-color-".concat(i,"-light")]:ah(e.colors[t][Math.max(0,l-2)],.15),["--mantine-color-".concat(i,"-light-hover")]:ah(e.colors[t][Math.max(0,l-2)],.2),["--mantine-color-".concat(i,"-light-color")]:"var(--mantine-color-".concat(i,"-").concat(Math.max(l-5,0),")"),["--mantine-color-".concat(i,"-outline")]:"var(--mantine-color-".concat(i,"-").concat(Math.max(l-4,0),")"),["--mantine-color-".concat(i,"-outline-hover")]:ah(e.colors[t][Math.max(l-4,0)],.05)};return s?{["--mantine-color-".concat(i,"-0")]:e.colors[t][0],["--mantine-color-".concat(i,"-1")]:e.colors[t][1],["--mantine-color-".concat(i,"-2")]:e.colors[t][2],["--mantine-color-".concat(i,"-3")]:e.colors[t][3],["--mantine-color-".concat(i,"-4")]:e.colors[t][4],["--mantine-color-".concat(i,"-5")]:e.colors[t][5],["--mantine-color-".concat(i,"-6")]:e.colors[t][6],["--mantine-color-".concat(i,"-7")]:e.colors[t][7],["--mantine-color-".concat(i,"-8")]:e.colors[t][8],["--mantine-color-".concat(i,"-9")]:e.colors[t][9],...d}:d}function V8(e){return!!e&&typeof e=="object"&&"mantine-virtual-color"in e}function lh(e,t,n){Pa(t).forEach(i=>Object.assign(e,{["--mantine-".concat(n,"-").concat(i)]:t[i]}))}const T4=e=>{const t=ym(e,"light"),n=e.defaultRadius in e.radius?e.radius[e.defaultRadius]:Qe(e.defaultRadius),i={variables:{"--mantine-scale":e.scale.toString(),"--mantine-cursor-type":e.cursorType,"--mantine-color-scheme":"light dark","--mantine-webkit-font-smoothing":e.fontSmoothing?"antialiased":"unset","--mantine-moz-font-smoothing":e.fontSmoothing?"grayscale":"unset","--mantine-color-white":e.white,"--mantine-color-black":e.black,"--mantine-line-height":e.lineHeights.md,"--mantine-font-family":e.fontFamily,"--mantine-font-family-monospace":e.fontFamilyMonospace,"--mantine-font-family-headings":e.headings.fontFamily,"--mantine-heading-font-weight":e.headings.fontWeight,"--mantine-heading-text-wrap":e.headings.textWrap,"--mantine-radius-default":n,"--mantine-primary-color-filled":"var(--mantine-color-".concat(e.primaryColor,"-filled)"),"--mantine-primary-color-filled-hover":"var(--mantine-color-".concat(e.primaryColor,"-filled-hover)"),"--mantine-primary-color-light":"var(--mantine-color-".concat(e.primaryColor,"-light)"),"--mantine-primary-color-light-hover":"var(--mantine-color-".concat(e.primaryColor,"-light-hover)"),"--mantine-primary-color-light-color":"var(--mantine-color-".concat(e.primaryColor,"-light-color)")},light:{"--mantine-primary-color-contrast":BT(e,"light"),"--mantine-color-bright":"var(--mantine-color-black)","--mantine-color-text":e.black,"--mantine-color-body":e.white,"--mantine-color-error":"var(--mantine-color-red-6)","--mantine-color-placeholder":"var(--mantine-color-gray-5)","--mantine-color-anchor":"var(--mantine-color-".concat(e.primaryColor,"-").concat(t,")"),"--mantine-color-default":"var(--mantine-color-white)","--mantine-color-default-hover":"var(--mantine-color-gray-0)","--mantine-color-default-color":"var(--mantine-color-black)","--mantine-color-default-border":"var(--mantine-color-gray-4)","--mantine-color-dimmed":"var(--mantine-color-gray-6)"},dark:{"--mantine-primary-color-contrast":BT(e,"dark"),"--mantine-color-bright":"var(--mantine-color-white)","--mantine-color-text":"var(--mantine-color-dark-0)","--mantine-color-body":"var(--mantine-color-dark-7)","--mantine-color-error":"var(--mantine-color-red-8)","--mantine-color-placeholder":"var(--mantine-color-dark-3)","--mantine-color-anchor":"var(--mantine-color-".concat(e.primaryColor,"-4)"),"--mantine-color-default":"var(--mantine-color-dark-6)","--mantine-color-default-hover":"var(--mantine-color-dark-5)","--mantine-color-default-color":"var(--mantine-color-white)","--mantine-color-default-border":"var(--mantine-color-dark-4)","--mantine-color-dimmed":"var(--mantine-color-dark-2)"}};lh(i.variables,e.breakpoints,"breakpoint"),lh(i.variables,e.spacing,"spacing"),lh(i.variables,e.fontSizes,"font-size"),lh(i.variables,e.lineHeights,"line-height"),lh(i.variables,e.shadows,"shadow"),lh(i.variables,e.radius,"radius"),e.colors[e.primaryColor].forEach((l,d)=>{i.variables["--mantine-primary-color-".concat(d)]="var(--mantine-color-".concat(e.primaryColor,"-").concat(d,")")}),Pa(e.colors).forEach(l=>{const d=e.colors[l];if(V8(d)){Object.assign(i.light,tv({theme:e,name:d.name,color:d.light,colorScheme:"light",withColorValues:!0})),Object.assign(i.dark,tv({theme:e,name:d.name,color:d.dark,colorScheme:"dark",withColorValues:!0}));return}d.forEach((c,y)=>{i.variables["--mantine-color-".concat(l,"-").concat(y)]=c}),Object.assign(i.light,tv({theme:e,color:l,colorScheme:"light",withColorValues:!1})),Object.assign(i.dark,tv({theme:e,color:l,colorScheme:"dark",withColorValues:!1}))});const s=e.headings.sizes;return Pa(s).forEach(l=>{i.variables["--mantine-".concat(l,"-font-size")]=s[l].fontSize,i.variables["--mantine-".concat(l,"-line-height")]=s[l].lineHeight,i.variables["--mantine-".concat(l,"-font-weight")]=s[l].fontWeight||e.headings.fontWeight}),i};function U8({theme:e,generator:t}){const n=T4(e),i=t==null?void 0:t(e);return i?Q2(n,i):n}const Dx=T4(rS);function H8(e){const t={variables:{},light:{},dark:{}};return Pa(e.variables).forEach(n=>{Dx.variables[n]!==e.variables[n]&&(t.variables[n]=e.variables[n])}),Pa(e.light).forEach(n=>{Dx.light[n]!==e.light[n]&&(t.light[n]=e.light[n])}),Pa(e.dark).forEach(n=>{Dx.dark[n]!==e.dark[n]&&(t.dark[n]=e.dark[n])}),t}function q8(e){return"\n  ".concat(e,'[data-mantine-color-scheme="dark"] { --mantine-color-scheme: dark; }\n  ').concat(e,'[data-mantine-color-scheme="light"] { --mantine-color-scheme: light; }\n')}function I4({cssVariablesSelector:e,deduplicateCssVariables:t}){const n=eu(),i=nS(),s=S8(),l=U8({theme:n,generator:s}),d=e===":root"&&t,c=d?H8(l):l,y=N8(c,e);return y?J.createElement("style",{"data-mantine-styles":!0,nonce:i==null?void 0:i(),dangerouslySetInnerHTML:{__html:"".concat(y).concat(d?"":q8(e))}}):null}I4.displayName="@mantine/CssVariables";function W8(){const e=console.error;console.error=(...t)=>{t.length>1&&typeof t[0]=="string"&&t[0].toLowerCase().includes("extra attributes from the server")&&typeof t[1]=="string"&&t[1].toLowerCase().includes("data-mantine-color-scheme")||e(...t)}}function ch(e,t){var i;const n=e!=="auto"?e:window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";(i=t())==null||i.setAttribute("data-mantine-color-scheme",n)}function Z8({manager:e,defaultColorScheme:t,getRootElement:n,forceColorScheme:i}){const s=ce.useRef(),[l,d]=ce.useState(()=>e.get(t)),c=i||l,y=ce.useCallback(k=>{i||(ch(k,n),d(k),e.set(k))},[e.set,c,i]),b=ce.useCallback(()=>{d(t),ch(t,n),e.clear()},[e.clear,t]);return ce.useEffect(()=>(e.subscribe(y),e.unsubscribe),[e.subscribe,e.unsubscribe]),xg(()=>{ch(e.get(t),n)},[]),ce.useEffect(()=>{var S;if(i)return ch(i,n),()=>{};i===void 0&&ch(l,n),s.current=window.matchMedia("(prefers-color-scheme: dark)");const k=E=>{l==="auto"&&ch(E.matches?"dark":"light",n)};return(S=s.current)==null||S.addEventListener("change",k),()=>{var E;return(E=s.current)==null?void 0:E.removeEventListener("change",k)}},[l,i]),{colorScheme:c,setColorScheme:y,clearColorScheme:b}}function G8({respectReducedMotion:e,getRootElement:t}){xg(()=>{var n;e&&((n=t())==null||n.setAttribute("data-respect-reduced-motion","true"))},[e])}W8();function P4({theme:e,children:t,getStyleNonce:n,withStaticClasses:i=!0,withGlobalClasses:s=!0,deduplicateCssVariables:l=!0,withCssVariables:d=!0,cssVariablesSelector:c=":root",classNamesPrefix:y="mantine",colorSchemeManager:b=O8(),defaultColorScheme:k="light",getRootElement:S=()=>document.documentElement,cssVariablesResolver:E,forceColorScheme:A}){const{colorScheme:z,setColorScheme:N,clearColorScheme:q}=Z8({defaultColorScheme:k,forceColorScheme:A,manager:b,getRootElement:S});return G8({respectReducedMotion:(e==null?void 0:e.respectReducedMotion)||!1,getRootElement:S}),J.createElement(E4.Provider,{value:{colorScheme:z,setColorScheme:N,clearColorScheme:q,getRootElement:S,classNamesPrefix:y,getStyleNonce:n,cssVariablesResolver:E,cssVariablesSelector:c,withStaticClasses:i}},J.createElement(C4,{theme:e},d&&J.createElement(I4,{cssVariablesSelector:c,deduplicateCssVariables:l}),s&&J.createElement(F8,null),t))}P4.displayName="@mantine/core/MantineProvider";function A4({classNames:e,styles:t,props:n,stylesCtx:i}){const s=eu();return{resolvedClassNames:v0({theme:s,classNames:e,props:n,stylesCtx:i||void 0}),resolvedStyles:ob({theme:s,styles:t,props:n,stylesCtx:i||void 0})}}const K8={always:"mantine-focus-always",auto:"mantine-focus-auto",never:"mantine-focus-never"};function X8({theme:e,options:t,unstyled:n}){return $a((t==null?void 0:t.focusable)&&!n&&(e.focusClassName||K8[e.focusRing]),(t==null?void 0:t.active)&&!n&&e.activeClassName)}function Y8({selector:e,stylesCtx:t,options:n,props:i,theme:s}){return v0({theme:s,classNames:n==null?void 0:n.classNames,props:(n==null?void 0:n.props)||i,stylesCtx:t})[e]}function J8({selector:e,stylesCtx:t,theme:n,classNames:i,props:s}){return v0({theme:n,classNames:i,props:s,stylesCtx:t})[e]}function Q8({rootSelector:e,selector:t,className:n}){return e===t?n:void 0}function eB({selector:e,classes:t,unstyled:n}){return n?void 0:t[e]}function tB({themeName:e,classNamesPrefix:t,selector:n,withStaticClass:i}){return i===!1?[]:e.map(s=>"".concat(t,"-").concat(s,"-").concat(n))}function nB({themeName:e,theme:t,selector:n,props:i,stylesCtx:s}){return e.map(l=>{var d,c;return(c=v0({theme:t,classNames:(d=t.components[l])==null?void 0:d.classNames,props:i,stylesCtx:s}))==null?void 0:c[n]})}function iB({options:e,classes:t,selector:n,unstyled:i}){return e!=null&&e.variant&&!i?t["".concat(n,"--").concat(e.variant)]:void 0}function rB({theme:e,options:t,themeName:n,selector:i,classNamesPrefix:s,classNames:l,classes:d,unstyled:c,className:y,rootSelector:b,props:k,stylesCtx:S,withStaticClasses:E,headless:A}){return $a(X8({theme:e,options:t,unstyled:c||A}),nB({theme:e,themeName:n,selector:i,props:k,stylesCtx:S}),iB({options:t,classes:d,selector:i,unstyled:c}),J8({selector:i,stylesCtx:S,theme:e,classNames:l,props:k}),Y8({selector:i,stylesCtx:S,options:t,props:k,theme:e}),Q8({rootSelector:b,selector:i,className:y}),eB({selector:i,classes:d,unstyled:c||A}),E&&!A&&tB({themeName:n,classNamesPrefix:s,selector:i,withStaticClass:t==null?void 0:t.withStaticClass}),t==null?void 0:t.className)}function oB({theme:e,themeName:t,props:n,stylesCtx:i,selector:s}){return t.map(l=>{var d;return ob({theme:e,styles:(d=e.components[l])==null?void 0:d.styles,props:n,stylesCtx:i})[s]}).reduce((l,d)=>({...l,...d}),{})}function G1({style:e,theme:t}){return Array.isArray(e)?[...e].reduce((n,i)=>({...n,...G1({style:i,theme:t})}),{}):typeof e=="function"?e(t):e==null?{}:e}function sB(e){return e.reduce((t,n)=>(n&&Object.keys(n).forEach(i=>{t[i]={...t[i],...eS(n[i])}}),t),{})}function aB({vars:e,varsResolver:t,theme:n,props:i,stylesCtx:s,selector:l,themeName:d,headless:c}){var y;return(y=sB([c?{}:t==null?void 0:t(n,i,s),...d.map(b=>{var k,S,E;return(E=(S=(k=n.components)==null?void 0:k[b])==null?void 0:S.vars)==null?void 0:E.call(S,n,i,s)}),e==null?void 0:e(n,i,s)]))==null?void 0:y[l]}function lB({theme:e,themeName:t,selector:n,options:i,props:s,stylesCtx:l,rootSelector:d,styles:c,style:y,vars:b,varsResolver:k,headless:S}){return{...oB({theme:e,themeName:t,props:s,stylesCtx:l,selector:n}),...ob({theme:e,styles:c,props:s,stylesCtx:l})[n],...ob({theme:e,styles:i==null?void 0:i.styles,props:(i==null?void 0:i.props)||s,stylesCtx:l})[n],...aB({theme:e,props:s,stylesCtx:l,vars:b,varsResolver:k,selector:n,themeName:t,headless:S}),...d===n?G1({style:y,theme:e}):null,...G1({style:i==null?void 0:i.style,theme:e})}}function Qn({name:e,classes:t,props:n,stylesCtx:i,className:s,style:l,rootSelector:d="root",unstyled:c,classNames:y,styles:b,vars:k,varsResolver:S}){const E=eu(),A=k8(),z=E8(),N=C8(),q=(Array.isArray(e)?e:[e]).filter(F=>F);return(F,$)=>({className:rB({theme:E,options:$,themeName:q,selector:F,classNamesPrefix:A,classNames:y,classes:t,unstyled:c,className:s,rootSelector:d,props:n,stylesCtx:i,withStaticClasses:z,headless:N}),style:lB({theme:E,themeName:q,selector:F,options:$,props:n,stylesCtx:i,rootSelector:d,styles:b,style:l,vars:k,varsResolver:S,headless:N})})}function Kt(e,t,n){var d;const i=eu(),s=(d=i.components[e])==null?void 0:d.defaultProps,l=typeof s=="function"?s(i):s;return{...t,...l,...eS(n)}}function FT(e){return Pa(e).reduce((t,n)=>e[n]!==void 0?"".concat(t).concat(W6(n),":").concat(e[n],";"):t,"").trim()}function cB({selector:e,styles:t,media:n}){const i=t?FT(t):"",s=Array.isArray(n)?n.map(l=>"@media".concat(l.query,"{").concat(e,"{").concat(FT(l.styles),"}}")):[];return"".concat(i?"".concat(e,"{").concat(i,"}"):"").concat(s.join("")).trim()}function uB({selector:e,styles:t,media:n}){const i=nS();return J.createElement("style",{"data-mantine-styles":"inline",nonce:i==null?void 0:i(),dangerouslySetInnerHTML:{__html:cB({selector:e,styles:t,media:n})}})}function b0(e){const{m:t,mx:n,my:i,mt:s,mb:l,ml:d,mr:c,me:y,ms:b,p:k,px:S,py:E,pt:A,pb:z,pl:N,pr:q,pe:F,ps:$,bg:V,c:Z,opacity:Q,ff:fe,fz:oe,fw:re,lts:Be,ta:Le,lh:Fe,fs:Ze,tt:Pe,td:De,w:Oe,miw:$e,maw:He,h:we,mih:Ee,mah:Ie,bgsz:qe,bgp:Ye,bgr:yt,bga:wt,pos:Mt,top:Ft,left:Yt,bottom:vn,right:ei,inset:Mi,display:ir,flex:ot,hiddenFrom:$t,visibleFrom:Ct,lightHidden:zt,darkHidden:Rn,...Ne}=e;return{styleProps:eS({m:t,mx:n,my:i,mt:s,mb:l,ml:d,mr:c,me:y,ms:b,p:k,px:S,py:E,pt:A,pb:z,pl:N,pr:q,pe:F,ps:$,bg:V,c:Z,opacity:Q,ff:fe,fz:oe,fw:re,lts:Be,ta:Le,lh:Fe,fs:Ze,tt:Pe,td:De,w:Oe,miw:$e,maw:He,h:we,mih:Ee,mah:Ie,bgsz:qe,bgp:Ye,bgr:yt,bga:wt,pos:Mt,top:Ft,left:Yt,bottom:vn,right:ei,inset:Mi,display:ir,flex:ot,hiddenFrom:$t,visibleFrom:Ct,lightHidden:zt,darkHidden:Rn}),rest:Ne}}const dB={m:{type:"spacing",property:"margin"},mt:{type:"spacing",property:"marginTop"},mb:{type:"spacing",property:"marginBottom"},ml:{type:"spacing",property:"marginLeft"},mr:{type:"spacing",property:"marginRight"},ms:{type:"spacing",property:"marginInlineStart"},me:{type:"spacing",property:"marginInlineEnd"},mx:{type:"spacing",property:"marginInline"},my:{type:"spacing",property:"marginBlock"},p:{type:"spacing",property:"padding"},pt:{type:"spacing",property:"paddingTop"},pb:{type:"spacing",property:"paddingBottom"},pl:{type:"spacing",property:"paddingLeft"},pr:{type:"spacing",property:"paddingRight"},ps:{type:"spacing",property:"paddingInlineStart"},pe:{type:"spacing",property:"paddingInlineEnd"},px:{type:"spacing",property:"paddingInline"},py:{type:"spacing",property:"paddingBlock"},bg:{type:"color",property:"background"},c:{type:"textColor",property:"color"},opacity:{type:"identity",property:"opacity"},ff:{type:"fontFamily",property:"fontFamily"},fz:{type:"fontSize",property:"fontSize"},fw:{type:"identity",property:"fontWeight"},lts:{type:"size",property:"letterSpacing"},ta:{type:"identity",property:"textAlign"},lh:{type:"lineHeight",property:"lineHeight"},fs:{type:"identity",property:"fontStyle"},tt:{type:"identity",property:"textTransform"},td:{type:"identity",property:"textDecoration"},w:{type:"spacing",property:"width"},miw:{type:"spacing",property:"minWidth"},maw:{type:"spacing",property:"maxWidth"},h:{type:"spacing",property:"height"},mih:{type:"spacing",property:"minHeight"},mah:{type:"spacing",property:"maxHeight"},bgsz:{type:"size",property:"backgroundSize"},bgp:{type:"identity",property:"backgroundPosition"},bgr:{type:"identity",property:"backgroundRepeat"},bga:{type:"identity",property:"backgroundAttachment"},pos:{type:"identity",property:"position"},top:{type:"identity",property:"top"},left:{type:"size",property:"left"},bottom:{type:"size",property:"bottom"},right:{type:"size",property:"right"},inset:{type:"size",property:"inset"},display:{type:"identity",property:"display"},flex:{type:"identity",property:"flex"}};function R4(e,t){const n=kg({color:e,theme:t});return n.color==="dimmed"?"var(--mantine-color-dimmed)":n.color==="bright"?"var(--mantine-color-bright)":n.variable?"var(".concat(n.variable,")"):n.color}function hB(e,t){const n=kg({color:e,theme:t});return n.isThemeColor&&n.shade===void 0?"var(--mantine-color-".concat(n.color,"-text)"):R4(e,t)}const NT={text:"var(--mantine-font-family)",mono:"var(--mantine-font-family-monospace)",monospace:"var(--mantine-font-family-monospace)",heading:"var(--mantine-font-family-headings)",headings:"var(--mantine-font-family-headings)"};function fB(e){return typeof e=="string"&&e in NT?NT[e]:e}const pB=["h1","h2","h3","h4","h5","h6"];function mB(e,t){return typeof e=="string"&&e in t.fontSizes?"var(--mantine-font-size-".concat(e,")"):typeof e=="string"&&pB.includes(e)?"var(--mantine-".concat(e,"-font-size)"):typeof e=="number"||typeof e=="string"?Qe(e):e}function gB(e){return e}const yB=["h1","h2","h3","h4","h5","h6"];function vB(e,t){return typeof e=="string"&&e in t.lineHeights?"var(--mantine-line-height-".concat(e,")"):typeof e=="string"&&yB.includes(e)?"var(--mantine-".concat(e,"-line-height)"):e}function bB(e){return typeof e=="number"?Qe(e):e}function _B(e,t){if(typeof e=="number")return Qe(e);if(typeof e=="string"){const n=e.replace("-","");if(!(n in t.spacing))return Qe(e);const i="--mantine-spacing-".concat(n);return e.startsWith("-")?"calc(var(".concat(i,") * -1)"):"var(".concat(i,")")}return e}const $x={color:R4,textColor:hB,fontSize:mB,spacing:_B,identity:gB,size:bB,lineHeight:vB,fontFamily:fB};function jT(e){return e.replace("(min-width: ","").replace("em)","")}function xB({media:e,...t}){const i=Object.keys(e).sort((s,l)=>Number(jT(s))-Number(jT(l))).map(s=>({query:s,styles:e[s]}));return{...t,media:i}}function wB(e){if(typeof e!="object"||e===null)return!1;const t=Object.keys(e);return!(t.length===1&&t[0]==="base")}function SB(e){return typeof e=="object"&&e!==null?"base"in e?e.base:void 0:e}function kB(e){return typeof e=="object"&&e!==null?Pa(e).filter(t=>t!=="base"):[]}function EB(e,t){return typeof e=="object"&&e!==null&&t in e?e[t]:e}function CB({styleProps:e,data:t,theme:n}){return xB(Pa(e).reduce((i,s)=>{if(s==="hiddenFrom"||s==="visibleFrom")return i;const l=t[s],d=Array.isArray(l.property)?l.property:[l.property],c=SB(e[s]);if(!wB(e[s]))return d.forEach(b=>{i.inlineStyles[b]=$x[l.type](c,n)}),i;i.hasResponsiveStyles=!0;const y=kB(e[s]);return d.forEach(b=>{c&&(i.styles[b]=$x[l.type](c,n)),y.forEach(k=>{const S="(min-width: ".concat(n.breakpoints[k],")");i.media[S]={...i.media[S],[b]:$x[l.type](EB(e[s],k),n)}})}),i},{hasResponsiveStyles:!1,styles:{},inlineStyles:{},media:{}}))}function TB(){const e=ce.useId().replace(/:/g,"");return"__m__-".concat(e)}function M4(e){return e.startsWith("data-")?e:"data-".concat(e)}function IB(e){return Object.keys(e).reduce((t,n)=>{const i=e[n];return i===void 0||i===""||i===!1||i===null||(t[M4(n)]=e[n]),t},{})}function z4(e){return e?typeof e=="string"?{[M4(e)]:!0}:Array.isArray(e)?[...e].reduce((t,n)=>({...t,...z4(n)}),{}):IB(e):null}function K1(e,t){return Array.isArray(e)?[...e].reduce((n,i)=>({...n,...K1(i,t)}),{}):typeof e=="function"?e(t):e==null?{}:e}function PB({theme:e,style:t,vars:n,styleProps:i}){const s=K1(t,e),l=K1(n,e);return{...s,...l,...i}}const L4=ce.forwardRef(({component:e,style:t,__vars:n,className:i,variant:s,mod:l,size:d,hiddenFrom:c,visibleFrom:y,lightHidden:b,darkHidden:k,renderRoot:S,...E},A)=>{const z=eu(),N=e||"div",{styleProps:q,rest:F}=b0(E),$=TB(),V=CB({styleProps:q,theme:z,data:dB}),Z={ref:A,style:PB({theme:z,style:t,vars:n,styleProps:V.inlineStyles}),className:$a(i,{[$]:V.hasResponsiveStyles,"mantine-light-hidden":b,"mantine-dark-hidden":k,["mantine-hidden-from-".concat(c)]:c,["mantine-visible-from-".concat(y)]:y}),"data-variant":s,"data-size":v4(d)?void 0:d||void 0,...z4(l),...F};return J.createElement(J.Fragment,null,V.hasResponsiveStyles&&J.createElement(uB,{selector:".".concat($),styles:V.styles,media:V.media}),typeof S=="function"?S(Z):J.createElement(N,{...Z}))});L4.displayName="@mantine/core/Box";const ln=L4;function O4(e){return e}function En(e){const t=ce.forwardRef(e);return t.extend=O4,t}function Il(e){const t=ce.forwardRef(e);return t.extend=O4,t}const AB=ce.createContext({dir:"ltr",toggleDirection:()=>{},setDirection:()=>{}});function sS(){return ce.useContext(AB)}var D4={exports:{}},is={},$4={exports:{}},B4={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(we,Ee){var Ie=we.length;we.push(Ee);e:for(;0<Ie;){var qe=Ie-1>>>1,Ye=we[qe];if(0<s(Ye,Ee))we[qe]=Ee,we[Ie]=Ye,Ie=qe;else break e}}function n(we){return we.length===0?null:we[0]}function i(we){if(we.length===0)return null;var Ee=we[0],Ie=we.pop();if(Ie!==Ee){we[0]=Ie;e:for(var qe=0,Ye=we.length,yt=Ye>>>1;qe<yt;){var wt=2*(qe+1)-1,Mt=we[wt],Ft=wt+1,Yt=we[Ft];if(0>s(Mt,Ie))Ft<Ye&&0>s(Yt,Mt)?(we[qe]=Yt,we[Ft]=Ie,qe=Ft):(we[qe]=Mt,we[wt]=Ie,qe=wt);else if(Ft<Ye&&0>s(Yt,Ie))we[qe]=Yt,we[Ft]=Ie,qe=Ft;else break e}}return Ee}function s(we,Ee){var Ie=we.sortIndex-Ee.sortIndex;return Ie!==0?Ie:we.id-Ee.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var d=Date,c=d.now();e.unstable_now=function(){return d.now()-c}}var y=[],b=[],k=1,S=null,E=3,A=!1,z=!1,N=!1,q=typeof setTimeout=="function"?setTimeout:null,F=typeof clearTimeout=="function"?clearTimeout:null,$=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function V(we){for(var Ee=n(b);Ee!==null;){if(Ee.callback===null)i(b);else if(Ee.startTime<=we)i(b),Ee.sortIndex=Ee.expirationTime,t(y,Ee);else break;Ee=n(b)}}function Z(we){if(N=!1,V(we),!z)if(n(y)!==null)z=!0,$e(Q);else{var Ee=n(b);Ee!==null&&He(Z,Ee.startTime-we)}}function Q(we,Ee){z=!1,N&&(N=!1,F(re),re=-1),A=!0;var Ie=E;try{for(V(Ee),S=n(y);S!==null&&(!(S.expirationTime>Ee)||we&&!Fe());){var qe=S.callback;if(typeof qe=="function"){S.callback=null,E=S.priorityLevel;var Ye=qe(S.expirationTime<=Ee);Ee=e.unstable_now(),typeof Ye=="function"?S.callback=Ye:S===n(y)&&i(y),V(Ee)}else i(y);S=n(y)}if(S!==null)var yt=!0;else{var wt=n(b);wt!==null&&He(Z,wt.startTime-Ee),yt=!1}return yt}finally{S=null,E=Ie,A=!1}}var fe=!1,oe=null,re=-1,Be=5,Le=-1;function Fe(){return!(e.unstable_now()-Le<Be)}function Ze(){if(oe!==null){var we=e.unstable_now();Le=we;var Ee=!0;try{Ee=oe(!0,we)}finally{Ee?Pe():(fe=!1,oe=null)}}else fe=!1}var Pe;if(typeof $=="function")Pe=function(){$(Ze)};else if(typeof MessageChannel<"u"){var De=new MessageChannel,Oe=De.port2;De.port1.onmessage=Ze,Pe=function(){Oe.postMessage(null)}}else Pe=function(){q(Ze,0)};function $e(we){oe=we,fe||(fe=!0,Pe())}function He(we,Ee){re=q(function(){we(e.unstable_now())},Ee)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(we){we.callback=null},e.unstable_continueExecution=function(){z||A||(z=!0,$e(Q))},e.unstable_forceFrameRate=function(we){0>we||125<we?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Be=0<we?Math.floor(1e3/we):5},e.unstable_getCurrentPriorityLevel=function(){return E},e.unstable_getFirstCallbackNode=function(){return n(y)},e.unstable_next=function(we){switch(E){case 1:case 2:case 3:var Ee=3;break;default:Ee=E}var Ie=E;E=Ee;try{return we()}finally{E=Ie}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(we,Ee){switch(we){case 1:case 2:case 3:case 4:case 5:break;default:we=3}var Ie=E;E=we;try{return Ee()}finally{E=Ie}},e.unstable_scheduleCallback=function(we,Ee,Ie){var qe=e.unstable_now();switch(typeof Ie=="object"&&Ie!==null?(Ie=Ie.delay,Ie=typeof Ie=="number"&&0<Ie?qe+Ie:qe):Ie=qe,we){case 1:var Ye=-1;break;case 2:Ye=250;break;case 5:Ye=1073741823;break;case 4:Ye=1e4;break;default:Ye=5e3}return Ye=Ie+Ye,we={id:k++,callback:Ee,priorityLevel:we,startTime:Ie,expirationTime:Ye,sortIndex:-1},Ie>qe?(we.sortIndex=Ie,t(b,we),n(y)===null&&we===n(b)&&(N?(F(re),re=-1):N=!0,He(Z,Ie-qe))):(we.sortIndex=Ye,t(y,we),z||A||(z=!0,$e(Q))),we},e.unstable_shouldYield=Fe,e.unstable_wrapCallback=function(we){var Ee=E;return function(){var Ie=E;E=Ee;try{return we.apply(this,arguments)}finally{E=Ie}}}})(B4);$4.exports=B4;var RB=$4.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var F4=ce,es=RB;function ct(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var N4=new Set,bm={};function md(e,t){ef(e,t),ef(e+"Capture",t)}function ef(e,t){for(bm[e]=t,e=0;e<t.length;e++)N4.add(t[e])}var bl=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),X1=Object.prototype.hasOwnProperty,MB=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,VT={},UT={};function zB(e){return X1.call(UT,e)?!0:X1.call(VT,e)?!1:MB.test(e)?UT[e]=!0:(VT[e]=!0,!1)}function LB(e,t,n,i){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return i?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function OB(e,t,n,i){if(t===null||typeof t>"u"||LB(e,t,n,i))return!0;if(i)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function po(e,t,n,i,s,l,d){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=i,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=l,this.removeEmptyString=d}var Mr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Mr[e]=new po(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Mr[t]=new po(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Mr[e]=new po(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Mr[e]=new po(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Mr[e]=new po(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Mr[e]=new po(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Mr[e]=new po(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Mr[e]=new po(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Mr[e]=new po(e,5,!1,e.toLowerCase(),null,!1,!1)});var aS=/[\-:]([a-z])/g;function lS(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(aS,lS);Mr[t]=new po(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(aS,lS);Mr[t]=new po(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(aS,lS);Mr[t]=new po(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Mr[e]=new po(e,1,!1,e.toLowerCase(),null,!1,!1)});Mr.xlinkHref=new po("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Mr[e]=new po(e,1,!1,e.toLowerCase(),null,!0,!0)});function cS(e,t,n,i){var s=Mr.hasOwnProperty(t)?Mr[t]:null;(s!==null?s.type!==0:i||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(OB(t,n,s,i)&&(n=null),i||s===null?zB(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,i=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,i?e.setAttributeNS(i,t,n):e.setAttribute(t,n))))}var Pl=F4.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,nv=Symbol.for("react.element"),mh=Symbol.for("react.portal"),gh=Symbol.for("react.fragment"),uS=Symbol.for("react.strict_mode"),Y1=Symbol.for("react.profiler"),j4=Symbol.for("react.provider"),V4=Symbol.for("react.context"),dS=Symbol.for("react.forward_ref"),J1=Symbol.for("react.suspense"),Q1=Symbol.for("react.suspense_list"),hS=Symbol.for("react.memo"),uc=Symbol.for("react.lazy"),U4=Symbol.for("react.offscreen"),HT=Symbol.iterator;function Np(e){return e===null||typeof e!="object"?null:(e=HT&&e[HT]||e["@@iterator"],typeof e=="function"?e:null)}var Si=Object.assign,Bx;function Jp(e){if(Bx===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Bx=t&&t[1]||""}return"\n"+Bx+e}var Fx=!1;function Nx(e,t){if(!e||Fx)return"";Fx=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(b){var i=b}Reflect.construct(e,[],t)}else{try{t.call()}catch(b){i=b}e.call(t.prototype)}else{try{throw Error()}catch(b){i=b}e()}}catch(b){if(b&&i&&typeof b.stack=="string"){for(var s=b.stack.split("\n"),l=i.stack.split("\n"),d=s.length-1,c=l.length-1;1<=d&&0<=c&&s[d]!==l[c];)c--;for(;1<=d&&0<=c;d--,c--)if(s[d]!==l[c]){if(d!==1||c!==1)do if(d--,c--,0>c||s[d]!==l[c]){var y="\n"+s[d].replace(" at new "," at ");return e.displayName&&y.includes("<anonymous>")&&(y=y.replace("<anonymous>",e.displayName)),y}while(1<=d&&0<=c);break}}}finally{Fx=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Jp(e):""}function DB(e){switch(e.tag){case 5:return Jp(e.type);case 16:return Jp("Lazy");case 13:return Jp("Suspense");case 19:return Jp("SuspenseList");case 0:case 2:case 15:return e=Nx(e.type,!1),e;case 11:return e=Nx(e.type.render,!1),e;case 1:return e=Nx(e.type,!0),e;default:return""}}function ew(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case gh:return"Fragment";case mh:return"Portal";case Y1:return"Profiler";case uS:return"StrictMode";case J1:return"Suspense";case Q1:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case V4:return(e.displayName||"Context")+".Consumer";case j4:return(e._context.displayName||"Context")+".Provider";case dS:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case hS:return t=e.displayName||null,t!==null?t:ew(e.type)||"Memo";case uc:t=e._payload,e=e._init;try{return ew(e(t))}catch(n){}}return null}function $B(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ew(t);case 8:return t===uS?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function jc(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function H4(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function BB(e){var t=H4(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),i=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,l=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(d){i=""+d,l.call(this,d)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(d){i=""+d},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function iv(e){e._valueTracker||(e._valueTracker=BB(e))}function q4(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),i="";return e&&(i=H4(e)?e.checked?"true":"false":e.value),e=i,e!==n?(t.setValue(e),!0):!1}function sb(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch(t){return e.body}}function tw(e,t){var n=t.checked;return Si({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n!=null?n:e._wrapperState.initialChecked})}function qT(e,t){var n=t.defaultValue==null?"":t.defaultValue,i=t.checked!=null?t.checked:t.defaultChecked;n=jc(t.value!=null?t.value:n),e._wrapperState={initialChecked:i,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function W4(e,t){t=t.checked,t!=null&&cS(e,"checked",t,!1)}function nw(e,t){W4(e,t);var n=jc(t.value),i=t.type;if(n!=null)i==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(i==="submit"||i==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?iw(e,t.type,n):t.hasOwnProperty("defaultValue")&&iw(e,t.type,jc(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function WT(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var i=t.type;if(!(i!=="submit"&&i!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function iw(e,t,n){(t!=="number"||sb(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Qp=Array.isArray;function Ih(e,t,n,i){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&i&&(e[n].defaultSelected=!0)}else{for(n=""+jc(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,i&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function rw(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(ct(91));return Si({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ZT(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(ct(92));if(Qp(n)){if(1<n.length)throw Error(ct(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:jc(n)}}function Z4(e,t){var n=jc(t.value),i=jc(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),i!=null&&(e.defaultValue=""+i)}function GT(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function G4(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ow(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?G4(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var rv,K4=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,i,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,i,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(rv=rv||document.createElement("div"),rv.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=rv.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function _m(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var sm={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},FB=["Webkit","ms","Moz","O"];Object.keys(sm).forEach(function(e){FB.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),sm[t]=sm[e]})});function X4(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||sm.hasOwnProperty(e)&&sm[e]?(""+t).trim():t+"px"}function Y4(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var i=n.indexOf("--")===0,s=X4(n,t[n],i);n==="float"&&(n="cssFloat"),i?e.setProperty(n,s):e[n]=s}}var NB=Si({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function sw(e,t){if(t){if(NB[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(ct(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(ct(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(ct(61))}if(t.style!=null&&typeof t.style!="object")throw Error(ct(62))}}function aw(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var lw=null;function fS(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var cw=null,Ph=null,Ah=null;function KT(e){if(e=Tg(e)){if(typeof cw!="function")throw Error(ct(280));var t=e.stateNode;t&&(t=k0(t),cw(e.stateNode,e.type,t))}}function J4(e){Ph?Ah?Ah.push(e):Ah=[e]:Ph=e}function Q4(){if(Ph){var e=Ph,t=Ah;if(Ah=Ph=null,KT(e),t)for(e=0;e<t.length;e++)KT(t[e])}}function e3(e,t){return e(t)}function t3(){}var jx=!1;function n3(e,t,n){if(jx)return e(t,n);jx=!0;try{return e3(e,t,n)}finally{jx=!1,(Ph!==null||Ah!==null)&&(t3(),Q4())}}function xm(e,t){var n=e.stateNode;if(n===null)return null;var i=k0(n);if(i===null)return null;n=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(e=e.type,i=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!i;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(ct(231,t,typeof n));return n}var uw=!1;if(bl)try{var jp={};Object.defineProperty(jp,"passive",{get:function(){uw=!0}}),window.addEventListener("test",jp,jp),window.removeEventListener("test",jp,jp)}catch(e){uw=!1}function jB(e,t,n,i,s,l,d,c,y){var b=Array.prototype.slice.call(arguments,3);try{t.apply(n,b)}catch(k){this.onError(k)}}var am=!1,ab=null,lb=!1,dw=null,VB={onError:function(e){am=!0,ab=e}};function UB(e,t,n,i,s,l,d,c,y){am=!1,ab=null,jB.apply(VB,arguments)}function HB(e,t,n,i,s,l,d,c,y){if(UB.apply(this,arguments),am){if(am){var b=ab;am=!1,ab=null}else throw Error(ct(198));lb||(lb=!0,dw=b)}}function gd(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function i3(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function XT(e){if(gd(e)!==e)throw Error(ct(188))}function qB(e){var t=e.alternate;if(!t){if(t=gd(e),t===null)throw Error(ct(188));return t!==e?null:e}for(var n=e,i=t;;){var s=n.return;if(s===null)break;var l=s.alternate;if(l===null){if(i=s.return,i!==null){n=i;continue}break}if(s.child===l.child){for(l=s.child;l;){if(l===n)return XT(s),e;if(l===i)return XT(s),t;l=l.sibling}throw Error(ct(188))}if(n.return!==i.return)n=s,i=l;else{for(var d=!1,c=s.child;c;){if(c===n){d=!0,n=s,i=l;break}if(c===i){d=!0,i=s,n=l;break}c=c.sibling}if(!d){for(c=l.child;c;){if(c===n){d=!0,n=l,i=s;break}if(c===i){d=!0,i=l,n=s;break}c=c.sibling}if(!d)throw Error(ct(189))}}if(n.alternate!==i)throw Error(ct(190))}if(n.tag!==3)throw Error(ct(188));return n.stateNode.current===n?e:t}function r3(e){return e=qB(e),e!==null?o3(e):null}function o3(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=o3(e);if(t!==null)return t;e=e.sibling}return null}var s3=es.unstable_scheduleCallback,YT=es.unstable_cancelCallback,WB=es.unstable_shouldYield,ZB=es.unstable_requestPaint,ji=es.unstable_now,GB=es.unstable_getCurrentPriorityLevel,pS=es.unstable_ImmediatePriority,a3=es.unstable_UserBlockingPriority,cb=es.unstable_NormalPriority,KB=es.unstable_LowPriority,l3=es.unstable_IdlePriority,_0=null,Aa=null;function XB(e){if(Aa&&typeof Aa.onCommitFiberRoot=="function")try{Aa.onCommitFiberRoot(_0,e,void 0,(e.current.flags&128)===128)}catch(t){}}var Qs=Math.clz32?Math.clz32:QB,YB=Math.log,JB=Math.LN2;function QB(e){return e>>>=0,e===0?32:31-(YB(e)/JB|0)|0}var ov=64,sv=4194304;function em(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ub(e,t){var n=e.pendingLanes;if(n===0)return 0;var i=0,s=e.suspendedLanes,l=e.pingedLanes,d=n&268435455;if(d!==0){var c=d&~s;c!==0?i=em(c):(l&=d,l!==0&&(i=em(l)))}else d=n&~s,d!==0?i=em(d):l!==0&&(i=em(l));if(i===0)return 0;if(t!==0&&t!==i&&!(t&s)&&(s=i&-i,l=t&-t,s>=l||s===16&&(l&4194240)!==0))return t;if(i&4&&(i|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=i;0<t;)n=31-Qs(t),s=1<<n,i|=e[n],t&=~s;return i}function eF(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function tF(e,t){for(var n=e.suspendedLanes,i=e.pingedLanes,s=e.expirationTimes,l=e.pendingLanes;0<l;){var d=31-Qs(l),c=1<<d,y=s[d];y===-1?(!(c&n)||c&i)&&(s[d]=eF(c,t)):y<=t&&(e.expiredLanes|=c),l&=~c}}function hw(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function c3(){var e=ov;return ov<<=1,!(ov&4194240)&&(ov=64),e}function Vx(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Eg(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Qs(t),e[t]=n}function nF(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var i=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-Qs(n),l=1<<s;t[s]=0,i[s]=-1,e[s]=-1,n&=~l}}function mS(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var i=31-Qs(n),s=1<<i;s&t|e[i]&t&&(e[i]|=t),n&=~s}}var Bn=0;function u3(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var d3,gS,h3,f3,p3,fw=!1,av=[],Ic=null,Pc=null,Ac=null,wm=new Map,Sm=new Map,hc=[],iF="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function JT(e,t){switch(e){case"focusin":case"focusout":Ic=null;break;case"dragenter":case"dragleave":Pc=null;break;case"mouseover":case"mouseout":Ac=null;break;case"pointerover":case"pointerout":wm.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Sm.delete(t.pointerId)}}function Vp(e,t,n,i,s,l){return e===null||e.nativeEvent!==l?(e={blockedOn:t,domEventName:n,eventSystemFlags:i,nativeEvent:l,targetContainers:[s]},t!==null&&(t=Tg(t),t!==null&&gS(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function rF(e,t,n,i,s){switch(t){case"focusin":return Ic=Vp(Ic,e,t,n,i,s),!0;case"dragenter":return Pc=Vp(Pc,e,t,n,i,s),!0;case"mouseover":return Ac=Vp(Ac,e,t,n,i,s),!0;case"pointerover":var l=s.pointerId;return wm.set(l,Vp(wm.get(l)||null,e,t,n,i,s)),!0;case"gotpointercapture":return l=s.pointerId,Sm.set(l,Vp(Sm.get(l)||null,e,t,n,i,s)),!0}return!1}function m3(e){var t=Lu(e.target);if(t!==null){var n=gd(t);if(n!==null){if(t=n.tag,t===13){if(t=i3(n),t!==null){e.blockedOn=t,p3(e.priority,function(){h3(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function zv(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=pw(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var i=new n.constructor(n.type,n);lw=i,n.target.dispatchEvent(i),lw=null}else return t=Tg(n),t!==null&&gS(t),e.blockedOn=n,!1;t.shift()}return!0}function QT(e,t,n){zv(e)&&n.delete(t)}function oF(){fw=!1,Ic!==null&&zv(Ic)&&(Ic=null),Pc!==null&&zv(Pc)&&(Pc=null),Ac!==null&&zv(Ac)&&(Ac=null),wm.forEach(QT),Sm.forEach(QT)}function Up(e,t){e.blockedOn===t&&(e.blockedOn=null,fw||(fw=!0,es.unstable_scheduleCallback(es.unstable_NormalPriority,oF)))}function km(e){function t(s){return Up(s,e)}if(0<av.length){Up(av[0],e);for(var n=1;n<av.length;n++){var i=av[n];i.blockedOn===e&&(i.blockedOn=null)}}for(Ic!==null&&Up(Ic,e),Pc!==null&&Up(Pc,e),Ac!==null&&Up(Ac,e),wm.forEach(t),Sm.forEach(t),n=0;n<hc.length;n++)i=hc[n],i.blockedOn===e&&(i.blockedOn=null);for(;0<hc.length&&(n=hc[0],n.blockedOn===null);)m3(n),n.blockedOn===null&&hc.shift()}var Rh=Pl.ReactCurrentBatchConfig,db=!0;function sF(e,t,n,i){var s=Bn,l=Rh.transition;Rh.transition=null;try{Bn=1,yS(e,t,n,i)}finally{Bn=s,Rh.transition=l}}function aF(e,t,n,i){var s=Bn,l=Rh.transition;Rh.transition=null;try{Bn=4,yS(e,t,n,i)}finally{Bn=s,Rh.transition=l}}function yS(e,t,n,i){if(db){var s=pw(e,t,n,i);if(s===null)Jx(e,t,i,hb,n),JT(e,i);else if(rF(s,e,t,n,i))i.stopPropagation();else if(JT(e,i),t&4&&-1<iF.indexOf(e)){for(;s!==null;){var l=Tg(s);if(l!==null&&d3(l),l=pw(e,t,n,i),l===null&&Jx(e,t,i,hb,n),l===s)break;s=l}s!==null&&i.stopPropagation()}else Jx(e,t,i,null,n)}}var hb=null;function pw(e,t,n,i){if(hb=null,e=fS(i),e=Lu(e),e!==null)if(t=gd(e),t===null)e=null;else if(n=t.tag,n===13){if(e=i3(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return hb=e,null}function g3(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(GB()){case pS:return 1;case a3:return 4;case cb:case KB:return 16;case l3:return 536870912;default:return 16}default:return 16}}var Sc=null,vS=null,Lv=null;function y3(){if(Lv)return Lv;var e,t=vS,n=t.length,i,s="value"in Sc?Sc.value:Sc.textContent,l=s.length;for(e=0;e<n&&t[e]===s[e];e++);var d=n-e;for(i=1;i<=d&&t[n-i]===s[l-i];i++);return Lv=s.slice(e,1<i?1-i:void 0)}function Ov(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function lv(){return!0}function eI(){return!1}function rs(e){function t(n,i,s,l,d){this._reactName=n,this._targetInst=s,this.type=i,this.nativeEvent=l,this.target=d,this.currentTarget=null;for(var c in e)e.hasOwnProperty(c)&&(n=e[c],this[c]=n?n(l):l[c]);return this.isDefaultPrevented=(l.defaultPrevented!=null?l.defaultPrevented:l.returnValue===!1)?lv:eI,this.isPropagationStopped=eI,this}return Si(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=lv)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=lv)},persist:function(){},isPersistent:lv}),t}var Sf={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},bS=rs(Sf),Cg=Si({},Sf,{view:0,detail:0}),lF=rs(Cg),Ux,Hx,Hp,x0=Si({},Cg,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_S,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Hp&&(Hp&&e.type==="mousemove"?(Ux=e.screenX-Hp.screenX,Hx=e.screenY-Hp.screenY):Hx=Ux=0,Hp=e),Ux)},movementY:function(e){return"movementY"in e?e.movementY:Hx}}),tI=rs(x0),cF=Si({},x0,{dataTransfer:0}),uF=rs(cF),dF=Si({},Cg,{relatedTarget:0}),qx=rs(dF),hF=Si({},Sf,{animationName:0,elapsedTime:0,pseudoElement:0}),fF=rs(hF),pF=Si({},Sf,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),mF=rs(pF),gF=Si({},Sf,{data:0}),nI=rs(gF),yF={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},vF={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},bF={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _F(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=bF[e])?!!t[e]:!1}function _S(){return _F}var xF=Si({},Cg,{key:function(e){if(e.key){var t=yF[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ov(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?vF[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_S,charCode:function(e){return e.type==="keypress"?Ov(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ov(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),wF=rs(xF),SF=Si({},x0,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),iI=rs(SF),kF=Si({},Cg,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_S}),EF=rs(kF),CF=Si({},Sf,{propertyName:0,elapsedTime:0,pseudoElement:0}),TF=rs(CF),IF=Si({},x0,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),PF=rs(IF),AF=[9,13,27,32],xS=bl&&"CompositionEvent"in window,lm=null;bl&&"documentMode"in document&&(lm=document.documentMode);var RF=bl&&"TextEvent"in window&&!lm,v3=bl&&(!xS||lm&&8<lm&&11>=lm),rI=" ",oI=!1;function b3(e,t){switch(e){case"keyup":return AF.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function _3(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var yh=!1;function MF(e,t){switch(e){case"compositionend":return _3(t);case"keypress":return t.which!==32?null:(oI=!0,rI);case"textInput":return e=t.data,e===rI&&oI?null:e;default:return null}}function zF(e,t){if(yh)return e==="compositionend"||!xS&&b3(e,t)?(e=y3(),Lv=vS=Sc=null,yh=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return v3&&t.locale!=="ko"?null:t.data;default:return null}}var LF={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function sI(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!LF[e.type]:t==="textarea"}function x3(e,t,n,i){J4(i),t=fb(t,"onChange"),0<t.length&&(n=new bS("onChange","change",null,n,i),e.push({event:n,listeners:t}))}var cm=null,Em=null;function OF(e){M3(e,0)}function w0(e){var t=_h(e);if(q4(t))return e}function DF(e,t){if(e==="change")return t}var w3=!1;if(bl){var Wx;if(bl){var Zx="oninput"in document;if(!Zx){var aI=document.createElement("div");aI.setAttribute("oninput","return;"),Zx=typeof aI.oninput=="function"}Wx=Zx}else Wx=!1;w3=Wx&&(!document.documentMode||9<document.documentMode)}function lI(){cm&&(cm.detachEvent("onpropertychange",S3),Em=cm=null)}function S3(e){if(e.propertyName==="value"&&w0(Em)){var t=[];x3(t,Em,e,fS(e)),n3(OF,t)}}function $F(e,t,n){e==="focusin"?(lI(),cm=t,Em=n,cm.attachEvent("onpropertychange",S3)):e==="focusout"&&lI()}function BF(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return w0(Em)}function FF(e,t){if(e==="click")return w0(t)}function NF(e,t){if(e==="input"||e==="change")return w0(t)}function jF(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ra=typeof Object.is=="function"?Object.is:jF;function Cm(e,t){if(ra(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var s=n[i];if(!X1.call(t,s)||!ra(e[s],t[s]))return!1}return!0}function cI(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function uI(e,t){var n=cI(e);e=0;for(var i;n;){if(n.nodeType===3){if(i=e+n.textContent.length,e<=t&&i>=t)return{node:n,offset:t-e};e=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=cI(n)}}function k3(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?k3(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function E3(){for(var e=window,t=sb();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch(i){n=!1}if(n)e=t.contentWindow;else break;t=sb(e.document)}return t}function wS(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function VF(e){var t=E3(),n=e.focusedElem,i=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&k3(n.ownerDocument.documentElement,n)){if(i!==null&&wS(n)){if(t=i.start,e=i.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,l=Math.min(i.start,s);i=i.end===void 0?l:Math.min(i.end,s),!e.extend&&l>i&&(s=i,i=l,l=s),s=uI(n,l);var d=uI(n,i);s&&d&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==d.node||e.focusOffset!==d.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),l>i?(e.addRange(t),e.extend(d.node,d.offset)):(t.setEnd(d.node,d.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var UF=bl&&"documentMode"in document&&11>=document.documentMode,vh=null,mw=null,um=null,gw=!1;function dI(e,t,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;gw||vh==null||vh!==sb(i)||(i=vh,"selectionStart"in i&&wS(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),um&&Cm(um,i)||(um=i,i=fb(mw,"onSelect"),0<i.length&&(t=new bS("onSelect","select",null,t,n),e.push({event:t,listeners:i}),t.target=vh)))}function cv(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var bh={animationend:cv("Animation","AnimationEnd"),animationiteration:cv("Animation","AnimationIteration"),animationstart:cv("Animation","AnimationStart"),transitionend:cv("Transition","TransitionEnd")},Gx={},C3={};bl&&(C3=document.createElement("div").style,"AnimationEvent"in window||(delete bh.animationend.animation,delete bh.animationiteration.animation,delete bh.animationstart.animation),"TransitionEvent"in window||delete bh.transitionend.transition);function S0(e){if(Gx[e])return Gx[e];if(!bh[e])return e;var t=bh[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in C3)return Gx[e]=t[n];return e}var T3=S0("animationend"),I3=S0("animationiteration"),P3=S0("animationstart"),A3=S0("transitionend"),R3=new Map,hI="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function tu(e,t){R3.set(e,t),md(t,[e])}for(var Kx=0;Kx<hI.length;Kx++){var Xx=hI[Kx],HF=Xx.toLowerCase(),qF=Xx[0].toUpperCase()+Xx.slice(1);tu(HF,"on"+qF)}tu(T3,"onAnimationEnd");tu(I3,"onAnimationIteration");tu(P3,"onAnimationStart");tu("dblclick","onDoubleClick");tu("focusin","onFocus");tu("focusout","onBlur");tu(A3,"onTransitionEnd");ef("onMouseEnter",["mouseout","mouseover"]);ef("onMouseLeave",["mouseout","mouseover"]);ef("onPointerEnter",["pointerout","pointerover"]);ef("onPointerLeave",["pointerout","pointerover"]);md("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));md("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));md("onBeforeInput",["compositionend","keypress","textInput","paste"]);md("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));md("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));md("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var tm="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),WF=new Set("cancel close invalid load scroll toggle".split(" ").concat(tm));function fI(e,t,n){var i=e.type||"unknown-event";e.currentTarget=n,HB(i,t,void 0,e),e.currentTarget=null}function M3(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var i=e[n],s=i.event;i=i.listeners;e:{var l=void 0;if(t)for(var d=i.length-1;0<=d;d--){var c=i[d],y=c.instance,b=c.currentTarget;if(c=c.listener,y!==l&&s.isPropagationStopped())break e;fI(s,c,b),l=y}else for(d=0;d<i.length;d++){if(c=i[d],y=c.instance,b=c.currentTarget,c=c.listener,y!==l&&s.isPropagationStopped())break e;fI(s,c,b),l=y}}}if(lb)throw e=dw,lb=!1,dw=null,e}function ii(e,t){var n=t[xw];n===void 0&&(n=t[xw]=new Set);var i=e+"__bubble";n.has(i)||(z3(t,e,2,!1),n.add(i))}function Yx(e,t,n){var i=0;t&&(i|=4),z3(n,e,i,t)}var uv="_reactListening"+Math.random().toString(36).slice(2);function Tm(e){if(!e[uv]){e[uv]=!0,N4.forEach(function(n){n!=="selectionchange"&&(WF.has(n)||Yx(n,!1,e),Yx(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[uv]||(t[uv]=!0,Yx("selectionchange",!1,t))}}function z3(e,t,n,i){switch(g3(t)){case 1:var s=sF;break;case 4:s=aF;break;default:s=yS}n=s.bind(null,t,n,e),s=void 0,!uw||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),i?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function Jx(e,t,n,i,s){var l=i;if(!(t&1)&&!(t&2)&&i!==null)e:for(;;){if(i===null)return;var d=i.tag;if(d===3||d===4){var c=i.stateNode.containerInfo;if(c===s||c.nodeType===8&&c.parentNode===s)break;if(d===4)for(d=i.return;d!==null;){var y=d.tag;if((y===3||y===4)&&(y=d.stateNode.containerInfo,y===s||y.nodeType===8&&y.parentNode===s))return;d=d.return}for(;c!==null;){if(d=Lu(c),d===null)return;if(y=d.tag,y===5||y===6){i=l=d;continue e}c=c.parentNode}}i=i.return}n3(function(){var b=l,k=fS(n),S=[];e:{var E=R3.get(e);if(E!==void 0){var A=bS,z=e;switch(e){case"keypress":if(Ov(n)===0)break e;case"keydown":case"keyup":A=wF;break;case"focusin":z="focus",A=qx;break;case"focusout":z="blur",A=qx;break;case"beforeblur":case"afterblur":A=qx;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":A=tI;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":A=uF;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":A=EF;break;case T3:case I3:case P3:A=fF;break;case A3:A=TF;break;case"scroll":A=lF;break;case"wheel":A=PF;break;case"copy":case"cut":case"paste":A=mF;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":A=iI}var N=(t&4)!==0,q=!N&&e==="scroll",F=N?E!==null?E+"Capture":null:E;N=[];for(var $=b,V;$!==null;){V=$;var Z=V.stateNode;if(V.tag===5&&Z!==null&&(V=Z,F!==null&&(Z=xm($,F),Z!=null&&N.push(Im($,Z,V)))),q)break;$=$.return}0<N.length&&(E=new A(E,z,null,n,k),S.push({event:E,listeners:N}))}}if(!(t&7)){e:{if(E=e==="mouseover"||e==="pointerover",A=e==="mouseout"||e==="pointerout",E&&n!==lw&&(z=n.relatedTarget||n.fromElement)&&(Lu(z)||z[_l]))break e;if((A||E)&&(E=k.window===k?k:(E=k.ownerDocument)?E.defaultView||E.parentWindow:window,A?(z=n.relatedTarget||n.toElement,A=b,z=z?Lu(z):null,z!==null&&(q=gd(z),z!==q||z.tag!==5&&z.tag!==6)&&(z=null)):(A=null,z=b),A!==z)){if(N=tI,Z="onMouseLeave",F="onMouseEnter",$="mouse",(e==="pointerout"||e==="pointerover")&&(N=iI,Z="onPointerLeave",F="onPointerEnter",$="pointer"),q=A==null?E:_h(A),V=z==null?E:_h(z),E=new N(Z,$+"leave",A,n,k),E.target=q,E.relatedTarget=V,Z=null,Lu(k)===b&&(N=new N(F,$+"enter",z,n,k),N.target=V,N.relatedTarget=q,Z=N),q=Z,A&&z)t:{for(N=A,F=z,$=0,V=N;V;V=uh(V))$++;for(V=0,Z=F;Z;Z=uh(Z))V++;for(;0<$-V;)N=uh(N),$--;for(;0<V-$;)F=uh(F),V--;for(;$--;){if(N===F||F!==null&&N===F.alternate)break t;N=uh(N),F=uh(F)}N=null}else N=null;A!==null&&pI(S,E,A,N,!1),z!==null&&q!==null&&pI(S,q,z,N,!0)}}e:{if(E=b?_h(b):window,A=E.nodeName&&E.nodeName.toLowerCase(),A==="select"||A==="input"&&E.type==="file")var Q=DF;else if(sI(E))if(w3)Q=NF;else{Q=BF;var fe=$F}else(A=E.nodeName)&&A.toLowerCase()==="input"&&(E.type==="checkbox"||E.type==="radio")&&(Q=FF);if(Q&&(Q=Q(e,b))){x3(S,Q,n,k);break e}fe&&fe(e,E,b),e==="focusout"&&(fe=E._wrapperState)&&fe.controlled&&E.type==="number"&&iw(E,"number",E.value)}switch(fe=b?_h(b):window,e){case"focusin":(sI(fe)||fe.contentEditable==="true")&&(vh=fe,mw=b,um=null);break;case"focusout":um=mw=vh=null;break;case"mousedown":gw=!0;break;case"contextmenu":case"mouseup":case"dragend":gw=!1,dI(S,n,k);break;case"selectionchange":if(UF)break;case"keydown":case"keyup":dI(S,n,k)}var oe;if(xS)e:{switch(e){case"compositionstart":var re="onCompositionStart";break e;case"compositionend":re="onCompositionEnd";break e;case"compositionupdate":re="onCompositionUpdate";break e}re=void 0}else yh?b3(e,n)&&(re="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(re="onCompositionStart");re&&(v3&&n.locale!=="ko"&&(yh||re!=="onCompositionStart"?re==="onCompositionEnd"&&yh&&(oe=y3()):(Sc=k,vS="value"in Sc?Sc.value:Sc.textContent,yh=!0)),fe=fb(b,re),0<fe.length&&(re=new nI(re,e,null,n,k),S.push({event:re,listeners:fe}),oe?re.data=oe:(oe=_3(n),oe!==null&&(re.data=oe)))),(oe=RF?MF(e,n):zF(e,n))&&(b=fb(b,"onBeforeInput"),0<b.length&&(k=new nI("onBeforeInput","beforeinput",null,n,k),S.push({event:k,listeners:b}),k.data=oe))}M3(S,t)})}function Im(e,t,n){return{instance:e,listener:t,currentTarget:n}}function fb(e,t){for(var n=t+"Capture",i=[];e!==null;){var s=e,l=s.stateNode;s.tag===5&&l!==null&&(s=l,l=xm(e,n),l!=null&&i.unshift(Im(e,l,s)),l=xm(e,t),l!=null&&i.push(Im(e,l,s))),e=e.return}return i}function uh(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function pI(e,t,n,i,s){for(var l=t._reactName,d=[];n!==null&&n!==i;){var c=n,y=c.alternate,b=c.stateNode;if(y!==null&&y===i)break;c.tag===5&&b!==null&&(c=b,s?(y=xm(n,l),y!=null&&d.unshift(Im(n,y,c))):s||(y=xm(n,l),y!=null&&d.push(Im(n,y,c)))),n=n.return}d.length!==0&&e.push({event:t,listeners:d})}var ZF=/\r\n?/g,GF=/\u0000|\uFFFD/g;function mI(e){return(typeof e=="string"?e:""+e).replace(ZF,"\n").replace(GF,"")}function dv(e,t,n){if(t=mI(t),mI(e)!==t&&n)throw Error(ct(425))}function pb(){}var yw=null,vw=null;function bw(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var _w=typeof setTimeout=="function"?setTimeout:void 0,KF=typeof clearTimeout=="function"?clearTimeout:void 0,gI=typeof Promise=="function"?Promise:void 0,XF=typeof queueMicrotask=="function"?queueMicrotask:typeof gI<"u"?function(e){return gI.resolve(null).then(e).catch(YF)}:_w;function YF(e){setTimeout(function(){throw e})}function Qx(e,t){var n=t,i=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(i===0){e.removeChild(s),km(t);return}i--}else n!=="$"&&n!=="$?"&&n!=="$!"||i++;n=s}while(n);km(t)}function Rc(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function yI(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var kf=Math.random().toString(36).slice(2),Ta="__reactFiber$"+kf,Pm="__reactProps$"+kf,_l="__reactContainer$"+kf,xw="__reactEvents$"+kf,JF="__reactListeners$"+kf,QF="__reactHandles$"+kf;function Lu(e){var t=e[Ta];if(t)return t;for(var n=e.parentNode;n;){if(t=n[_l]||n[Ta]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=yI(e);e!==null;){if(n=e[Ta])return n;e=yI(e)}return t}e=n,n=e.parentNode}return null}function Tg(e){return e=e[Ta]||e[_l],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function _h(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(ct(33))}function k0(e){return e[Pm]||null}var ww=[],xh=-1;function nu(e){return{current:e}}function ri(e){0>xh||(e.current=ww[xh],ww[xh]=null,xh--)}function Jn(e,t){xh++,ww[xh]=e.current,e.current=t}var Vc={},Kr=nu(Vc),To=nu(!1),Ju=Vc;function tf(e,t){var n=e.type.contextTypes;if(!n)return Vc;var i=e.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===t)return i.__reactInternalMemoizedMaskedChildContext;var s={},l;for(l in n)s[l]=t[l];return i&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Io(e){return e=e.childContextTypes,e!=null}function mb(){ri(To),ri(Kr)}function vI(e,t,n){if(Kr.current!==Vc)throw Error(ct(168));Jn(Kr,t),Jn(To,n)}function L3(e,t,n){var i=e.stateNode;if(t=t.childContextTypes,typeof i.getChildContext!="function")return n;i=i.getChildContext();for(var s in i)if(!(s in t))throw Error(ct(108,$B(e)||"Unknown",s));return Si({},n,i)}function gb(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Vc,Ju=Kr.current,Jn(Kr,e),Jn(To,To.current),!0}function bI(e,t,n){var i=e.stateNode;if(!i)throw Error(ct(169));n?(e=L3(e,t,Ju),i.__reactInternalMemoizedMergedChildContext=e,ri(To),ri(Kr),Jn(Kr,e)):ri(To),Jn(To,n)}var ll=null,E0=!1,e1=!1;function O3(e){ll===null?ll=[e]:ll.push(e)}function eN(e){E0=!0,O3(e)}function iu(){if(!e1&&ll!==null){e1=!0;var e=0,t=Bn;try{var n=ll;for(Bn=1;e<n.length;e++){var i=n[e];do i=i(!0);while(i!==null)}ll=null,E0=!1}catch(s){throw ll!==null&&(ll=ll.slice(e+1)),s3(pS,iu),s}finally{Bn=t,e1=!1}}return null}var wh=[],Sh=0,yb=null,vb=0,xs=[],ws=0,Qu=null,fl=1,pl="";function Au(e,t){wh[Sh++]=vb,wh[Sh++]=yb,yb=e,vb=t}function D3(e,t,n){xs[ws++]=fl,xs[ws++]=pl,xs[ws++]=Qu,Qu=e;var i=fl;e=pl;var s=32-Qs(i)-1;i&=~(1<<s),n+=1;var l=32-Qs(t)+s;if(30<l){var d=s-s%5;l=(i&(1<<d)-1).toString(32),i>>=d,s-=d,fl=1<<32-Qs(t)+s|n<<s|i,pl=l+e}else fl=1<<l|n<<s|i,pl=e}function SS(e){e.return!==null&&(Au(e,1),D3(e,1,0))}function kS(e){for(;e===yb;)yb=wh[--Sh],wh[Sh]=null,vb=wh[--Sh],wh[Sh]=null;for(;e===Qu;)Qu=xs[--ws],xs[ws]=null,pl=xs[--ws],xs[ws]=null,fl=xs[--ws],xs[ws]=null}var Jo=null,Ko=null,hi=!1,Gs=null;function $3(e,t){var n=Ss(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function _I(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Jo=e,Ko=Rc(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Jo=e,Ko=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Qu!==null?{id:fl,overflow:pl}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Ss(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Jo=e,Ko=null,!0):!1;default:return!1}}function Sw(e){return(e.mode&1)!==0&&(e.flags&128)===0}function kw(e){if(hi){var t=Ko;if(t){var n=t;if(!_I(e,t)){if(Sw(e))throw Error(ct(418));t=Rc(n.nextSibling);var i=Jo;t&&_I(e,t)?$3(i,n):(e.flags=e.flags&-4097|2,hi=!1,Jo=e)}}else{if(Sw(e))throw Error(ct(418));e.flags=e.flags&-4097|2,hi=!1,Jo=e}}}function xI(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Jo=e}function hv(e){if(e!==Jo)return!1;if(!hi)return xI(e),hi=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!bw(e.type,e.memoizedProps)),t&&(t=Ko)){if(Sw(e))throw B3(),Error(ct(418));for(;t;)$3(e,t),t=Rc(t.nextSibling)}if(xI(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(ct(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Ko=Rc(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Ko=null}}else Ko=Jo?Rc(e.stateNode.nextSibling):null;return!0}function B3(){for(var e=Ko;e;)e=Rc(e.nextSibling)}function nf(){Ko=Jo=null,hi=!1}function ES(e){Gs===null?Gs=[e]:Gs.push(e)}var tN=Pl.ReactCurrentBatchConfig;function Hs(e,t){if(e&&e.defaultProps){t=Si({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}var bb=nu(null),_b=null,kh=null,CS=null;function TS(){CS=kh=_b=null}function IS(e){var t=bb.current;ri(bb),e._currentValue=t}function Ew(e,t,n){for(;e!==null;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,i!==null&&(i.childLanes|=t)):i!==null&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===n)break;e=e.return}}function Mh(e,t){_b=e,CS=kh=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Eo=!0),e.firstContext=null)}function Ts(e){var t=e._currentValue;if(CS!==e)if(e={context:e,memoizedValue:t,next:null},kh===null){if(_b===null)throw Error(ct(308));kh=e,_b.dependencies={lanes:0,firstContext:e}}else kh=kh.next=e;return t}var Ou=null;function PS(e){Ou===null?Ou=[e]:Ou.push(e)}function F3(e,t,n,i){var s=t.interleaved;return s===null?(n.next=n,PS(t)):(n.next=s.next,s.next=n),t.interleaved=n,xl(e,i)}function xl(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var dc=!1;function AS(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function N3(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ml(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Mc(e,t,n){var i=e.updateQueue;if(i===null)return null;if(i=i.shared,Cn&2){var s=i.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),i.pending=t,xl(e,n)}return s=i.interleaved,s===null?(t.next=t,PS(i)):(t.next=s.next,s.next=t),i.interleaved=t,xl(e,n)}function Dv(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,mS(e,n)}}function wI(e,t){var n=e.updateQueue,i=e.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var s=null,l=null;if(n=n.firstBaseUpdate,n!==null){do{var d={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};l===null?s=l=d:l=l.next=d,n=n.next}while(n!==null);l===null?s=l=t:l=l.next=t}else s=l=t;n={baseState:i.baseState,firstBaseUpdate:s,lastBaseUpdate:l,shared:i.shared,effects:i.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function xb(e,t,n,i){var s=e.updateQueue;dc=!1;var l=s.firstBaseUpdate,d=s.lastBaseUpdate,c=s.shared.pending;if(c!==null){s.shared.pending=null;var y=c,b=y.next;y.next=null,d===null?l=b:d.next=b,d=y;var k=e.alternate;k!==null&&(k=k.updateQueue,c=k.lastBaseUpdate,c!==d&&(c===null?k.firstBaseUpdate=b:c.next=b,k.lastBaseUpdate=y))}if(l!==null){var S=s.baseState;d=0,k=b=y=null,c=l;do{var E=c.lane,A=c.eventTime;if((i&E)===E){k!==null&&(k=k.next={eventTime:A,lane:0,tag:c.tag,payload:c.payload,callback:c.callback,next:null});e:{var z=e,N=c;switch(E=t,A=n,N.tag){case 1:if(z=N.payload,typeof z=="function"){S=z.call(A,S,E);break e}S=z;break e;case 3:z.flags=z.flags&-65537|128;case 0:if(z=N.payload,E=typeof z=="function"?z.call(A,S,E):z,E==null)break e;S=Si({},S,E);break e;case 2:dc=!0}}c.callback!==null&&c.lane!==0&&(e.flags|=64,E=s.effects,E===null?s.effects=[c]:E.push(c))}else A={eventTime:A,lane:E,tag:c.tag,payload:c.payload,callback:c.callback,next:null},k===null?(b=k=A,y=S):k=k.next=A,d|=E;if(c=c.next,c===null){if(c=s.shared.pending,c===null)break;E=c,c=E.next,E.next=null,s.lastBaseUpdate=E,s.shared.pending=null}}while(!0);if(k===null&&(y=S),s.baseState=y,s.firstBaseUpdate=b,s.lastBaseUpdate=k,t=s.shared.interleaved,t!==null){s=t;do d|=s.lane,s=s.next;while(s!==t)}else l===null&&(s.shared.lanes=0);td|=d,e.lanes=d,e.memoizedState=S}}function SI(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var i=e[t],s=i.callback;if(s!==null){if(i.callback=null,i=n,typeof s!="function")throw Error(ct(191,s));s.call(i)}}}var j3=new F4.Component().refs;function Cw(e,t,n,i){t=e.memoizedState,n=n(i,t),n=n==null?t:Si({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var C0={isMounted:function(e){return(e=e._reactInternals)?gd(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var i=co(),s=Lc(e),l=ml(i,s);l.payload=t,n!=null&&(l.callback=n),t=Mc(e,l,s),t!==null&&(ea(t,e,s,i),Dv(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var i=co(),s=Lc(e),l=ml(i,s);l.tag=1,l.payload=t,n!=null&&(l.callback=n),t=Mc(e,l,s),t!==null&&(ea(t,e,s,i),Dv(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=co(),i=Lc(e),s=ml(n,i);s.tag=2,t!=null&&(s.callback=t),t=Mc(e,s,i),t!==null&&(ea(t,e,i,n),Dv(t,e,i))}};function kI(e,t,n,i,s,l,d){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(i,l,d):t.prototype&&t.prototype.isPureReactComponent?!Cm(n,i)||!Cm(s,l):!0}function V3(e,t,n){var i=!1,s=Vc,l=t.contextType;return typeof l=="object"&&l!==null?l=Ts(l):(s=Io(t)?Ju:Kr.current,i=t.contextTypes,l=(i=i!=null)?tf(e,s):Vc),t=new t(n,l),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=C0,e.stateNode=t,t._reactInternals=e,i&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=l),t}function EI(e,t,n,i){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,i),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,i),t.state!==e&&C0.enqueueReplaceState(t,t.state,null)}function Tw(e,t,n,i){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs=j3,AS(e);var l=t.contextType;typeof l=="object"&&l!==null?s.context=Ts(l):(l=Io(t)?Ju:Kr.current,s.context=tf(e,l)),s.state=e.memoizedState,l=t.getDerivedStateFromProps,typeof l=="function"&&(Cw(e,t,l,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&C0.enqueueReplaceState(s,s.state,null),xb(e,n,s,i),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function qp(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(ct(309));var i=n.stateNode}if(!i)throw Error(ct(147,e));var s=i,l=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===l?t.ref:(t=function(d){var c=s.refs;c===j3&&(c=s.refs={}),d===null?delete c[l]:c[l]=d},t._stringRef=l,t)}if(typeof e!="string")throw Error(ct(284));if(!n._owner)throw Error(ct(290,e))}return e}function fv(e,t){throw e=Object.prototype.toString.call(t),Error(ct(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function CI(e){var t=e._init;return t(e._payload)}function U3(e){function t(F,$){if(e){var V=F.deletions;V===null?(F.deletions=[$],F.flags|=16):V.push($)}}function n(F,$){if(!e)return null;for(;$!==null;)t(F,$),$=$.sibling;return null}function i(F,$){for(F=new Map;$!==null;)$.key!==null?F.set($.key,$):F.set($.index,$),$=$.sibling;return F}function s(F,$){return F=Oc(F,$),F.index=0,F.sibling=null,F}function l(F,$,V){return F.index=V,e?(V=F.alternate,V!==null?(V=V.index,V<$?(F.flags|=2,$):V):(F.flags|=2,$)):(F.flags|=1048576,$)}function d(F){return e&&F.alternate===null&&(F.flags|=2),F}function c(F,$,V,Z){return $===null||$.tag!==6?($=a1(V,F.mode,Z),$.return=F,$):($=s($,V),$.return=F,$)}function y(F,$,V,Z){var Q=V.type;return Q===gh?k(F,$,V.props.children,Z,V.key):$!==null&&($.elementType===Q||typeof Q=="object"&&Q!==null&&Q.$$typeof===uc&&CI(Q)===$.type)?(Z=s($,V.props),Z.ref=qp(F,$,V),Z.return=F,Z):(Z=Vv(V.type,V.key,V.props,null,F.mode,Z),Z.ref=qp(F,$,V),Z.return=F,Z)}function b(F,$,V,Z){return $===null||$.tag!==4||$.stateNode.containerInfo!==V.containerInfo||$.stateNode.implementation!==V.implementation?($=l1(V,F.mode,Z),$.return=F,$):($=s($,V.children||[]),$.return=F,$)}function k(F,$,V,Z,Q){return $===null||$.tag!==7?($=Ku(V,F.mode,Z,Q),$.return=F,$):($=s($,V),$.return=F,$)}function S(F,$,V){if(typeof $=="string"&&$!==""||typeof $=="number")return $=a1(""+$,F.mode,V),$.return=F,$;if(typeof $=="object"&&$!==null){switch($.$$typeof){case nv:return V=Vv($.type,$.key,$.props,null,F.mode,V),V.ref=qp(F,null,$),V.return=F,V;case mh:return $=l1($,F.mode,V),$.return=F,$;case uc:var Z=$._init;return S(F,Z($._payload),V)}if(Qp($)||Np($))return $=Ku($,F.mode,V,null),$.return=F,$;fv(F,$)}return null}function E(F,$,V,Z){var Q=$!==null?$.key:null;if(typeof V=="string"&&V!==""||typeof V=="number")return Q!==null?null:c(F,$,""+V,Z);if(typeof V=="object"&&V!==null){switch(V.$$typeof){case nv:return V.key===Q?y(F,$,V,Z):null;case mh:return V.key===Q?b(F,$,V,Z):null;case uc:return Q=V._init,E(F,$,Q(V._payload),Z)}if(Qp(V)||Np(V))return Q!==null?null:k(F,$,V,Z,null);fv(F,V)}return null}function A(F,$,V,Z,Q){if(typeof Z=="string"&&Z!==""||typeof Z=="number")return F=F.get(V)||null,c($,F,""+Z,Q);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case nv:return F=F.get(Z.key===null?V:Z.key)||null,y($,F,Z,Q);case mh:return F=F.get(Z.key===null?V:Z.key)||null,b($,F,Z,Q);case uc:var fe=Z._init;return A(F,$,V,fe(Z._payload),Q)}if(Qp(Z)||Np(Z))return F=F.get(V)||null,k($,F,Z,Q,null);fv($,Z)}return null}function z(F,$,V,Z){for(var Q=null,fe=null,oe=$,re=$=0,Be=null;oe!==null&&re<V.length;re++){oe.index>re?(Be=oe,oe=null):Be=oe.sibling;var Le=E(F,oe,V[re],Z);if(Le===null){oe===null&&(oe=Be);break}e&&oe&&Le.alternate===null&&t(F,oe),$=l(Le,$,re),fe===null?Q=Le:fe.sibling=Le,fe=Le,oe=Be}if(re===V.length)return n(F,oe),hi&&Au(F,re),Q;if(oe===null){for(;re<V.length;re++)oe=S(F,V[re],Z),oe!==null&&($=l(oe,$,re),fe===null?Q=oe:fe.sibling=oe,fe=oe);return hi&&Au(F,re),Q}for(oe=i(F,oe);re<V.length;re++)Be=A(oe,F,re,V[re],Z),Be!==null&&(e&&Be.alternate!==null&&oe.delete(Be.key===null?re:Be.key),$=l(Be,$,re),fe===null?Q=Be:fe.sibling=Be,fe=Be);return e&&oe.forEach(function(Fe){return t(F,Fe)}),hi&&Au(F,re),Q}function N(F,$,V,Z){var Q=Np(V);if(typeof Q!="function")throw Error(ct(150));if(V=Q.call(V),V==null)throw Error(ct(151));for(var fe=Q=null,oe=$,re=$=0,Be=null,Le=V.next();oe!==null&&!Le.done;re++,Le=V.next()){oe.index>re?(Be=oe,oe=null):Be=oe.sibling;var Fe=E(F,oe,Le.value,Z);if(Fe===null){oe===null&&(oe=Be);break}e&&oe&&Fe.alternate===null&&t(F,oe),$=l(Fe,$,re),fe===null?Q=Fe:fe.sibling=Fe,fe=Fe,oe=Be}if(Le.done)return n(F,oe),hi&&Au(F,re),Q;if(oe===null){for(;!Le.done;re++,Le=V.next())Le=S(F,Le.value,Z),Le!==null&&($=l(Le,$,re),fe===null?Q=Le:fe.sibling=Le,fe=Le);return hi&&Au(F,re),Q}for(oe=i(F,oe);!Le.done;re++,Le=V.next())Le=A(oe,F,re,Le.value,Z),Le!==null&&(e&&Le.alternate!==null&&oe.delete(Le.key===null?re:Le.key),$=l(Le,$,re),fe===null?Q=Le:fe.sibling=Le,fe=Le);return e&&oe.forEach(function(Ze){return t(F,Ze)}),hi&&Au(F,re),Q}function q(F,$,V,Z){if(typeof V=="object"&&V!==null&&V.type===gh&&V.key===null&&(V=V.props.children),typeof V=="object"&&V!==null){switch(V.$$typeof){case nv:e:{for(var Q=V.key,fe=$;fe!==null;){if(fe.key===Q){if(Q=V.type,Q===gh){if(fe.tag===7){n(F,fe.sibling),$=s(fe,V.props.children),$.return=F,F=$;break e}}else if(fe.elementType===Q||typeof Q=="object"&&Q!==null&&Q.$$typeof===uc&&CI(Q)===fe.type){n(F,fe.sibling),$=s(fe,V.props),$.ref=qp(F,fe,V),$.return=F,F=$;break e}n(F,fe);break}else t(F,fe);fe=fe.sibling}V.type===gh?($=Ku(V.props.children,F.mode,Z,V.key),$.return=F,F=$):(Z=Vv(V.type,V.key,V.props,null,F.mode,Z),Z.ref=qp(F,$,V),Z.return=F,F=Z)}return d(F);case mh:e:{for(fe=V.key;$!==null;){if($.key===fe)if($.tag===4&&$.stateNode.containerInfo===V.containerInfo&&$.stateNode.implementation===V.implementation){n(F,$.sibling),$=s($,V.children||[]),$.return=F,F=$;break e}else{n(F,$);break}else t(F,$);$=$.sibling}$=l1(V,F.mode,Z),$.return=F,F=$}return d(F);case uc:return fe=V._init,q(F,$,fe(V._payload),Z)}if(Qp(V))return z(F,$,V,Z);if(Np(V))return N(F,$,V,Z);fv(F,V)}return typeof V=="string"&&V!==""||typeof V=="number"?(V=""+V,$!==null&&$.tag===6?(n(F,$.sibling),$=s($,V),$.return=F,F=$):(n(F,$),$=a1(V,F.mode,Z),$.return=F,F=$),d(F)):n(F,$)}return q}var rf=U3(!0),H3=U3(!1),Ig={},Ra=nu(Ig),Am=nu(Ig),Rm=nu(Ig);function Du(e){if(e===Ig)throw Error(ct(174));return e}function RS(e,t){switch(Jn(Rm,t),Jn(Am,e),Jn(Ra,Ig),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ow(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=ow(t,e)}ri(Ra),Jn(Ra,t)}function of(){ri(Ra),ri(Am),ri(Rm)}function q3(e){Du(Rm.current);var t=Du(Ra.current),n=ow(t,e.type);t!==n&&(Jn(Am,e),Jn(Ra,n))}function MS(e){Am.current===e&&(ri(Ra),ri(Am))}var vi=nu(0);function wb(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var t1=[];function zS(){for(var e=0;e<t1.length;e++)t1[e]._workInProgressVersionPrimary=null;t1.length=0}var $v=Pl.ReactCurrentDispatcher,n1=Pl.ReactCurrentBatchConfig,ed=0,xi=null,Ji=null,hr=null,Sb=!1,dm=!1,Mm=0,nN=0;function Ur(){throw Error(ct(321))}function LS(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ra(e[n],t[n]))return!1;return!0}function OS(e,t,n,i,s,l){if(ed=l,xi=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,$v.current=e===null||e.memoizedState===null?sN:aN,e=n(i,s),dm){l=0;do{if(dm=!1,Mm=0,25<=l)throw Error(ct(301));l+=1,hr=Ji=null,t.updateQueue=null,$v.current=lN,e=n(i,s)}while(dm)}if($v.current=kb,t=Ji!==null&&Ji.next!==null,ed=0,hr=Ji=xi=null,Sb=!1,t)throw Error(ct(300));return e}function DS(){var e=Mm!==0;return Mm=0,e}function xa(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return hr===null?xi.memoizedState=hr=e:hr=hr.next=e,hr}function Is(){if(Ji===null){var e=xi.alternate;e=e!==null?e.memoizedState:null}else e=Ji.next;var t=hr===null?xi.memoizedState:hr.next;if(t!==null)hr=t,Ji=e;else{if(e===null)throw Error(ct(310));Ji=e,e={memoizedState:Ji.memoizedState,baseState:Ji.baseState,baseQueue:Ji.baseQueue,queue:Ji.queue,next:null},hr===null?xi.memoizedState=hr=e:hr=hr.next=e}return hr}function zm(e,t){return typeof t=="function"?t(e):t}function i1(e){var t=Is(),n=t.queue;if(n===null)throw Error(ct(311));n.lastRenderedReducer=e;var i=Ji,s=i.baseQueue,l=n.pending;if(l!==null){if(s!==null){var d=s.next;s.next=l.next,l.next=d}i.baseQueue=s=l,n.pending=null}if(s!==null){l=s.next,i=i.baseState;var c=d=null,y=null,b=l;do{var k=b.lane;if((ed&k)===k)y!==null&&(y=y.next={lane:0,action:b.action,hasEagerState:b.hasEagerState,eagerState:b.eagerState,next:null}),i=b.hasEagerState?b.eagerState:e(i,b.action);else{var S={lane:k,action:b.action,hasEagerState:b.hasEagerState,eagerState:b.eagerState,next:null};y===null?(c=y=S,d=i):y=y.next=S,xi.lanes|=k,td|=k}b=b.next}while(b!==null&&b!==l);y===null?d=i:y.next=c,ra(i,t.memoizedState)||(Eo=!0),t.memoizedState=i,t.baseState=d,t.baseQueue=y,n.lastRenderedState=i}if(e=n.interleaved,e!==null){s=e;do l=s.lane,xi.lanes|=l,td|=l,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function r1(e){var t=Is(),n=t.queue;if(n===null)throw Error(ct(311));n.lastRenderedReducer=e;var i=n.dispatch,s=n.pending,l=t.memoizedState;if(s!==null){n.pending=null;var d=s=s.next;do l=e(l,d.action),d=d.next;while(d!==s);ra(l,t.memoizedState)||(Eo=!0),t.memoizedState=l,t.baseQueue===null&&(t.baseState=l),n.lastRenderedState=l}return[l,i]}function W3(){}function Z3(e,t){var n=xi,i=Is(),s=t(),l=!ra(i.memoizedState,s);if(l&&(i.memoizedState=s,Eo=!0),i=i.queue,$S(X3.bind(null,n,i,e),[e]),i.getSnapshot!==t||l||hr!==null&&hr.memoizedState.tag&1){if(n.flags|=2048,Lm(9,K3.bind(null,n,i,s,t),void 0,null),pr===null)throw Error(ct(349));ed&30||G3(n,t,s)}return s}function G3(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=xi.updateQueue,t===null?(t={lastEffect:null,stores:null},xi.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function K3(e,t,n,i){t.value=n,t.getSnapshot=i,Y3(t)&&J3(e)}function X3(e,t,n){return n(function(){Y3(t)&&J3(e)})}function Y3(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ra(e,n)}catch(i){return!0}}function J3(e){var t=xl(e,1);t!==null&&ea(t,e,1,-1)}function TI(e){var t=xa();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:zm,lastRenderedState:e},t.queue=e,e=e.dispatch=oN.bind(null,xi,e),[t.memoizedState,e]}function Lm(e,t,n,i){return e={tag:e,create:t,destroy:n,deps:i,next:null},t=xi.updateQueue,t===null?(t={lastEffect:null,stores:null},xi.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(i=n.next,n.next=e,e.next=i,t.lastEffect=e)),e}function Q3(){return Is().memoizedState}function Bv(e,t,n,i){var s=xa();xi.flags|=e,s.memoizedState=Lm(1|t,n,void 0,i===void 0?null:i)}function T0(e,t,n,i){var s=Is();i=i===void 0?null:i;var l=void 0;if(Ji!==null){var d=Ji.memoizedState;if(l=d.destroy,i!==null&&LS(i,d.deps)){s.memoizedState=Lm(t,n,l,i);return}}xi.flags|=e,s.memoizedState=Lm(1|t,n,l,i)}function II(e,t){return Bv(8390656,8,e,t)}function $S(e,t){return T0(2048,8,e,t)}function eM(e,t){return T0(4,2,e,t)}function tM(e,t){return T0(4,4,e,t)}function nM(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function iM(e,t,n){return n=n!=null?n.concat([e]):null,T0(4,4,nM.bind(null,t,e),n)}function BS(){}function rM(e,t){var n=Is();t=t===void 0?null:t;var i=n.memoizedState;return i!==null&&t!==null&&LS(t,i[1])?i[0]:(n.memoizedState=[e,t],e)}function oM(e,t){var n=Is();t=t===void 0?null:t;var i=n.memoizedState;return i!==null&&t!==null&&LS(t,i[1])?i[0]:(e=e(),n.memoizedState=[e,t],e)}function sM(e,t,n){return ed&21?(ra(n,t)||(n=c3(),xi.lanes|=n,td|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Eo=!0),e.memoizedState=n)}function iN(e,t){var n=Bn;Bn=n!==0&&4>n?n:4,e(!0);var i=n1.transition;n1.transition={};try{e(!1),t()}finally{Bn=n,n1.transition=i}}function aM(){return Is().memoizedState}function rN(e,t,n){var i=Lc(e);if(n={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null},lM(e))cM(t,n);else if(n=F3(e,t,n,i),n!==null){var s=co();ea(n,e,i,s),uM(n,t,i)}}function oN(e,t,n){var i=Lc(e),s={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null};if(lM(e))cM(t,s);else{var l=e.alternate;if(e.lanes===0&&(l===null||l.lanes===0)&&(l=t.lastRenderedReducer,l!==null))try{var d=t.lastRenderedState,c=l(d,n);if(s.hasEagerState=!0,s.eagerState=c,ra(c,d)){var y=t.interleaved;y===null?(s.next=s,PS(t)):(s.next=y.next,y.next=s),t.interleaved=s;return}}catch(b){}finally{}n=F3(e,t,s,i),n!==null&&(s=co(),ea(n,e,i,s),uM(n,t,i))}}function lM(e){var t=e.alternate;return e===xi||t!==null&&t===xi}function cM(e,t){dm=Sb=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function uM(e,t,n){if(n&4194240){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,mS(e,n)}}var kb={readContext:Ts,useCallback:Ur,useContext:Ur,useEffect:Ur,useImperativeHandle:Ur,useInsertionEffect:Ur,useLayoutEffect:Ur,useMemo:Ur,useReducer:Ur,useRef:Ur,useState:Ur,useDebugValue:Ur,useDeferredValue:Ur,useTransition:Ur,useMutableSource:Ur,useSyncExternalStore:Ur,useId:Ur,unstable_isNewReconciler:!1},sN={readContext:Ts,useCallback:function(e,t){return xa().memoizedState=[e,t===void 0?null:t],e},useContext:Ts,useEffect:II,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Bv(4194308,4,nM.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Bv(4194308,4,e,t)},useInsertionEffect:function(e,t){return Bv(4,2,e,t)},useMemo:function(e,t){var n=xa();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var i=xa();return t=n!==void 0?n(t):t,i.memoizedState=i.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},i.queue=e,e=e.dispatch=rN.bind(null,xi,e),[i.memoizedState,e]},useRef:function(e){var t=xa();return e={current:e},t.memoizedState=e},useState:TI,useDebugValue:BS,useDeferredValue:function(e){return xa().memoizedState=e},useTransition:function(){var e=TI(!1),t=e[0];return e=iN.bind(null,e[1]),xa().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var i=xi,s=xa();if(hi){if(n===void 0)throw Error(ct(407));n=n()}else{if(n=t(),pr===null)throw Error(ct(349));ed&30||G3(i,t,n)}s.memoizedState=n;var l={value:n,getSnapshot:t};return s.queue=l,II(X3.bind(null,i,l,e),[e]),i.flags|=2048,Lm(9,K3.bind(null,i,l,n,t),void 0,null),n},useId:function(){var e=xa(),t=pr.identifierPrefix;if(hi){var n=pl,i=fl;n=(i&~(1<<32-Qs(i)-1)).toString(32)+n,t=":"+t+"R"+n,n=Mm++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=nN++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},aN={readContext:Ts,useCallback:rM,useContext:Ts,useEffect:$S,useImperativeHandle:iM,useInsertionEffect:eM,useLayoutEffect:tM,useMemo:oM,useReducer:i1,useRef:Q3,useState:function(){return i1(zm)},useDebugValue:BS,useDeferredValue:function(e){var t=Is();return sM(t,Ji.memoizedState,e)},useTransition:function(){var e=i1(zm)[0],t=Is().memoizedState;return[e,t]},useMutableSource:W3,useSyncExternalStore:Z3,useId:aM,unstable_isNewReconciler:!1},lN={readContext:Ts,useCallback:rM,useContext:Ts,useEffect:$S,useImperativeHandle:iM,useInsertionEffect:eM,useLayoutEffect:tM,useMemo:oM,useReducer:r1,useRef:Q3,useState:function(){return r1(zm)},useDebugValue:BS,useDeferredValue:function(e){var t=Is();return Ji===null?t.memoizedState=e:sM(t,Ji.memoizedState,e)},useTransition:function(){var e=r1(zm)[0],t=Is().memoizedState;return[e,t]},useMutableSource:W3,useSyncExternalStore:Z3,useId:aM,unstable_isNewReconciler:!1};function sf(e,t){try{var n="",i=t;do n+=DB(i),i=i.return;while(i);var s=n}catch(l){s="\nError generating stack: "+l.message+"\n"+l.stack}return{value:e,source:t,stack:s,digest:null}}function o1(e,t,n){return{value:e,source:null,stack:n!=null?n:null,digest:t!=null?t:null}}function Iw(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var cN=typeof WeakMap=="function"?WeakMap:Map;function dM(e,t,n){n=ml(-1,n),n.tag=3,n.payload={element:null};var i=t.value;return n.callback=function(){Cb||(Cb=!0,Bw=i),Iw(e,t)},n}function hM(e,t,n){n=ml(-1,n),n.tag=3;var i=e.type.getDerivedStateFromError;if(typeof i=="function"){var s=t.value;n.payload=function(){return i(s)},n.callback=function(){Iw(e,t)}}var l=e.stateNode;return l!==null&&typeof l.componentDidCatch=="function"&&(n.callback=function(){Iw(e,t),typeof i!="function"&&(zc===null?zc=new Set([this]):zc.add(this));var d=t.stack;this.componentDidCatch(t.value,{componentStack:d!==null?d:""})}),n}function PI(e,t,n){var i=e.pingCache;if(i===null){i=e.pingCache=new cN;var s=new Set;i.set(t,s)}else s=i.get(t),s===void 0&&(s=new Set,i.set(t,s));s.has(n)||(s.add(n),e=SN.bind(null,e,t,n),t.then(e,e))}function AI(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function RI(e,t,n,i,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=ml(-1,1),t.tag=2,Mc(n,t,1))),n.lanes|=1),e)}var uN=Pl.ReactCurrentOwner,Eo=!1;function lo(e,t,n,i){t.child=e===null?H3(t,null,n,i):rf(t,e.child,n,i)}function MI(e,t,n,i,s){n=n.render;var l=t.ref;return Mh(t,s),i=OS(e,t,n,i,l,s),n=DS(),e!==null&&!Eo?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,wl(e,t,s)):(hi&&n&&SS(t),t.flags|=1,lo(e,t,i,s),t.child)}function zI(e,t,n,i,s){if(e===null){var l=n.type;return typeof l=="function"&&!WS(l)&&l.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=l,fM(e,t,l,i,s)):(e=Vv(n.type,null,i,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(l=e.child,!(e.lanes&s)){var d=l.memoizedProps;if(n=n.compare,n=n!==null?n:Cm,n(d,i)&&e.ref===t.ref)return wl(e,t,s)}return t.flags|=1,e=Oc(l,i),e.ref=t.ref,e.return=t,t.child=e}function fM(e,t,n,i,s){if(e!==null){var l=e.memoizedProps;if(Cm(l,i)&&e.ref===t.ref)if(Eo=!1,t.pendingProps=i=l,(e.lanes&s)!==0)e.flags&131072&&(Eo=!0);else return t.lanes=e.lanes,wl(e,t,s)}return Pw(e,t,n,i,s)}function pM(e,t,n){var i=t.pendingProps,s=i.children,l=e!==null?e.memoizedState:null;if(i.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Jn(Ch,Zo),Zo|=n;else{if(!(n&1073741824))return e=l!==null?l.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Jn(Ch,Zo),Zo|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=l!==null?l.baseLanes:n,Jn(Ch,Zo),Zo|=i}else l!==null?(i=l.baseLanes|n,t.memoizedState=null):i=n,Jn(Ch,Zo),Zo|=i;return lo(e,t,s,n),t.child}function mM(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Pw(e,t,n,i,s){var l=Io(n)?Ju:Kr.current;return l=tf(t,l),Mh(t,s),n=OS(e,t,n,i,l,s),i=DS(),e!==null&&!Eo?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,wl(e,t,s)):(hi&&i&&SS(t),t.flags|=1,lo(e,t,n,s),t.child)}function LI(e,t,n,i,s){if(Io(n)){var l=!0;gb(t)}else l=!1;if(Mh(t,s),t.stateNode===null)Fv(e,t),V3(t,n,i),Tw(t,n,i,s),i=!0;else if(e===null){var d=t.stateNode,c=t.memoizedProps;d.props=c;var y=d.context,b=n.contextType;typeof b=="object"&&b!==null?b=Ts(b):(b=Io(n)?Ju:Kr.current,b=tf(t,b));var k=n.getDerivedStateFromProps,S=typeof k=="function"||typeof d.getSnapshotBeforeUpdate=="function";S||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(c!==i||y!==b)&&EI(t,d,i,b),dc=!1;var E=t.memoizedState;d.state=E,xb(t,i,d,s),y=t.memoizedState,c!==i||E!==y||To.current||dc?(typeof k=="function"&&(Cw(t,n,k,i),y=t.memoizedState),(c=dc||kI(t,n,c,i,E,y,b))?(S||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(t.flags|=4194308)):(typeof d.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=y),d.props=i,d.state=y,d.context=b,i=c):(typeof d.componentDidMount=="function"&&(t.flags|=4194308),i=!1)}else{d=t.stateNode,N3(e,t),c=t.memoizedProps,b=t.type===t.elementType?c:Hs(t.type,c),d.props=b,S=t.pendingProps,E=d.context,y=n.contextType,typeof y=="object"&&y!==null?y=Ts(y):(y=Io(n)?Ju:Kr.current,y=tf(t,y));var A=n.getDerivedStateFromProps;(k=typeof A=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(c!==S||E!==y)&&EI(t,d,i,y),dc=!1,E=t.memoizedState,d.state=E,xb(t,i,d,s);var z=t.memoizedState;c!==S||E!==z||To.current||dc?(typeof A=="function"&&(Cw(t,n,A,i),z=t.memoizedState),(b=dc||kI(t,n,b,i,E,z,y)||!1)?(k||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(i,z,y),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(i,z,y)),typeof d.componentDidUpdate=="function"&&(t.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof d.componentDidUpdate!="function"||c===e.memoizedProps&&E===e.memoizedState||(t.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||c===e.memoizedProps&&E===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=z),d.props=i,d.state=z,d.context=y,i=b):(typeof d.componentDidUpdate!="function"||c===e.memoizedProps&&E===e.memoizedState||(t.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||c===e.memoizedProps&&E===e.memoizedState||(t.flags|=1024),i=!1)}return Aw(e,t,n,i,l,s)}function Aw(e,t,n,i,s,l){mM(e,t);var d=(t.flags&128)!==0;if(!i&&!d)return s&&bI(t,n,!1),wl(e,t,l);i=t.stateNode,uN.current=t;var c=d&&typeof n.getDerivedStateFromError!="function"?null:i.render();return t.flags|=1,e!==null&&d?(t.child=rf(t,e.child,null,l),t.child=rf(t,null,c,l)):lo(e,t,c,l),t.memoizedState=i.state,s&&bI(t,n,!0),t.child}function gM(e){var t=e.stateNode;t.pendingContext?vI(e,t.pendingContext,t.pendingContext!==t.context):t.context&&vI(e,t.context,!1),RS(e,t.containerInfo)}function OI(e,t,n,i,s){return nf(),ES(s),t.flags|=256,lo(e,t,n,i),t.child}var Rw={dehydrated:null,treeContext:null,retryLane:0};function Mw(e){return{baseLanes:e,cachePool:null,transitions:null}}function yM(e,t,n){var i=t.pendingProps,s=vi.current,l=!1,d=(t.flags&128)!==0,c;if((c=d)||(c=e!==null&&e.memoizedState===null?!1:(s&2)!==0),c?(l=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),Jn(vi,s&1),e===null)return kw(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(d=i.children,e=i.fallback,l?(i=t.mode,l=t.child,d={mode:"hidden",children:d},!(i&1)&&l!==null?(l.childLanes=0,l.pendingProps=d):l=A0(d,i,0,null),e=Ku(e,i,n,null),l.return=t,e.return=t,l.sibling=e,t.child=l,t.child.memoizedState=Mw(n),t.memoizedState=Rw,e):FS(t,d));if(s=e.memoizedState,s!==null&&(c=s.dehydrated,c!==null))return dN(e,t,d,i,c,s,n);if(l){l=i.fallback,d=t.mode,s=e.child,c=s.sibling;var y={mode:"hidden",children:i.children};return!(d&1)&&t.child!==s?(i=t.child,i.childLanes=0,i.pendingProps=y,t.deletions=null):(i=Oc(s,y),i.subtreeFlags=s.subtreeFlags&14680064),c!==null?l=Oc(c,l):(l=Ku(l,d,n,null),l.flags|=2),l.return=t,i.return=t,i.sibling=l,t.child=i,i=l,l=t.child,d=e.child.memoizedState,d=d===null?Mw(n):{baseLanes:d.baseLanes|n,cachePool:null,transitions:d.transitions},l.memoizedState=d,l.childLanes=e.childLanes&~n,t.memoizedState=Rw,i}return l=e.child,e=l.sibling,i=Oc(l,{mode:"visible",children:i.children}),!(t.mode&1)&&(i.lanes=n),i.return=t,i.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function FS(e,t){return t=A0({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function pv(e,t,n,i){return i!==null&&ES(i),rf(t,e.child,null,n),e=FS(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function dN(e,t,n,i,s,l,d){if(n)return t.flags&256?(t.flags&=-257,i=o1(Error(ct(422))),pv(e,t,d,i)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(l=i.fallback,s=t.mode,i=A0({mode:"visible",children:i.children},s,0,null),l=Ku(l,s,d,null),l.flags|=2,i.return=t,l.return=t,i.sibling=l,t.child=i,t.mode&1&&rf(t,e.child,null,d),t.child.memoizedState=Mw(d),t.memoizedState=Rw,l);if(!(t.mode&1))return pv(e,t,d,null);if(s.data==="$!"){if(i=s.nextSibling&&s.nextSibling.dataset,i)var c=i.dgst;return i=c,l=Error(ct(419)),i=o1(l,i,void 0),pv(e,t,d,i)}if(c=(d&e.childLanes)!==0,Eo||c){if(i=pr,i!==null){switch(d&-d){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(i.suspendedLanes|d)?0:s,s!==0&&s!==l.retryLane&&(l.retryLane=s,xl(e,s),ea(i,e,s,-1))}return qS(),i=o1(Error(ct(421))),pv(e,t,d,i)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=kN.bind(null,e),s._reactRetry=t,null):(e=l.treeContext,Ko=Rc(s.nextSibling),Jo=t,hi=!0,Gs=null,e!==null&&(xs[ws++]=fl,xs[ws++]=pl,xs[ws++]=Qu,fl=e.id,pl=e.overflow,Qu=t),t=FS(t,i.children),t.flags|=4096,t)}function DI(e,t,n){e.lanes|=t;var i=e.alternate;i!==null&&(i.lanes|=t),Ew(e.return,t,n)}function s1(e,t,n,i,s){var l=e.memoizedState;l===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:s}:(l.isBackwards=t,l.rendering=null,l.renderingStartTime=0,l.last=i,l.tail=n,l.tailMode=s)}function vM(e,t,n){var i=t.pendingProps,s=i.revealOrder,l=i.tail;if(lo(e,t,i.children,n),i=vi.current,i&2)i=i&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&DI(e,n,t);else if(e.tag===19)DI(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}i&=1}if(Jn(vi,i),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&wb(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),s1(t,!1,s,n,l);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&wb(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}s1(t,!0,n,null,l);break;case"together":s1(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Fv(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function wl(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),td|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(ct(153));if(t.child!==null){for(e=t.child,n=Oc(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Oc(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function hN(e,t,n){switch(t.tag){case 3:gM(t),nf();break;case 5:q3(t);break;case 1:Io(t.type)&&gb(t);break;case 4:RS(t,t.stateNode.containerInfo);break;case 10:var i=t.type._context,s=t.memoizedProps.value;Jn(bb,i._currentValue),i._currentValue=s;break;case 13:if(i=t.memoizedState,i!==null)return i.dehydrated!==null?(Jn(vi,vi.current&1),t.flags|=128,null):n&t.child.childLanes?yM(e,t,n):(Jn(vi,vi.current&1),e=wl(e,t,n),e!==null?e.sibling:null);Jn(vi,vi.current&1);break;case 19:if(i=(n&t.childLanes)!==0,e.flags&128){if(i)return vM(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Jn(vi,vi.current),i)break;return null;case 22:case 23:return t.lanes=0,pM(e,t,n)}return wl(e,t,n)}var bM,zw,_M,xM;bM=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};zw=function(){};_M=function(e,t,n,i){var s=e.memoizedProps;if(s!==i){e=t.stateNode,Du(Ra.current);var l=null;switch(n){case"input":s=tw(e,s),i=tw(e,i),l=[];break;case"select":s=Si({},s,{value:void 0}),i=Si({},i,{value:void 0}),l=[];break;case"textarea":s=rw(e,s),i=rw(e,i),l=[];break;default:typeof s.onClick!="function"&&typeof i.onClick=="function"&&(e.onclick=pb)}sw(n,i);var d;n=null;for(b in s)if(!i.hasOwnProperty(b)&&s.hasOwnProperty(b)&&s[b]!=null)if(b==="style"){var c=s[b];for(d in c)c.hasOwnProperty(d)&&(n||(n={}),n[d]="")}else b!=="dangerouslySetInnerHTML"&&b!=="children"&&b!=="suppressContentEditableWarning"&&b!=="suppressHydrationWarning"&&b!=="autoFocus"&&(bm.hasOwnProperty(b)?l||(l=[]):(l=l||[]).push(b,null));for(b in i){var y=i[b];if(c=s!=null?s[b]:void 0,i.hasOwnProperty(b)&&y!==c&&(y!=null||c!=null))if(b==="style")if(c){for(d in c)!c.hasOwnProperty(d)||y&&y.hasOwnProperty(d)||(n||(n={}),n[d]="");for(d in y)y.hasOwnProperty(d)&&c[d]!==y[d]&&(n||(n={}),n[d]=y[d])}else n||(l||(l=[]),l.push(b,n)),n=y;else b==="dangerouslySetInnerHTML"?(y=y?y.__html:void 0,c=c?c.__html:void 0,y!=null&&c!==y&&(l=l||[]).push(b,y)):b==="children"?typeof y!="string"&&typeof y!="number"||(l=l||[]).push(b,""+y):b!=="suppressContentEditableWarning"&&b!=="suppressHydrationWarning"&&(bm.hasOwnProperty(b)?(y!=null&&b==="onScroll"&&ii("scroll",e),l||c===y||(l=[])):(l=l||[]).push(b,y))}n&&(l=l||[]).push("style",n);var b=l;(t.updateQueue=b)&&(t.flags|=4)}};xM=function(e,t,n,i){n!==i&&(t.flags|=4)};function Wp(e,t){if(!hi)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:i.sibling=null}}function Hr(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,i=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,i|=s.subtreeFlags&14680064,i|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,i|=s.subtreeFlags,i|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=i,e.childLanes=n,t}function fN(e,t,n){var i=t.pendingProps;switch(kS(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Hr(t),null;case 1:return Io(t.type)&&mb(),Hr(t),null;case 3:return i=t.stateNode,of(),ri(To),ri(Kr),zS(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(e===null||e.child===null)&&(hv(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Gs!==null&&(jw(Gs),Gs=null))),zw(e,t),Hr(t),null;case 5:MS(t);var s=Du(Rm.current);if(n=t.type,e!==null&&t.stateNode!=null)_M(e,t,n,i,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!i){if(t.stateNode===null)throw Error(ct(166));return Hr(t),null}if(e=Du(Ra.current),hv(t)){i=t.stateNode,n=t.type;var l=t.memoizedProps;switch(i[Ta]=t,i[Pm]=l,e=(t.mode&1)!==0,n){case"dialog":ii("cancel",i),ii("close",i);break;case"iframe":case"object":case"embed":ii("load",i);break;case"video":case"audio":for(s=0;s<tm.length;s++)ii(tm[s],i);break;case"source":ii("error",i);break;case"img":case"image":case"link":ii("error",i),ii("load",i);break;case"details":ii("toggle",i);break;case"input":qT(i,l),ii("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!l.multiple},ii("invalid",i);break;case"textarea":ZT(i,l),ii("invalid",i)}sw(n,l),s=null;for(var d in l)if(l.hasOwnProperty(d)){var c=l[d];d==="children"?typeof c=="string"?i.textContent!==c&&(l.suppressHydrationWarning!==!0&&dv(i.textContent,c,e),s=["children",c]):typeof c=="number"&&i.textContent!==""+c&&(l.suppressHydrationWarning!==!0&&dv(i.textContent,c,e),s=["children",""+c]):bm.hasOwnProperty(d)&&c!=null&&d==="onScroll"&&ii("scroll",i)}switch(n){case"input":iv(i),WT(i,l,!0);break;case"textarea":iv(i),GT(i);break;case"select":case"option":break;default:typeof l.onClick=="function"&&(i.onclick=pb)}i=s,t.updateQueue=i,i!==null&&(t.flags|=4)}else{d=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=G4(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=d.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof i.is=="string"?e=d.createElement(n,{is:i.is}):(e=d.createElement(n),n==="select"&&(d=e,i.multiple?d.multiple=!0:i.size&&(d.size=i.size))):e=d.createElementNS(e,n),e[Ta]=t,e[Pm]=i,bM(e,t,!1,!1),t.stateNode=e;e:{switch(d=aw(n,i),n){case"dialog":ii("cancel",e),ii("close",e),s=i;break;case"iframe":case"object":case"embed":ii("load",e),s=i;break;case"video":case"audio":for(s=0;s<tm.length;s++)ii(tm[s],e);s=i;break;case"source":ii("error",e),s=i;break;case"img":case"image":case"link":ii("error",e),ii("load",e),s=i;break;case"details":ii("toggle",e),s=i;break;case"input":qT(e,i),s=tw(e,i),ii("invalid",e);break;case"option":s=i;break;case"select":e._wrapperState={wasMultiple:!!i.multiple},s=Si({},i,{value:void 0}),ii("invalid",e);break;case"textarea":ZT(e,i),s=rw(e,i),ii("invalid",e);break;default:s=i}sw(n,s),c=s;for(l in c)if(c.hasOwnProperty(l)){var y=c[l];l==="style"?Y4(e,y):l==="dangerouslySetInnerHTML"?(y=y?y.__html:void 0,y!=null&&K4(e,y)):l==="children"?typeof y=="string"?(n!=="textarea"||y!=="")&&_m(e,y):typeof y=="number"&&_m(e,""+y):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(bm.hasOwnProperty(l)?y!=null&&l==="onScroll"&&ii("scroll",e):y!=null&&cS(e,l,y,d))}switch(n){case"input":iv(e),WT(e,i,!1);break;case"textarea":iv(e),GT(e);break;case"option":i.value!=null&&e.setAttribute("value",""+jc(i.value));break;case"select":e.multiple=!!i.multiple,l=i.value,l!=null?Ih(e,!!i.multiple,l,!1):i.defaultValue!=null&&Ih(e,!!i.multiple,i.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=pb)}switch(n){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Hr(t),null;case 6:if(e&&t.stateNode!=null)xM(e,t,e.memoizedProps,i);else{if(typeof i!="string"&&t.stateNode===null)throw Error(ct(166));if(n=Du(Rm.current),Du(Ra.current),hv(t)){if(i=t.stateNode,n=t.memoizedProps,i[Ta]=t,(l=i.nodeValue!==n)&&(e=Jo,e!==null))switch(e.tag){case 3:dv(i.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&dv(i.nodeValue,n,(e.mode&1)!==0)}l&&(t.flags|=4)}else i=(n.nodeType===9?n:n.ownerDocument).createTextNode(i),i[Ta]=t,t.stateNode=i}return Hr(t),null;case 13:if(ri(vi),i=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(hi&&Ko!==null&&t.mode&1&&!(t.flags&128))B3(),nf(),t.flags|=98560,l=!1;else if(l=hv(t),i!==null&&i.dehydrated!==null){if(e===null){if(!l)throw Error(ct(318));if(l=t.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(ct(317));l[Ta]=t}else nf(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Hr(t),l=!1}else Gs!==null&&(jw(Gs),Gs=null),l=!0;if(!l)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(i=i!==null,i!==(e!==null&&e.memoizedState!==null)&&i&&(t.child.flags|=8192,t.mode&1&&(e===null||vi.current&1?er===0&&(er=3):qS())),t.updateQueue!==null&&(t.flags|=4),Hr(t),null);case 4:return of(),zw(e,t),e===null&&Tm(t.stateNode.containerInfo),Hr(t),null;case 10:return IS(t.type._context),Hr(t),null;case 17:return Io(t.type)&&mb(),Hr(t),null;case 19:if(ri(vi),l=t.memoizedState,l===null)return Hr(t),null;if(i=(t.flags&128)!==0,d=l.rendering,d===null)if(i)Wp(l,!1);else{if(er!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(d=wb(e),d!==null){for(t.flags|=128,Wp(l,!1),i=d.updateQueue,i!==null&&(t.updateQueue=i,t.flags|=4),t.subtreeFlags=0,i=n,n=t.child;n!==null;)l=n,e=i,l.flags&=14680066,d=l.alternate,d===null?(l.childLanes=0,l.lanes=e,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=d.childLanes,l.lanes=d.lanes,l.child=d.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=d.memoizedProps,l.memoizedState=d.memoizedState,l.updateQueue=d.updateQueue,l.type=d.type,e=d.dependencies,l.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Jn(vi,vi.current&1|2),t.child}e=e.sibling}l.tail!==null&&ji()>af&&(t.flags|=128,i=!0,Wp(l,!1),t.lanes=4194304)}else{if(!i)if(e=wb(d),e!==null){if(t.flags|=128,i=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Wp(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!hi)return Hr(t),null}else 2*ji()-l.renderingStartTime>af&&n!==1073741824&&(t.flags|=128,i=!0,Wp(l,!1),t.lanes=4194304);l.isBackwards?(d.sibling=t.child,t.child=d):(n=l.last,n!==null?n.sibling=d:t.child=d,l.last=d)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=ji(),t.sibling=null,n=vi.current,Jn(vi,i?n&1|2:n&1),t):(Hr(t),null);case 22:case 23:return HS(),i=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==i&&(t.flags|=8192),i&&t.mode&1?Zo&1073741824&&(Hr(t),t.subtreeFlags&6&&(t.flags|=8192)):Hr(t),null;case 24:return null;case 25:return null}throw Error(ct(156,t.tag))}function pN(e,t){switch(kS(t),t.tag){case 1:return Io(t.type)&&mb(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return of(),ri(To),ri(Kr),zS(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return MS(t),null;case 13:if(ri(vi),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(ct(340));nf()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ri(vi),null;case 4:return of(),null;case 10:return IS(t.type._context),null;case 22:case 23:return HS(),null;case 24:return null;default:return null}}var mv=!1,qr=!1,mN=typeof WeakSet=="function"?WeakSet:Set,Rt=null;function Eh(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(i){Ri(e,t,i)}else n.current=null}function Lw(e,t,n){try{n()}catch(i){Ri(e,t,i)}}var $I=!1;function gN(e,t){if(yw=db,e=E3(),wS(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var s=i.anchorOffset,l=i.focusNode;i=i.focusOffset;try{n.nodeType,l.nodeType}catch(Z){n=null;break e}var d=0,c=-1,y=-1,b=0,k=0,S=e,E=null;t:for(;;){for(var A;S!==n||s!==0&&S.nodeType!==3||(c=d+s),S!==l||i!==0&&S.nodeType!==3||(y=d+i),S.nodeType===3&&(d+=S.nodeValue.length),(A=S.firstChild)!==null;)E=S,S=A;for(;;){if(S===e)break t;if(E===n&&++b===s&&(c=d),E===l&&++k===i&&(y=d),(A=S.nextSibling)!==null)break;S=E,E=S.parentNode}S=A}n=c===-1||y===-1?null:{start:c,end:y}}else n=null}n=n||{start:0,end:0}}else n=null;for(vw={focusedElem:e,selectionRange:n},db=!1,Rt=t;Rt!==null;)if(t=Rt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Rt=e;else for(;Rt!==null;){t=Rt;try{var z=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(z!==null){var N=z.memoizedProps,q=z.memoizedState,F=t.stateNode,$=F.getSnapshotBeforeUpdate(t.elementType===t.type?N:Hs(t.type,N),q);F.__reactInternalSnapshotBeforeUpdate=$}break;case 3:var V=t.stateNode.containerInfo;V.nodeType===1?V.textContent="":V.nodeType===9&&V.documentElement&&V.removeChild(V.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ct(163))}}catch(Z){Ri(t,t.return,Z)}if(e=t.sibling,e!==null){e.return=t.return,Rt=e;break}Rt=t.return}return z=$I,$I=!1,z}function hm(e,t,n){var i=t.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var s=i=i.next;do{if((s.tag&e)===e){var l=s.destroy;s.destroy=void 0,l!==void 0&&Lw(t,n,l)}s=s.next}while(s!==i)}}function I0(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var i=n.create;n.destroy=i()}n=n.next}while(n!==t)}}function Ow(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function wM(e){var t=e.alternate;t!==null&&(e.alternate=null,wM(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Ta],delete t[Pm],delete t[xw],delete t[JF],delete t[QF])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function SM(e){return e.tag===5||e.tag===3||e.tag===4}function BI(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||SM(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Dw(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=pb));else if(i!==4&&(e=e.child,e!==null))for(Dw(e,t,n),e=e.sibling;e!==null;)Dw(e,t,n),e=e.sibling}function $w(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(i!==4&&(e=e.child,e!==null))for($w(e,t,n),e=e.sibling;e!==null;)$w(e,t,n),e=e.sibling}var Pr=null,Ws=!1;function sc(e,t,n){for(n=n.child;n!==null;)kM(e,t,n),n=n.sibling}function kM(e,t,n){if(Aa&&typeof Aa.onCommitFiberUnmount=="function")try{Aa.onCommitFiberUnmount(_0,n)}catch(c){}switch(n.tag){case 5:qr||Eh(n,t);case 6:var i=Pr,s=Ws;Pr=null,sc(e,t,n),Pr=i,Ws=s,Pr!==null&&(Ws?(e=Pr,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Pr.removeChild(n.stateNode));break;case 18:Pr!==null&&(Ws?(e=Pr,n=n.stateNode,e.nodeType===8?Qx(e.parentNode,n):e.nodeType===1&&Qx(e,n),km(e)):Qx(Pr,n.stateNode));break;case 4:i=Pr,s=Ws,Pr=n.stateNode.containerInfo,Ws=!0,sc(e,t,n),Pr=i,Ws=s;break;case 0:case 11:case 14:case 15:if(!qr&&(i=n.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){s=i=i.next;do{var l=s,d=l.destroy;l=l.tag,d!==void 0&&(l&2||l&4)&&Lw(n,t,d),s=s.next}while(s!==i)}sc(e,t,n);break;case 1:if(!qr&&(Eh(n,t),i=n.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=n.memoizedProps,i.state=n.memoizedState,i.componentWillUnmount()}catch(c){Ri(n,t,c)}sc(e,t,n);break;case 21:sc(e,t,n);break;case 22:n.mode&1?(qr=(i=qr)||n.memoizedState!==null,sc(e,t,n),qr=i):sc(e,t,n);break;default:sc(e,t,n)}}function FI(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new mN),t.forEach(function(i){var s=EN.bind(null,e,i);n.has(i)||(n.add(i),i.then(s,s))})}}function Vs(e,t){var n=t.deletions;if(n!==null)for(var i=0;i<n.length;i++){var s=n[i];try{var l=e,d=t,c=d;e:for(;c!==null;){switch(c.tag){case 5:Pr=c.stateNode,Ws=!1;break e;case 3:Pr=c.stateNode.containerInfo,Ws=!0;break e;case 4:Pr=c.stateNode.containerInfo,Ws=!0;break e}c=c.return}if(Pr===null)throw Error(ct(160));kM(l,d,s),Pr=null,Ws=!1;var y=s.alternate;y!==null&&(y.return=null),s.return=null}catch(b){Ri(s,t,b)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)EM(t,e),t=t.sibling}function EM(e,t){var n=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Vs(t,e),ba(e),i&4){try{hm(3,e,e.return),I0(3,e)}catch(N){Ri(e,e.return,N)}try{hm(5,e,e.return)}catch(N){Ri(e,e.return,N)}}break;case 1:Vs(t,e),ba(e),i&512&&n!==null&&Eh(n,n.return);break;case 5:if(Vs(t,e),ba(e),i&512&&n!==null&&Eh(n,n.return),e.flags&32){var s=e.stateNode;try{_m(s,"")}catch(N){Ri(e,e.return,N)}}if(i&4&&(s=e.stateNode,s!=null)){var l=e.memoizedProps,d=n!==null?n.memoizedProps:l,c=e.type,y=e.updateQueue;if(e.updateQueue=null,y!==null)try{c==="input"&&l.type==="radio"&&l.name!=null&&W4(s,l),aw(c,d);var b=aw(c,l);for(d=0;d<y.length;d+=2){var k=y[d],S=y[d+1];k==="style"?Y4(s,S):k==="dangerouslySetInnerHTML"?K4(s,S):k==="children"?_m(s,S):cS(s,k,S,b)}switch(c){case"input":nw(s,l);break;case"textarea":Z4(s,l);break;case"select":var E=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!l.multiple;var A=l.value;A!=null?Ih(s,!!l.multiple,A,!1):E!==!!l.multiple&&(l.defaultValue!=null?Ih(s,!!l.multiple,l.defaultValue,!0):Ih(s,!!l.multiple,l.multiple?[]:"",!1))}s[Pm]=l}catch(N){Ri(e,e.return,N)}}break;case 6:if(Vs(t,e),ba(e),i&4){if(e.stateNode===null)throw Error(ct(162));s=e.stateNode,l=e.memoizedProps;try{s.nodeValue=l}catch(N){Ri(e,e.return,N)}}break;case 3:if(Vs(t,e),ba(e),i&4&&n!==null&&n.memoizedState.isDehydrated)try{km(t.containerInfo)}catch(N){Ri(e,e.return,N)}break;case 4:Vs(t,e),ba(e);break;case 13:Vs(t,e),ba(e),s=e.child,s.flags&8192&&(l=s.memoizedState!==null,s.stateNode.isHidden=l,!l||s.alternate!==null&&s.alternate.memoizedState!==null||(VS=ji())),i&4&&FI(e);break;case 22:if(k=n!==null&&n.memoizedState!==null,e.mode&1?(qr=(b=qr)||k,Vs(t,e),qr=b):Vs(t,e),ba(e),i&8192){if(b=e.memoizedState!==null,(e.stateNode.isHidden=b)&&!k&&e.mode&1)for(Rt=e,k=e.child;k!==null;){for(S=Rt=k;Rt!==null;){switch(E=Rt,A=E.child,E.tag){case 0:case 11:case 14:case 15:hm(4,E,E.return);break;case 1:Eh(E,E.return);var z=E.stateNode;if(typeof z.componentWillUnmount=="function"){i=E,n=E.return;try{t=i,z.props=t.memoizedProps,z.state=t.memoizedState,z.componentWillUnmount()}catch(N){Ri(i,n,N)}}break;case 5:Eh(E,E.return);break;case 22:if(E.memoizedState!==null){jI(S);continue}}A!==null?(A.return=E,Rt=A):jI(S)}k=k.sibling}e:for(k=null,S=e;;){if(S.tag===5){if(k===null){k=S;try{s=S.stateNode,b?(l=s.style,typeof l.setProperty=="function"?l.setProperty("display","none","important"):l.display="none"):(c=S.stateNode,y=S.memoizedProps.style,d=y!=null&&y.hasOwnProperty("display")?y.display:null,c.style.display=X4("display",d))}catch(N){Ri(e,e.return,N)}}}else if(S.tag===6){if(k===null)try{S.stateNode.nodeValue=b?"":S.memoizedProps}catch(N){Ri(e,e.return,N)}}else if((S.tag!==22&&S.tag!==23||S.memoizedState===null||S===e)&&S.child!==null){S.child.return=S,S=S.child;continue}if(S===e)break e;for(;S.sibling===null;){if(S.return===null||S.return===e)break e;k===S&&(k=null),S=S.return}k===S&&(k=null),S.sibling.return=S.return,S=S.sibling}}break;case 19:Vs(t,e),ba(e),i&4&&FI(e);break;case 21:break;default:Vs(t,e),ba(e)}}function ba(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(SM(n)){var i=n;break e}n=n.return}throw Error(ct(160))}switch(i.tag){case 5:var s=i.stateNode;i.flags&32&&(_m(s,""),i.flags&=-33);var l=BI(e);$w(e,l,s);break;case 3:case 4:var d=i.stateNode.containerInfo,c=BI(e);Dw(e,c,d);break;default:throw Error(ct(161))}}catch(y){Ri(e,e.return,y)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function yN(e,t,n){Rt=e,CM(e)}function CM(e,t,n){for(var i=(e.mode&1)!==0;Rt!==null;){var s=Rt,l=s.child;if(s.tag===22&&i){var d=s.memoizedState!==null||mv;if(!d){var c=s.alternate,y=c!==null&&c.memoizedState!==null||qr;c=mv;var b=qr;if(mv=d,(qr=y)&&!b)for(Rt=s;Rt!==null;)d=Rt,y=d.child,d.tag===22&&d.memoizedState!==null?VI(s):y!==null?(y.return=d,Rt=y):VI(s);for(;l!==null;)Rt=l,CM(l),l=l.sibling;Rt=s,mv=c,qr=b}NI(e)}else s.subtreeFlags&8772&&l!==null?(l.return=s,Rt=l):NI(e)}}function NI(e){for(;Rt!==null;){var t=Rt;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:qr||I0(5,t);break;case 1:var i=t.stateNode;if(t.flags&4&&!qr)if(n===null)i.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:Hs(t.type,n.memoizedProps);i.componentDidUpdate(s,n.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var l=t.updateQueue;l!==null&&SI(t,l,i);break;case 3:var d=t.updateQueue;if(d!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}SI(t,d,n)}break;case 5:var c=t.stateNode;if(n===null&&t.flags&4){n=c;var y=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":y.autoFocus&&n.focus();break;case"img":y.src&&(n.src=y.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var b=t.alternate;if(b!==null){var k=b.memoizedState;if(k!==null){var S=k.dehydrated;S!==null&&km(S)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ct(163))}qr||t.flags&512&&Ow(t)}catch(E){Ri(t,t.return,E)}}if(t===e){Rt=null;break}if(n=t.sibling,n!==null){n.return=t.return,Rt=n;break}Rt=t.return}}function jI(e){for(;Rt!==null;){var t=Rt;if(t===e){Rt=null;break}var n=t.sibling;if(n!==null){n.return=t.return,Rt=n;break}Rt=t.return}}function VI(e){for(;Rt!==null;){var t=Rt;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{I0(4,t)}catch(y){Ri(t,n,y)}break;case 1:var i=t.stateNode;if(typeof i.componentDidMount=="function"){var s=t.return;try{i.componentDidMount()}catch(y){Ri(t,s,y)}}var l=t.return;try{Ow(t)}catch(y){Ri(t,l,y)}break;case 5:var d=t.return;try{Ow(t)}catch(y){Ri(t,d,y)}}}catch(y){Ri(t,t.return,y)}if(t===e){Rt=null;break}var c=t.sibling;if(c!==null){c.return=t.return,Rt=c;break}Rt=t.return}}var vN=Math.ceil,Eb=Pl.ReactCurrentDispatcher,NS=Pl.ReactCurrentOwner,Es=Pl.ReactCurrentBatchConfig,Cn=0,pr=null,Zi=null,Rr=0,Zo=0,Ch=nu(0),er=0,Om=null,td=0,P0=0,jS=0,fm=null,So=null,VS=0,af=1/0,al=null,Cb=!1,Bw=null,zc=null,gv=!1,kc=null,Tb=0,pm=0,Fw=null,Nv=-1,jv=0;function co(){return Cn&6?ji():Nv!==-1?Nv:Nv=ji()}function Lc(e){return e.mode&1?Cn&2&&Rr!==0?Rr&-Rr:tN.transition!==null?(jv===0&&(jv=c3()),jv):(e=Bn,e!==0||(e=window.event,e=e===void 0?16:g3(e.type)),e):1}function ea(e,t,n,i){if(50<pm)throw pm=0,Fw=null,Error(ct(185));Eg(e,n,i),(!(Cn&2)||e!==pr)&&(e===pr&&(!(Cn&2)&&(P0|=n),er===4&&fc(e,Rr)),Po(e,i),n===1&&Cn===0&&!(t.mode&1)&&(af=ji()+500,E0&&iu()))}function Po(e,t){var n=e.callbackNode;tF(e,t);var i=ub(e,e===pr?Rr:0);if(i===0)n!==null&&YT(n),e.callbackNode=null,e.callbackPriority=0;else if(t=i&-i,e.callbackPriority!==t){if(n!=null&&YT(n),t===1)e.tag===0?eN(UI.bind(null,e)):O3(UI.bind(null,e)),XF(function(){!(Cn&6)&&iu()}),n=null;else{switch(u3(i)){case 1:n=pS;break;case 4:n=a3;break;case 16:n=cb;break;case 536870912:n=l3;break;default:n=cb}n=LM(n,TM.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function TM(e,t){if(Nv=-1,jv=0,Cn&6)throw Error(ct(327));var n=e.callbackNode;if(zh()&&e.callbackNode!==n)return null;var i=ub(e,e===pr?Rr:0);if(i===0)return null;if(i&30||i&e.expiredLanes||t)t=Ib(e,i);else{t=i;var s=Cn;Cn|=2;var l=PM();(pr!==e||Rr!==t)&&(al=null,af=ji()+500,Gu(e,t));do try{xN();break}catch(c){IM(e,c)}while(!0);TS(),Eb.current=l,Cn=s,Zi!==null?t=0:(pr=null,Rr=0,t=er)}if(t!==0){if(t===2&&(s=hw(e),s!==0&&(i=s,t=Nw(e,s))),t===1)throw n=Om,Gu(e,0),fc(e,i),Po(e,ji()),n;if(t===6)fc(e,i);else{if(s=e.current.alternate,!(i&30)&&!bN(s)&&(t=Ib(e,i),t===2&&(l=hw(e),l!==0&&(i=l,t=Nw(e,l))),t===1))throw n=Om,Gu(e,0),fc(e,i),Po(e,ji()),n;switch(e.finishedWork=s,e.finishedLanes=i,t){case 0:case 1:throw Error(ct(345));case 2:Ru(e,So,al);break;case 3:if(fc(e,i),(i&130023424)===i&&(t=VS+500-ji(),10<t)){if(ub(e,0)!==0)break;if(s=e.suspendedLanes,(s&i)!==i){co(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=_w(Ru.bind(null,e,So,al),t);break}Ru(e,So,al);break;case 4:if(fc(e,i),(i&4194240)===i)break;for(t=e.eventTimes,s=-1;0<i;){var d=31-Qs(i);l=1<<d,d=t[d],d>s&&(s=d),i&=~l}if(i=s,i=ji()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*vN(i/1960))-i,10<i){e.timeoutHandle=_w(Ru.bind(null,e,So,al),i);break}Ru(e,So,al);break;case 5:Ru(e,So,al);break;default:throw Error(ct(329))}}}return Po(e,ji()),e.callbackNode===n?TM.bind(null,e):null}function Nw(e,t){var n=fm;return e.current.memoizedState.isDehydrated&&(Gu(e,t).flags|=256),e=Ib(e,t),e!==2&&(t=So,So=n,t!==null&&jw(t)),e}function jw(e){So===null?So=e:So.push.apply(So,e)}function bN(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var i=0;i<n.length;i++){var s=n[i],l=s.getSnapshot;s=s.value;try{if(!ra(l(),s))return!1}catch(d){return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function fc(e,t){for(t&=~jS,t&=~P0,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Qs(t),i=1<<n;e[n]=-1,t&=~i}}function UI(e){if(Cn&6)throw Error(ct(327));zh();var t=ub(e,0);if(!(t&1))return Po(e,ji()),null;var n=Ib(e,t);if(e.tag!==0&&n===2){var i=hw(e);i!==0&&(t=i,n=Nw(e,i))}if(n===1)throw n=Om,Gu(e,0),fc(e,t),Po(e,ji()),n;if(n===6)throw Error(ct(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ru(e,So,al),Po(e,ji()),null}function US(e,t){var n=Cn;Cn|=1;try{return e(t)}finally{Cn=n,Cn===0&&(af=ji()+500,E0&&iu())}}function nd(e){kc!==null&&kc.tag===0&&!(Cn&6)&&zh();var t=Cn;Cn|=1;var n=Es.transition,i=Bn;try{if(Es.transition=null,Bn=1,e)return e()}finally{Bn=i,Es.transition=n,Cn=t,!(Cn&6)&&iu()}}function HS(){Zo=Ch.current,ri(Ch)}function Gu(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,KF(n)),Zi!==null)for(n=Zi.return;n!==null;){var i=n;switch(kS(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&mb();break;case 3:of(),ri(To),ri(Kr),zS();break;case 5:MS(i);break;case 4:of();break;case 13:ri(vi);break;case 19:ri(vi);break;case 10:IS(i.type._context);break;case 22:case 23:HS()}n=n.return}if(pr=e,Zi=e=Oc(e.current,null),Rr=Zo=t,er=0,Om=null,jS=P0=td=0,So=fm=null,Ou!==null){for(t=0;t<Ou.length;t++)if(n=Ou[t],i=n.interleaved,i!==null){n.interleaved=null;var s=i.next,l=n.pending;if(l!==null){var d=l.next;l.next=s,i.next=d}n.pending=i}Ou=null}return e}function IM(e,t){do{var n=Zi;try{if(TS(),$v.current=kb,Sb){for(var i=xi.memoizedState;i!==null;){var s=i.queue;s!==null&&(s.pending=null),i=i.next}Sb=!1}if(ed=0,hr=Ji=xi=null,dm=!1,Mm=0,NS.current=null,n===null||n.return===null){er=1,Om=t,Zi=null;break}e:{var l=e,d=n.return,c=n,y=t;if(t=Rr,c.flags|=32768,y!==null&&typeof y=="object"&&typeof y.then=="function"){var b=y,k=c,S=k.tag;if(!(k.mode&1)&&(S===0||S===11||S===15)){var E=k.alternate;E?(k.updateQueue=E.updateQueue,k.memoizedState=E.memoizedState,k.lanes=E.lanes):(k.updateQueue=null,k.memoizedState=null)}var A=AI(d);if(A!==null){A.flags&=-257,RI(A,d,c,l,t),A.mode&1&&PI(l,b,t),t=A,y=b;var z=t.updateQueue;if(z===null){var N=new Set;N.add(y),t.updateQueue=N}else z.add(y);break e}else{if(!(t&1)){PI(l,b,t),qS();break e}y=Error(ct(426))}}else if(hi&&c.mode&1){var q=AI(d);if(q!==null){!(q.flags&65536)&&(q.flags|=256),RI(q,d,c,l,t),ES(sf(y,c));break e}}l=y=sf(y,c),er!==4&&(er=2),fm===null?fm=[l]:fm.push(l),l=d;do{switch(l.tag){case 3:l.flags|=65536,t&=-t,l.lanes|=t;var F=dM(l,y,t);wI(l,F);break e;case 1:c=y;var $=l.type,V=l.stateNode;if(!(l.flags&128)&&(typeof $.getDerivedStateFromError=="function"||V!==null&&typeof V.componentDidCatch=="function"&&(zc===null||!zc.has(V)))){l.flags|=65536,t&=-t,l.lanes|=t;var Z=hM(l,c,t);wI(l,Z);break e}}l=l.return}while(l!==null)}RM(n)}catch(Q){t=Q,Zi===n&&n!==null&&(Zi=n=n.return);continue}break}while(!0)}function PM(){var e=Eb.current;return Eb.current=kb,e===null?kb:e}function qS(){(er===0||er===3||er===2)&&(er=4),pr===null||!(td&268435455)&&!(P0&268435455)||fc(pr,Rr)}function Ib(e,t){var n=Cn;Cn|=2;var i=PM();(pr!==e||Rr!==t)&&(al=null,Gu(e,t));do try{_N();break}catch(s){IM(e,s)}while(!0);if(TS(),Cn=n,Eb.current=i,Zi!==null)throw Error(ct(261));return pr=null,Rr=0,er}function _N(){for(;Zi!==null;)AM(Zi)}function xN(){for(;Zi!==null&&!WB();)AM(Zi)}function AM(e){var t=zM(e.alternate,e,Zo);e.memoizedProps=e.pendingProps,t===null?RM(e):Zi=t,NS.current=null}function RM(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=pN(n,t),n!==null){n.flags&=32767,Zi=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{er=6,Zi=null;return}}else if(n=fN(n,t,Zo),n!==null){Zi=n;return}if(t=t.sibling,t!==null){Zi=t;return}Zi=t=e}while(t!==null);er===0&&(er=5)}function Ru(e,t,n){var i=Bn,s=Es.transition;try{Es.transition=null,Bn=1,wN(e,t,n,i)}finally{Es.transition=s,Bn=i}return null}function wN(e,t,n,i){do zh();while(kc!==null);if(Cn&6)throw Error(ct(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(ct(177));e.callbackNode=null,e.callbackPriority=0;var l=n.lanes|n.childLanes;if(nF(e,l),e===pr&&(Zi=pr=null,Rr=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||gv||(gv=!0,LM(cb,function(){return zh(),null})),l=(n.flags&15990)!==0,n.subtreeFlags&15990||l){l=Es.transition,Es.transition=null;var d=Bn;Bn=1;var c=Cn;Cn|=4,NS.current=null,gN(e,n),EM(n,e),VF(vw),db=!!yw,vw=yw=null,e.current=n,yN(n),ZB(),Cn=c,Bn=d,Es.transition=l}else e.current=n;if(gv&&(gv=!1,kc=e,Tb=s),l=e.pendingLanes,l===0&&(zc=null),XB(n.stateNode),Po(e,ji()),t!==null)for(i=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],i(s.value,{componentStack:s.stack,digest:s.digest});if(Cb)throw Cb=!1,e=Bw,Bw=null,e;return Tb&1&&e.tag!==0&&zh(),l=e.pendingLanes,l&1?e===Fw?pm++:(pm=0,Fw=e):pm=0,iu(),null}function zh(){if(kc!==null){var e=u3(Tb),t=Es.transition,n=Bn;try{if(Es.transition=null,Bn=16>e?16:e,kc===null)var i=!1;else{if(e=kc,kc=null,Tb=0,Cn&6)throw Error(ct(331));var s=Cn;for(Cn|=4,Rt=e.current;Rt!==null;){var l=Rt,d=l.child;if(Rt.flags&16){var c=l.deletions;if(c!==null){for(var y=0;y<c.length;y++){var b=c[y];for(Rt=b;Rt!==null;){var k=Rt;switch(k.tag){case 0:case 11:case 15:hm(8,k,l)}var S=k.child;if(S!==null)S.return=k,Rt=S;else for(;Rt!==null;){k=Rt;var E=k.sibling,A=k.return;if(wM(k),k===b){Rt=null;break}if(E!==null){E.return=A,Rt=E;break}Rt=A}}}var z=l.alternate;if(z!==null){var N=z.child;if(N!==null){z.child=null;do{var q=N.sibling;N.sibling=null,N=q}while(N!==null)}}Rt=l}}if(l.subtreeFlags&2064&&d!==null)d.return=l,Rt=d;else e:for(;Rt!==null;){if(l=Rt,l.flags&2048)switch(l.tag){case 0:case 11:case 15:hm(9,l,l.return)}var F=l.sibling;if(F!==null){F.return=l.return,Rt=F;break e}Rt=l.return}}var $=e.current;for(Rt=$;Rt!==null;){d=Rt;var V=d.child;if(d.subtreeFlags&2064&&V!==null)V.return=d,Rt=V;else e:for(d=$;Rt!==null;){if(c=Rt,c.flags&2048)try{switch(c.tag){case 0:case 11:case 15:I0(9,c)}}catch(Q){Ri(c,c.return,Q)}if(c===d){Rt=null;break e}var Z=c.sibling;if(Z!==null){Z.return=c.return,Rt=Z;break e}Rt=c.return}}if(Cn=s,iu(),Aa&&typeof Aa.onPostCommitFiberRoot=="function")try{Aa.onPostCommitFiberRoot(_0,e)}catch(Q){}i=!0}return i}finally{Bn=n,Es.transition=t}}return!1}function HI(e,t,n){t=sf(n,t),t=dM(e,t,1),e=Mc(e,t,1),t=co(),e!==null&&(Eg(e,1,t),Po(e,t))}function Ri(e,t,n){if(e.tag===3)HI(e,e,n);else for(;t!==null;){if(t.tag===3){HI(t,e,n);break}else if(t.tag===1){var i=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(zc===null||!zc.has(i))){e=sf(n,e),e=hM(t,e,1),t=Mc(t,e,1),e=co(),t!==null&&(Eg(t,1,e),Po(t,e));break}}t=t.return}}function SN(e,t,n){var i=e.pingCache;i!==null&&i.delete(t),t=co(),e.pingedLanes|=e.suspendedLanes&n,pr===e&&(Rr&n)===n&&(er===4||er===3&&(Rr&130023424)===Rr&&500>ji()-VS?Gu(e,0):jS|=n),Po(e,t)}function MM(e,t){t===0&&(e.mode&1?(t=sv,sv<<=1,!(sv&130023424)&&(sv=4194304)):t=1);var n=co();e=xl(e,t),e!==null&&(Eg(e,t,n),Po(e,n))}function kN(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),MM(e,n)}function EN(e,t){var n=0;switch(e.tag){case 13:var i=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:i=e.stateNode;break;default:throw Error(ct(314))}i!==null&&i.delete(t),MM(e,n)}var zM;zM=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||To.current)Eo=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Eo=!1,hN(e,t,n);Eo=!!(e.flags&131072)}else Eo=!1,hi&&t.flags&1048576&&D3(t,vb,t.index);switch(t.lanes=0,t.tag){case 2:var i=t.type;Fv(e,t),e=t.pendingProps;var s=tf(t,Kr.current);Mh(t,n),s=OS(null,t,i,e,s,n);var l=DS();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Io(i)?(l=!0,gb(t)):l=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,AS(t),s.updater=C0,t.stateNode=s,s._reactInternals=t,Tw(t,i,e,n),t=Aw(null,t,i,!0,l,n)):(t.tag=0,hi&&l&&SS(t),lo(null,t,s,n),t=t.child),t;case 16:i=t.elementType;e:{switch(Fv(e,t),e=t.pendingProps,s=i._init,i=s(i._payload),t.type=i,s=t.tag=TN(i),e=Hs(i,e),s){case 0:t=Pw(null,t,i,e,n);break e;case 1:t=LI(null,t,i,e,n);break e;case 11:t=MI(null,t,i,e,n);break e;case 14:t=zI(null,t,i,Hs(i.type,e),n);break e}throw Error(ct(306,i,""))}return t;case 0:return i=t.type,s=t.pendingProps,s=t.elementType===i?s:Hs(i,s),Pw(e,t,i,s,n);case 1:return i=t.type,s=t.pendingProps,s=t.elementType===i?s:Hs(i,s),LI(e,t,i,s,n);case 3:e:{if(gM(t),e===null)throw Error(ct(387));i=t.pendingProps,l=t.memoizedState,s=l.element,N3(e,t),xb(t,i,null,n);var d=t.memoizedState;if(i=d.element,l.isDehydrated)if(l={element:i,isDehydrated:!1,cache:d.cache,pendingSuspenseBoundaries:d.pendingSuspenseBoundaries,transitions:d.transitions},t.updateQueue.baseState=l,t.memoizedState=l,t.flags&256){s=sf(Error(ct(423)),t),t=OI(e,t,i,n,s);break e}else if(i!==s){s=sf(Error(ct(424)),t),t=OI(e,t,i,n,s);break e}else for(Ko=Rc(t.stateNode.containerInfo.firstChild),Jo=t,hi=!0,Gs=null,n=H3(t,null,i,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(nf(),i===s){t=wl(e,t,n);break e}lo(e,t,i,n)}t=t.child}return t;case 5:return q3(t),e===null&&kw(t),i=t.type,s=t.pendingProps,l=e!==null?e.memoizedProps:null,d=s.children,bw(i,s)?d=null:l!==null&&bw(i,l)&&(t.flags|=32),mM(e,t),lo(e,t,d,n),t.child;case 6:return e===null&&kw(t),null;case 13:return yM(e,t,n);case 4:return RS(t,t.stateNode.containerInfo),i=t.pendingProps,e===null?t.child=rf(t,null,i,n):lo(e,t,i,n),t.child;case 11:return i=t.type,s=t.pendingProps,s=t.elementType===i?s:Hs(i,s),MI(e,t,i,s,n);case 7:return lo(e,t,t.pendingProps,n),t.child;case 8:return lo(e,t,t.pendingProps.children,n),t.child;case 12:return lo(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(i=t.type._context,s=t.pendingProps,l=t.memoizedProps,d=s.value,Jn(bb,i._currentValue),i._currentValue=d,l!==null)if(ra(l.value,d)){if(l.children===s.children&&!To.current){t=wl(e,t,n);break e}}else for(l=t.child,l!==null&&(l.return=t);l!==null;){var c=l.dependencies;if(c!==null){d=l.child;for(var y=c.firstContext;y!==null;){if(y.context===i){if(l.tag===1){y=ml(-1,n&-n),y.tag=2;var b=l.updateQueue;if(b!==null){b=b.shared;var k=b.pending;k===null?y.next=y:(y.next=k.next,k.next=y),b.pending=y}}l.lanes|=n,y=l.alternate,y!==null&&(y.lanes|=n),Ew(l.return,n,t),c.lanes|=n;break}y=y.next}}else if(l.tag===10)d=l.type===t.type?null:l.child;else if(l.tag===18){if(d=l.return,d===null)throw Error(ct(341));d.lanes|=n,c=d.alternate,c!==null&&(c.lanes|=n),Ew(d,n,t),d=l.sibling}else d=l.child;if(d!==null)d.return=l;else for(d=l;d!==null;){if(d===t){d=null;break}if(l=d.sibling,l!==null){l.return=d.return,d=l;break}d=d.return}l=d}lo(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,i=t.pendingProps.children,Mh(t,n),s=Ts(s),i=i(s),t.flags|=1,lo(e,t,i,n),t.child;case 14:return i=t.type,s=Hs(i,t.pendingProps),s=Hs(i.type,s),zI(e,t,i,s,n);case 15:return fM(e,t,t.type,t.pendingProps,n);case 17:return i=t.type,s=t.pendingProps,s=t.elementType===i?s:Hs(i,s),Fv(e,t),t.tag=1,Io(i)?(e=!0,gb(t)):e=!1,Mh(t,n),V3(t,i,s),Tw(t,i,s,n),Aw(null,t,i,!0,e,n);case 19:return vM(e,t,n);case 22:return pM(e,t,n)}throw Error(ct(156,t.tag))};function LM(e,t){return s3(e,t)}function CN(e,t,n,i){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ss(e,t,n,i){return new CN(e,t,n,i)}function WS(e){return e=e.prototype,!(!e||!e.isReactComponent)}function TN(e){if(typeof e=="function")return WS(e)?1:0;if(e!=null){if(e=e.$$typeof,e===dS)return 11;if(e===hS)return 14}return 2}function Oc(e,t){var n=e.alternate;return n===null?(n=Ss(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Vv(e,t,n,i,s,l){var d=2;if(i=e,typeof e=="function")WS(e)&&(d=1);else if(typeof e=="string")d=5;else e:switch(e){case gh:return Ku(n.children,s,l,t);case uS:d=8,s|=8;break;case Y1:return e=Ss(12,n,t,s|2),e.elementType=Y1,e.lanes=l,e;case J1:return e=Ss(13,n,t,s),e.elementType=J1,e.lanes=l,e;case Q1:return e=Ss(19,n,t,s),e.elementType=Q1,e.lanes=l,e;case U4:return A0(n,s,l,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case j4:d=10;break e;case V4:d=9;break e;case dS:d=11;break e;case hS:d=14;break e;case uc:d=16,i=null;break e}throw Error(ct(130,e==null?e:typeof e,""))}return t=Ss(d,n,t,s),t.elementType=e,t.type=i,t.lanes=l,t}function Ku(e,t,n,i){return e=Ss(7,e,i,t),e.lanes=n,e}function A0(e,t,n,i){return e=Ss(22,e,i,t),e.elementType=U4,e.lanes=n,e.stateNode={isHidden:!1},e}function a1(e,t,n){return e=Ss(6,e,null,t),e.lanes=n,e}function l1(e,t,n){return t=Ss(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function IN(e,t,n,i,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Vx(0),this.expirationTimes=Vx(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Vx(0),this.identifierPrefix=i,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function ZS(e,t,n,i,s,l,d,c,y){return e=new IN(e,t,n,c,y),t===1?(t=1,l===!0&&(t|=8)):t=0,l=Ss(3,null,null,t),e.current=l,l.stateNode=e,l.memoizedState={element:i,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},AS(l),e}function PN(e,t,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:mh,key:i==null?null:""+i,children:e,containerInfo:t,implementation:n}}function OM(e){if(!e)return Vc;e=e._reactInternals;e:{if(gd(e)!==e||e.tag!==1)throw Error(ct(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Io(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(ct(171))}if(e.tag===1){var n=e.type;if(Io(n))return L3(e,n,t)}return t}function DM(e,t,n,i,s,l,d,c,y){return e=ZS(n,i,!0,e,s,l,d,c,y),e.context=OM(null),n=e.current,i=co(),s=Lc(n),l=ml(i,s),l.callback=t!=null?t:null,Mc(n,l,s),e.current.lanes=s,Eg(e,s,i),Po(e,i),e}function R0(e,t,n,i){var s=t.current,l=co(),d=Lc(s);return n=OM(n),t.context===null?t.context=n:t.pendingContext=n,t=ml(l,d),t.payload={element:e},i=i===void 0?null:i,i!==null&&(t.callback=i),e=Mc(s,t,d),e!==null&&(ea(e,s,d,l),Dv(e,s,d)),d}function Pb(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function qI(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function GS(e,t){qI(e,t),(e=e.alternate)&&qI(e,t)}function AN(){return null}var $M=typeof reportError=="function"?reportError:function(e){console.error(e)};function KS(e){this._internalRoot=e}M0.prototype.render=KS.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(ct(409));R0(e,t,null,null)};M0.prototype.unmount=KS.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;nd(function(){R0(null,e,null,null)}),t[_l]=null}};function M0(e){this._internalRoot=e}M0.prototype.unstable_scheduleHydration=function(e){if(e){var t=f3();e={blockedOn:null,target:e,priority:t};for(var n=0;n<hc.length&&t!==0&&t<hc[n].priority;n++);hc.splice(n,0,e),n===0&&m3(e)}};function XS(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function z0(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function WI(){}function RN(e,t,n,i,s){if(s){if(typeof i=="function"){var l=i;i=function(){var b=Pb(d);l.call(b)}}var d=DM(t,i,e,0,null,!1,!1,"",WI);return e._reactRootContainer=d,e[_l]=d.current,Tm(e.nodeType===8?e.parentNode:e),nd(),d}for(;s=e.lastChild;)e.removeChild(s);if(typeof i=="function"){var c=i;i=function(){var b=Pb(y);c.call(b)}}var y=ZS(e,0,!1,null,null,!1,!1,"",WI);return e._reactRootContainer=y,e[_l]=y.current,Tm(e.nodeType===8?e.parentNode:e),nd(function(){R0(t,y,n,i)}),y}function L0(e,t,n,i,s){var l=n._reactRootContainer;if(l){var d=l;if(typeof s=="function"){var c=s;s=function(){var y=Pb(d);c.call(y)}}R0(t,d,e,s)}else d=RN(n,t,e,s,i);return Pb(d)}d3=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=em(t.pendingLanes);n!==0&&(mS(t,n|1),Po(t,ji()),!(Cn&6)&&(af=ji()+500,iu()))}break;case 13:nd(function(){var i=xl(e,1);if(i!==null){var s=co();ea(i,e,1,s)}}),GS(e,1)}};gS=function(e){if(e.tag===13){var t=xl(e,134217728);if(t!==null){var n=co();ea(t,e,134217728,n)}GS(e,134217728)}};h3=function(e){if(e.tag===13){var t=Lc(e),n=xl(e,t);if(n!==null){var i=co();ea(n,e,t,i)}GS(e,t)}};f3=function(){return Bn};p3=function(e,t){var n=Bn;try{return Bn=e,t()}finally{Bn=n}};cw=function(e,t,n){switch(t){case"input":if(nw(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var s=k0(i);if(!s)throw Error(ct(90));q4(i),nw(i,s)}}}break;case"textarea":Z4(e,n);break;case"select":t=n.value,t!=null&&Ih(e,!!n.multiple,t,!1)}};e3=US;t3=nd;var MN={usingClientEntryPoint:!1,Events:[Tg,_h,k0,J4,Q4,US]},Zp={findFiberByHostInstance:Lu,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},zN={bundleType:Zp.bundleType,version:Zp.version,rendererPackageName:Zp.rendererPackageName,rendererConfig:Zp.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Pl.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=r3(e),e===null?null:e.stateNode},findFiberByHostInstance:Zp.findFiberByHostInstance||AN,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var yv=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!yv.isDisabled&&yv.supportsFiber)try{_0=yv.inject(zN),Aa=yv}catch(e){}}is.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=MN;is.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!XS(t))throw Error(ct(200));return PN(e,t,null,n)};is.createRoot=function(e,t){if(!XS(e))throw Error(ct(299));var n=!1,i="",s=$M;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=ZS(e,1,!1,null,null,n,!1,i,s),e[_l]=t.current,Tm(e.nodeType===8?e.parentNode:e),new KS(t)};is.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(ct(188)):(e=Object.keys(e).join(","),Error(ct(268,e)));return e=r3(t),e=e===null?null:e.stateNode,e};is.flushSync=function(e){return nd(e)};is.hydrate=function(e,t,n){if(!z0(t))throw Error(ct(200));return L0(null,e,t,!0,n)};is.hydrateRoot=function(e,t,n){if(!XS(e))throw Error(ct(405));var i=n!=null&&n.hydratedSources||null,s=!1,l="",d=$M;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onRecoverableError!==void 0&&(d=n.onRecoverableError)),t=DM(t,null,e,1,n!=null?n:null,s,!1,l,d),e[_l]=t.current,Tm(e),i)for(e=0;e<i.length;e++)n=i[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new M0(t)};is.render=function(e,t,n){if(!z0(t))throw Error(ct(200));return L0(null,e,t,!1,n)};is.unmountComponentAtNode=function(e){if(!z0(e))throw Error(ct(40));return e._reactRootContainer?(nd(function(){L0(null,null,e,!1,function(){e._reactRootContainer=null,e[_l]=null})}),!0):!1};is.unstable_batchedUpdates=US;is.unstable_renderSubtreeIntoContainer=function(e,t,n,i){if(!z0(n))throw Error(ct(200));if(e==null||e._reactInternals===void 0)throw Error(ct(38));return L0(e,t,n,!1,i)};is.version="18.2.0-next-9e3b772b8-20220608";function BM(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(BM)}catch(e){console.error(e)}}BM(),D4.exports=is;var Pg=D4.exports;const FM=fd(Pg),[LN,Rs]=m0("ScrollArea.Root component was not found in tree");function lf(e,t){const n=zu(t);xg(()=>{let i=0;if(e){const s=new ResizeObserver(()=>{cancelAnimationFrame(i),i=window.requestAnimationFrame(n)});return s.observe(e),()=>{window.cancelAnimationFrame(i),s.unobserve(e)}}},[e,n])}const ON=J.forwardRef((e,t)=>{const{style:n,...i}=e,s=Rs(),[l,d]=J.useState(0),[c,y]=J.useState(0),b=!!(l&&c);return lf(s.scrollbarX,()=>{var S;const k=((S=s.scrollbarX)==null?void 0:S.offsetHeight)||0;s.onCornerHeightChange(k),y(k)}),lf(s.scrollbarY,()=>{var S;const k=((S=s.scrollbarY)==null?void 0:S.offsetWidth)||0;s.onCornerWidthChange(k),d(k)}),b?J.createElement("div",{...i,ref:t,style:{...n,width:l,height:c}}):null}),DN=J.forwardRef((e,t)=>{const n=Rs(),i=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&i?J.createElement(ON,{...e,ref:t}):null}),$N={scrollHideDelay:1e3,type:"hover"},NM=ce.forwardRef((e,t)=>{const n=Kt("ScrollAreaRoot",$N,e),{type:i,scrollHideDelay:s,scrollbars:l,...d}=n,[c,y]=ce.useState(null),[b,k]=ce.useState(null),[S,E]=ce.useState(null),[A,z]=ce.useState(null),[N,q]=ce.useState(null),[F,$]=ce.useState(0),[V,Z]=ce.useState(0),[Q,fe]=ce.useState(!1),[oe,re]=ce.useState(!1),Be=As(t,Le=>y(Le));return J.createElement(LN,{value:{type:i,scrollHideDelay:s,scrollArea:c,viewport:b,onViewportChange:k,content:S,onContentChange:E,scrollbarX:A,onScrollbarXChange:z,scrollbarXEnabled:Q,onScrollbarXEnabledChange:fe,scrollbarY:N,onScrollbarYChange:q,scrollbarYEnabled:oe,onScrollbarYEnabledChange:re,onCornerWidthChange:$,onCornerHeightChange:Z}},J.createElement(ln,{...d,ref:Be,__vars:{"--sa-corner-width":l!=="xy"?"0px":"".concat(F,"px"),"--sa-corner-height":l!=="xy"?"0px":"".concat(V,"px")}}))});NM.displayName="@mantine/core/ScrollAreaRoot";function jM(e,t){const n=e/t;return Number.isNaN(n)?0:n}function O0(e){const t=jM(e.viewport,e.content),n=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,i=(e.scrollbar.size-n)*t;return Math.max(i,18)}function VM(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const i=(t[1]-t[0])/(e[1]-e[0]);return t[0]+i*(n-e[0])}}function BN(e,[t,n]){return Math.min(n,Math.max(t,e))}function ZI(e,t,n="ltr"){const i=O0(t),s=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,l=t.scrollbar.size-s,d=t.content-t.viewport,c=l-i,y=n==="ltr"?[0,d]:[d*-1,0],b=BN(e,y);return VM([0,d],[0,c])(b)}function FN(e,t,n,i="ltr"){const s=O0(n),l=s/2,d=t||l,c=s-d,y=n.scrollbar.paddingStart+d,b=n.scrollbar.size-n.scrollbar.paddingEnd-c,k=n.content-n.viewport,S=i==="ltr"?[0,k]:[k*-1,0];return VM([y,b],S)(e)}function UM(e,t){return e>0&&e<t}function Ab(e){return e?parseInt(e,10):0}function Xu(e,t,{checkForDefaultPrevented:n=!0}={}){return i=>{e==null||e(i),(n===!1||!i.defaultPrevented)&&(t==null||t(i))}}const[NN,HM]=m0("ScrollAreaScrollbar was not found in tree"),qM=ce.forwardRef((e,t)=>{const{sizes:n,hasThumb:i,onThumbChange:s,onThumbPointerUp:l,onThumbPointerDown:d,onThumbPositionChange:c,onDragScroll:y,onWheelScroll:b,onResize:k,...S}=e,E=Rs(),[A,z]=J.useState(null),N=As(t,re=>z(re)),q=J.useRef(null),F=J.useRef(""),{viewport:$}=E,V=n.content-n.viewport,Z=zu(b),Q=zu(c),fe=g0(k,10),oe=re=>{if(q.current){const Be=re.clientX-q.current.left,Le=re.clientY-q.current.top;y({x:Be,y:Le})}};return ce.useEffect(()=>{const re=Be=>{const Le=Be.target;(A==null?void 0:A.contains(Le))&&Z(Be,V)};return document.addEventListener("wheel",re,{passive:!1}),()=>document.removeEventListener("wheel",re,{passive:!1})},[$,A,V,Z]),ce.useEffect(Q,[n,Q]),lf(A,fe),lf(E.content,fe),J.createElement(NN,{value:{scrollbar:A,hasThumb:i,onThumbChange:zu(s),onThumbPointerUp:zu(l),onThumbPositionChange:Q,onThumbPointerDown:zu(d)}},J.createElement("div",{...S,ref:N,style:{position:"absolute",...S.style},onPointerDown:Xu(e.onPointerDown,re=>{re.button===0&&(re.target.setPointerCapture(re.pointerId),q.current=A.getBoundingClientRect(),F.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",oe(re))}),onPointerMove:Xu(e.onPointerMove,oe),onPointerUp:Xu(e.onPointerUp,re=>{const Be=re.target;Be.hasPointerCapture(re.pointerId)&&Be.releasePointerCapture(re.pointerId),document.body.style.webkitUserSelect=F.current,q.current=null})}))}),jN=ce.forwardRef((e,t)=>{const{sizes:n,onSizesChange:i,style:s,...l}=e,d=Rs(),[c,y]=ce.useState(),b=ce.useRef(null),k=As(t,b,d.onScrollbarXChange);return ce.useEffect(()=>{b.current&&y(getComputedStyle(b.current))},[b]),J.createElement(qM,{"data-orientation":"horizontal",...l,ref:k,sizes:n,style:{...s,"--sa-thumb-width":"".concat(O0(n),"px")},onThumbPointerDown:S=>e.onThumbPointerDown(S.x),onDragScroll:S=>e.onDragScroll(S.x),onWheelScroll:(S,E)=>{if(d.viewport){const A=d.viewport.scrollLeft+S.deltaX;e.onWheelScroll(A),UM(A,E)&&S.preventDefault()}},onResize:()=>{b.current&&d.viewport&&c&&i({content:d.viewport.scrollWidth,viewport:d.viewport.offsetWidth,scrollbar:{size:b.current.clientWidth,paddingStart:Ab(c.paddingLeft),paddingEnd:Ab(c.paddingRight)}})}})}),VN=ce.forwardRef((e,t)=>{const{sizes:n,onSizesChange:i,style:s,...l}=e,d=Rs(),[c,y]=J.useState(),b=ce.useRef(null),k=As(t,b,d.onScrollbarYChange);return ce.useEffect(()=>{b.current&&y(getComputedStyle(b.current))},[b]),J.createElement(qM,{...l,"data-orientation":"vertical",ref:k,sizes:n,style:{"--sa-thumb-height":"".concat(O0(n),"px"),...s},onThumbPointerDown:S=>e.onThumbPointerDown(S.y),onDragScroll:S=>e.onDragScroll(S.y),onWheelScroll:(S,E)=>{if(d.viewport){const A=d.viewport.scrollTop+S.deltaY;e.onWheelScroll(A),UM(A,E)&&S.preventDefault()}},onResize:()=>{b.current&&d.viewport&&c&&i({content:d.viewport.scrollHeight,viewport:d.viewport.offsetHeight,scrollbar:{size:b.current.clientHeight,paddingStart:Ab(c.paddingTop),paddingEnd:Ab(c.paddingBottom)}})}})}),YS=ce.forwardRef((e,t)=>{const{orientation:n="vertical",...i}=e,{dir:s}=sS(),l=Rs(),d=ce.useRef(null),c=ce.useRef(0),[y,b]=ce.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),k=jM(y.viewport,y.content),S={...i,sizes:y,onSizesChange:b,hasThumb:k>0&&k<1,onThumbChange:A=>{d.current=A},onThumbPointerUp:()=>{c.current=0},onThumbPointerDown:A=>{c.current=A}},E=(A,z)=>FN(A,c.current,y,z);return n==="horizontal"?J.createElement(jN,{...S,ref:t,onThumbPositionChange:()=>{if(l.viewport&&d.current){const A=l.viewport.scrollLeft,z=ZI(A,y,s);d.current.style.transform="translate3d(".concat(z,"px, 0, 0)")}},onWheelScroll:A=>{l.viewport&&(l.viewport.scrollLeft=A)},onDragScroll:A=>{l.viewport&&(l.viewport.scrollLeft=E(A,s))}}):n==="vertical"?J.createElement(VN,{...S,ref:t,onThumbPositionChange:()=>{if(l.viewport&&d.current){const A=l.viewport.scrollTop,z=ZI(A,y);d.current.style.transform="translate3d(0, ".concat(z,"px, 0)")}},onWheelScroll:A=>{l.viewport&&(l.viewport.scrollTop=A)},onDragScroll:A=>{l.viewport&&(l.viewport.scrollTop=E(A))}}):null}),WM=ce.forwardRef((e,t)=>{const n=Rs(),{forceMount:i,...s}=e,[l,d]=ce.useState(!1),c=e.orientation==="horizontal",y=g0(()=>{if(n.viewport){const b=n.viewport.offsetWidth<n.viewport.scrollWidth,k=n.viewport.offsetHeight<n.viewport.scrollHeight;d(c?b:k)}},10);return lf(n.viewport,y),lf(n.content,y),i||l?J.createElement(YS,{"data-state":l?"visible":"hidden",...s,ref:t}):null}),UN=ce.forwardRef((e,t)=>{const{forceMount:n,...i}=e,s=Rs(),[l,d]=ce.useState(!1);return ce.useEffect(()=>{const{scrollArea:c}=s;let y=0;if(c){const b=()=>{window.clearTimeout(y),d(!0)},k=()=>{y=window.setTimeout(()=>d(!1),s.scrollHideDelay)};return c.addEventListener("pointerenter",b),c.addEventListener("pointerleave",k),()=>{window.clearTimeout(y),c.removeEventListener("pointerenter",b),c.removeEventListener("pointerleave",k)}}},[s.scrollArea,s.scrollHideDelay]),n||l?J.createElement(WM,{"data-state":l?"visible":"hidden",...i,ref:t}):null}),HN=ce.forwardRef((e,t)=>{const{forceMount:n,...i}=e,s=Rs(),l=e.orientation==="horizontal",[d,c]=ce.useState("hidden"),y=g0(()=>c("idle"),100);return ce.useEffect(()=>{if(d==="idle"){const b=window.setTimeout(()=>c("hidden"),s.scrollHideDelay);return()=>window.clearTimeout(b)}},[d,s.scrollHideDelay]),ce.useEffect(()=>{const{viewport:b}=s,k=l?"scrollLeft":"scrollTop";if(b){let S=b[k];const E=()=>{const A=b[k];S!==A&&(c("scrolling"),y()),S=A};return b.addEventListener("scroll",E),()=>b.removeEventListener("scroll",E)}},[s.viewport,l,y]),n||d!=="hidden"?J.createElement(YS,{"data-state":d==="hidden"?"hidden":"visible",...i,ref:t,onPointerEnter:Xu(e.onPointerEnter,()=>c("interacting")),onPointerLeave:Xu(e.onPointerLeave,()=>c("idle"))}):null}),GI=J.forwardRef((e,t)=>{const{forceMount:n,...i}=e,s=Rs(),{onScrollbarXEnabledChange:l,onScrollbarYEnabledChange:d}=s,c=e.orientation==="horizontal";return J.useEffect(()=>(c?l(!0):d(!0),()=>{c?l(!1):d(!1)}),[c,l,d]),s.type==="hover"?J.createElement(UN,{...i,ref:t,forceMount:n}):s.type==="scroll"?J.createElement(HN,{...i,ref:t,forceMount:n}):s.type==="auto"?J.createElement(WM,{...i,ref:t,forceMount:n}):s.type==="always"?J.createElement(YS,{...i,ref:t}):null});function qN(e,t=()=>{}){let n={left:e.scrollLeft,top:e.scrollTop},i=0;return function s(){const l={left:e.scrollLeft,top:e.scrollTop},d=n.left!==l.left,c=n.top!==l.top;(d||c)&&t(),n=l,i=window.requestAnimationFrame(s)}(),()=>window.cancelAnimationFrame(i)}const WN=ce.forwardRef((e,t)=>{const{style:n,...i}=e,s=Rs(),l=HM(),{onThumbPositionChange:d}=l,c=As(t,k=>l.onThumbChange(k)),y=ce.useRef(),b=g0(()=>{y.current&&(y.current(),y.current=void 0)},100);return ce.useEffect(()=>{const{viewport:k}=s;if(k){const S=()=>{if(b(),!y.current){const E=qN(k,d);y.current=E,d()}};return d(),k.addEventListener("scroll",S),()=>k.removeEventListener("scroll",S)}},[s.viewport,b,d]),J.createElement("div",{"data-state":l.hasThumb?"visible":"hidden",...i,ref:c,style:{width:"var(--sa-thumb-width)",height:"var(--sa-thumb-height)",...n},onPointerDownCapture:Xu(e.onPointerDownCapture,k=>{const E=k.target.getBoundingClientRect(),A=k.clientX-E.left,z=k.clientY-E.top;l.onThumbPointerDown({x:A,y:z})}),onPointerUp:Xu(e.onPointerUp,l.onThumbPointerUp)})}),KI=J.forwardRef((e,t)=>{const{forceMount:n,...i}=e,s=HM();return n||s.hasThumb?J.createElement(WN,{ref:t,...i}):null}),ZM=ce.forwardRef(({children:e,style:t,...n},i)=>{const s=Rs(),l=As(i,s.onViewportChange);return J.createElement(ln,{...n,ref:l,style:{overflowX:s.scrollbarXEnabled?"scroll":"hidden",overflowY:s.scrollbarYEnabled?"scroll":"hidden",...t}},J.createElement("div",{style:{minWidth:"100%",display:"table"},ref:s.onContentChange},e))});ZM.displayName="@mantine/core/ScrollAreaViewport";var JS={root:"m-d57069b5",viewport:"m-c0783ff9",viewportInner:"m-f8f631dd",scrollbar:"m-c44ba933",thumb:"m-d8b5e363",corner:"m-21657268"};const GM={scrollHideDelay:1e3,type:"hover",scrollbars:"xy"},ZN=(e,{scrollbarSize:t})=>({root:{"--scrollarea-scrollbar-size":Qe(t)}}),Ag=En((e,t)=>{const n=Kt("ScrollArea",GM,e),{classNames:i,className:s,style:l,styles:d,unstyled:c,scrollbarSize:y,vars:b,type:k,scrollHideDelay:S,viewportProps:E,viewportRef:A,onScrollPositionChange:z,children:N,offsetScrollbars:q,scrollbars:F,...$}=n,[V,Z]=ce.useState(!1),Q=Qn({name:"ScrollArea",props:n,classes:JS,className:s,style:l,classNames:i,styles:d,unstyled:c,vars:b,varsResolver:ZN});return J.createElement(NM,{type:k==="never"?"always":k,scrollHideDelay:S,ref:t,scrollbars:F,...Q("root"),...$},J.createElement(ZM,{...E,...Q("viewport",{style:E==null?void 0:E.style}),ref:A,"data-offset-scrollbars":q===!0?"xy":q||void 0,"data-scrollbars":F||void 0,onScroll:typeof z=="function"?({currentTarget:fe})=>z({x:fe.scrollLeft,y:fe.scrollTop}):void 0},N),(F==="xy"||F==="x")&&J.createElement(GI,{...Q("scrollbar"),orientation:"horizontal","data-hidden":k==="never"||void 0,forceMount:!0,onMouseEnter:()=>Z(!0),onMouseLeave:()=>Z(!1)},J.createElement(KI,{...Q("thumb")})),(F==="xy"||F==="y")&&J.createElement(GI,{...Q("scrollbar"),orientation:"vertical","data-hidden":k==="never"||void 0,forceMount:!0,onMouseEnter:()=>Z(!0),onMouseLeave:()=>Z(!1)},J.createElement(KI,{...Q("thumb")})),J.createElement(DN,{...Q("corner"),"data-hovered":V||void 0,"data-hidden":k==="never"||void 0}))});Ag.displayName="@mantine/core/ScrollArea";const QS=En((e,t)=>{const{children:n,classNames:i,styles:s,scrollbarSize:l,scrollHideDelay:d,type:c,dir:y,offsetScrollbars:b,viewportRef:k,onScrollPositionChange:S,unstyled:E,variant:A,viewportProps:z,scrollbars:N,style:q,vars:F,...$}=Kt("ScrollAreaAutosize",GM,e);return J.createElement(ln,{...$,ref:t,style:[{display:"flex",overflow:"auto"},q]},J.createElement(ln,{style:{display:"flex",flexDirection:"column",flex:1}},J.createElement(Ag,{classNames:i,styles:s,scrollHideDelay:d,scrollbarSize:l,type:c,dir:y,offsetScrollbars:b,viewportRef:k,onScrollPositionChange:S,unstyled:E,variant:A,viewportProps:z,vars:F,scrollbars:N},n)))});Ag.classes=JS;QS.displayName="@mantine/core/ScrollAreaAutosize";QS.classes=JS;Ag.Autosize=QS;var KM={root:"m-87cf2631"};const GN={__staticSelector:"UnstyledButton"},Rg=Il((e,t)=>{const n=Kt("UnstyledButton",GN,e),{className:i,component:s="button",__staticSelector:l,unstyled:d,classNames:c,styles:y,style:b,...k}=n,S=Qn({name:l,props:n,classes:KM,className:i,style:b,classNames:c,styles:y,unstyled:d});return J.createElement(ln,{...S("root",{focusable:!0}),component:s,ref:t,type:s==="button"?"button":void 0,...k})});Rg.classes=KM;Rg.displayName="@mantine/core/UnstyledButton";var XM={root:"m-515a97f8"};const KN={},ek=En((e,t)=>{const n=Kt("VisuallyHidden",KN,e),{classNames:i,className:s,style:l,styles:d,unstyled:c,vars:y,...b}=n,k=Qn({name:"VisuallyHidden",classes:XM,props:n,className:s,style:l,classNames:i,styles:d,unstyled:c});return J.createElement(ln,{component:"span",ref:t,...k("root"),...b})});ek.classes=XM;ek.displayName="@mantine/core/VisuallyHidden";function Uc(e){return YM(e)?(e.nodeName||"").toLowerCase():"#document"}function Qo(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Al(e){var t;return(t=(YM(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function YM(e){return e instanceof Node||e instanceof Qo(e).Node}function Xo(e){return e instanceof Element||e instanceof Qo(e).Element}function Ma(e){return e instanceof HTMLElement||e instanceof Qo(e).HTMLElement}function XI(e){return typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Qo(e).ShadowRoot}function Mg(e){const{overflow:t,overflowX:n,overflowY:i,display:s}=Ps(e);return/auto|scroll|overlay|hidden|clip/.test(t+i+n)&&!["inline","contents"].includes(s)}function XN(e){return["table","td","th"].includes(Uc(e))}function tk(e){const t=nk(),n=Ps(e);return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(i=>(n.willChange||"").includes(i))||["paint","layout","strict","content"].some(i=>(n.contain||"").includes(i))}function YN(e){let t=cf(e);for(;Ma(t)&&!D0(t);){if(tk(t))return t;t=cf(t)}return null}function nk(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function D0(e){return["html","body","#document"].includes(Uc(e))}function Ps(e){return Qo(e).getComputedStyle(e)}function $0(e){return Xo(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function cf(e){if(Uc(e)==="html")return e;const t=e.assignedSlot||e.parentNode||XI(e)&&e.host||Al(e);return XI(t)?t.host:t}function JM(e){const t=cf(e);return D0(t)?e.ownerDocument?e.ownerDocument.body:e.body:Ma(t)&&Mg(t)?t:JM(t)}function Dm(e,t,n){var i;t===void 0&&(t=[]),n===void 0&&(n=!0);const s=JM(e),l=s===((i=e.ownerDocument)==null?void 0:i.body),d=Qo(s);return l?t.concat(d,d.visualViewport||[],Mg(s)?s:[],d.frameElement&&n?Dm(d.frameElement):[]):t.concat(s,Dm(s,[],n))}const oa=Math.min,Wr=Math.max,Rb=Math.round,vv=Math.floor,Hc=e=>({x:e,y:e}),JN={left:"right",right:"left",bottom:"top",top:"bottom"},QN={start:"end",end:"start"};function Vw(e,t,n){return Wr(e,oa(t,n))}function Sl(e,t){return typeof e=="function"?e(t):e}function sa(e){return e.split("-")[0]}function Ef(e){return e.split("-")[1]}function ik(e){return e==="x"?"y":"x"}function rk(e){return e==="y"?"height":"width"}function yd(e){return["top","bottom"].includes(sa(e))?"y":"x"}function ok(e){return ik(yd(e))}function ej(e,t,n){n===void 0&&(n=!1);const i=Ef(e),s=ok(e),l=rk(s);let d=s==="x"?i===(n?"end":"start")?"right":"left":i==="start"?"bottom":"top";return t.reference[l]>t.floating[l]&&(d=Mb(d)),[d,Mb(d)]}function tj(e){const t=Mb(e);return[Uw(e),t,Uw(t)]}function Uw(e){return e.replace(/start|end/g,t=>QN[t])}function nj(e,t,n){const i=["left","right"],s=["right","left"],l=["top","bottom"],d=["bottom","top"];switch(e){case"top":case"bottom":return n?t?s:i:t?i:s;case"left":case"right":return t?l:d;default:return[]}}function ij(e,t,n,i){const s=Ef(e);let l=nj(sa(e),n==="start",i);return s&&(l=l.map(d=>d+"-"+s),t&&(l=l.concat(l.map(Uw)))),l}function Mb(e){return e.replace(/left|right|bottom|top/g,t=>JN[t])}function rj(e){return{top:0,right:0,bottom:0,left:0,...e}}function sk(e){return typeof e!="number"?rj(e):{top:e,right:e,bottom:e,left:e}}function uf(e){return{...e,top:e.y,left:e.x,right:e.x+e.width,bottom:e.y+e.height}}function YI(e,t,n){let{reference:i,floating:s}=e;const l=yd(t),d=ok(t),c=rk(d),y=sa(t),b=l==="y",k=i.x+i.width/2-s.width/2,S=i.y+i.height/2-s.height/2,E=i[c]/2-s[c]/2;let A;switch(y){case"top":A={x:k,y:i.y-s.height};break;case"bottom":A={x:k,y:i.y+i.height};break;case"right":A={x:i.x+i.width,y:S};break;case"left":A={x:i.x-s.width,y:S};break;default:A={x:i.x,y:i.y}}switch(Ef(t)){case"start":A[d]-=E*(n&&b?-1:1);break;case"end":A[d]+=E*(n&&b?-1:1);break}return A}const oj=async(e,t,n)=>{const{placement:i="bottom",strategy:s="absolute",middleware:l=[],platform:d}=n,c=l.filter(Boolean),y=await(d.isRTL==null?void 0:d.isRTL(t));let b=await d.getElementRects({reference:e,floating:t,strategy:s}),{x:k,y:S}=YI(b,i,y),E=i,A={},z=0;for(let N=0;N<c.length;N++){const{name:q,fn:F}=c[N],{x:$,y:V,data:Z,reset:Q}=await F({x:k,y:S,initialPlacement:i,placement:E,strategy:s,middlewareData:A,rects:b,platform:d,elements:{reference:e,floating:t}});k=$!=null?$:k,S=V!=null?V:S,A={...A,[q]:{...A[q],...Z}},Q&&z<=50&&(z++,typeof Q=="object"&&(Q.placement&&(E=Q.placement),Q.rects&&(b=Q.rects===!0?await d.getElementRects({reference:e,floating:t,strategy:s}):Q.rects),{x:k,y:S}=YI(b,E,y)),N=-1)}return{x:k,y:S,placement:E,strategy:s,middlewareData:A}};async function ak(e,t){var n;t===void 0&&(t={});const{x:i,y:s,platform:l,rects:d,elements:c,strategy:y}=e,{boundary:b="clippingAncestors",rootBoundary:k="viewport",elementContext:S="floating",altBoundary:E=!1,padding:A=0}=Sl(t,e),z=sk(A),q=c[E?S==="floating"?"reference":"floating":S],F=uf(await l.getClippingRect({element:(n=await(l.isElement==null?void 0:l.isElement(q)))==null||n?q:q.contextElement||await(l.getDocumentElement==null?void 0:l.getDocumentElement(c.floating)),boundary:b,rootBoundary:k,strategy:y})),$=S==="floating"?{...d.floating,x:i,y:s}:d.reference,V=await(l.getOffsetParent==null?void 0:l.getOffsetParent(c.floating)),Z=await(l.isElement==null?void 0:l.isElement(V))?await(l.getScale==null?void 0:l.getScale(V))||{x:1,y:1}:{x:1,y:1},Q=uf(l.convertOffsetParentRelativeRectToViewportRelativeRect?await l.convertOffsetParentRelativeRectToViewportRelativeRect({elements:c,rect:$,offsetParent:V,strategy:y}):$);return{top:(F.top-Q.top+z.top)/Z.y,bottom:(Q.bottom-F.bottom+z.bottom)/Z.y,left:(F.left-Q.left+z.left)/Z.x,right:(Q.right-F.right+z.right)/Z.x}}const sj=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:i,placement:s,rects:l,platform:d,elements:c,middlewareData:y}=t,{element:b,padding:k=0}=Sl(e,t)||{};if(b==null)return{};const S=sk(k),E={x:n,y:i},A=ok(s),z=rk(A),N=await d.getDimensions(b),q=A==="y",F=q?"top":"left",$=q?"bottom":"right",V=q?"clientHeight":"clientWidth",Z=l.reference[z]+l.reference[A]-E[A]-l.floating[z],Q=E[A]-l.reference[A],fe=await(d.getOffsetParent==null?void 0:d.getOffsetParent(b));let oe=fe?fe[V]:0;(!oe||!await(d.isElement==null?void 0:d.isElement(fe)))&&(oe=c.floating[V]||l.floating[z]);const re=Z/2-Q/2,Be=oe/2-N[z]/2-1,Le=oa(S[F],Be),Fe=oa(S[$],Be),Ze=Le,Pe=oe-N[z]-Fe,De=oe/2-N[z]/2+re,Oe=Vw(Ze,De,Pe),$e=!y.arrow&&Ef(s)!=null&&De!==Oe&&l.reference[z]/2-(De<Ze?Le:Fe)-N[z]/2<0,He=$e?De<Ze?De-Ze:De-Pe:0;return{[A]:E[A]+He,data:{[A]:Oe,centerOffset:De-Oe-He,...$e&&{alignmentOffset:He}},reset:$e}}}),aj=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,i;const{placement:s,middlewareData:l,rects:d,initialPlacement:c,platform:y,elements:b}=t,{mainAxis:k=!0,crossAxis:S=!0,fallbackPlacements:E,fallbackStrategy:A="bestFit",fallbackAxisSideDirection:z="none",flipAlignment:N=!0,...q}=Sl(e,t);if((n=l.arrow)!=null&&n.alignmentOffset)return{};const F=sa(s),$=sa(c)===c,V=await(y.isRTL==null?void 0:y.isRTL(b.floating)),Z=E||($||!N?[Mb(c)]:tj(c));!E&&z!=="none"&&Z.push(...ij(c,N,z,V));const Q=[c,...Z],fe=await ak(t,q),oe=[];let re=((i=l.flip)==null?void 0:i.overflows)||[];if(k&&oe.push(fe[F]),S){const Ze=ej(s,d,V);oe.push(fe[Ze[0]],fe[Ze[1]])}if(re=[...re,{placement:s,overflows:oe}],!oe.every(Ze=>Ze<=0)){var Be,Le;const Ze=(((Be=l.flip)==null?void 0:Be.index)||0)+1,Pe=Q[Ze];if(Pe)return{data:{index:Ze,overflows:re},reset:{placement:Pe}};let De=(Le=re.filter(Oe=>Oe.overflows[0]<=0).sort((Oe,$e)=>Oe.overflows[1]-$e.overflows[1])[0])==null?void 0:Le.placement;if(!De)switch(A){case"bestFit":{var Fe;const Oe=(Fe=re.map($e=>[$e.placement,$e.overflows.filter(He=>He>0).reduce((He,we)=>He+we,0)]).sort(($e,He)=>$e[1]-He[1])[0])==null?void 0:Fe[0];Oe&&(De=Oe);break}case"initialPlacement":De=c;break}if(s!==De)return{reset:{placement:De}}}return{}}}};function QM(e){const t=oa(...e.map(l=>l.left)),n=oa(...e.map(l=>l.top)),i=Wr(...e.map(l=>l.right)),s=Wr(...e.map(l=>l.bottom));return{x:t,y:n,width:i-t,height:s-n}}function lj(e){const t=e.slice().sort((s,l)=>s.y-l.y),n=[];let i=null;for(let s=0;s<t.length;s++){const l=t[s];!i||l.y-i.y>i.height/2?n.push([l]):n[n.length-1].push(l),i=l}return n.map(s=>uf(QM(s)))}const cj=function(e){return e===void 0&&(e={}),{name:"inline",options:e,async fn(t){const{placement:n,elements:i,rects:s,platform:l,strategy:d}=t,{padding:c=2,x:y,y:b}=Sl(e,t),k=Array.from(await(l.getClientRects==null?void 0:l.getClientRects(i.reference))||[]),S=lj(k),E=uf(QM(k)),A=sk(c);function z(){if(S.length===2&&S[0].left>S[1].right&&y!=null&&b!=null)return S.find(q=>y>q.left-A.left&&y<q.right+A.right&&b>q.top-A.top&&b<q.bottom+A.bottom)||E;if(S.length>=2){if(yd(n)==="y"){const Le=S[0],Fe=S[S.length-1],Ze=sa(n)==="top",Pe=Le.top,De=Fe.bottom,Oe=Ze?Le.left:Fe.left,$e=Ze?Le.right:Fe.right,He=$e-Oe,we=De-Pe;return{top:Pe,bottom:De,left:Oe,right:$e,width:He,height:we,x:Oe,y:Pe}}const q=sa(n)==="left",F=Wr(...S.map(Le=>Le.right)),$=oa(...S.map(Le=>Le.left)),V=S.filter(Le=>q?Le.left===$:Le.right===F),Z=V[0].top,Q=V[V.length-1].bottom,fe=$,oe=F,re=oe-fe,Be=Q-Z;return{top:Z,bottom:Q,left:fe,right:oe,width:re,height:Be,x:fe,y:Z}}return E}const N=await l.getElementRects({reference:{getBoundingClientRect:z},floating:i.floating,strategy:d});return s.reference.x!==N.reference.x||s.reference.y!==N.reference.y||s.reference.width!==N.reference.width||s.reference.height!==N.reference.height?{reset:{rects:N}}:{}}}};async function uj(e,t){const{placement:n,platform:i,elements:s}=e,l=await(i.isRTL==null?void 0:i.isRTL(s.floating)),d=sa(n),c=Ef(n),y=yd(n)==="y",b=["left","top"].includes(d)?-1:1,k=l&&y?-1:1,S=Sl(t,e);let{mainAxis:E,crossAxis:A,alignmentAxis:z}=typeof S=="number"?{mainAxis:S,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...S};return c&&typeof z=="number"&&(A=c==="end"?z*-1:z),y?{x:A*k,y:E*b}:{x:E*b,y:A*k}}const dj=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,i;const{x:s,y:l,placement:d,middlewareData:c}=t,y=await uj(t,e);return d===((n=c.offset)==null?void 0:n.placement)&&(i=c.arrow)!=null&&i.alignmentOffset?{}:{x:s+y.x,y:l+y.y,data:{...y,placement:d}}}}},hj=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:i,placement:s}=t,{mainAxis:l=!0,crossAxis:d=!1,limiter:c={fn:q=>{let{x:F,y:$}=q;return{x:F,y:$}}},...y}=Sl(e,t),b={x:n,y:i},k=await ak(t,y),S=yd(sa(s)),E=ik(S);let A=b[E],z=b[S];if(l){const q=E==="y"?"top":"left",F=E==="y"?"bottom":"right",$=A+k[q],V=A-k[F];A=Vw($,A,V)}if(d){const q=S==="y"?"top":"left",F=S==="y"?"bottom":"right",$=z+k[q],V=z-k[F];z=Vw($,z,V)}const N=c.fn({...t,[E]:A,[S]:z});return{...N,data:{x:N.x-n,y:N.y-i}}}}},fj=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:i,placement:s,rects:l,middlewareData:d}=t,{offset:c=0,mainAxis:y=!0,crossAxis:b=!0}=Sl(e,t),k={x:n,y:i},S=yd(s),E=ik(S);let A=k[E],z=k[S];const N=Sl(c,t),q=typeof N=="number"?{mainAxis:N,crossAxis:0}:{mainAxis:0,crossAxis:0,...N};if(y){const V=E==="y"?"height":"width",Z=l.reference[E]-l.floating[V]+q.mainAxis,Q=l.reference[E]+l.reference[V]-q.mainAxis;A<Z?A=Z:A>Q&&(A=Q)}if(b){var F,$;const V=E==="y"?"width":"height",Z=["top","left"].includes(sa(s)),Q=l.reference[S]-l.floating[V]+(Z&&((F=d.offset)==null?void 0:F[S])||0)+(Z?0:q.crossAxis),fe=l.reference[S]+l.reference[V]+(Z?0:(($=d.offset)==null?void 0:$[S])||0)-(Z?q.crossAxis:0);z<Q?z=Q:z>fe&&(z=fe)}return{[E]:A,[S]:z}}}},pj=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){const{placement:n,rects:i,platform:s,elements:l}=t,{apply:d=()=>{},...c}=Sl(e,t),y=await ak(t,c),b=sa(n),k=Ef(n),S=yd(n)==="y",{width:E,height:A}=i.floating;let z,N;b==="top"||b==="bottom"?(z=b,N=k===(await(s.isRTL==null?void 0:s.isRTL(l.floating))?"start":"end")?"left":"right"):(N=b,z=k==="end"?"top":"bottom");const q=A-y[z],F=E-y[N],$=!t.middlewareData.shift;let V=q,Z=F;if(S){const fe=E-y.left-y.right;Z=k||$?oa(F,fe):fe}else{const fe=A-y.top-y.bottom;V=k||$?oa(q,fe):fe}if($&&!k){const fe=Wr(y.left,0),oe=Wr(y.right,0),re=Wr(y.top,0),Be=Wr(y.bottom,0);S?Z=E-2*(fe!==0||oe!==0?fe+oe:Wr(y.left,y.right)):V=A-2*(re!==0||Be!==0?re+Be:Wr(y.top,y.bottom))}await d({...t,availableWidth:Z,availableHeight:V});const Q=await s.getDimensions(l.floating);return E!==Q.width||A!==Q.height?{reset:{rects:!0}}:{}}}};function ez(e){const t=Ps(e);let n=parseFloat(t.width)||0,i=parseFloat(t.height)||0;const s=Ma(e),l=s?e.offsetWidth:n,d=s?e.offsetHeight:i,c=Rb(n)!==l||Rb(i)!==d;return c&&(n=l,i=d),{width:n,height:i,$:c}}function lk(e){return Xo(e)?e:e.contextElement}function Lh(e){const t=lk(e);if(!Ma(t))return Hc(1);const n=t.getBoundingClientRect(),{width:i,height:s,$:l}=ez(t);let d=(l?Rb(n.width):n.width)/i,c=(l?Rb(n.height):n.height)/s;return(!d||!Number.isFinite(d))&&(d=1),(!c||!Number.isFinite(c))&&(c=1),{x:d,y:c}}const mj=Hc(0);function tz(e){const t=Qo(e);return!nk()||!t.visualViewport?mj:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function gj(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==Qo(e)?!1:t}function id(e,t,n,i){t===void 0&&(t=!1),n===void 0&&(n=!1);const s=e.getBoundingClientRect(),l=lk(e);let d=Hc(1);t&&(i?Xo(i)&&(d=Lh(i)):d=Lh(e));const c=gj(l,n,i)?tz(l):Hc(0);let y=(s.left+c.x)/d.x,b=(s.top+c.y)/d.y,k=s.width/d.x,S=s.height/d.y;if(l){const E=Qo(l),A=i&&Xo(i)?Qo(i):i;let z=E,N=z.frameElement;for(;N&&i&&A!==z;){const q=Lh(N),F=N.getBoundingClientRect(),$=Ps(N),V=F.left+(N.clientLeft+parseFloat($.paddingLeft))*q.x,Z=F.top+(N.clientTop+parseFloat($.paddingTop))*q.y;y*=q.x,b*=q.y,k*=q.x,S*=q.y,y+=V,b+=Z,z=Qo(N),N=z.frameElement}}return uf({width:k,height:S,x:y,y:b})}const yj=[":popover-open",":modal"];function nz(e){return yj.some(t=>{try{return e.matches(t)}catch(n){return!1}})}function vj(e){let{elements:t,rect:n,offsetParent:i,strategy:s}=e;const l=s==="fixed",d=Al(i),c=t?nz(t.floating):!1;if(i===d||c&&l)return n;let y={scrollLeft:0,scrollTop:0},b=Hc(1);const k=Hc(0),S=Ma(i);if((S||!S&&!l)&&((Uc(i)!=="body"||Mg(d))&&(y=$0(i)),Ma(i))){const E=id(i);b=Lh(i),k.x=E.x+i.clientLeft,k.y=E.y+i.clientTop}return{width:n.width*b.x,height:n.height*b.y,x:n.x*b.x-y.scrollLeft*b.x+k.x,y:n.y*b.y-y.scrollTop*b.y+k.y}}function bj(e){return Array.from(e.getClientRects())}function iz(e){return id(Al(e)).left+$0(e).scrollLeft}function _j(e){const t=Al(e),n=$0(e),i=e.ownerDocument.body,s=Wr(t.scrollWidth,t.clientWidth,i.scrollWidth,i.clientWidth),l=Wr(t.scrollHeight,t.clientHeight,i.scrollHeight,i.clientHeight);let d=-n.scrollLeft+iz(e);const c=-n.scrollTop;return Ps(i).direction==="rtl"&&(d+=Wr(t.clientWidth,i.clientWidth)-s),{width:s,height:l,x:d,y:c}}function xj(e,t){const n=Qo(e),i=Al(e),s=n.visualViewport;let l=i.clientWidth,d=i.clientHeight,c=0,y=0;if(s){l=s.width,d=s.height;const b=nk();(!b||b&&t==="fixed")&&(c=s.offsetLeft,y=s.offsetTop)}return{width:l,height:d,x:c,y}}function wj(e,t){const n=id(e,!0,t==="fixed"),i=n.top+e.clientTop,s=n.left+e.clientLeft,l=Ma(e)?Lh(e):Hc(1),d=e.clientWidth*l.x,c=e.clientHeight*l.y,y=s*l.x,b=i*l.y;return{width:d,height:c,x:y,y:b}}function JI(e,t,n){let i;if(t==="viewport")i=xj(e,n);else if(t==="document")i=_j(Al(e));else if(Xo(t))i=wj(t,n);else{const s=tz(e);i={...t,x:t.x-s.x,y:t.y-s.y}}return uf(i)}function rz(e,t){const n=cf(e);return n===t||!Xo(n)||D0(n)?!1:Ps(n).position==="fixed"||rz(n,t)}function Sj(e,t){const n=t.get(e);if(n)return n;let i=Dm(e,[],!1).filter(c=>Xo(c)&&Uc(c)!=="body"),s=null;const l=Ps(e).position==="fixed";let d=l?cf(e):e;for(;Xo(d)&&!D0(d);){const c=Ps(d),y=tk(d);!y&&c.position==="fixed"&&(s=null),(l?!y&&!s:!y&&c.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||Mg(d)&&!y&&rz(e,d))?i=i.filter(k=>k!==d):s=c,d=cf(d)}return t.set(e,i),i}function kj(e){let{element:t,boundary:n,rootBoundary:i,strategy:s}=e;const d=[...n==="clippingAncestors"?Sj(t,this._c):[].concat(n),i],c=d[0],y=d.reduce((b,k)=>{const S=JI(t,k,s);return b.top=Wr(S.top,b.top),b.right=oa(S.right,b.right),b.bottom=oa(S.bottom,b.bottom),b.left=Wr(S.left,b.left),b},JI(t,c,s));return{width:y.right-y.left,height:y.bottom-y.top,x:y.left,y:y.top}}function Ej(e){const{width:t,height:n}=ez(e);return{width:t,height:n}}function Cj(e,t,n){const i=Ma(t),s=Al(t),l=n==="fixed",d=id(e,!0,l,t);let c={scrollLeft:0,scrollTop:0};const y=Hc(0);if(i||!i&&!l)if((Uc(t)!=="body"||Mg(s))&&(c=$0(t)),i){const S=id(t,!0,l,t);y.x=S.x+t.clientLeft,y.y=S.y+t.clientTop}else s&&(y.x=iz(s));const b=d.left+c.scrollLeft-y.x,k=d.top+c.scrollTop-y.y;return{x:b,y:k,width:d.width,height:d.height}}function QI(e,t){return!Ma(e)||Ps(e).position==="fixed"?null:t?t(e):e.offsetParent}function oz(e,t){const n=Qo(e);if(!Ma(e)||nz(e))return n;let i=QI(e,t);for(;i&&XN(i)&&Ps(i).position==="static";)i=QI(i,t);return i&&(Uc(i)==="html"||Uc(i)==="body"&&Ps(i).position==="static"&&!tk(i))?n:i||YN(e)||n}const Tj=async function(e){const t=this.getOffsetParent||oz,n=this.getDimensions;return{reference:Cj(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,...await n(e.floating)}}};function Ij(e){return Ps(e).direction==="rtl"}const Pj={convertOffsetParentRelativeRectToViewportRelativeRect:vj,getDocumentElement:Al,getClippingRect:kj,getOffsetParent:oz,getElementRects:Tj,getClientRects:bj,getDimensions:Ej,getScale:Lh,isElement:Xo,isRTL:Ij};function Aj(e,t){let n=null,i;const s=Al(e);function l(){var c;clearTimeout(i),(c=n)==null||c.disconnect(),n=null}function d(c,y){c===void 0&&(c=!1),y===void 0&&(y=1),l();const{left:b,top:k,width:S,height:E}=e.getBoundingClientRect();if(c||t(),!S||!E)return;const A=vv(k),z=vv(s.clientWidth-(b+S)),N=vv(s.clientHeight-(k+E)),q=vv(b),$={rootMargin:-A+"px "+-z+"px "+-N+"px "+-q+"px",threshold:Wr(0,oa(1,y))||1};let V=!0;function Z(Q){const fe=Q[0].intersectionRatio;if(fe!==y){if(!V)return d();fe?d(!1,fe):i=setTimeout(()=>{d(!1,1e-7)},100)}V=!1}try{n=new IntersectionObserver(Z,{...$,root:s.ownerDocument})}catch(Q){n=new IntersectionObserver(Z,$)}n.observe(e)}return d(!0),l}function Rj(e,t,n,i){i===void 0&&(i={});const{ancestorScroll:s=!0,ancestorResize:l=!0,elementResize:d=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:y=!1}=i,b=lk(e),k=s||l?[...b?Dm(b):[],...Dm(t)]:[];k.forEach(F=>{s&&F.addEventListener("scroll",n,{passive:!0}),l&&F.addEventListener("resize",n)});const S=b&&c?Aj(b,n):null;let E=-1,A=null;d&&(A=new ResizeObserver(F=>{let[$]=F;$&&$.target===b&&A&&(A.unobserve(t),cancelAnimationFrame(E),E=requestAnimationFrame(()=>{var V;(V=A)==null||V.observe(t)})),n()}),b&&!y&&A.observe(b),A.observe(t));let z,N=y?id(e):null;y&&q();function q(){const F=id(e);N&&(F.x!==N.x||F.y!==N.y||F.width!==N.width||F.height!==N.height)&&n(),N=F,z=requestAnimationFrame(q)}return n(),()=>{var F;k.forEach($=>{s&&$.removeEventListener("scroll",n),l&&$.removeEventListener("resize",n)}),S==null||S(),(F=A)==null||F.disconnect(),A=null,y&&cancelAnimationFrame(z)}}const Mj=hj,zj=aj,Lj=pj,eP=sj,Oj=cj,Dj=fj,$j=(e,t,n)=>{const i=new Map,s={platform:Pj,...n},l={...s.platform,_c:i};return oj(e,t,{...s,platform:l})},Bj=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:i,padding:s}=typeof e=="function"?e(n):e;return i&&t(i)?i.current!=null?eP({element:i.current,padding:s}).fn(n):{}:i?eP({element:i,padding:s}).fn(n):{}}}};var Uv=typeof document<"u"?ce.useLayoutEffect:ce.useEffect;function zb(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,i,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(i=n;i--!==0;)if(!zb(e[i],t[i]))return!1;return!0}if(s=Object.keys(e),n=s.length,n!==Object.keys(t).length)return!1;for(i=n;i--!==0;)if(!{}.hasOwnProperty.call(t,s[i]))return!1;for(i=n;i--!==0;){const l=s[i];if(!(l==="_owner"&&e.$$typeof)&&!zb(e[l],t[l]))return!1}return!0}return e!==e&&t!==t}function sz(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function tP(e,t){const n=sz(e);return Math.round(t*n)/n}function nP(e){const t=ce.useRef(e);return Uv(()=>{t.current=e}),t}function Fj(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:i=[],platform:s,elements:{reference:l,floating:d}={},transform:c=!0,whileElementsMounted:y,open:b}=e,[k,S]=ce.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[E,A]=ce.useState(i);zb(E,i)||A(i);const[z,N]=ce.useState(null),[q,F]=ce.useState(null),$=ce.useCallback(He=>{He!==fe.current&&(fe.current=He,N(He))},[]),V=ce.useCallback(He=>{He!==oe.current&&(oe.current=He,F(He))},[]),Z=l||z,Q=d||q,fe=ce.useRef(null),oe=ce.useRef(null),re=ce.useRef(k),Be=y!=null,Le=nP(y),Fe=nP(s),Ze=ce.useCallback(()=>{if(!fe.current||!oe.current)return;const He={placement:t,strategy:n,middleware:E};Fe.current&&(He.platform=Fe.current),$j(fe.current,oe.current,He).then(we=>{const Ee={...we,isPositioned:!0};Pe.current&&!zb(re.current,Ee)&&(re.current=Ee,Pg.flushSync(()=>{S(Ee)}))})},[E,t,n,Fe]);Uv(()=>{b===!1&&re.current.isPositioned&&(re.current.isPositioned=!1,S(He=>({...He,isPositioned:!1})))},[b]);const Pe=ce.useRef(!1);Uv(()=>(Pe.current=!0,()=>{Pe.current=!1}),[]),Uv(()=>{if(Z&&(fe.current=Z),Q&&(oe.current=Q),Z&&Q){if(Le.current)return Le.current(Z,Q,Ze);Ze()}},[Z,Q,Ze,Le,Be]);const De=ce.useMemo(()=>({reference:fe,floating:oe,setReference:$,setFloating:V}),[$,V]),Oe=ce.useMemo(()=>({reference:Z,floating:Q}),[Z,Q]),$e=ce.useMemo(()=>{const He={position:n,left:0,top:0};if(!Oe.floating)return He;const we=tP(Oe.floating,k.x),Ee=tP(Oe.floating,k.y);return c?{...He,transform:"translate("+we+"px, "+Ee+"px)",...sz(Oe.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:we,top:Ee}},[n,c,Oe.floating,k.x,k.y]);return ce.useMemo(()=>({...k,update:Ze,refs:De,elements:Oe,floatingStyles:$e}),[k,Ze,De,Oe,$e])}const Nj=ib.useInsertionEffect,jj=Nj||(e=>e());function Vj(e){const t=ce.useRef(()=>{});return jj(()=>{t.current=e}),ce.useCallback(function(){for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return t.current==null?void 0:t.current(...i)},[])}var az=typeof document<"u"?ce.useLayoutEffect:ce.useEffect;let c1=!1,Uj=0;const iP=()=>"floating-ui-"+Uj++;function Hj(){const[e,t]=ce.useState(()=>c1?iP():void 0);return az(()=>{e==null&&t(iP())},[]),ce.useEffect(()=>{c1||(c1=!0)},[]),e}const qj=ib.useId,Wj=qj||Hj;function Zj(){const e=new Map;return{emit(t,n){var i;(i=e.get(t))==null||i.forEach(s=>s(n))},on(t,n){e.set(t,[...e.get(t)||[],n])},off(t,n){var i;e.set(t,((i=e.get(t))==null?void 0:i.filter(s=>s!==n))||[])}}}const Gj=ce.createContext(null),Kj=ce.createContext(null),Xj=()=>{var e;return((e=ce.useContext(Gj))==null?void 0:e.id)||null},Yj=()=>ce.useContext(Kj);function Jj(e){var t;e===void 0&&(e={});const{open:n=!1,onOpenChange:i,nodeId:s}=e,[l,d]=ce.useState(null),c=((t=e.elements)==null?void 0:t.reference)||l,y=Fj(e),b=Yj(),k=Xj()!=null,S=Vj((Q,fe,oe)=>{Q&&(A.current.openEvent=fe),z.emit("openchange",{open:Q,event:fe,reason:oe,nested:k}),i==null||i(Q,fe,oe)}),E=ce.useRef(null),A=ce.useRef({}),z=ce.useState(()=>Zj())[0],N=Wj(),q=ce.useCallback(Q=>{const fe=Xo(Q)?{getBoundingClientRect:()=>Q.getBoundingClientRect(),contextElement:Q}:Q;y.refs.setReference(fe)},[y.refs]),F=ce.useCallback(Q=>{(Xo(Q)||Q===null)&&(E.current=Q,d(Q)),(Xo(y.refs.reference.current)||y.refs.reference.current===null||Q!==null&&!Xo(Q))&&y.refs.setReference(Q)},[y.refs]),$=ce.useMemo(()=>({...y.refs,setReference:F,setPositionReference:q,domReference:E}),[y.refs,F,q]),V=ce.useMemo(()=>({...y.elements,domReference:c}),[y.elements,c]),Z=ce.useMemo(()=>({...y,refs:$,elements:V,dataRef:A,nodeId:s,floatingId:N,events:z,open:n,onOpenChange:S}),[y,s,N,z,n,S,$,V]);return az(()=>{const Q=b==null?void 0:b.nodesRef.current.find(fe=>fe.id===s);Q&&(Q.context=Z)}),ce.useMemo(()=>({...y,context:Z,refs:$,elements:V}),[y,$,V,Z])}function Qj(e,t){if(e==="rtl"&&(t.includes("right")||t.includes("left"))){const[n,i]=t.split("-"),s=n==="right"?"left":"right";return i===void 0?s:"".concat(s,"-").concat(i)}return t}function rP(e,t,n,i){return e==="center"||i==="center"?{top:t}:e==="end"?{bottom:n}:e==="start"?{top:n}:{}}function oP(e,t,n,i,s){return e==="center"||i==="center"?{left:t}:e==="end"?{[s==="ltr"?"right":"left"]:n}:e==="start"?{[s==="ltr"?"left":"right"]:n}:{}}const e9={bottom:"borderTopLeftRadius",left:"borderTopRightRadius",right:"borderBottomLeftRadius",top:"borderBottomRightRadius"};function t9({position:e,arrowSize:t,arrowOffset:n,arrowRadius:i,arrowPosition:s,arrowX:l,arrowY:d,dir:c}){const[y,b="center"]=e.split("-"),k={width:Qe(t),height:Qe(t),transform:"rotate(45deg)",position:"absolute",[e9[y]]:Qe(i)},S=Qe(-t/2);return y==="left"?{...k,...rP(b,d,n,s),right:S,borderLeftColor:"transparent",borderBottomColor:"transparent"}:y==="right"?{...k,...rP(b,d,n,s),left:S,borderRightColor:"transparent",borderTopColor:"transparent"}:y==="top"?{...k,...oP(b,l,n,s,c),bottom:S,borderTopColor:"transparent",borderLeftColor:"transparent"}:y==="bottom"?{...k,...oP(b,l,n,s,c),top:S,borderBottomColor:"transparent",borderRightColor:"transparent"}:{}}const lz=ce.forwardRef(({position:e,arrowSize:t,arrowOffset:n,arrowRadius:i,arrowPosition:s,visible:l,arrowX:d,arrowY:c,style:y,...b},k)=>{const{dir:S}=sS();return l?J.createElement("div",{...b,ref:k,style:{...y,...t9({position:e,arrowSize:t,arrowOffset:n,arrowRadius:i,arrowPosition:s,dir:S,arrowX:d,arrowY:c})}}):null});lz.displayName="@mantine/core/FloatingArrow";const[n9,cz]=m0("Popover component was not found in the tree");function ck({children:e,active:t=!0,refProp:n="ref"}){const i=f8(t),s=As(i,e==null?void 0:e.ref);return _g(e)?ce.cloneElement(e,{[n]:s}):e}function uz(e){return J.createElement(ek,{tabIndex:-1,"data-autofocus":!0,...e})}ck.displayName="@mantine/core/FocusTrap";uz.displayName="@mantine/core/FocusTrapInitialFocus";ck.InitialFocus=uz;function i9(e){const t=document.createElement("div");return t.setAttribute("data-portal","true"),typeof e.className=="string"&&t.classList.add(...e.className.split(" ").filter(Boolean)),typeof e.style=="object"&&Object.assign(t.style,e.style),typeof e.id=="string"&&t.setAttribute("id",e.id),t}const r9={},dz=ce.forwardRef((e,t)=>{const{children:n,target:i,...s}=Kt("Portal",r9,e),[l,d]=ce.useState(!1),c=ce.useRef(null);return xg(()=>(d(!0),c.current=i?typeof i=="string"?document.querySelector(i):i:i9(s),S4(t,c.current),!i&&c.current&&document.body.appendChild(c.current),()=>{!i&&c.current&&document.body.removeChild(c.current)}),[i]),!l||!c.current?null:Pg.createPortal(J.createElement(J.Fragment,null,n),c.current)});dz.displayName="@mantine/core/Portal";function hz({withinPortal:e=!0,children:t,...n}){return e?J.createElement(dz,{...n},t):J.createElement(J.Fragment,null,t)}hz.displayName="@mantine/core/OptionalPortal";const Gp=e=>({in:{opacity:1,transform:"scale(1)"},out:{opacity:0,transform:"scale(.9) translateY(".concat(Qe(e==="bottom"?10:-10),")")},transitionProperty:"transform, opacity"}),bv={fade:{in:{opacity:1},out:{opacity:0},transitionProperty:"opacity"},"fade-up":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(".concat(Qe(30))},transitionProperty:"opacity, transform"},"fade-down":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(".concat(Qe(-30))},transitionProperty:"opacity, transform"},"fade-left":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(".concat(Qe(30))},transitionProperty:"opacity, transform"},"fade-right":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(".concat(Qe(-30))},transitionProperty:"opacity, transform"},scale:{in:{opacity:1,transform:"scale(1)"},out:{opacity:0,transform:"scale(0)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"scale-y":{in:{opacity:1,transform:"scaleY(1)"},out:{opacity:0,transform:"scaleY(0)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"scale-x":{in:{opacity:1,transform:"scaleX(1)"},out:{opacity:0,transform:"scaleX(0)"},common:{transformOrigin:"left"},transitionProperty:"transform, opacity"},"skew-up":{in:{opacity:1,transform:"translateY(0) skew(0deg, 0deg)"},out:{opacity:0,transform:"translateY(".concat(Qe(-20),") skew(-10deg, -5deg)")},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"skew-down":{in:{opacity:1,transform:"translateY(0) skew(0deg, 0deg)"},out:{opacity:0,transform:"translateY(".concat(Qe(20),") skew(-10deg, -5deg)")},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"rotate-left":{in:{opacity:1,transform:"translateY(0) rotate(0deg)"},out:{opacity:0,transform:"translateY(".concat(Qe(20),") rotate(-5deg)")},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"rotate-right":{in:{opacity:1,transform:"translateY(0) rotate(0deg)"},out:{opacity:0,transform:"translateY(".concat(Qe(20),") rotate(5deg)")},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"slide-down":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(-100%)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"slide-up":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(100%)"},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"slide-left":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(100%)"},common:{transformOrigin:"left"},transitionProperty:"transform, opacity"},"slide-right":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(-100%)"},common:{transformOrigin:"right"},transitionProperty:"transform, opacity"},pop:{...Gp("bottom"),common:{transformOrigin:"center center"}},"pop-bottom-left":{...Gp("bottom"),common:{transformOrigin:"bottom left"}},"pop-bottom-right":{...Gp("bottom"),common:{transformOrigin:"bottom right"}},"pop-top-left":{...Gp("top"),common:{transformOrigin:"top left"}},"pop-top-right":{...Gp("top"),common:{transformOrigin:"top right"}}},sP={entering:"in",entered:"in",exiting:"out",exited:"out","pre-exiting":"out","pre-entering":"out"};function o9({transition:e,state:t,duration:n,timingFunction:i}){const s={transitionDuration:"".concat(n,"ms"),transitionTimingFunction:i};return typeof e=="string"?e in bv?{transitionProperty:bv[e].transitionProperty,...s,...bv[e].common,...bv[e][sP[t]]}:{}:{transitionProperty:e.transitionProperty,...s,...e.common,...e[sP[t]]}}function s9({duration:e,exitDuration:t,timingFunction:n,mounted:i,onEnter:s,onExit:l,onEntered:d,onExited:c}){const y=eu(),b=y8(),k=y.respectReducedMotion?b:!1,[S,E]=ce.useState(k?0:e),[A,z]=ce.useState(i?"entered":"exited"),N=ce.useRef(-1),q=ce.useRef(-1),F=$=>{const V=$?s:l,Z=$?d:c;window.clearTimeout(N.current);const Q=k?0:$?e:t;E(Q),Q===0?(typeof V=="function"&&V(),typeof Z=="function"&&Z(),z($?"entered":"exited")):q.current=requestAnimationFrame(()=>{FM.flushSync(()=>{z($?"pre-entering":"pre-exiting")}),q.current=requestAnimationFrame(()=>{typeof V=="function"&&V(),z($?"entering":"exiting"),N.current=window.setTimeout(()=>{typeof Z=="function"&&Z(),z($?"entered":"exited")},Q)})})};return Qh(()=>{F(i)},[i]),ce.useEffect(()=>()=>{window.clearTimeout(N.current),cancelAnimationFrame(q.current)},[]),{transitionDuration:S,transitionStatus:A,transitionTimingFunction:n||"ease"}}function zg({keepMounted:e,transition:t="fade",duration:n=250,exitDuration:i=n,mounted:s,children:l,timingFunction:d="ease",onExit:c,onEntered:y,onEnter:b,onExited:k}){const{transitionDuration:S,transitionStatus:E,transitionTimingFunction:A}=s9({mounted:s,exitDuration:i,duration:n,timingFunction:d,onExit:c,onEntered:y,onEnter:b,onExited:k});return S===0?s?J.createElement(J.Fragment,null,l({})):e?l({display:"none"}):null:E==="exited"?e?l({display:"none"}):null:J.createElement(J.Fragment,null,l(o9({transition:t,duration:S,state:E,timingFunction:A})))}zg.displayName="@mantine/core/Transition";var fz={dropdown:"m-38a85659",arrow:"m-a31dc6c1"};const a9={},uk=En((e,t)=>{var q,F,$,V,Z;const n=Kt("PopoverDropdown",a9,e),{className:i,style:s,vars:l,children:d,onKeyDownCapture:c,variant:y,classNames:b,styles:k,...S}=n,E=cz(),A=s8({opened:E.opened,shouldReturnFocus:E.returnFocus}),z=E.withRoles?{"aria-labelledby":E.getTargetId(),id:E.getDropdownId(),role:"dialog",tabIndex:-1}:{},N=As(t,E.floating);return E.disabled?null:J.createElement(hz,{...E.portalProps,withinPortal:E.withinPortal},J.createElement(zg,{mounted:E.opened,...E.transitionProps,transition:((q=E.transitionProps)==null?void 0:q.transition)||"fade",duration:($=(F=E.transitionProps)==null?void 0:F.duration)!=null?$:150,keepMounted:E.keepMounted,exitDuration:typeof((V=E.transitionProps)==null?void 0:V.exitDuration)=="number"?E.transitionProps.exitDuration:(Z=E.transitionProps)==null?void 0:Z.duration},Q=>{var fe,oe;return J.createElement(ck,{active:E.trapFocus},J.createElement(ln,{...z,...S,variant:y,ref:N,onKeyDownCapture:J6(E.onClose,{active:E.closeOnEscape,onTrigger:A,onKeyDown:c}),"data-position":E.placement,...E.getStyles("dropdown",{className:i,props:n,classNames:b,styles:k,style:[{...Q,zIndex:E.zIndex,top:(fe=E.y)!=null?fe:0,left:(oe=E.x)!=null?oe:0,width:E.width==="target"?void 0:Qe(E.width)},s]})},d,J.createElement(lz,{ref:E.arrowRef,arrowX:E.arrowX,arrowY:E.arrowY,visible:E.withArrow,position:E.placement,arrowSize:E.arrowSize,arrowRadius:E.arrowRadius,arrowOffset:E.arrowOffset,arrowPosition:E.arrowPosition,...E.getStyles("arrow",{props:n,classNames:b,styles:k})})))}))});uk.classes=fz;uk.displayName="@mantine/core/PopoverDropdown";const l9={refProp:"ref",popupType:"dialog"},pz=En((e,t)=>{const{children:n,refProp:i,popupType:s,...l}=Kt("PopoverTarget",l9,e);if(!_g(n))throw new Error("Popover.Target component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");const d=l,c=cz(),y=As(c.reference,n.ref,t),b=c.withRoles?{"aria-haspopup":s,"aria-expanded":c.opened,"aria-controls":c.getDropdownId(),id:c.getTargetId()}:{};return ce.cloneElement(n,{...d,...b,...c.targetProps,className:$a(c.targetProps.className,d.className,n.props.className),[i]:y,...c.controlled?null:{onClick:c.onToggle}})});pz.displayName="@mantine/core/PopoverTarget";function c9({opened:e,floating:t,position:n,positionDependencies:i}){const[s,l]=ce.useState(0);ce.useEffect(()=>{if(t.refs.reference.current&&t.refs.floating.current)return Rj(t.refs.reference.current,t.refs.floating.current,t.update)},[t.refs.reference.current,t.refs.floating.current,e,s,n]),Qh(()=>{t.update()},i),Qh(()=>{l(d=>d+1)},[e])}function u9(e,t){var i,s,l,d;const n=[dj(e.offset)];return(i=e.middlewares)!=null&&i.shift&&n.push(Mj({limiter:Dj()})),(s=e.middlewares)!=null&&s.flip&&n.push(zj()),(l=e.middlewares)!=null&&l.inline&&n.push(Oj()),n.push(Bj({element:e.arrowRef,padding:e.arrowOffset})),((d=e.middlewares)!=null&&d.size||e.width==="target")&&n.push(Lj({apply({rects:c,availableWidth:y,availableHeight:b}){var E,A,z;const S=(A=(E=t().refs.floating.current)==null?void 0:E.style)!=null?A:{};(z=e.middlewares)!=null&&z.size&&Object.assign(S,{maxWidth:"".concat(y,"px"),maxHeight:"".concat(b,"px")}),e.width==="target"&&Object.assign(S,{width:"".concat(c.reference.width,"px")})}})),n}function d9(e){const[t,n]=y0({value:e.opened,defaultValue:e.defaultOpened,finalValue:!1,onChange:e.onChange}),i=()=>{var d;t&&((d=e.onClose)==null||d.call(e),n(!1))},s=()=>{var d,c;t?((d=e.onClose)==null||d.call(e),n(!1)):((c=e.onOpen)==null||c.call(e),n(!0))},l=Jj({strategy:e.strategy,placement:e.position,middleware:u9(e,()=>l)});return c9({opened:e.opened,position:e.position,positionDependencies:e.positionDependencies||[],floating:l}),Qh(()=>{var d;(d=e.onPositionChange)==null||d.call(e,l.placement)},[l.placement]),Qh(()=>{var d,c;e.opened?(c=e.onOpen)==null||c.call(e):(d=e.onClose)==null||d.call(e)},[e.opened]),{floating:l,controlled:typeof e.opened=="boolean",opened:t,onClose:i,onToggle:s}}const h9={position:"bottom",offset:8,positionDependencies:[],transitionProps:{transition:"fade",duration:150},middlewares:{flip:!0,shift:!0,inline:!1},arrowSize:7,arrowOffset:5,arrowRadius:0,arrowPosition:"side",closeOnClickOutside:!0,withinPortal:!0,closeOnEscape:!0,trapFocus:!1,withRoles:!0,returnFocus:!1,clickOutsideEvents:["mousedown","touchstart"],zIndex:tS("popover"),__staticSelector:"Popover",width:"max-content"},f9=(e,{radius:t,shadow:n})=>({dropdown:{"--popover-radius":t===void 0?void 0:pd(t),"--popover-shadow":t8(n)}});function ru(e){var Ne,qn,Ki,on,si,vr;const t=Kt("Popover",h9,e),{children:n,position:i,offset:s,onPositionChange:l,positionDependencies:d,opened:c,transitionProps:y,width:b,middlewares:k,withArrow:S,arrowSize:E,arrowOffset:A,arrowRadius:z,arrowPosition:N,unstyled:q,classNames:F,styles:$,closeOnClickOutside:V,withinPortal:Z,portalProps:Q,closeOnEscape:fe,clickOutsideEvents:oe,trapFocus:re,onClose:Be,onOpen:Le,onChange:Fe,zIndex:Ze,radius:Pe,shadow:De,id:Oe,defaultOpened:$e,__staticSelector:He,withRoles:we,disabled:Ee,returnFocus:Ie,variant:qe,keepMounted:Ye,vars:yt,floatingStrategy:wt,...Mt}=t,Ft=Qn({name:He,props:t,classes:fz,classNames:F,styles:$,unstyled:q,rootSelector:"dropdown",vars:yt,varsResolver:f9}),Yt=ce.useRef(null),[vn,ei]=ce.useState(null),[Mi,ir]=ce.useState(null),{dir:ot}=sS(),$t=wg(Oe),Ct=d9({middlewares:k,width:b,position:Qj(ot,i),offset:typeof s=="number"?s+(S?E/2:0):s,arrowRef:Yt,arrowOffset:A,onPositionChange:l,positionDependencies:d,opened:c,defaultOpened:$e,onChange:Fe,onOpen:Le,onClose:Be,strategy:wt});n8(()=>V&&Ct.onClose(),oe,[vn,Mi]);const zt=ce.useCallback(zr=>{ei(zr),Ct.floating.refs.setReference(zr)},[Ct.floating.refs.setReference]),Rn=ce.useCallback(zr=>{ir(zr),Ct.floating.refs.setFloating(zr)},[Ct.floating.refs.setFloating]);return J.createElement(n9,{value:{returnFocus:Ie,disabled:Ee,controlled:Ct.controlled,reference:zt,floating:Rn,x:Ct.floating.x,y:Ct.floating.y,arrowX:(Ki=(qn=(Ne=Ct.floating)==null?void 0:Ne.middlewareData)==null?void 0:qn.arrow)==null?void 0:Ki.x,arrowY:(vr=(si=(on=Ct.floating)==null?void 0:on.middlewareData)==null?void 0:si.arrow)==null?void 0:vr.y,opened:Ct.opened,arrowRef:Yt,transitionProps:y,width:b,withArrow:S,arrowSize:E,arrowOffset:A,arrowRadius:z,arrowPosition:N,placement:Ct.floating.placement,trapFocus:re,withinPortal:Z,portalProps:Q,zIndex:Ze,radius:Pe,shadow:De,closeOnEscape:fe,onClose:Ct.onClose,onToggle:Ct.onToggle,getTargetId:()=>"".concat($t,"-target"),getDropdownId:()=>"".concat($t,"-dropdown"),withRoles:we,targetProps:Mt,__staticSelector:He,classNames:F,styles:$,unstyled:q,variant:qe,keepMounted:Ye,getStyles:Ft}},n)}ru.Target=pz;ru.Dropdown=uk;ru.displayName="@mantine/core/Popover";ru.extend=e=>e;var Ys={root:"m-5ae2e3c",barsLoader:"m-7a2bd4cd",bar:"m-870bb79","bars-loader-animation":"m-5d2b3b9d",dotsLoader:"m-4e3f22d7",dot:"m-870c4af","loader-dots-animation":"m-aac34a1",ovalLoader:"m-b34414df","oval-loader-animation":"m-f8e89c4b"};const p9=ce.forwardRef(({className:e,...t},n)=>J.createElement(ln,{component:"span",className:$a(Ys.barsLoader,e),...t,ref:n},J.createElement("span",{className:Ys.bar}),J.createElement("span",{className:Ys.bar}),J.createElement("span",{className:Ys.bar}))),m9=ce.forwardRef(({className:e,...t},n)=>J.createElement(ln,{component:"span",className:$a(Ys.dotsLoader,e),...t,ref:n},J.createElement("span",{className:Ys.dot}),J.createElement("span",{className:Ys.dot}),J.createElement("span",{className:Ys.dot}))),g9=ce.forwardRef(({className:e,...t},n)=>J.createElement(ln,{component:"span",className:$a(Ys.ovalLoader,e),...t,ref:n})),mz={bars:p9,oval:g9,dots:m9},y9={loaders:mz,type:"oval"},v9=(e,{size:t,color:n})=>({root:{"--loader-size":nr(t,"loader-size"),"--loader-color":n?vm(n,e):void 0}}),vd=En((e,t)=>{const n=Kt("Loader",y9,e),{size:i,color:s,type:l,vars:d,className:c,style:y,classNames:b,styles:k,unstyled:S,loaders:E,variant:A,children:z,...N}=n,q=Qn({name:"Loader",props:n,classes:Ys,className:c,style:y,classNames:b,styles:k,unstyled:S,vars:d,varsResolver:v9});return z?J.createElement(ln,{...q("root"),ref:t,...N},z):J.createElement(ln,{...q("root"),ref:t,component:E[l],variant:A,size:i,...N})});vd.defaultLoaders=mz;vd.classes=Ys;vd.displayName="@mantine/core/Loader";var B0={root:"m-8d3f4000",icon:"m-8d3afb97",loader:"m-302b9fb1",group:"m-1a0f1b21"};const aP={orientation:"horizontal"},b9=(e,{borderWidth:t})=>({group:{"--ai-border-width":Qe(t)}}),dk=En((e,t)=>{const n=Kt("ActionIconGroup",aP,e),{className:i,style:s,classNames:l,styles:d,unstyled:c,orientation:y,vars:b,borderWidth:k,variant:S,mod:E,...A}=Kt("ActionIconGroup",aP,e),z=Qn({name:"ActionIconGroup",props:n,classes:B0,className:i,style:s,classNames:l,styles:d,unstyled:c,vars:b,varsResolver:b9,rootSelector:"group"});return J.createElement(ln,{...z("group"),ref:t,variant:S,mod:[{"data-orientation":y},E],role:"group",...A})});dk.classes=B0;dk.displayName="@mantine/core/ActionIconGroup";const _9={},x9=(e,{size:t,radius:n,variant:i,gradient:s,color:l,autoContrast:d})=>{const c=e.variantColorResolver({color:l||e.primaryColor,theme:e,gradient:s,variant:i||"filled",autoContrast:d});return{root:{"--ai-size":nr(t,"ai-size"),"--ai-radius":n===void 0?void 0:pd(n),"--ai-bg":l||i?c.background:void 0,"--ai-hover":l||i?c.hover:void 0,"--ai-hover-color":l||i?c.hoverColor:void 0,"--ai-color":c.color,"--ai-bd":l||i?c.border:void 0}}},Lg=Il((e,t)=>{const n=Kt("ActionIcon",_9,e),{className:i,unstyled:s,variant:l,classNames:d,styles:c,style:y,loading:b,loaderProps:k,size:S,color:E,radius:A,__staticSelector:z,gradient:N,vars:q,children:F,disabled:$,"data-disabled":V,autoContrast:Z,mod:Q,...fe}=n,oe=Qn({name:["ActionIcon",z],props:n,className:i,style:y,classes:B0,classNames:d,styles:c,unstyled:s,vars:q,varsResolver:x9});return J.createElement(Rg,{...oe("root",{active:!$&&!b&&!V}),...fe,unstyled:s,variant:l,size:S,disabled:$||b,ref:t,mod:[{loading:b,disabled:$||V},Q]},J.createElement(zg,{mounted:!!b,transition:"slide-down",duration:150},re=>J.createElement(ln,{component:"span",...oe("loader",{style:re}),"aria-hidden":!0},J.createElement(vd,{color:"var(--ai-color)",size:"calc(var(--ai-size) * 0.55)",...k}))),J.createElement(ln,{component:"span",mod:{loading:b},...oe("icon")},F))});Lg.classes=B0;Lg.displayName="@mantine/core/ActionIcon";Lg.Group=dk;const gz=ce.forwardRef(({size:e="var(--cb-icon-size, 70%)",style:t,...n},i)=>J.createElement("svg",{viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{...t,width:e,height:e},ref:i,...n},J.createElement("path",{d:"M11.7816 4.03157C12.0062 3.80702 12.0062 3.44295 11.7816 3.2184C11.5571 2.99385 11.193 2.99385 10.9685 3.2184L7.50005 6.68682L4.03164 3.2184C3.80708 2.99385 3.44301 2.99385 3.21846 3.2184C2.99391 3.44295 2.99391 3.80702 3.21846 4.03157L6.68688 7.49999L3.21846 10.9684C2.99391 11.193 2.99391 11.557 3.21846 11.7816C3.44301 12.0061 3.80708 12.0061 4.03164 11.7816L7.50005 8.31316L10.9685 11.7816C11.193 12.0061 11.5571 12.0061 11.7816 11.7816C12.0062 11.557 12.0062 11.193 11.7816 10.9684L8.31322 7.49999L11.7816 4.03157Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})));gz.displayName="@mantine/core/CloseIcon";var yz={root:"m-86a44da5","root--subtle":"m-220c80f2"};const w9={variant:"subtle"},S9=(e,{size:t,radius:n,iconSize:i})=>({root:{"--cb-size":nr(t,"cb-size"),"--cb-radius":n===void 0?void 0:pd(n),"--cb-icon-size":Qe(i)}}),hk=Il((e,t)=>{const n=Kt("CloseButton",w9,e),{iconSize:i,children:s,vars:l,radius:d,className:c,classNames:y,style:b,styles:k,unstyled:S,"data-disabled":E,disabled:A,variant:z,icon:N,mod:q,...F}=n,$=Qn({name:"CloseButton",props:n,className:c,style:b,classes:yz,classNames:y,styles:k,unstyled:S,vars:l,varsResolver:S9});return J.createElement(Rg,{ref:t,...F,unstyled:S,variant:z,disabled:A,mod:[{disabled:A||E},q],...$("root",{variant:z,active:!0})},N||J.createElement(gz,null),s)});hk.classes=yz;hk.displayName="@mantine/core/CloseButton";var vz={root:"m-9814e45f"};const k9={zIndex:tS("modal")},E9=(e,{gradient:t,color:n,backgroundOpacity:i,blur:s,radius:l,zIndex:d})=>({root:{"--overlay-bg":t||(n!==void 0||i!==void 0)&&_a(n||"#000",i!=null?i:.6)||void 0,"--overlay-filter":s?"blur(".concat(Qe(s),")"):void 0,"--overlay-radius":l===void 0?void 0:pd(l),"--overlay-z-index":d==null?void 0:d.toString()}}),Lb=Il((e,t)=>{const n=Kt("Overlay",k9,e),{classNames:i,className:s,style:l,styles:d,unstyled:c,vars:y,fixed:b,center:k,children:S,radius:E,zIndex:A,gradient:z,blur:N,color:q,backgroundOpacity:F,mod:$,...V}=n,Z=Qn({name:"Overlay",props:n,classes:vz,className:s,style:l,classNames:i,styles:d,unstyled:c,vars:y,varsResolver:E9});return J.createElement(ln,{ref:t,...Z("root"),mod:[{center:k,fixed:b},$],...V},S)});Lb.classes=vz;Lb.displayName="@mantine/core/Overlay";const[C9,F0]=K6({offsetBottom:!1,offsetTop:!1,describedBy:void 0,getStyles:null,inputId:void 0,labelId:void 0});var Ms={wrapper:"m-6c018570",input:"m-8fb7ebe7",section:"m-82577fc2",placeholder:"m-88bacfd0",root:"m-46b77525",label:"m-8fdc1311",required:"m-78a94662",error:"m-8f816625",description:"m-fe47ce59"};const lP={},T9=(e,{size:t})=>({description:{"--input-description-size":t===void 0?void 0:"calc(".concat(ks(t)," - ").concat(Qe(2),")")}}),N0=En((e,t)=>{const n=Kt("InputDescription",lP,e),{classNames:i,className:s,style:l,styles:d,unstyled:c,vars:y,size:b,__staticSelector:k,__inheritStyles:S=!0,variant:E,...A}=Kt("InputDescription",lP,n),z=F0(),N=Qn({name:["InputWrapper",k],props:n,classes:Ms,className:s,style:l,classNames:i,styles:d,unstyled:c,rootSelector:"description",vars:y,varsResolver:T9}),q=S&&(z==null?void 0:z.getStyles)||N;return J.createElement(ln,{component:"p",ref:t,variant:E,size:b,...q("description",z!=null&&z.getStyles?{className:s,style:l}:void 0),...A})});N0.classes=Ms;N0.displayName="@mantine/core/InputDescription";const I9={},P9=(e,{size:t})=>({error:{"--input-error-size":t===void 0?void 0:"calc(".concat(ks(t)," - ").concat(Qe(2),")")}}),j0=En((e,t)=>{const n=Kt("InputError",I9,e),{classNames:i,className:s,style:l,styles:d,unstyled:c,vars:y,size:b,__staticSelector:k,__inheritStyles:S=!0,variant:E,...A}=n,z=Qn({name:["InputWrapper",k],props:n,classes:Ms,className:s,style:l,classNames:i,styles:d,unstyled:c,rootSelector:"error",vars:y,varsResolver:P9}),N=F0(),q=S&&(N==null?void 0:N.getStyles)||z;return J.createElement(ln,{component:"p",ref:t,variant:E,size:b,...q("error",N!=null&&N.getStyles?{className:s,style:l}:void 0),...A})});j0.classes=Ms;j0.displayName="@mantine/core/InputError";const cP={labelElement:"label"},A9=(e,{size:t})=>({label:{"--input-label-size":ks(t),"--input-asterisk-color":void 0}}),V0=En((e,t)=>{const n=Kt("InputLabel",cP,e),{classNames:i,className:s,style:l,styles:d,unstyled:c,vars:y,labelElement:b,size:k,required:S,htmlFor:E,onMouseDown:A,children:z,__staticSelector:N,variant:q,mod:F,...$}=Kt("InputLabel",cP,n),V=Qn({name:["InputWrapper",N],props:n,classes:Ms,className:s,style:l,classNames:i,styles:d,unstyled:c,rootSelector:"label",vars:y,varsResolver:A9}),Z=F0(),Q=(Z==null?void 0:Z.getStyles)||V;return J.createElement(ln,{...Q("label",Z!=null&&Z.getStyles?{className:s,style:l}:void 0),component:b,variant:q,size:k,ref:t,htmlFor:b==="label"?E:void 0,mod:[{required:S},F],onMouseDown:fe=>{A==null||A(fe),!fe.defaultPrevented&&fe.detail>1&&fe.preventDefault()},...$},z,S&&J.createElement("span",{...Q("required"),"aria-hidden":!0}," *"))});V0.classes=Ms;V0.displayName="@mantine/core/InputLabel";const uP={},fk=En((e,t)=>{const n=Kt("InputPlaceholder",uP,e),{classNames:i,className:s,style:l,styles:d,unstyled:c,vars:y,__staticSelector:b,variant:k,error:S,mod:E,...A}=Kt("InputPlaceholder",uP,n),z=Qn({name:["InputPlaceholder",b],props:n,classes:Ms,className:s,style:l,classNames:i,styles:d,unstyled:c,rootSelector:"placeholder"});return J.createElement(ln,{...z("placeholder"),mod:[{error:!!S},E],component:"span",variant:k,ref:t,...A})});fk.classes=Ms;fk.displayName="@mantine/core/InputPlaceholder";function R9(e,{hasDescription:t,hasError:n}){const i=e.findIndex(y=>y==="input"),s=e[i-1],l=e[i+1];return{offsetBottom:t&&l==="description"||n&&l==="error",offsetTop:t&&s==="description"||n&&s==="error"}}const M9={labelElement:"label",inputContainer:e=>e,inputWrapperOrder:["label","description","input","error"]},z9=(e,{size:t})=>({label:{"--input-label-size":ks(t),"--input-asterisk-color":void 0},error:{"--input-error-size":t===void 0?void 0:"calc(".concat(ks(t)," - ").concat(Qe(2),")")},description:{"--input-description-size":t===void 0?void 0:"calc(".concat(ks(t)," - ").concat(Qe(2),")")}}),pk=En((e,t)=>{const n=Kt("InputWrapper",M9,e),{classNames:i,className:s,style:l,styles:d,unstyled:c,vars:y,size:b,variant:k,__staticSelector:S,inputContainer:E,inputWrapperOrder:A,label:z,error:N,description:q,labelProps:F,descriptionProps:$,errorProps:V,labelElement:Z,children:Q,withAsterisk:fe,id:oe,required:re,__stylesApiProps:Be,mod:Le,...Fe}=n,Ze=Qn({name:["InputWrapper",S],props:Be||n,classes:Ms,className:s,style:l,classNames:i,styles:d,unstyled:c,vars:y,varsResolver:z9}),Pe={size:b,variant:k,__staticSelector:S},De=wg(oe),Oe=typeof fe=="boolean"?fe:re,$e=(V==null?void 0:V.id)||"".concat(De,"-error"),He=($==null?void 0:$.id)||"".concat(De,"-description"),we=De,Ee=!!N&&typeof N!="boolean",Ie=!!q,qe="".concat(Ee?$e:""," ").concat(Ie?He:""),Ye=qe.trim().length>0?qe.trim():void 0,yt=(F==null?void 0:F.id)||"".concat(De,"-label"),wt=z&&J.createElement(V0,{key:"label",labelElement:Z,id:yt,htmlFor:we,required:Oe,...Pe,...F},z),Mt=Ie&&J.createElement(N0,{key:"description",...$,...Pe,size:($==null?void 0:$.size)||Pe.size,id:($==null?void 0:$.id)||He},q),Ft=J.createElement(J.Fragment,{key:"input"},E(Q)),Yt=Ee&&J.createElement(j0,{...V,...Pe,size:(V==null?void 0:V.size)||Pe.size,key:"error",id:(V==null?void 0:V.id)||$e},N),vn=A.map(ei=>{switch(ei){case"label":return wt;case"input":return Ft;case"description":return Mt;case"error":return Yt;default:return null}});return J.createElement(C9,{value:{getStyles:Ze,describedBy:Ye,inputId:we,labelId:yt,...R9(A,{hasDescription:Ie,hasError:Ee})}},J.createElement(ln,{ref:t,variant:k,size:b,mod:[{error:!!N},Le],...Ze("root"),...Fe},vn))});pk.classes=Ms;pk.displayName="@mantine/core/InputWrapper";const L9={variant:"default",leftSectionPointerEvents:"none",rightSectionPointerEvents:"none",withAria:!0,withErrorStyles:!0},O9=(e,t,n)=>({wrapper:{"--input-margin-top":n.offsetTop?"calc(var(--mantine-spacing-xs) / 2)":void 0,"--input-margin-bottom":n.offsetBottom?"calc(var(--mantine-spacing-xs) / 2)":void 0,"--input-height":nr(t.size,"input-height"),"--input-fz":ks(t.size),"--input-radius":t.radius===void 0?void 0:pd(t.radius),"--input-left-section-width":t.leftSectionWidth!==void 0?Qe(t.leftSectionWidth):void 0,"--input-right-section-width":t.rightSectionWidth!==void 0?Qe(t.rightSectionWidth):void 0,"--input-padding-y":t.multiline?nr(t.size,"input-padding-y"):void 0,"--input-left-section-pointer-events":t.leftSectionPointerEvents,"--input-right-section-pointer-events":t.rightSectionPointerEvents}}),Mo=Il((e,t)=>{const n=Kt("Input",L9,e),{classNames:i,className:s,style:l,styles:d,unstyled:c,required:y,__staticSelector:b,__stylesApiProps:k,size:S,wrapperProps:E,error:A,disabled:z,leftSection:N,leftSectionProps:q,leftSectionWidth:F,rightSection:$,rightSectionProps:V,rightSectionWidth:Z,rightSectionPointerEvents:Q,leftSectionPointerEvents:fe,variant:oe,vars:re,pointer:Be,multiline:Le,radius:Fe,id:Ze,withAria:Pe,withErrorStyles:De,mod:Oe,...$e}=n,{styleProps:He,rest:we}=b0($e),Ee=F0(),Ie={offsetBottom:Ee==null?void 0:Ee.offsetBottom,offsetTop:Ee==null?void 0:Ee.offsetTop},qe=Qn({name:["Input",b],props:k||n,classes:Ms,className:s,style:l,classNames:i,styles:d,unstyled:c,stylesCtx:Ie,rootSelector:"wrapper",vars:re,varsResolver:O9}),Ye=Pe?{required:y,disabled:z,"aria-invalid":!!A,"aria-describedby":Ee==null?void 0:Ee.describedBy,id:(Ee==null?void 0:Ee.inputId)||Ze}:{};return J.createElement(ln,{...qe("wrapper"),...He,...E,mod:[{error:!!A&&De,pointer:Be,disabled:z,multiline:Le,"data-with-right-section":!!$,"data-with-left-section":!!N},Oe],variant:oe,size:S},N&&J.createElement("div",{...q,"data-position":"left",...qe("section",{className:q==null?void 0:q.className,style:q==null?void 0:q.style})},N),J.createElement(ln,{component:"input",...we,...Ye,ref:t,required:y,mod:{disabled:z,error:!!A&&De},variant:oe,...qe("input")}),$&&J.createElement("div",{...V,"data-position":"right",...qe("section",{className:V==null?void 0:V.className,style:V==null?void 0:V.style})},$))});Mo.classes=Ms;Mo.Wrapper=pk;Mo.Label=V0;Mo.Error=j0;Mo.Description=N0;Mo.Placeholder=fk;Mo.displayName="@mantine/core/Input";function D9(e,t,n){const i=Kt(e,t,n),{label:s,description:l,error:d,required:c,classNames:y,styles:b,className:k,unstyled:S,__staticSelector:E,__stylesApiProps:A,errorProps:z,labelProps:N,descriptionProps:q,wrapperProps:F,id:$,size:V,style:Z,inputContainer:Q,inputWrapperOrder:fe,withAsterisk:oe,variant:re,vars:Be,mod:Le,...Fe}=i,{styleProps:Ze,rest:Pe}=b0(Fe),De={label:s,description:l,error:d,required:c,classNames:y,className:k,__staticSelector:E,__stylesApiProps:A||i,errorProps:z,labelProps:N,descriptionProps:q,unstyled:S,styles:b,size:V,style:Z,inputContainer:Q,inputWrapperOrder:fe,withAsterisk:oe,variant:re,id:$,mod:Le,...F};return{...Pe,classNames:y,styles:b,unstyled:S,wrapperProps:{...De,...Ze},inputProps:{required:c,classNames:y,styles:b,unstyled:S,size:V,__staticSelector:E,__stylesApiProps:A||i,error:d,variant:re,id:$}}}const $9={__staticSelector:"InputBase",withAria:!0},Rl=Il((e,t)=>{const{inputProps:n,wrapperProps:i,...s}=D9("InputBase",$9,e);return J.createElement(Mo.Wrapper,{...i},J.createElement(Mo,{...n,...s,ref:t}))});Rl.classes={...Mo.classes,...Mo.Wrapper.classes};Rl.displayName="@mantine/core/InputBase";var bz={root:"m-b6d8b162"};function B9(e){if(e==="start")return"start";if(e==="end"||e)return"end"}const F9={inherit:!1},N9=(e,{variant:t,lineClamp:n,gradient:i,size:s,color:l})=>({root:{"--text-fz":ks(s),"--text-lh":e8(s),"--text-gradient":t==="gradient"?Z1(i,e):void 0,"--text-line-clamp":typeof n=="number"?n.toString():void 0,"--text-color":l?vm(l,e):void 0}}),Ob=Il((e,t)=>{const n=Kt("Text",F9,e),{lineClamp:i,truncate:s,inline:l,inherit:d,gradient:c,span:y,__staticSelector:b,vars:k,className:S,style:E,classNames:A,styles:z,unstyled:N,variant:q,mod:F,size:$,...V}=n,Z=Qn({name:["Text",b],props:n,classes:bz,className:S,style:E,classNames:A,styles:z,unstyled:N,vars:k,varsResolver:N9});return J.createElement(ln,{...Z("root",{focusable:!0}),ref:t,component:y?"span":"p",variant:q,mod:[{"data-truncate":B9(s),"data-line-clamp":typeof i=="number","data-inline":l,"data-inherit":d},F],size:$,...V})});Ob.classes=bz;Ob.displayName="@mantine/core/Text";function _z(e){return typeof e=="string"?{value:e,label:e}:"value"in e&&!("label"in e)?{value:e.value,label:e.value,disabled:e.disabled}:typeof e=="number"?{value:e.toString(),label:e.toString()}:"group"in e?{group:e.group,items:e.items.map(t=>_z(t))}:e}function j9(e){return e?e.map(t=>_z(t)):[]}function xz(e){return e.reduce((t,n)=>"group"in n?{...t,...xz(n.items)}:(t[n.value]=n,t),{})}var zo={dropdown:"m-88b62a41",options:"m-b2821a6e",option:"m-92253aa5",search:"m-985517d8",empty:"m-2530cd1d",header:"m-858f94bd",footer:"m-82b967cb",group:"m-254f3e4f",groupLabel:"m-2bb2e9e5",chevron:"m-2943220b",optionsDropdownOption:"m-390b5f4",optionsDropdownCheckIcon:"m-8ee53fc2"};const V9={error:null},U9=(e,{size:t})=>({chevron:{"--combobox-chevron-size":nr(t,"combobox-chevron-size")}}),mk=En((e,t)=>{const n=Kt("ComboboxChevron",V9,e),{size:i,error:s,style:l,className:d,classNames:c,styles:y,unstyled:b,vars:k,mod:S,...E}=n,A=Qn({name:"ComboboxChevron",classes:zo,props:n,style:l,className:d,classNames:c,styles:y,unstyled:b,vars:k,varsResolver:U9,rootSelector:"chevron"});return J.createElement(ln,{component:"svg",...E,...A("chevron"),size:i,viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",mod:["combobox-chevron",{error:s},S],ref:t},J.createElement("path",{d:"M4.93179 5.43179C4.75605 5.60753 4.75605 5.89245 4.93179 6.06819C5.10753 6.24392 5.39245 6.24392 5.56819 6.06819L7.49999 4.13638L9.43179 6.06819C9.60753 6.24392 9.89245 6.24392 10.0682 6.06819C10.2439 5.89245 10.2439 5.60753 10.0682 5.43179L7.81819 3.18179C7.73379 3.0974 7.61933 3.04999 7.49999 3.04999C7.38064 3.04999 7.26618 3.0974 7.18179 3.18179L4.93179 5.43179ZM10.0682 9.56819C10.2439 9.39245 10.2439 9.10753 10.0682 8.93179C9.89245 8.75606 9.60753 8.75606 9.43179 8.93179L7.49999 10.8636L5.56819 8.93179C5.39245 8.75606 5.10753 8.75606 4.93179 8.93179C4.75605 9.10753 4.75605 9.39245 4.93179 9.56819L7.18179 11.8182C7.35753 11.9939 7.64245 11.9939 7.81819 11.8182L10.0682 9.56819Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"}))});mk.classes=zo;mk.displayName="@mantine/core/ComboboxChevron";const[H9,zs]=m0("Combobox component was not found in tree"),wz=ce.forwardRef(({size:e,onMouseDown:t,onClick:n,onClear:i,...s},l)=>J.createElement(hk,{ref:l,size:e||"sm",variant:"transparent",tabIndex:-1,"aria-hidden":!0,...s,onMouseDown:d=>{d.preventDefault(),t==null||t(d)},onClick:d=>{i(),n==null||n(d)}}));wz.displayName="@mantine/core/ComboboxClearButton";const q9={},gk=En((e,t)=>{const{classNames:n,styles:i,className:s,style:l,hidden:d,...c}=Kt("ComboboxDropdown",q9,e),y=zs();return J.createElement(ru.Dropdown,{...c,ref:t,role:"presentation","data-hidden":d||void 0,...y.getStyles("dropdown",{className:s,style:l,classNames:n,styles:i})})});gk.classes=zo;gk.displayName="@mantine/core/ComboboxDropdown";const W9={refProp:"ref"},Sz=En((e,t)=>{const{children:n,refProp:i}=Kt("ComboboxDropdownTarget",W9,e);if(zs(),!_g(n))throw new Error("Combobox.DropdownTarget component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");return J.createElement(ru.Target,{ref:t,refProp:i},n)});Sz.displayName="@mantine/core/ComboboxDropdownTarget";const Z9={},yk=En((e,t)=>{const{classNames:n,className:i,style:s,styles:l,vars:d,...c}=Kt("ComboboxEmpty",Z9,e),y=zs();return J.createElement(ln,{ref:t,...y.getStyles("empty",{className:i,classNames:n,styles:l,style:s}),...c})});yk.classes=zo;yk.displayName="@mantine/core/ComboboxEmpty";function vk({onKeyDown:e,withKeyboardNavigation:t,withAriaAttributes:n,withExpandedAttribute:i,targetType:s,autoComplete:l}){const d=zs(),[c,y]=ce.useState(null),b=S=>{if(e==null||e(S),!d.readOnly&&t){if(S.nativeEvent.code==="ArrowDown"&&(S.preventDefault(),d.store.dropdownOpened?y(d.store.selectNextOption()):(d.store.openDropdown("keyboard"),y(d.store.selectActiveOption()))),S.nativeEvent.code==="ArrowUp"&&(S.preventDefault(),d.store.dropdownOpened?y(d.store.selectPreviousOption()):(d.store.openDropdown("keyboard"),y(d.store.selectActiveOption()))),S.nativeEvent.code==="Enter"||S.nativeEvent.code==="NumpadEnter"){const E=d.store.getSelectedOptionIndex();d.store.dropdownOpened&&E!==-1?(S.preventDefault(),d.store.clickSelectedOption()):s==="button"&&(S.preventDefault(),d.store.openDropdown("keyboard"))}S.nativeEvent.code==="Escape"&&d.store.closeDropdown("keyboard"),S.nativeEvent.code==="Space"&&s==="button"&&(S.preventDefault(),d.store.toggleDropdown("keyboard"))}};return{...n?{"aria-haspopup":"listbox","aria-expanded":i&&!!(d.store.listId&&d.store.dropdownOpened)||void 0,"aria-controls":d.store.listId,"aria-activedescendant":d.store.dropdownOpened&&c||void 0,autoComplete:l,"data-expanded":d.store.dropdownOpened||void 0,"data-mantine-stop-propagation":d.store.dropdownOpened||void 0}:{},onKeyDown:b}}const G9={refProp:"ref",targetType:"input",withKeyboardNavigation:!0,withAriaAttributes:!0,withExpandedAttribute:!1,autoComplete:"off"},kz=En((e,t)=>{const{children:n,refProp:i,withKeyboardNavigation:s,withAriaAttributes:l,withExpandedAttribute:d,targetType:c,autoComplete:y,...b}=Kt("ComboboxEventsTarget",G9,e);if(!_g(n))throw new Error("Combobox.EventsTarget component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");const k=zs(),S=vk({targetType:c,withAriaAttributes:l,withKeyboardNavigation:s,withExpandedAttribute:d,onKeyDown:n.props.onKeyDown,autoComplete:y});return ce.cloneElement(n,{...S,...b,[i]:As(t,k.store.targetRef,n==null?void 0:n.ref)})});kz.displayName="@mantine/core/ComboboxEventsTarget";const K9={},bk=En((e,t)=>{const{classNames:n,className:i,style:s,styles:l,vars:d,...c}=Kt("ComboboxFooter",K9,e),y=zs();return J.createElement(ln,{ref:t,...y.getStyles("footer",{className:i,classNames:n,style:s,styles:l}),...c})});bk.classes=zo;bk.displayName="@mantine/core/ComboboxFooter";const X9={},_k=En((e,t)=>{const{classNames:n,className:i,style:s,styles:l,vars:d,children:c,label:y,...b}=Kt("ComboboxGroup",X9,e),k=zs();return J.createElement(ln,{ref:t,...k.getStyles("group",{className:i,classNames:n,style:s,styles:l}),...b},y&&J.createElement("div",{...k.getStyles("groupLabel",{classNames:n,styles:l})},y),c)});_k.classes=zo;_k.displayName="@mantine/core/ComboboxGroup";const Y9={},xk=En((e,t)=>{const{classNames:n,className:i,style:s,styles:l,vars:d,...c}=Kt("ComboboxHeader",Y9,e),y=zs();return J.createElement(ln,{ref:t,...y.getStyles("header",{className:i,classNames:n,style:s,styles:l}),...c})});xk.classes=zo;xk.displayName="@mantine/core/ComboboxHeader";function Ez({value:e,valuesDivider:t=",",...n}){return J.createElement("input",{type:"hidden",value:Array.isArray(e)?e.join(t):e||"",...n})}Ez.displayName="@mantine/core/ComboboxHiddenInput";const J9={},wk=En((e,t)=>{const n=Kt("ComboboxOption",J9,e),{classNames:i,className:s,style:l,styles:d,vars:c,onClick:y,id:b,active:k,onMouseDown:S,onMouseOver:E,disabled:A,selected:z,mod:N,...q}=n,F=zs(),$=ce.useId(),V=b||$;return J.createElement(ln,{...F.getStyles("option",{className:s,classNames:i,styles:d,style:l}),...q,ref:t,id:V,mod:["combobox-option",{"combobox-active":k,"combobox-disabled":A,"combobox-selected":z},N],role:"option",onClick:Z=>{var Q;A?Z.preventDefault():((Q=F.onOptionSubmit)==null||Q.call(F,n.value,n),y==null||y(Z))},onMouseDown:Z=>{Z.preventDefault(),S==null||S(Z)},onMouseOver:Z=>{F.resetSelectionOnOptionHover&&F.store.resetSelectedOption(),E==null||E(Z)}})});wk.classes=zo;wk.displayName="@mantine/core/ComboboxOption";const Q9={},Sk=En((e,t)=>{const n=Kt("ComboboxOptions",Q9,e),{classNames:i,className:s,style:l,styles:d,id:c,onMouseDown:y,labelledBy:b,...k}=n,S=zs(),E=wg(c);return ce.useEffect(()=>{S.store.setListId(E)},[E]),J.createElement(ln,{ref:t,...S.getStyles("options",{className:s,style:l,classNames:i,styles:d}),...k,id:E,role:"listbox","aria-labelledby":b,onMouseDown:A=>{A.preventDefault(),y==null||y(A)}})});Sk.classes=zo;Sk.displayName="@mantine/core/ComboboxOptions";const e7={withAriaAttributes:!0,withKeyboardNavigation:!0},kk=En((e,t)=>{const n=Kt("ComboboxSearch",e7,e),{classNames:i,styles:s,unstyled:l,vars:d,withAriaAttributes:c,onKeyDown:y,withKeyboardNavigation:b,size:k,...S}=n,E=zs(),A=E.getStyles("search"),z=vk({targetType:"input",withAriaAttributes:c,withKeyboardNavigation:b,withExpandedAttribute:!1,onKeyDown:y,autoComplete:"off"});return J.createElement(Mo,{ref:As(t,E.store.searchRef),classNames:[{input:A.className},i],styles:[{input:A.style},s],size:k||E.size,...z,...S,__staticSelector:"Combobox"})});kk.classes=zo;kk.displayName="@mantine/core/ComboboxSearch";const t7={refProp:"ref",targetType:"input",withKeyboardNavigation:!0,withAriaAttributes:!0,withExpandedAttribute:!1,autoComplete:"off"},Cz=En((e,t)=>{const{children:n,refProp:i,withKeyboardNavigation:s,withAriaAttributes:l,withExpandedAttribute:d,targetType:c,autoComplete:y,...b}=Kt("ComboboxTarget",t7,e);if(!_g(n))throw new Error("Combobox.Target component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");const k=zs(),S=vk({targetType:c,withAriaAttributes:l,withKeyboardNavigation:s,withExpandedAttribute:d,onKeyDown:n.props.onKeyDown,autoComplete:y}),E=ce.cloneElement(n,{...S,...b});return J.createElement(ru.Target,{ref:As(t,k.store.targetRef)},E)});Cz.displayName="@mantine/core/ComboboxTarget";function n7(e,t,n){for(let i=e-1;i>=0;i-=1)if(!t[i].hasAttribute("data-combobox-disabled"))return i;if(n){for(let i=t.length-1;i>-1;i-=1)if(!t[i].hasAttribute("data-combobox-disabled"))return i}return e}function i7(e,t,n){for(let i=e+1;i<t.length;i+=1)if(!t[i].hasAttribute("data-combobox-disabled"))return i;if(n){for(let i=0;i<t.length;i+=1)if(!t[i].hasAttribute("data-combobox-disabled"))return i}return e}function r7(e){for(let t=0;t<e.length;t+=1)if(!e[t].hasAttribute("data-combobox-disabled"))return t;return-1}function Tz({defaultOpened:e,opened:t,onOpenedChange:n,onDropdownClose:i,onDropdownOpen:s,loop:l=!0,scrollBehavior:d="instant"}={}){const[c,y]=y0({value:t,defaultValue:e,finalValue:!1,onChange:n}),b=ce.useRef(null),k=ce.useRef(-1),S=ce.useRef(null),E=ce.useRef(null),A=ce.useRef(-1),z=ce.useRef(-1),N=ce.useRef(-1),q=ce.useCallback(($e="unknown")=>{c||(y(!0),s==null||s($e))},[y,s,c]),F=ce.useCallback(($e="unknown")=>{c&&(y(!1),i==null||i($e))},[y,i,c]),$=ce.useCallback(($e="unknown")=>{c?F($e):q($e)},[F,q,c]),V=ce.useCallback(()=>{const $e=document.querySelector("#".concat(b.current," [data-combobox-selected]"));$e==null||$e.removeAttribute("data-combobox-selected"),$e==null||$e.removeAttribute("aria-selected")},[]),Z=ce.useCallback($e=>{const He=document.getElementById(b.current),we=He==null?void 0:He.querySelectorAll("[data-combobox-option]");if(!we)return null;const Ee=$e>=we.length?0:$e<0?we.length-1:$e;return k.current=Ee,we!=null&&we[Ee]&&!we[Ee].hasAttribute("data-combobox-disabled")?(V(),we[Ee].setAttribute("data-combobox-selected","true"),we[Ee].setAttribute("aria-selected","true"),we[Ee].scrollIntoView({block:"nearest",behavior:d}),we[Ee].id):null},[d,V]),Q=ce.useCallback(()=>{const $e=document.querySelector("#".concat(b.current," [data-combobox-active]"));if($e){const He=document.querySelectorAll("#".concat(b.current," [data-combobox-option]")),we=Array.from(He).findIndex(Ee=>Ee===$e);return Z(we)}return Z(0)},[Z]),fe=ce.useCallback(()=>Z(i7(k.current,document.querySelectorAll("#".concat(b.current," [data-combobox-option]")),l)),[Z,l]),oe=ce.useCallback(()=>Z(n7(k.current,document.querySelectorAll("#".concat(b.current," [data-combobox-option]")),l)),[Z,l]),re=ce.useCallback(()=>Z(r7(document.querySelectorAll("#".concat(b.current," [data-combobox-option]")))),[Z]),Be=ce.useCallback(($e="selected",He)=>{N.current=window.setTimeout(()=>{var Ie;const we=document.querySelectorAll("#".concat(b.current," [data-combobox-option]")),Ee=Array.from(we).findIndex(qe=>qe.hasAttribute("data-combobox-".concat($e)));k.current=Ee,He!=null&&He.scrollIntoView&&((Ie=we[Ee])==null||Ie.scrollIntoView({block:"nearest",behavior:d}))},0)},[]),Le=ce.useCallback(()=>{k.current=-1,V()},[V]),Fe=ce.useCallback(()=>{const $e=document.querySelectorAll("#".concat(b.current," [data-combobox-option]")),He=$e==null?void 0:$e[k.current];He==null||He.click()},[]),Ze=ce.useCallback($e=>{b.current=$e},[]),Pe=ce.useCallback(()=>{A.current=window.setTimeout(()=>S.current.focus(),0)},[]),De=ce.useCallback(()=>{z.current=window.setTimeout(()=>E.current.focus(),0)},[]),Oe=ce.useCallback(()=>k.current,[]);return ce.useEffect(()=>()=>{window.clearTimeout(A.current),window.clearTimeout(z.current),window.clearTimeout(N.current)},[]),{dropdownOpened:c,openDropdown:q,closeDropdown:F,toggleDropdown:$,selectedOptionIndex:k.current,getSelectedOptionIndex:Oe,selectOption:Z,selectFirstOption:re,selectActiveOption:Q,selectNextOption:fe,selectPreviousOption:oe,resetSelectedOption:Le,updateSelectedOptionIndex:Be,listId:b.current,setListId:Ze,clickSelectedOption:Fe,searchRef:S,focusSearchInput:Pe,targetRef:E,focusTarget:De}}const o7={keepMounted:!0,withinPortal:!0,resetSelectionOnOptionHover:!1,width:"target",transitionProps:{transition:"fade",duration:0}},s7=(e,{size:t,dropdownPadding:n})=>({options:{"--combobox-option-fz":ks(t),"--combobox-option-padding":nr(t,"combobox-option-padding")},dropdown:{"--combobox-padding":n===void 0?void 0:Qe(n),"--combobox-option-fz":ks(t),"--combobox-option-padding":nr(t,"combobox-option-padding")}});function oi(e){const t=Kt("Combobox",o7,e),{classNames:n,styles:i,unstyled:s,children:l,store:d,vars:c,onOptionSubmit:y,onClose:b,size:k,dropdownPadding:S,resetSelectionOnOptionHover:E,__staticSelector:A,readOnly:z,...N}=t,q=Tz(),F=d||q,$=Qn({name:A||"Combobox",classes:zo,props:t,classNames:n,styles:i,unstyled:s,vars:c,varsResolver:s7}),V=()=>{b==null||b(),F.closeDropdown()};return J.createElement(H9,{value:{getStyles:$,store:F,onOptionSubmit:y,size:k,resetSelectionOnOptionHover:E,readOnly:z}},J.createElement(ru,{opened:F.dropdownOpened,...N,onClose:V,withRoles:!1,unstyled:s},l))}const a7=e=>e;oi.extend=a7;oi.classes=zo;oi.displayName="@mantine/core/Combobox";oi.Target=Cz;oi.Dropdown=gk;oi.Options=Sk;oi.Option=wk;oi.Search=kk;oi.Empty=yk;oi.Chevron=mk;oi.Footer=bk;oi.Header=xk;oi.EventsTarget=kz;oi.DropdownTarget=Sz;oi.Group=_k;oi.ClearButton=wz;oi.HiddenInput=Ez;function l7({size:e,style:t,...n}){const i=e!==void 0?{width:Qe(e),height:Qe(e),...t}:t;return J.createElement("svg",{viewBox:"0 0 10 7",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:i,"aria-hidden":!0,...n},J.createElement("path",{d:"M4 4.586L1.707 2.293A1 1 0 1 0 .293 3.707l3 3a.997.997 0 0 0 1.414 0l5-5A1 1 0 1 0 8.293.293L4 4.586z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"}))}function $m(e){return"group"in e}function Iz({options:e,search:t,limit:n}){const i=t.trim().toLowerCase(),s=[];for(let l=0;l<e.length;l+=1){const d=e[l];if(s.length===n)return s;$m(d)&&s.push({group:d.group,items:Iz({options:d.items,search:t,limit:n-s.length})}),$m(d)||d.label.toLowerCase().includes(i)&&s.push(d)}return s}function c7(e){if(e.length===0)return!0;for(const t of e)if(!("group"in t)||t.items.length>0)return!1;return!0}function Pz(e,t=new Set){if(Array.isArray(e))for(const n of e)if($m(n))Pz(n.items,t);else{if(typeof n.value>"u")throw new Error("[@mantine/core] Each option must have value property");if(typeof n.value!="string")throw new Error("[@mantine/core] Option value must be a string, other data formats are not supported, got ".concat(typeof n.value));if(t.has(n.value))throw new Error('[@mantine/core] Duplicate options are not supported. Option with value "'.concat(n.value,'" was provided more than once'));t.add(n.value)}}function u7(e,t){return Array.isArray(e)?e.includes(t):e===t}function Az({data:e,withCheckIcon:t,value:n,checkIconPosition:i,unstyled:s,renderOption:l}){if(!$m(e)){const c=u7(n,e.value),y=t&&c&&J.createElement(l7,{className:zo.optionsDropdownCheckIcon}),b=J.createElement(J.Fragment,null,i==="left"&&y,J.createElement("span",null,e.label),i==="right"&&y);return J.createElement(oi.Option,{value:e.value,disabled:e.disabled,className:$a({[zo.optionsDropdownOption]:!s}),"data-reverse":i==="right"||void 0,"data-checked":c||void 0,"aria-selected":c,active:c},typeof l=="function"?l({option:e,checked:c}):b)}const d=e.items.map(c=>J.createElement(Az,{data:c,value:n,key:c.value,unstyled:s,withCheckIcon:t,checkIconPosition:i}));return J.createElement(oi.Group,{label:e.group},d)}function d7({data:e,hidden:t,hiddenWhenEmpty:n,filter:i,search:s,limit:l,maxDropdownHeight:d,withScrollArea:c=!0,filterOptions:y=!0,withCheckIcon:b=!1,value:k,checkIconPosition:S,nothingFoundMessage:E,unstyled:A,labelId:z,renderOption:N,scrollAreaProps:q}){Pz(e);const $=typeof s=="string"?(i||Iz)({options:e,search:y?s:"",limit:l!=null?l:1/0}):e,V=c7($),Z=$.map(Q=>J.createElement(Az,{data:Q,key:$m(Q)?Q.group:Q.value,withCheckIcon:b,value:k,checkIconPosition:S,unstyled:A,renderOption:N}));return J.createElement(oi.Dropdown,{hidden:t||n&&V},J.createElement(oi.Options,{labelledBy:z},c?J.createElement(Ag.Autosize,{mah:d!=null?d:220,type:"scroll",scrollbarSize:"var(--combobox-padding)",offsetScrollbars:"y",...q},Z):Z,V&&E&&J.createElement(oi.Empty,null,E)))}const h7={},Ek=En((e,t)=>{const n=Kt("Autocomplete",h7,e),{classNames:i,styles:s,unstyled:l,vars:d,dropdownOpened:c,defaultDropdownOpened:y,onDropdownClose:b,onDropdownOpen:k,onFocus:S,onBlur:E,onClick:A,onChange:z,data:N,value:q,defaultValue:F,selectFirstOptionOnChange:$,onOptionSubmit:V,comboboxProps:Z,readOnly:Q,disabled:fe,filter:oe,limit:re,withScrollArea:Be,maxDropdownHeight:Le,size:Fe,id:Ze,renderOption:Pe,autoComplete:De,scrollAreaProps:Oe,...$e}=n,He=wg(Ze),we=j9(N),Ee=xz(we),[Ie,qe]=y0({value:q,defaultValue:F,finalValue:"",onChange:z}),Ye=Tz({opened:c,defaultOpened:y,onDropdownOpen:k,onDropdownClose:()=>{b==null||b(),Ye.resetSelectedOption()}}),{resolvedClassNames:yt,resolvedStyles:wt}=A4({props:n,styles:s,classNames:i});return ce.useEffect(()=>{$&&Ye.selectFirstOption()},[$,Ie]),J.createElement(oi,{store:Ye,__staticSelector:"Autocomplete",classNames:yt,styles:wt,unstyled:l,readOnly:Q,onOptionSubmit:Mt=>{V==null||V(Mt),qe(Ee[Mt].label),Ye.closeDropdown()},size:Fe,...Z},J.createElement(oi.Target,{autoComplete:De},J.createElement(Rl,{ref:t,...$e,size:Fe,__staticSelector:"Autocomplete",disabled:fe,readOnly:Q,value:Ie,onChange:Mt=>{qe(Mt.currentTarget.value),Ye.openDropdown(),$&&Ye.selectFirstOption()},onFocus:Mt=>{Ye.openDropdown(),S==null||S(Mt)},onBlur:Mt=>{Ye.closeDropdown(),E==null||E(Mt)},onClick:Mt=>{Ye.openDropdown(),A==null||A(Mt)},classNames:yt,styles:wt,unstyled:l,id:He})),J.createElement(d7,{data:we,hidden:Q||fe,filter:oe,search:Ie,limit:re,hiddenWhenEmpty:!0,withScrollArea:Be,maxDropdownHeight:Le,unstyled:l,labelId:"".concat(He,"-label"),renderOption:Pe,scrollAreaProps:Oe}))});Ek.classes={...Rl.classes,...oi.classes};Ek.displayName="@mantine/core/Autocomplete";const Rz=ce.createContext(null),f7=Rz.Provider;function p7(){return{withinGroup:!!ce.useContext(Rz)}}var U0={group:"m-11def92b",root:"m-f85678b6",image:"m-11f8ac07",placeholder:"m-104cd71f"};const m7={},g7=(e,{spacing:t})=>({group:{"--ag-spacing":Q6(t)}}),Ck=En((e,t)=>{const n=Kt("AvatarGroup",m7,e),{classNames:i,className:s,style:l,styles:d,unstyled:c,vars:y,spacing:b,...k}=n,S=Qn({name:"AvatarGroup",classes:U0,props:n,className:s,style:l,classNames:i,styles:d,unstyled:c,vars:y,varsResolver:g7,rootSelector:"group"});return J.createElement(f7,{value:!0},J.createElement(ln,{ref:t,...S("group"),...k}))});Ck.classes=U0;Ck.displayName="@mantine/core/AvatarGroup";function y7(e){return J.createElement("svg",{...e,"data-avatar-placeholder-icon":!0,viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},J.createElement("path",{d:"M0.877014 7.49988C0.877014 3.84219 3.84216 0.877045 7.49985 0.877045C11.1575 0.877045 14.1227 3.84219 14.1227 7.49988C14.1227 11.1575 11.1575 14.1227 7.49985 14.1227C3.84216 14.1227 0.877014 11.1575 0.877014 7.49988ZM7.49985 1.82704C4.36683 1.82704 1.82701 4.36686 1.82701 7.49988C1.82701 8.97196 2.38774 10.3131 3.30727 11.3213C4.19074 9.94119 5.73818 9.02499 7.50023 9.02499C9.26206 9.02499 10.8093 9.94097 11.6929 11.3208C12.6121 10.3127 13.1727 8.97172 13.1727 7.49988C13.1727 4.36686 10.6328 1.82704 7.49985 1.82704ZM10.9818 11.9787C10.2839 10.7795 8.9857 9.97499 7.50023 9.97499C6.01458 9.97499 4.71624 10.7797 4.01845 11.9791C4.97952 12.7272 6.18765 13.1727 7.49985 13.1727C8.81227 13.1727 10.0206 12.727 10.9818 11.9787ZM5.14999 6.50487C5.14999 5.207 6.20212 4.15487 7.49999 4.15487C8.79786 4.15487 9.84999 5.207 9.84999 6.50487C9.84999 7.80274 8.79786 8.85487 7.49999 8.85487C6.20212 8.85487 5.14999 7.80274 5.14999 6.50487ZM7.49999 5.10487C6.72679 5.10487 6.09999 5.73167 6.09999 6.50487C6.09999 7.27807 6.72679 7.90487 7.49999 7.90487C8.27319 7.90487 8.89999 7.27807 8.89999 6.50487C8.89999 5.73167 8.27319 5.10487 7.49999 5.10487Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"}))}const v7={},b7=(e,{size:t,radius:n,variant:i,gradient:s,color:l,autoContrast:d})=>{const c=e.variantColorResolver({color:l||"gray",theme:e,gradient:s,variant:i||"light",autoContrast:d});return{root:{"--avatar-size":nr(t,"avatar-size"),"--avatar-radius":n===void 0?void 0:pd(n),"--avatar-bg":l||i?c.background:void 0,"--avatar-color":l||i?c.color:void 0,"--avatar-bd":l||i?c.border:void 0}}},Og=Il((e,t)=>{const n=Kt("Avatar",v7,e),{classNames:i,className:s,style:l,styles:d,unstyled:c,vars:y,src:b,alt:k,radius:S,color:E,gradient:A,imageProps:z,children:N,autoContrast:q,mod:F,...$}=n,V=p7(),[Z,Q]=ce.useState(!b),fe=Qn({name:"Avatar",props:n,classes:U0,className:s,style:l,classNames:i,styles:d,unstyled:c,vars:y,varsResolver:b7});return ce.useEffect(()=>Q(!b),[b]),J.createElement(ln,{...fe("root"),mod:[{"within-group":V.withinGroup},F],ref:t,...$},Z?J.createElement("span",{...fe("placeholder"),title:k},N||J.createElement(y7,null)):J.createElement("img",{...z,...fe("image"),src:b,alt:k,onError:oe=>{var re;Q(!0),(re=z==null?void 0:z.onError)==null||re.call(z,oe)}}))});Og.classes=U0;Og.displayName="@mantine/core/Avatar";Og.Group=Ck;var H0={root:"m-77c9d27d",inner:"m-80f1301b",label:"m-811560b9",section:"m-a74036a",loader:"m-a25b86ee",group:"m-80d6d844"};const dP={orientation:"horizontal"},_7=(e,{borderWidth:t})=>({group:{"--button-border-width":Qe(t)}}),Tk=En((e,t)=>{const n=Kt("ButtonGroup",dP,e),{className:i,style:s,classNames:l,styles:d,unstyled:c,orientation:y,vars:b,borderWidth:k,variant:S,mod:E,...A}=Kt("ButtonGroup",dP,e),z=Qn({name:"ButtonGroup",props:n,classes:H0,className:i,style:s,classNames:l,styles:d,unstyled:c,vars:b,varsResolver:_7,rootSelector:"group"});return J.createElement(ln,{...z("group"),ref:t,variant:S,mod:[{"data-orientation":y},E],role:"group",...A})});Tk.classes=H0;Tk.displayName="@mantine/core/ButtonGroup";const x7={in:{opacity:1,transform:"translate(-50%, calc(-50% + ".concat(Qe(1),"))")},out:{opacity:0,transform:"translate(-50%, -200%)"},common:{transformOrigin:"center"},transitionProperty:"transform, opacity"},w7={},S7=(e,{radius:t,color:n,gradient:i,variant:s,size:l,justify:d,autoContrast:c})=>{const y=e.variantColorResolver({color:n||e.primaryColor,theme:e,gradient:i,variant:s||"filled",autoContrast:c});return{root:{"--button-justify":d,"--button-height":nr(l,"button-height"),"--button-padding-x":nr(l,"button-padding-x"),"--button-fz":l!=null&&l.includes("compact")?ks(l.replace("compact-","")):ks(l),"--button-radius":t===void 0?void 0:pd(t),"--button-bg":n||s?y.background:void 0,"--button-hover":n||s?y.hover:void 0,"--button-color":y.color,"--button-bd":n||s?y.border:void 0,"--button-hover-color":n||s?y.hoverColor:void 0}}},q0=Il((e,t)=>{const n=Kt("Button",w7,e),{style:i,vars:s,className:l,color:d,disabled:c,children:y,leftSection:b,rightSection:k,fullWidth:S,variant:E,radius:A,loading:z,loaderProps:N,gradient:q,classNames:F,styles:$,unstyled:V,"data-disabled":Z,autoContrast:Q,mod:fe,...oe}=n,re=Qn({name:"Button",props:n,classes:H0,className:l,style:i,classNames:F,styles:$,unstyled:V,vars:s,varsResolver:S7}),Be=!!b,Le=!!k;return J.createElement(Rg,{ref:t,...re("root",{active:!c&&!z&&!Z}),unstyled:V,variant:E,disabled:c||z,mod:[{disabled:c||Z,loading:z,block:S,"with-left-section":Be,"with-right-section":Le},fe],...oe},J.createElement(zg,{mounted:!!z,transition:x7,duration:150},Fe=>J.createElement(ln,{component:"span",...re("loader",{style:Fe}),"aria-hidden":!0},J.createElement(vd,{color:"var(--button-color)",size:"calc(var(--button-height) / 1.8)",...N}))),J.createElement("span",{...re("inner")},b&&J.createElement(ln,{component:"span",...re("section"),mod:{position:"left"}},b),J.createElement(ln,{component:"span",mod:{loading:z},...re("label")},y),k&&J.createElement(ln,{component:"span",...re("section"),mod:{position:"right"}},k)))});q0.classes=H0;q0.displayName="@mantine/core/Button";q0.Group=Tk;var Mz={root:"m-3eebeb36",label:"m-9e365f20"};const k7={orientation:"horizontal"},E7=(e,{color:t,variant:n,size:i})=>({root:{"--divider-color":t?vm(t,e):void 0,"--divider-border-style":n,"--divider-size":nr(i,"divider-size")}}),W0=En((e,t)=>{const n=Kt("Divider",k7,e),{classNames:i,className:s,style:l,styles:d,unstyled:c,vars:y,color:b,orientation:k,label:S,labelPosition:E,mod:A,...z}=n,N=Qn({name:"Divider",classes:Mz,props:n,className:s,style:l,classNames:i,styles:d,unstyled:c,vars:y,varsResolver:E7});return J.createElement(ln,{ref:t,mod:[{orientation:k,"with-label":!!S},A],...N("root"),...z,role:"separator"},S&&J.createElement(ln,{component:"span",mod:{position:E},...N("label")},S))});W0.classes=Mz;W0.displayName="@mantine/core/Divider";function uo(){return uo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},uo.apply(this,arguments)}function Ik(e,t){if(e==null)return{};var n={},i=Object.keys(e),s,l;for(l=0;l<i.length;l++)s=i[l],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}var C7=ce.useLayoutEffect,T7=function(t){var n=ce.useRef(t);return C7(function(){n.current=t}),n},hP=function(t,n){if(typeof t=="function"){t(n);return}t.current=n},I7=function(t,n){var i=ce.useRef();return ce.useCallback(function(s){t.current=s,i.current&&hP(i.current,null),i.current=n,n&&hP(n,s)},[n])},fP={"min-height":"0","max-height":"none",height:"0",visibility:"hidden",overflow:"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0"},P7=function(t){Object.keys(fP).forEach(function(n){t.style.setProperty(n,fP[n],"important")})},pP=P7,oo=null,mP=function(t,n){var i=t.scrollHeight;return n.sizingStyle.boxSizing==="border-box"?i+n.borderSize:i-n.paddingSize};function A7(e,t,n,i){n===void 0&&(n=1),i===void 0&&(i=1/0),oo||(oo=document.createElement("textarea"),oo.setAttribute("tabindex","-1"),oo.setAttribute("aria-hidden","true"),pP(oo)),oo.parentNode===null&&document.body.appendChild(oo);var s=e.paddingSize,l=e.borderSize,d=e.sizingStyle,c=d.boxSizing;Object.keys(d).forEach(function(E){var A=E;oo.style[A]=d[A]}),pP(oo),oo.value=t;var y=mP(oo,e);oo.value=t,y=mP(oo,e),oo.value="x";var b=oo.scrollHeight-s,k=b*n;c==="border-box"&&(k=k+s+l),y=Math.max(k,y);var S=b*i;return c==="border-box"&&(S=S+s+l),y=Math.min(S,y),[y,b]}var gP=function(){},R7=function(t,n){return t.reduce(function(i,s){return i[s]=n[s],i},{})},M7=["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth","boxSizing","fontFamily","fontSize","fontStyle","fontWeight","letterSpacing","lineHeight","paddingBottom","paddingLeft","paddingRight","paddingTop","tabSize","textIndent","textRendering","textTransform","width","wordBreak"],z7=!!document.documentElement.currentStyle,L7=function(t){var n=window.getComputedStyle(t);if(n===null)return null;var i=R7(M7,n),s=i.boxSizing;if(s==="")return null;z7&&s==="border-box"&&(i.width=parseFloat(i.width)+parseFloat(i.borderRightWidth)+parseFloat(i.borderLeftWidth)+parseFloat(i.paddingRight)+parseFloat(i.paddingLeft)+"px");var l=parseFloat(i.paddingBottom)+parseFloat(i.paddingTop),d=parseFloat(i.borderBottomWidth)+parseFloat(i.borderTopWidth);return{sizingStyle:i,paddingSize:l,borderSize:d}},O7=L7;function zz(e,t,n){var i=T7(n);ce.useLayoutEffect(function(){var s=function(d){return i.current(d)};if(e)return e.addEventListener(t,s),function(){return e.removeEventListener(t,s)}},[])}var D7=function(t){zz(window,"resize",t)},$7=function(t){zz(document.fonts,"loadingdone",t)},B7=["cacheMeasurements","maxRows","minRows","onChange","onHeightChange"],F7=function(t,n){var i=t.cacheMeasurements,s=t.maxRows,l=t.minRows,d=t.onChange,c=d===void 0?gP:d,y=t.onHeightChange,b=y===void 0?gP:y,k=Ik(t,B7),S=k.value!==void 0,E=ce.useRef(null),A=I7(E,n),z=ce.useRef(0),N=ce.useRef(),q=function(){var V=E.current,Z=i&&N.current?N.current:O7(V);if(Z){N.current=Z;var Q=A7(Z,V.value||V.placeholder||"x",l,s),fe=Q[0],oe=Q[1];z.current!==fe&&(z.current=fe,V.style.setProperty("height",fe+"px","important"),b(fe,{rowHeight:oe}))}},F=function(V){S||q(),c(V)};return ce.useLayoutEffect(q),D7(q),$7(q),ce.createElement("textarea",uo({},k,{onChange:F,ref:A}))},N7=ce.forwardRef(F7);const j7={},Pk=En((e,t)=>{const{autosize:n,maxRows:i,minRows:s,__staticSelector:l,resize:d,...c}=Kt("Textarea",j7,e),y=n&&_8()!=="test",b=y?{maxRows:i,minRows:s}:{};return J.createElement(Rl,{component:y?N7:"textarea",ref:t,...c,__staticSelector:l||"Textarea",multiline:!0,"data-no-overflow":n&&i===void 0||void 0,__vars:{"--input-resize":d},...b})});Pk.classes=Rl.classes;Pk.displayName="@mantine/core/Textarea";var Lz={root:"m-6e45937b",loader:"m-e8eb006c",overlay:"m-df587f17"};const yP={transitionProps:{transition:"fade",duration:0},overlayProps:{backgroundOpacity:.75},zIndex:tS("overlay")},V7=(e,{zIndex:t})=>({root:{"--lo-z-index":t==null?void 0:t.toString()}}),Ak=En((e,t)=>{const n=Kt("LoadingOverlay",yP,e),{classNames:i,className:s,style:l,styles:d,unstyled:c,vars:y,transitionProps:b,loaderProps:k,overlayProps:S,visible:E,zIndex:A,...z}=n,N=eu(),q=Qn({name:"LoadingOverlay",classes:Lz,props:n,className:s,style:l,classNames:i,styles:d,unstyled:c,vars:y,varsResolver:V7}),F={...yP.overlayProps,...S};return J.createElement(zg,{transition:"fade",...b,mounted:!!E},$=>J.createElement(ln,{...q("root",{style:$}),ref:t,...z},J.createElement(vd,{...q("loader"),unstyled:c,...k}),J.createElement(Lb,{...F,...q("overlay"),darkHidden:!0,unstyled:c,color:(S==null?void 0:S.color)||N.white}),J.createElement(Lb,{...F,...q("overlay"),lightHidden:!0,unstyled:c,color:(S==null?void 0:S.color)||N.colors.dark[5]})))});Ak.classes=Lz;Ak.displayName="@mantine/core/LoadingOverlay";const U7=({reveal:e})=>J.createElement("svg",{viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{width:"var(--psi-icon-size)",height:"var(--psi-icon-size)"}},J.createElement("path",{d:e?"M13.3536 2.35355C13.5488 2.15829 13.5488 1.84171 13.3536 1.64645C13.1583 1.45118 12.8417 1.45118 12.6464 1.64645L10.6828 3.61012C9.70652 3.21671 8.63759 3 7.5 3C4.30786 3 1.65639 4.70638 0.0760002 7.23501C-0.0253338 7.39715 -0.0253334 7.60288 0.0760014 7.76501C0.902945 9.08812 2.02314 10.1861 3.36061 10.9323L1.64645 12.6464C1.45118 12.8417 1.45118 13.1583 1.64645 13.3536C1.84171 13.5488 2.15829 13.5488 2.35355 13.3536L4.31723 11.3899C5.29348 11.7833 6.36241 12 7.5 12C10.6921 12 13.3436 10.2936 14.924 7.76501C15.0253 7.60288 15.0253 7.39715 14.924 7.23501C14.0971 5.9119 12.9769 4.81391 11.6394 4.06771L13.3536 2.35355ZM9.90428 4.38861C9.15332 4.1361 8.34759 4 7.5 4C4.80285 4 2.52952 5.37816 1.09622 7.50001C1.87284 8.6497 2.89609 9.58106 4.09974 10.1931L9.90428 4.38861ZM5.09572 10.6114L10.9003 4.80685C12.1039 5.41894 13.1272 6.35031 13.9038 7.50001C12.4705 9.62183 10.1971 11 7.5 11C6.65241 11 5.84668 10.8639 5.09572 10.6114Z":"M7.5 11C4.80285 11 2.52952 9.62184 1.09622 7.50001C2.52952 5.37816 4.80285 4 7.5 4C10.1971 4 12.4705 5.37816 13.9038 7.50001C12.4705 9.62183 10.1971 11 7.5 11ZM7.5 3C4.30786 3 1.65639 4.70638 0.0760002 7.23501C-0.0253338 7.39715 -0.0253334 7.60288 0.0760014 7.76501C1.65639 10.2936 4.30786 12 7.5 12C10.6921 12 13.3436 10.2936 14.924 7.76501C15.0253 7.60288 15.0253 7.39715 14.924 7.23501C13.3436 4.70638 10.6921 3 7.5 3ZM7.5 9.5C8.60457 9.5 9.5 8.60457 9.5 7.5C9.5 6.39543 8.60457 5.5 7.5 5.5C6.39543 5.5 5.5 6.39543 5.5 7.5C5.5 8.60457 6.39543 9.5 7.5 9.5Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"}));var Hw={root:"m-f61ca620",input:"m-ccf8da4c",innerInput:"m-f2d85dd2",visibilityToggle:"m-b1072d44"};const H7={visibilityToggleIcon:U7},q7=(e,{size:t})=>({root:{"--psi-icon-size":nr(t,"psi-icon-size"),"--psi-button-size":nr(t,"psi-button-size")}}),df=En((e,t)=>{const n=Kt("PasswordInput",H7,e),{classNames:i,className:s,style:l,styles:d,unstyled:c,vars:y,required:b,error:k,leftSection:S,disabled:E,id:A,variant:z,inputContainer:N,description:q,label:F,size:$,errorProps:V,descriptionProps:Z,labelProps:Q,withAsterisk:fe,inputWrapperOrder:oe,wrapperProps:re,radius:Be,rightSection:Le,rightSectionWidth:Fe,rightSectionPointerEvents:Ze,leftSectionWidth:Pe,visible:De,defaultVisible:Oe,onVisibilityChange:$e,visibilityToggleIcon:He,visibilityToggleButtonProps:we,rightSectionProps:Ee,leftSectionProps:Ie,leftSectionPointerEvents:qe,mod:Ye,...yt}=n,wt=wg(A),[Mt,Ft]=y0({value:De,defaultValue:Oe,finalValue:!1,onChange:$e}),Yt=()=>Ft(!Mt),vn=Qn({name:"PasswordInput",classes:Hw,props:n,className:s,style:l,classNames:i,styles:d,unstyled:c,vars:y,varsResolver:q7}),{resolvedClassNames:ei,resolvedStyles:Mi}=A4({classNames:i,styles:d,props:n}),{styleProps:ir,rest:ot}=b0(yt),$t=He,Ct=J.createElement(Lg,{...vn("visibilityToggle"),disabled:E,radius:Be,"aria-hidden":!we,tabIndex:-1,...we,variant:"subtle",color:"gray",unstyled:c,onMouseDown:zt=>{var Rn;zt.preventDefault(),(Rn=we==null?void 0:we.onMouseDown)==null||Rn.call(we,zt),Yt()},onKeyDown:zt=>{var Rn;(Rn=we==null?void 0:we.onKeyDown)==null||Rn.call(we,zt),zt.key===" "&&(zt.preventDefault(),Yt())}},J.createElement($t,{reveal:Mt}));return J.createElement(Mo.Wrapper,{required:b,id:wt,label:F,error:k,description:q,size:$,classNames:ei,styles:Mi,__staticSelector:"PasswordInput",errorProps:V,descriptionProps:Z,unstyled:c,withAsterisk:fe,inputWrapperOrder:oe,inputContainer:N,variant:z,labelProps:{...Q,htmlFor:wt},mod:Ye,...vn("root"),...ir,...re},J.createElement(Mo,{component:"div",error:k,leftSection:S,size:$,classNames:{...ei,input:$a(Hw.input,ei.input)},styles:Mi,radius:Be,disabled:E,__staticSelector:"PasswordInput",rightSectionWidth:Fe,rightSection:Le!=null?Le:Ct,variant:z,unstyled:c,leftSectionWidth:Pe,rightSectionPointerEvents:Ze||"all",rightSectionProps:Ee,leftSectionProps:Ie,leftSectionPointerEvents:qe,withAria:!1},J.createElement("input",{required:b,"data-invalid":!!k||void 0,"data-with-left-section":!!S||void 0,...vn("innerInput"),disabled:E,id:wt,ref:t,...ot,autoComplete:ot.autoComplete||"off",type:Mt?"text":"password"})))});df.classes={...Rl.classes,...Hw};df.displayName="@mantine/core/PasswordInput";const W7={},kl=En((e,t)=>{const{w:n,h:i,miw:s,mih:l,...d}=Kt("Space",W7,e);return J.createElement(ln,{ref:t,...d,w:n,miw:s!=null?s:n,h:i,mih:l!=null?l:i})});kl.displayName="@mantine/core/Space";const Z7={},$u=En((e,t)=>{const n=Kt("TextInput",Z7,e);return J.createElement(Rl,{component:"input",ref:t,...n,__staticSelector:"TextInput"})});$u.classes=Rl.classes;$u.displayName="@mantine/core/TextInput";const G7=["h1","h2","h3","h4","h5","h6"];function K7(e,t){const n=t!==void 0?t:"h".concat(e);return G7.includes(n)?{fontSize:"var(--mantine-".concat(n,"-font-size)"),fontWeight:"var(--mantine-".concat(n,"-font-weight)"),lineHeight:"var(--mantine-".concat(n,"-line-height)")}:{fontSize:Qe(n),fontWeight:"var(--mantine-h".concat(e,"-font-weight)"),lineHeight:"var(--mantine-h".concat(e,"-line-height)")}}var Oz={root:"m-8a5d1357"};const X7={order:1},Y7=(e,{order:t,size:n,lineClamp:i,textWrap:s})=>{const l=K7(t,n);return{root:{"--title-fw":l.fontWeight,"--title-lh":l.lineHeight,"--title-fz":l.fontSize,"--title-line-clamp":typeof i=="number"?i.toString():void 0,"--title-text-wrap":s}}},Z0=En((e,t)=>{const n=Kt("Title",X7,e),{classNames:i,className:s,style:l,styles:d,unstyled:c,order:y,vars:b,size:k,variant:S,lineClamp:E,textWrap:A,mod:z,...N}=n,q=Qn({name:"Title",props:n,classes:Oz,className:s,style:l,classNames:i,styles:d,unstyled:c,vars:b,varsResolver:Y7});return[1,2,3,4,5,6].includes(y)?J.createElement(ln,{...q("root"),component:"h".concat(y),variant:S,ref:t,mod:[{order:y,"data-line-clamp":typeof E=="number"},z],size:k,...N}):null});Z0.classes=Oz;Z0.displayName="@mantine/core/Title";var Cf=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},hf=typeof window>"u"||"Deno"in globalThis;function bs(){}function J7(e,t){return typeof e=="function"?e(t):e}function qw(e){return typeof e=="number"&&e>=0&&e!==1/0}function Dz(e,t){return Math.max(e+(t||0)-Date.now(),0)}function vP(e,t){const{type:n="all",exact:i,fetchStatus:s,predicate:l,queryKey:d,stale:c}=e;if(d){if(i){if(t.queryHash!==Rk(d,t.options))return!1}else if(!Bm(t.queryKey,d))return!1}if(n!=="all"){const y=t.isActive();if(n==="active"&&!y||n==="inactive"&&y)return!1}return!(typeof c=="boolean"&&t.isStale()!==c||s&&s!==t.state.fetchStatus||l&&!l(t))}function bP(e,t){const{exact:n,status:i,predicate:s,mutationKey:l}=e;if(l){if(!t.options.mutationKey)return!1;if(n){if(rd(t.options.mutationKey)!==rd(l))return!1}else if(!Bm(t.options.mutationKey,l))return!1}return!(i&&t.state.status!==i||s&&!s(t))}function Rk(e,t){return((t==null?void 0:t.queryKeyHashFn)||rd)(e)}function rd(e){return JSON.stringify(e,(t,n)=>Ww(n)?Object.keys(n).sort().reduce((i,s)=>(i[s]=n[s],i),{}):n)}function Bm(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?!Object.keys(t).some(n=>!Bm(e[n],t[n])):!1}function $z(e,t){if(e===t)return e;const n=_P(e)&&_P(t);if(n||Ww(e)&&Ww(t)){const i=n?e:Object.keys(e),s=i.length,l=n?t:Object.keys(t),d=l.length,c=n?[]:{};let y=0;for(let b=0;b<d;b++){const k=n?b:l[b];!n&&e[k]===void 0&&t[k]===void 0&&i.includes(k)?(c[k]=void 0,y++):(c[k]=$z(e[k],t[k]),c[k]===e[k]&&e[k]!==void 0&&y++)}return s===d&&y===s?e:c}return t}function Db(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function _P(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Ww(e){if(!xP(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!xP(n)||!n.hasOwnProperty("isPrototypeOf"))}function xP(e){return Object.prototype.toString.call(e)==="[object Object]"}function Q7(e){return new Promise(t=>{setTimeout(t,e)})}function Zw(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?$z(e,t):t}function eV(e,t,n=0){const i=[...e,t];return n&&i.length>n?i.slice(1):i}function tV(e,t,n=0){const i=[t,...e];return n&&i.length>n?i.slice(0,-1):i}var Mk=Symbol(),Nu,mc,Bh,LR,nV=(LR=class extends Cf{constructor(){super();Ot(this,Nu,void 0);Ot(this,mc,void 0);Ot(this,Bh,void 0);St(this,Bh,t=>{if(!hf&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){_e(this,mc)||this.setEventListener(_e(this,Bh))}onUnsubscribe(){var t;this.hasListeners()||((t=_e(this,mc))==null||t.call(this),St(this,mc,void 0))}setEventListener(t){var n;St(this,Bh,t),(n=_e(this,mc))==null||n.call(this),St(this,mc,t(i=>{typeof i=="boolean"?this.setFocused(i):this.onFocus()}))}setFocused(t){_e(this,Nu)!==t&&(St(this,Nu,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof _e(this,Nu)=="boolean"?_e(this,Nu):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Nu=new WeakMap,mc=new WeakMap,Bh=new WeakMap,LR),zk=new nV,Fh,gc,Nh,OR,iV=(OR=class extends Cf{constructor(){super();Ot(this,Fh,!0);Ot(this,gc,void 0);Ot(this,Nh,void 0);St(this,Nh,t=>{if(!hf&&window.addEventListener){const n=()=>t(!0),i=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",i,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",i)}}})}onSubscribe(){_e(this,gc)||this.setEventListener(_e(this,Nh))}onUnsubscribe(){var t;this.hasListeners()||((t=_e(this,gc))==null||t.call(this),St(this,gc,void 0))}setEventListener(t){var n;St(this,Nh,t),(n=_e(this,gc))==null||n.call(this),St(this,gc,t(this.setOnline.bind(this)))}setOnline(t){_e(this,Fh)!==t&&(St(this,Fh,t),this.listeners.forEach(i=>{i(t)}))}isOnline(){return _e(this,Fh)}},Fh=new WeakMap,gc=new WeakMap,Nh=new WeakMap,OR),$b=new iV;function rV(e){return Math.min(1e3*2**e,3e4)}function Lk(e){return(e!=null?e:"online")==="online"?$b.isOnline():!0}var Bz=class{constructor(e){this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function u1(e){return e instanceof Bz}function Fz(e){let t=!1,n=0,i=!1,s,l,d;const c=new Promise((q,F)=>{l=q,d=F}),y=q=>{var F;i||(A(new Bz(q)),(F=e.abort)==null||F.call(e))},b=()=>{t=!0},k=()=>{t=!1},S=()=>!zk.isFocused()||e.networkMode!=="always"&&!$b.isOnline(),E=q=>{var F;i||(i=!0,(F=e.onSuccess)==null||F.call(e,q),s==null||s(),l(q))},A=q=>{var F;i||(i=!0,(F=e.onError)==null||F.call(e,q),s==null||s(),d(q))},z=()=>new Promise(q=>{var F;s=$=>{const V=i||!S();return V&&q($),V},(F=e.onPause)==null||F.call(e)}).then(()=>{var q;s=void 0,i||(q=e.onContinue)==null||q.call(e)}),N=()=>{if(i)return;let q;try{q=e.fn()}catch(F){q=Promise.reject(F)}Promise.resolve(q).then(E).catch(F=>{var fe,oe,re;if(i)return;const $=(fe=e.retry)!=null?fe:hf?0:3,V=(oe=e.retryDelay)!=null?oe:rV,Z=typeof V=="function"?V(n,F):V,Q=$===!0||typeof $=="number"&&n<$||typeof $=="function"&&$(n,F);if(t||!Q){A(F);return}n++,(re=e.onFail)==null||re.call(e,n,F),Q7(Z).then(()=>{if(S())return z()}).then(()=>{t?A(F):N()})})};return Lk(e.networkMode)?N():z().then(N),{promise:c,cancel:y,continue:()=>(s==null?void 0:s())?c:Promise.resolve(),cancelRetry:b,continueRetry:k}}function oV(){let e=[],t=0,n=E=>{E()},i=E=>{E()},s=E=>setTimeout(E,0);const l=E=>{s=E},d=E=>{let A;t++;try{A=E()}finally{t--,t||b()}return A},c=E=>{t?e.push(E):s(()=>{n(E)})},y=E=>(...A)=>{c(()=>{E(...A)})},b=()=>{const E=e;e=[],E.length&&s(()=>{i(()=>{E.forEach(A=>{n(A)})})})};return{batch:d,batchCalls:y,schedule:c,setNotifyFunction:E=>{n=E},setBatchNotifyFunction:E=>{i=E},setScheduler:l}}var Qi=oV(),ju,DR,Nz=(DR=class{constructor(){Ot(this,ju,void 0)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),qw(this.gcTime)&&St(this,ju,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e!=null?e:hf?1/0:5*60*1e3)}clearGcTimeout(){_e(this,ju)&&(clearTimeout(_e(this,ju)),St(this,ju,void 0))}},ju=new WeakMap,DR),jh,Vh,ys,so,ur,sg,Vu,qs,sl,$R,sV=($R=class extends Nz{constructor(t){super();Ot(this,qs);Ot(this,jh,void 0);Ot(this,Vh,void 0);Ot(this,ys,void 0);Ot(this,so,void 0);Ot(this,ur,void 0);Ot(this,sg,void 0);Ot(this,Vu,void 0);St(this,Vu,!1),St(this,sg,t.defaultOptions),this.setOptions(t.options),St(this,ur,[]),St(this,ys,t.cache),this.queryKey=t.queryKey,this.queryHash=t.queryHash,St(this,jh,t.state||aV(this.options)),this.state=_e(this,jh),this.scheduleGc()}get meta(){return this.options.meta}setOptions(t){this.options={..._e(this,sg),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!_e(this,ur).length&&this.state.fetchStatus==="idle"&&_e(this,ys).remove(this)}setData(t,n){const i=Zw(this.state.data,t,this.options);return pn(this,qs,sl).call(this,{data:i,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),i}setState(t,n){pn(this,qs,sl).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var i,s;const n=(i=_e(this,so))==null?void 0:i.promise;return(s=_e(this,so))==null||s.cancel(t),n?n.then(bs).catch(bs):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(_e(this,jh))}isActive(){return _e(this,ur).some(t=>t.options.enabled!==!1)}isDisabled(){return this.getObserversCount()>0&&!this.isActive()}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?_e(this,ur).some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!Dz(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=_e(this,ur).find(i=>i.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=_e(this,so))==null||n.continue()}onOnline(){var n;const t=_e(this,ur).find(i=>i.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=_e(this,so))==null||n.continue()}addObserver(t){_e(this,ur).includes(t)||(_e(this,ur).push(t),this.clearGcTimeout(),_e(this,ys).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){_e(this,ur).includes(t)&&(St(this,ur,_e(this,ur).filter(n=>n!==t)),_e(this,ur).length||(_e(this,so)&&(_e(this,Vu)?_e(this,so).cancel({revert:!0}):_e(this,so).cancelRetry()),this.scheduleGc()),_e(this,ys).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return _e(this,ur).length}invalidate(){this.state.isInvalidated||pn(this,qs,sl).call(this,{type:"invalidate"})}fetch(t,n){var b,k,S;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(_e(this,so))return _e(this,so).continueRetry(),_e(this,so).promise}if(t&&this.setOptions(t),!this.options.queryFn){const E=_e(this,ur).find(A=>A.options.queryFn);E&&this.setOptions(E.options)}const i=new AbortController,s={queryKey:this.queryKey,meta:this.meta},l=E=>{Object.defineProperty(E,"signal",{enumerable:!0,get:()=>(St(this,Vu,!0),i.signal)})};l(s);const d=()=>!this.options.queryFn||this.options.queryFn===Mk?Promise.reject(new Error("Missing queryFn: '".concat(this.options.queryHash,"'"))):(St(this,Vu,!1),this.options.persister?this.options.persister(this.options.queryFn,s,this):this.options.queryFn(s)),c={fetchOptions:n,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:d};l(c),(b=this.options.behavior)==null||b.onFetch(c,this),St(this,Vh,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((k=c.fetchOptions)==null?void 0:k.meta))&&pn(this,qs,sl).call(this,{type:"fetch",meta:(S=c.fetchOptions)==null?void 0:S.meta});const y=E=>{var A,z,N,q;u1(E)&&E.silent||pn(this,qs,sl).call(this,{type:"error",error:E}),u1(E)||((z=(A=_e(this,ys).config).onError)==null||z.call(A,E,this),(q=(N=_e(this,ys).config).onSettled)==null||q.call(N,this.state.data,E,this)),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1};return St(this,so,Fz({fn:c.fetchFn,abort:i.abort.bind(i),onSuccess:E=>{var A,z,N,q;if(E===void 0){y(new Error("".concat(this.queryHash," data is undefined")));return}this.setData(E),(z=(A=_e(this,ys).config).onSuccess)==null||z.call(A,E,this),(q=(N=_e(this,ys).config).onSettled)==null||q.call(N,E,this.state.error,this),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1},onError:y,onFail:(E,A)=>{pn(this,qs,sl).call(this,{type:"failed",failureCount:E,error:A})},onPause:()=>{pn(this,qs,sl).call(this,{type:"pause"})},onContinue:()=>{pn(this,qs,sl).call(this,{type:"continue"})},retry:c.options.retry,retryDelay:c.options.retryDelay,networkMode:c.options.networkMode})),_e(this,so).promise}},jh=new WeakMap,Vh=new WeakMap,ys=new WeakMap,so=new WeakMap,ur=new WeakMap,sg=new WeakMap,Vu=new WeakMap,qs=new WeakSet,sl=function(t){const n=i=>{var s,l;switch(t.type){case"failed":return{...i,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...i,fetchStatus:"paused"};case"continue":return{...i,fetchStatus:"fetching"};case"fetch":return{...i,...jz(i.data,this.options),fetchMeta:(s=t.meta)!=null?s:null};case"success":return{...i,data:t.data,dataUpdateCount:i.dataUpdateCount+1,dataUpdatedAt:(l=t.dataUpdatedAt)!=null?l:Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const d=t.error;return u1(d)&&d.revert&&_e(this,Vh)?{..._e(this,Vh),fetchStatus:"idle"}:{...i,error:d,errorUpdateCount:i.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:i.fetchFailureCount+1,fetchFailureReason:d,fetchStatus:"idle",status:"error"};case"invalidate":return{...i,isInvalidated:!0};case"setState":return{...i,...t.state}}};this.state=n(this.state),Qi.batch(()=>{_e(this,ur).forEach(i=>{i.onQueryUpdate()}),_e(this,ys).notify({query:this,type:"updated",action:t})})},$R);function jz(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Lk(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function aV(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,i=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?i!=null?i:Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var wa,BR,lV=(BR=class extends Cf{constructor(t={}){super();Ot(this,wa,void 0);this.config=t,St(this,wa,new Map)}build(t,n,i){var c;const s=n.queryKey,l=(c=n.queryHash)!=null?c:Rk(s,n);let d=this.get(l);return d||(d=new sV({cache:this,queryKey:s,queryHash:l,options:t.defaultQueryOptions(n),state:i,defaultOptions:t.getQueryDefaults(s)}),this.add(d)),d}add(t){_e(this,wa).has(t.queryHash)||(_e(this,wa).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=_e(this,wa).get(t.queryHash);n&&(t.destroy(),n===t&&_e(this,wa).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Qi.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return _e(this,wa).get(t)}getAll(){return[..._e(this,wa).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(i=>vP(n,i))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(i=>vP(t,i)):n}notify(t){Qi.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){Qi.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Qi.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},wa=new WeakMap,BR),Sa,ag,qo,Uh,ka,lc,FR,cV=(FR=class extends Nz{constructor(t){super();Ot(this,ka);Ot(this,Sa,void 0);Ot(this,ag,void 0);Ot(this,qo,void 0);Ot(this,Uh,void 0);this.mutationId=t.mutationId,St(this,ag,t.defaultOptions),St(this,qo,t.mutationCache),St(this,Sa,[]),this.state=t.state||Vz(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options={..._e(this,ag),...t},this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){_e(this,Sa).includes(t)||(_e(this,Sa).push(t),this.clearGcTimeout(),_e(this,qo).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){St(this,Sa,_e(this,Sa).filter(n=>n!==t)),this.scheduleGc(),_e(this,qo).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){_e(this,Sa).length||(this.state.status==="pending"?this.scheduleGc():_e(this,qo).remove(this))}continue(){var t,n;return(n=(t=_e(this,Uh))==null?void 0:t.continue())!=null?n:this.execute(this.state.variables)}async execute(t){var s,l,d,c,y,b,k,S,E,A,z,N,q,F,$,V,Z,Q,fe,oe;const n=()=>{var re;return St(this,Uh,Fz({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(Be,Le)=>{pn(this,ka,lc).call(this,{type:"failed",failureCount:Be,error:Le})},onPause:()=>{pn(this,ka,lc).call(this,{type:"pause"})},onContinue:()=>{pn(this,ka,lc).call(this,{type:"continue"})},retry:(re=this.options.retry)!=null?re:0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode})),_e(this,Uh).promise},i=this.state.status==="pending";try{if(!i){pn(this,ka,lc).call(this,{type:"pending",variables:t}),await((l=(s=_e(this,qo).config).onMutate)==null?void 0:l.call(s,t,this));const Be=await((c=(d=this.options).onMutate)==null?void 0:c.call(d,t));Be!==this.state.context&&pn(this,ka,lc).call(this,{type:"pending",context:Be,variables:t})}const re=await n();return await((b=(y=_e(this,qo).config).onSuccess)==null?void 0:b.call(y,re,t,this.state.context,this)),await((S=(k=this.options).onSuccess)==null?void 0:S.call(k,re,t,this.state.context)),await((A=(E=_e(this,qo).config).onSettled)==null?void 0:A.call(E,re,null,this.state.variables,this.state.context,this)),await((N=(z=this.options).onSettled)==null?void 0:N.call(z,re,null,t,this.state.context)),pn(this,ka,lc).call(this,{type:"success",data:re}),re}catch(re){try{throw await((F=(q=_e(this,qo).config).onError)==null?void 0:F.call(q,re,t,this.state.context,this)),await((V=($=this.options).onError)==null?void 0:V.call($,re,t,this.state.context)),await((Q=(Z=_e(this,qo).config).onSettled)==null?void 0:Q.call(Z,void 0,re,this.state.variables,this.state.context,this)),await((oe=(fe=this.options).onSettled)==null?void 0:oe.call(fe,void 0,re,t,this.state.context)),re}finally{pn(this,ka,lc).call(this,{type:"error",error:re})}}}},Sa=new WeakMap,ag=new WeakMap,qo=new WeakMap,Uh=new WeakMap,ka=new WeakSet,lc=function(t){const n=i=>{switch(t.type){case"failed":return{...i,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...i,isPaused:!0};case"continue":return{...i,isPaused:!1};case"pending":return{...i,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:!Lk(this.options.networkMode),status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...i,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...i,data:void 0,error:t.error,failureCount:i.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),Qi.batch(()=>{_e(this,Sa).forEach(i=>{i.onMutationUpdate(t)}),_e(this,qo).notify({mutation:this,type:"updated",action:t})})},FR);function Vz(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var vs,lg,Uu,NR,uV=(NR=class extends Cf{constructor(t={}){super();Ot(this,vs,void 0);Ot(this,lg,void 0);Ot(this,Uu,void 0);this.config=t,St(this,vs,[]),St(this,lg,0)}build(t,n,i){const s=new cV({mutationCache:this,mutationId:++Yy(this,lg)._,options:t.defaultMutationOptions(n),state:i});return this.add(s),s}add(t){_e(this,vs).push(t),this.notify({type:"added",mutation:t})}remove(t){St(this,vs,_e(this,vs).filter(n=>n!==t)),this.notify({type:"removed",mutation:t})}clear(){Qi.batch(()=>{_e(this,vs).forEach(t=>{this.remove(t)})})}getAll(){return _e(this,vs)}find(t){const n={exact:!0,...t};return _e(this,vs).find(i=>bP(n,i))}findAll(t={}){return _e(this,vs).filter(n=>bP(t,n))}notify(t){Qi.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){var t;return St(this,Uu,((t=_e(this,Uu))!=null?t:Promise.resolve()).then(()=>{const n=_e(this,vs).filter(i=>i.state.isPaused);return Qi.batch(()=>n.reduce((i,s)=>i.then(()=>s.continue().catch(bs)),Promise.resolve()))}).then(()=>{St(this,Uu,void 0)})),_e(this,Uu)}},vs=new WeakMap,lg=new WeakMap,Uu=new WeakMap,NR);function dV(e){return{onFetch:(t,n)=>{const i=async()=>{var z,N,q,F,$,V;const s=t.options,l=(q=(N=(z=t.fetchOptions)==null?void 0:z.meta)==null?void 0:N.fetchMore)==null?void 0:q.direction,d=((F=t.state.data)==null?void 0:F.pages)||[],c=(($=t.state.data)==null?void 0:$.pageParams)||[],y={pages:[],pageParams:[]};let b=!1;const k=Z=>{Object.defineProperty(Z,"signal",{enumerable:!0,get:()=>(t.signal.aborted?b=!0:t.signal.addEventListener("abort",()=>{b=!0}),t.signal)})},S=t.options.queryFn&&t.options.queryFn!==Mk?t.options.queryFn:()=>Promise.reject(new Error("Missing queryFn: '".concat(t.options.queryHash,"'"))),E=async(Z,Q,fe)=>{if(b)return Promise.reject();if(Q==null&&Z.pages.length)return Promise.resolve(Z);const oe={queryKey:t.queryKey,pageParam:Q,direction:fe?"backward":"forward",meta:t.options.meta};k(oe);const re=await S(oe),{maxPages:Be}=t.options,Le=fe?tV:eV;return{pages:Le(Z.pages,re,Be),pageParams:Le(Z.pageParams,Q,Be)}};let A;if(l&&d.length){const Z=l==="backward",Q=Z?hV:wP,fe={pages:d,pageParams:c},oe=Q(s,fe);A=await E(fe,oe,Z)}else{A=await E(y,(V=c[0])!=null?V:s.initialPageParam);const Z=e!=null?e:d.length;for(let Q=1;Q<Z;Q++){const fe=wP(s,A);A=await E(A,fe)}}return A};t.options.persister?t.fetchFn=()=>{var s,l;return(l=(s=t.options).persister)==null?void 0:l.call(s,i,{queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=i}}}function wP(e,{pages:t,pageParams:n}){const i=t.length-1;return e.getNextPageParam(t[i],t,n[i],n)}function hV(e,{pages:t,pageParams:n}){var i;return(i=e.getPreviousPageParam)==null?void 0:i.call(e,t[0],t,n[0],n)}var qi,yc,vc,Hh,qh,bc,Wh,Zh,jR,fV=(jR=class{constructor(e={}){Ot(this,qi,void 0);Ot(this,yc,void 0);Ot(this,vc,void 0);Ot(this,Hh,void 0);Ot(this,qh,void 0);Ot(this,bc,void 0);Ot(this,Wh,void 0);Ot(this,Zh,void 0);St(this,qi,e.queryCache||new lV),St(this,yc,e.mutationCache||new uV),St(this,vc,e.defaultOptions||{}),St(this,Hh,new Map),St(this,qh,new Map),St(this,bc,0)}mount(){Yy(this,bc)._++,_e(this,bc)===1&&(St(this,Wh,zk.subscribe(async e=>{e&&(await this.resumePausedMutations(),_e(this,qi).onFocus())})),St(this,Zh,$b.subscribe(async e=>{e&&(await this.resumePausedMutations(),_e(this,qi).onOnline())})))}unmount(){var e,t;Yy(this,bc)._--,_e(this,bc)===0&&((e=_e(this,Wh))==null||e.call(this),St(this,Wh,void 0),(t=_e(this,Zh))==null||t.call(this),St(this,Zh,void 0))}isFetching(e){return _e(this,qi).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return _e(this,yc).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=_e(this,qi).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.getQueryData(e.queryKey);if(t===void 0)return this.fetchQuery(e);{const n=this.defaultQueryOptions(e),i=_e(this,qi).build(this,n);return e.revalidateIfStale&&i.isStaleByTime(n.staleTime)&&this.prefetchQuery(n),Promise.resolve(t)}}getQueriesData(e){return this.getQueryCache().findAll(e).map(({queryKey:t,state:n})=>{const i=n.data;return[t,i]})}setQueryData(e,t,n){const i=this.defaultQueryOptions({queryKey:e}),s=_e(this,qi).get(i.queryHash),l=s==null?void 0:s.state.data,d=J7(t,l);if(d!==void 0)return _e(this,qi).build(this,i).setData(d,{...n,manual:!0})}setQueriesData(e,t,n){return Qi.batch(()=>this.getQueryCache().findAll(e).map(({queryKey:i})=>[i,this.setQueryData(i,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=_e(this,qi).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=_e(this,qi);Qi.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=_e(this,qi),i={type:"active",...e};return Qi.batch(()=>(n.findAll(e).forEach(s=>{s.reset()}),this.refetchQueries(i,t)))}cancelQueries(e={},t={}){const n={revert:!0,...t},i=Qi.batch(()=>_e(this,qi).findAll(e).map(s=>s.cancel(n)));return Promise.all(i).then(bs).catch(bs)}invalidateQueries(e={},t={}){return Qi.batch(()=>{var i,s;if(_e(this,qi).findAll(e).forEach(l=>{l.invalidate()}),e.refetchType==="none")return Promise.resolve();const n={...e,type:(s=(i=e.refetchType)!=null?i:e.type)!=null?s:"active"};return this.refetchQueries(n,t)})}refetchQueries(e={},t){var s;const n={...t,cancelRefetch:(s=t==null?void 0:t.cancelRefetch)!=null?s:!0},i=Qi.batch(()=>_e(this,qi).findAll(e).filter(l=>!l.isDisabled()).map(l=>{let d=l.fetch(void 0,n);return n.throwOnError||(d=d.catch(bs)),l.state.fetchStatus==="paused"?Promise.resolve():d}));return Promise.all(i).then(bs)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=_e(this,qi).build(this,t);return n.isStaleByTime(t.staleTime)?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(bs).catch(bs)}fetchInfiniteQuery(e){return e.behavior=dV(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(bs).catch(bs)}resumePausedMutations(){return $b.isOnline()?_e(this,yc).resumePausedMutations():Promise.resolve()}getQueryCache(){return _e(this,qi)}getMutationCache(){return _e(this,yc)}getDefaultOptions(){return _e(this,vc)}setDefaultOptions(e){St(this,vc,e)}setQueryDefaults(e,t){_e(this,Hh).set(rd(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[..._e(this,Hh).values()];let n={};return t.forEach(i=>{Bm(e,i.queryKey)&&(n={...n,...i.defaultOptions})}),n}setMutationDefaults(e,t){_e(this,qh).set(rd(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[..._e(this,qh).values()];let n={};return t.forEach(i=>{Bm(e,i.mutationKey)&&(n={...n,...i.defaultOptions})}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={..._e(this,vc).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=Rk(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.enabled!==!0&&t.queryFn===Mk&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{..._e(this,vc).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){_e(this,qi).clear(),_e(this,yc).clear()}},qi=new WeakMap,yc=new WeakMap,vc=new WeakMap,Hh=new WeakMap,qh=new WeakMap,bc=new WeakMap,Wh=new WeakMap,Zh=new WeakMap,jR),xo,Yn,cg,ao,Hu,Gh,Ea,ug,Kh,Xh,qu,Wu,_c,Yh,Zu,nm,dg,Gw,hg,Kw,fg,Xw,pg,Yw,mg,Jw,gg,Qw,yg,e2,d0,Uz,VR,pV=(VR=class extends Cf{constructor(t,n){super();Ot(this,Zu);Ot(this,dg);Ot(this,hg);Ot(this,fg);Ot(this,pg);Ot(this,mg);Ot(this,gg);Ot(this,yg);Ot(this,d0);Ot(this,xo,void 0);Ot(this,Yn,void 0);Ot(this,cg,void 0);Ot(this,ao,void 0);Ot(this,Hu,void 0);Ot(this,Gh,void 0);Ot(this,Ea,void 0);Ot(this,ug,void 0);Ot(this,Kh,void 0);Ot(this,Xh,void 0);Ot(this,qu,void 0);Ot(this,Wu,void 0);Ot(this,_c,void 0);Ot(this,Yh,new Set);this.options=n,St(this,xo,t),St(this,Ea,null),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(_e(this,Yn).addObserver(this),SP(_e(this,Yn),this.options)?pn(this,Zu,nm).call(this):this.updateResult(),pn(this,pg,Yw).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return t2(_e(this,Yn),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return t2(_e(this,Yn),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,pn(this,mg,Jw).call(this),pn(this,gg,Qw).call(this),_e(this,Yn).removeObserver(this)}setOptions(t,n){const i=this.options,s=_e(this,Yn);if(this.options=_e(this,xo).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean")throw new Error("Expected enabled to be a boolean");pn(this,yg,e2).call(this),_e(this,Yn).setOptions(this.options),i._defaulted&&!Db(this.options,i)&&_e(this,xo).getQueryCache().notify({type:"observerOptionsUpdated",query:_e(this,Yn),observer:this});const l=this.hasListeners();l&&kP(_e(this,Yn),s,this.options,i)&&pn(this,Zu,nm).call(this),this.updateResult(n),l&&(_e(this,Yn)!==s||this.options.enabled!==i.enabled||this.options.staleTime!==i.staleTime)&&pn(this,dg,Gw).call(this);const d=pn(this,hg,Kw).call(this);l&&(_e(this,Yn)!==s||this.options.enabled!==i.enabled||d!==_e(this,_c))&&pn(this,fg,Xw).call(this,d)}getOptimisticResult(t){const n=_e(this,xo).getQueryCache().build(_e(this,xo),t),i=this.createResult(n,t);return gV(this,i)&&(St(this,ao,i),St(this,Gh,this.options),St(this,Hu,_e(this,Yn).state)),i}getCurrentResult(){return _e(this,ao)}trackResult(t,n){const i={};return Object.keys(t).forEach(s=>{Object.defineProperty(i,s,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(s),n==null||n(s),t[s])})}),i}trackProp(t){_e(this,Yh).add(t)}getCurrentQuery(){return _e(this,Yn)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const n=_e(this,xo).defaultQueryOptions(t),i=_e(this,xo).getQueryCache().build(_e(this,xo),n);return i.isFetchingOptimistic=!0,i.fetch().then(()=>this.createResult(i,n))}fetch(t){var n;return pn(this,Zu,nm).call(this,{...t,cancelRefetch:(n=t.cancelRefetch)!=null?n:!0}).then(()=>(this.updateResult(),_e(this,ao)))}createResult(t,n){var oe;const i=_e(this,Yn),s=this.options,l=_e(this,ao),d=_e(this,Hu),c=_e(this,Gh),b=t!==i?t.state:_e(this,cg),{state:k}=t;let S={...k},E=!1,A;if(n._optimisticResults){const re=this.hasListeners(),Be=!re&&SP(t,n),Le=re&&kP(t,i,n,s);(Be||Le)&&(S={...S,...jz(k.data,t.options)}),n._optimisticResults==="isRestoring"&&(S.fetchStatus="idle")}let{error:z,errorUpdatedAt:N,status:q}=S;if(n.select&&S.data!==void 0)if(l&&S.data===(d==null?void 0:d.data)&&n.select===_e(this,ug))A=_e(this,Kh);else try{St(this,ug,n.select),A=n.select(S.data),A=Zw(l==null?void 0:l.data,A,n),St(this,Kh,A),St(this,Ea,null)}catch(re){St(this,Ea,re)}else A=S.data;if(n.placeholderData!==void 0&&A===void 0&&q==="pending"){let re;if(l!=null&&l.isPlaceholderData&&n.placeholderData===(c==null?void 0:c.placeholderData))re=l.data;else if(re=typeof n.placeholderData=="function"?n.placeholderData((oe=_e(this,Xh))==null?void 0:oe.state.data,_e(this,Xh)):n.placeholderData,n.select&&re!==void 0)try{re=n.select(re),St(this,Ea,null)}catch(Be){St(this,Ea,Be)}re!==void 0&&(q="success",A=Zw(l==null?void 0:l.data,re,n),E=!0)}_e(this,Ea)&&(z=_e(this,Ea),A=_e(this,Kh),N=Date.now(),q="error");const F=S.fetchStatus==="fetching",$=q==="pending",V=q==="error",Z=$&&F,Q=A!==void 0;return{status:q,fetchStatus:S.fetchStatus,isPending:$,isSuccess:q==="success",isError:V,isInitialLoading:Z,isLoading:Z,data:A,dataUpdatedAt:S.dataUpdatedAt,error:z,errorUpdatedAt:N,failureCount:S.fetchFailureCount,failureReason:S.fetchFailureReason,errorUpdateCount:S.errorUpdateCount,isFetched:S.dataUpdateCount>0||S.errorUpdateCount>0,isFetchedAfterMount:S.dataUpdateCount>b.dataUpdateCount||S.errorUpdateCount>b.errorUpdateCount,isFetching:F,isRefetching:F&&!$,isLoadingError:V&&!Q,isPaused:S.fetchStatus==="paused",isPlaceholderData:E,isRefetchError:V&&Q,isStale:Ok(t,n),refetch:this.refetch}}updateResult(t){const n=_e(this,ao),i=this.createResult(_e(this,Yn),this.options);if(St(this,Hu,_e(this,Yn).state),St(this,Gh,this.options),_e(this,Hu).data!==void 0&&St(this,Xh,_e(this,Yn)),Db(i,n))return;St(this,ao,i);const s={},l=()=>{if(!n)return!0;const{notifyOnChangeProps:d}=this.options,c=typeof d=="function"?d():d;if(c==="all"||!c&&!_e(this,Yh).size)return!0;const y=new Set(c!=null?c:_e(this,Yh));return this.options.throwOnError&&y.add("error"),Object.keys(_e(this,ao)).some(b=>{const k=b;return _e(this,ao)[k]!==n[k]&&y.has(k)})};(t==null?void 0:t.listeners)!==!1&&l()&&(s.listeners=!0),pn(this,d0,Uz).call(this,{...s,...t})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&pn(this,pg,Yw).call(this)}},xo=new WeakMap,Yn=new WeakMap,cg=new WeakMap,ao=new WeakMap,Hu=new WeakMap,Gh=new WeakMap,Ea=new WeakMap,ug=new WeakMap,Kh=new WeakMap,Xh=new WeakMap,qu=new WeakMap,Wu=new WeakMap,_c=new WeakMap,Yh=new WeakMap,Zu=new WeakSet,nm=function(t){pn(this,yg,e2).call(this);let n=_e(this,Yn).fetch(this.options,t);return t!=null&&t.throwOnError||(n=n.catch(bs)),n},dg=new WeakSet,Gw=function(){if(pn(this,mg,Jw).call(this),hf||_e(this,ao).isStale||!qw(this.options.staleTime))return;const n=Dz(_e(this,ao).dataUpdatedAt,this.options.staleTime)+1;St(this,qu,setTimeout(()=>{_e(this,ao).isStale||this.updateResult()},n))},hg=new WeakSet,Kw=function(){var t;return(t=typeof this.options.refetchInterval=="function"?this.options.refetchInterval(_e(this,Yn)):this.options.refetchInterval)!=null?t:!1},fg=new WeakSet,Xw=function(t){pn(this,gg,Qw).call(this),St(this,_c,t),!(hf||this.options.enabled===!1||!qw(_e(this,_c))||_e(this,_c)===0)&&St(this,Wu,setInterval(()=>{(this.options.refetchIntervalInBackground||zk.isFocused())&&pn(this,Zu,nm).call(this)},_e(this,_c)))},pg=new WeakSet,Yw=function(){pn(this,dg,Gw).call(this),pn(this,fg,Xw).call(this,pn(this,hg,Kw).call(this))},mg=new WeakSet,Jw=function(){_e(this,qu)&&(clearTimeout(_e(this,qu)),St(this,qu,void 0))},gg=new WeakSet,Qw=function(){_e(this,Wu)&&(clearInterval(_e(this,Wu)),St(this,Wu,void 0))},yg=new WeakSet,e2=function(){const t=_e(this,xo).getQueryCache().build(_e(this,xo),this.options);if(t===_e(this,Yn))return;const n=_e(this,Yn);St(this,Yn,t),St(this,cg,t.state),this.hasListeners()&&(n==null||n.removeObserver(this),t.addObserver(this))},d0=new WeakSet,Uz=function(t){Qi.batch(()=>{t.listeners&&this.listeners.forEach(n=>{n(_e(this,ao))}),_e(this,xo).getQueryCache().notify({query:_e(this,Yn),type:"observerResultsUpdated"})})},VR);function mV(e,t){return t.enabled!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function SP(e,t){return mV(e,t)||e.state.data!==void 0&&t2(e,t,t.refetchOnMount)}function t2(e,t,n){if(t.enabled!==!1){const i=typeof n=="function"?n(e):n;return i==="always"||i!==!1&&Ok(e,t)}return!1}function kP(e,t,n,i){return(e!==t||i.enabled===!1)&&(!n.suspense||e.state.status!=="error")&&Ok(e,n)}function Ok(e,t){return t.enabled!==!1&&e.isStaleByTime(t.staleTime)}function gV(e,t){return!Db(e.getCurrentResult(),t)}var xc,wc,wo,ul,Jh,Hv,vg,n2,UR,yV=(UR=class extends Cf{constructor(n,i){super();Ot(this,Jh);Ot(this,vg);Ot(this,xc,void 0);Ot(this,wc,void 0);Ot(this,wo,void 0);Ot(this,ul,void 0);St(this,xc,n),this.setOptions(i),this.bindMethods(),pn(this,Jh,Hv).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var s;const i=this.options;this.options=_e(this,xc).defaultMutationOptions(n),Db(this.options,i)||_e(this,xc).getMutationCache().notify({type:"observerOptionsUpdated",mutation:_e(this,wo),observer:this}),i!=null&&i.mutationKey&&this.options.mutationKey&&rd(i.mutationKey)!==rd(this.options.mutationKey)?this.reset():((s=_e(this,wo))==null?void 0:s.state.status)==="pending"&&_e(this,wo).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=_e(this,wo))==null||n.removeObserver(this)}onMutationUpdate(n){pn(this,Jh,Hv).call(this),pn(this,vg,n2).call(this,n)}getCurrentResult(){return _e(this,wc)}reset(){var n;(n=_e(this,wo))==null||n.removeObserver(this),St(this,wo,void 0),pn(this,Jh,Hv).call(this),pn(this,vg,n2).call(this)}mutate(n,i){var s;return St(this,ul,i),(s=_e(this,wo))==null||s.removeObserver(this),St(this,wo,_e(this,xc).getMutationCache().build(_e(this,xc),this.options)),_e(this,wo).addObserver(this),_e(this,wo).execute(n)}},xc=new WeakMap,wc=new WeakMap,wo=new WeakMap,ul=new WeakMap,Jh=new WeakSet,Hv=function(){var i,s;const n=(s=(i=_e(this,wo))==null?void 0:i.state)!=null?s:Vz();St(this,wc,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},vg=new WeakSet,n2=function(n){Qi.batch(()=>{var i,s,l,d,c,y,b,k;if(_e(this,ul)&&this.hasListeners()){const S=_e(this,wc).variables,E=_e(this,wc).context;(n==null?void 0:n.type)==="success"?((s=(i=_e(this,ul)).onSuccess)==null||s.call(i,n.data,S,E),(d=(l=_e(this,ul)).onSettled)==null||d.call(l,n.data,null,S,E)):(n==null?void 0:n.type)==="error"&&((y=(c=_e(this,ul)).onError)==null||y.call(c,n.error,S,E),(k=(b=_e(this,ul)).onSettled)==null||k.call(b,void 0,n.error,S,E))}this.listeners.forEach(S=>{S(_e(this,wc))})})},UR),Hz=ce.createContext(void 0),ou=e=>{const t=ce.useContext(Hz);if(e)return e;if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},vV=({client:e,children:t})=>(ce.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),ne.jsx(Hz.Provider,{value:e,children:t})),qz=ce.createContext(!1),bV=()=>ce.useContext(qz);qz.Provider;function _V(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var xV=ce.createContext(_V()),wV=()=>ce.useContext(xV);function Wz(e,t){return typeof e=="function"?e(...t):!!e}function SV(){}var kV=(e,t)=>{(e.suspense||e.throwOnError)&&(t.isReset()||(e.retryOnMount=!1))},EV=e=>{ce.useEffect(()=>{e.clearReset()},[e])},CV=({result:e,errorResetBoundary:t,throwOnError:n,query:i})=>e.isError&&!t.isReset()&&!e.isFetching&&i&&Wz(n,[e.error,i]),TV=e=>{e.suspense&&typeof e.staleTime!="number"&&(e.staleTime=1e3)},IV=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,PV=(e,t,n)=>t.fetchOptimistic(e).catch(()=>{n.clearReset()});function AV(e,t,n){const i=ou(n),s=bV(),l=wV(),d=i.defaultQueryOptions(e);d._optimisticResults=s?"isRestoring":"optimistic",TV(d),kV(d,l),EV(l);const[c]=ce.useState(()=>new t(i,d)),y=c.getOptimisticResult(d);if(ce.useSyncExternalStore(ce.useCallback(b=>{const k=s?()=>{}:c.subscribe(Qi.batchCalls(b));return c.updateResult(),k},[c,s]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),ce.useEffect(()=>{c.setOptions(d,{listeners:!1})},[d,c]),IV(d,y))throw PV(d,c,l);if(CV({result:y,errorResetBoundary:l,throwOnError:d.throwOnError,query:i.getQueryCache().get(d.queryHash)}))throw y.error;return d.notifyOnChangeProps?y:c.trackResult(y)}function Dc(e,t){return AV(e,pV,t)}function $c(e,t){const n=ou(t),[i]=ce.useState(()=>new yV(n,e));ce.useEffect(()=>{i.setOptions(e)},[i,e]);const s=ce.useSyncExternalStore(ce.useCallback(d=>i.subscribe(Qi.batchCalls(d)),[i]),()=>i.getCurrentResult(),()=>i.getCurrentResult()),l=ce.useCallback((d,c)=>{i.mutate(d,c).catch(SV)},[i]);if(s.error&&Wz(i.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:l,mutateAsync:s.mutate}}var RV=function(){return null},Zz,EP=Pg;Zz=EP.createRoot,EP.hydrateRoot;var Gz={exports:{}},Kz={};/**
 * @license React
 * use-sync-external-store-with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dg=ce;function MV(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var zV=typeof Object.is=="function"?Object.is:MV,LV=Dg.useSyncExternalStore,OV=Dg.useRef,DV=Dg.useEffect,$V=Dg.useMemo,BV=Dg.useDebugValue;Kz.useSyncExternalStoreWithSelector=function(e,t,n,i,s){var l=OV(null);if(l.current===null){var d={hasValue:!1,value:null};l.current=d}else d=l.current;l=$V(function(){function y(A){if(!b){if(b=!0,k=A,A=i(A),s!==void 0&&d.hasValue){var z=d.value;if(s(z,A))return S=z}return S=A}if(z=S,zV(k,A))return z;var N=i(A);return s!==void 0&&s(z,N)?z:(k=A,S=N)}var b=!1,k,S,E=n===void 0?null:n;return[function(){return y(t())},E===null?void 0:function(){return y(E())}]},[t,n,i,s]);var c=LV(e,l[0],l[1]);return DV(function(){d.hasValue=!0,d.value=c},[c]),BV(c),c};Gz.exports=Kz;var FV=Gz.exports,Yo="default"in ib?J:ib,CP=Symbol.for("react-redux-context"),TP=typeof globalThis<"u"?globalThis:{};function NV(){var n;if(!Yo.createContext)return{};const e=(n=TP[CP])!=null?n:TP[CP]=new Map;let t=e.get(Yo.createContext);return t||(t=Yo.createContext(null),e.set(Yo.createContext,t)),t}var qc=NV(),jV=()=>{throw new Error("uSES not initialized!")};function Dk(e=qc){return function(){return Yo.useContext(e)}}var Xz=Dk(),Yz=jV,VV=e=>{Yz=e},UV=(e,t)=>e===t;function HV(e=qc){const t=e===qc?Xz:Dk(e),n=(i,s={})=>{const{equalityFn:l=UV,devModeChecks:d={}}=typeof s=="function"?{equalityFn:s}:s,{store:c,subscription:y,getServerState:b,stabilityCheck:k,identityFunctionCheck:S}=t();Yo.useRef(!0);const E=Yo.useCallback({[i.name](z){return i(z)}}[i.name],[i,k,d.stabilityCheck]),A=Yz(y.addNestedSub,c.getState,b||c.getState,E,l);return Yo.useDebugValue(A),A};return Object.assign(n,{withTypes:()=>n}),n}var $k=HV();function qV(e){e()}function WV(){let e=null,t=null;return{clear(){e=null,t=null},notify(){qV(()=>{let n=e;for(;n;)n.callback(),n=n.next})},get(){const n=[];let i=e;for(;i;)n.push(i),i=i.next;return n},subscribe(n){let i=!0;const s=t={callback:n,next:null,prev:t};return s.prev?s.prev.next=s:e=s,function(){!i||e===null||(i=!1,s.next?s.next.prev=s.prev:t=s.prev,s.prev?s.prev.next=s.next:e=s.next)}}}}var IP={notify(){},get:()=>[]};function ZV(e,t){let n,i=IP,s=0,l=!1;function d(N){k();const q=i.subscribe(N);let F=!1;return()=>{F||(F=!0,q(),S())}}function c(){i.notify()}function y(){z.onStateChange&&z.onStateChange()}function b(){return l}function k(){s++,n||(n=t?t.addNestedSub(y):e.subscribe(y),i=WV())}function S(){s--,n&&s===0&&(n(),n=void 0,i.clear(),i=IP)}function E(){l||(l=!0,k())}function A(){l&&(l=!1,S())}const z={addNestedSub:d,notifyNestedSubs:c,handleChangeWrapper:y,isSubscribed:b,trySubscribe:E,tryUnsubscribe:A,getListeners:()=>i};return z}var GV=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",KV=GV?Yo.useLayoutEffect:Yo.useEffect;function XV({store:e,context:t,children:n,serverState:i,stabilityCheck:s="once",identityFunctionCheck:l="once"}){const d=Yo.useMemo(()=>{const b=ZV(e);return{store:e,subscription:b,getServerState:i?()=>i:void 0,stabilityCheck:s,identityFunctionCheck:l}},[e,i,s,l]),c=Yo.useMemo(()=>e.getState(),[e]);KV(()=>{const{subscription:b}=d;return b.onStateChange=b.notifyNestedSubs,b.trySubscribe(),c!==e.getState()&&b.notifyNestedSubs(),()=>{b.tryUnsubscribe(),b.onStateChange=void 0}},[d,c]);const y=t||qc;return Yo.createElement(y.Provider,{value:d},n)}var YV=XV;function Jz(e=qc){const t=e===qc?Xz:Dk(e),n=()=>{const{store:i}=t();return i};return Object.assign(n,{withTypes:()=>n}),n}var JV=Jz();function QV(e=qc){const t=e===qc?JV:Jz(e),n=()=>t().dispatch;return Object.assign(n,{withTypes:()=>n}),n}var Bk=QV();VV(FV.useSyncExternalStoreWithSelector);function qv(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?qv=function(n){return typeof n}:qv=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},qv(e)}function eU(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function PP(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function tU(e,t,n){return t&&PP(e.prototype,t),n&&PP(e,n),e}function nU(e,t){return t&&(qv(t)==="object"||typeof t=="function")?t:Wv(e)}function i2(e){return i2=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},i2(e)}function Wv(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function iU(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&r2(e,t)}function r2(e,t){return r2=Object.setPrototypeOf||function(i,s){return i.__proto__=s,i},r2(e,t)}function Zv(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Qz=function(e){iU(t,e);function t(){var n,i;eU(this,t);for(var s=arguments.length,l=new Array(s),d=0;d<s;d++)l[d]=arguments[d];return i=nU(this,(n=i2(t)).call.apply(n,[this].concat(l))),Zv(Wv(i),"state",{bootstrapped:!1}),Zv(Wv(i),"_unsubscribe",void 0),Zv(Wv(i),"handlePersistorState",function(){var c=i.props.persistor,y=c.getState(),b=y.bootstrapped;b&&(i.props.onBeforeLift?Promise.resolve(i.props.onBeforeLift()).finally(function(){return i.setState({bootstrapped:!0})}):i.setState({bootstrapped:!0}),i._unsubscribe&&i._unsubscribe())}),i}return tU(t,[{key:"componentDidMount",value:function(){this._unsubscribe=this.props.persistor.subscribe(this.handlePersistorState),this.handlePersistorState()}},{key:"componentWillUnmount",value:function(){this._unsubscribe&&this._unsubscribe()}},{key:"render",value:function(){return typeof this.props.children=="function"?this.props.children(this.state.bootstrapped):this.state.bootstrapped?this.props.children:this.props.loading}}]),t}(ce.PureComponent);Zv(Qz,"defaultProps",{children:null,loading:null});const dl={allRenderFn:!1,cmpDidLoad:!0,cmpDidUnload:!1,cmpDidUpdate:!0,cmpDidRender:!0,cmpWillLoad:!0,cmpWillUpdate:!0,cmpWillRender:!0,connectedCallback:!0,disconnectedCallback:!0,element:!0,event:!0,hasRenderFn:!0,lifecycle:!0,hostListener:!0,hostListenerTargetWindow:!0,hostListenerTargetDocument:!0,hostListenerTargetBody:!0,hostListenerTargetParent:!1,hostListenerTarget:!0,member:!0,method:!0,mode:!0,observeAttribute:!0,prop:!0,propMutable:!0,reflect:!0,scoped:!0,shadowDom:!0,slot:!0,cssAnnotations:!0,state:!0,style:!0,formAssociated:!1,svg:!0,updatable:!0,vdomAttribute:!0,vdomXlink:!0,vdomClass:!0,vdomFunctional:!0,vdomKey:!0,vdomListener:!0,vdomRef:!0,vdomPropOrAttr:!0,vdomRender:!0,vdomStyle:!0,vdomText:!0,watchCallback:!0,taskQueue:!0,hotModuleReplacement:!1,isDebug:!1,isDev:!1,isTesting:!1,hydrateServerSide:!1,hydrateClientSide:!1,lifecycleDOMEvents:!1,lazyLoad:!1,profile:!1,slotRelocation:!0,appendChildSlotFix:!1,cloneNodeFix:!1,hydratedAttribute:!1,hydratedClass:!0,scriptDataOpts:!1,scopedSlotTextContentFix:!1,shadowDomShim:!1,slotChildNodesFix:!1,invisiblePrehydration:!0,propBoolean:!0,propNumber:!0,propString:!0,constructableCSS:!0,cmpShouldUpdate:!0,devTools:!1,shadowDelegatesFocus:!0,initializeNextTick:!1,asyncLoading:!1,asyncQueue:!1,transformTagName:!1,attachStyles:!0,experimentalSlotFixes:!1};let dh,o2,ff,Fk=!1,Bb=!1,Nk=!1,Go=!1,AP=null,s2=!1;const rU={isDev:!1,isBrowser:!0,isServer:!1,isTesting:!1},eL=e=>{const t=new URL(e,mr.$resourcesUrl$);return t.origin!==Bg.location.origin?t.href:t.pathname},od=(e,t="")=>()=>{},oU="slot-fb{display:contents}slot-fb[hidden]{display:none}",RP="http://www.w3.org/1999/xlink",MP={},sU="http://www.w3.org/2000/svg",aU="http://www.w3.org/1999/xhtml",lU=e=>e!=null,jk=e=>(e=typeof e,e==="object"||e==="function");function cU(e){var t,n,i;return(i=(n=(t=e.head)===null||t===void 0?void 0:t.querySelector('meta[name="csp-nonce"]'))===null||n===void 0?void 0:n.getAttribute("content"))!==null&&i!==void 0?i:void 0}const it=(e,t,...n)=>{let i=null,s=null,l=null,d=!1,c=!1;const y=[],b=S=>{for(let E=0;E<S.length;E++)i=S[E],Array.isArray(i)?b(i):i!=null&&typeof i!="boolean"&&((d=typeof e!="function"&&!jk(i))&&(i=String(i)),d&&c?y[y.length-1].$text$+=i:y.push(d?Fb(null,i):i),c=d)};if(b(n),t){t.key&&(s=t.key),t.name&&(l=t.name);{const S=t.className||t.class;S&&(t.class=typeof S!="object"?S:Object.keys(S).filter(E=>S[E]).join(" "))}}if(typeof e=="function")return e(t===null?{}:t,y,dU);const k=Fb(e,null);return k.$attrs$=t,y.length>0&&(k.$children$=y),k.$key$=s,k.$name$=l,k},Fb=(e,t)=>{const n={$flags$:0,$tag$:e,$text$:t,$elm$:null,$children$:null};return n.$attrs$=null,n.$key$=null,n.$name$=null,n},ki={},uU=e=>e&&e.$tag$===ki,dU={forEach:(e,t)=>e.map(zP).forEach(t),map:(e,t)=>e.map(zP).map(t).map(hU)},zP=e=>({vattrs:e.$attrs$,vchildren:e.$children$,vkey:e.$key$,vname:e.$name$,vtag:e.$tag$,vtext:e.$text$}),hU=e=>{if(typeof e.vtag=="function"){const n=Object.assign({},e.vattrs);return e.vkey&&(n.key=e.vkey),e.vname&&(n.name=e.vname),it(e.vtag,n,...e.vchildren||[])}const t=Fb(e.vtag,e.vtext);return t.$attrs$=e.vattrs,t.$children$=e.vchildren,t.$key$=e.vkey,t.$name$=e.vname,t},fU=e=>hL.map(t=>t(e)).find(t=>!!t),pU=e=>hL.push(e),mU=e=>bd(e).$modeName$,gU=(e,t)=>e!=null&&!jk(e)?t&4?e==="false"?!1:e===""||!!e:t&2?parseFloat(e):t&1?String(e):e:e,yU=e=>e,Hn=(e,t,n)=>{const i=yU(e);return{emit:s=>vU(i,t,{bubbles:!!(n&4),composed:!!(n&2),cancelable:!!(n&1),detail:s})}},vU=(e,t,n)=>{const i=mr.ce(t,n);return e.dispatchEvent(i),i},LP=new WeakMap,bU=(e,t,n)=>{let i=jb.get(e);WU&&n?(i=i||new CSSStyleSheet,typeof i=="string"?i=t:i.replaceSync(t)):i=t,jb.set(e,i)},_U=(e,t,n)=>{var i;const s=tL(t,n),l=jb.get(s);if(e=e.nodeType===11?e:ta,l)if(typeof l=="string"){e=e.head||e;let d=LP.get(e),c;if(d||LP.set(e,d=new Set),!d.has(s)){{c=ta.createElement("style"),c.innerHTML=l;const y=(i=mr.$nonce$)!==null&&i!==void 0?i:cU(ta);y!=null&&c.setAttribute("nonce",y),e.insertBefore(c,e.querySelector("link"))}t.$flags$&4&&(c.innerHTML+=oU),d&&d.add(s)}}else e.adoptedStyleSheets.includes(l)||(e.adoptedStyleSheets=[...e.adoptedStyleSheets,l]);return s},xU=e=>{const t=e.$cmpMeta$,n=e.$hostElement$,i=t.$flags$,s=od("attachStyles",t.$tagName$),l=_U(n.shadowRoot?n.shadowRoot:n.getRootNode(),t,e.$modeName$);i&10&&(n["s-sc"]=l,n.classList.add(l+"-h"),i&2&&n.classList.add(l+"-s")),s()},tL=(e,t)=>"sc-"+(t&&e.$flags$&32?e.$tagName$+"-"+t:e.$tagName$),OP=(e,t,n,i,s,l)=>{if(n!==i){let d=NP(e,t),c=t.toLowerCase();if(t==="class"){const y=e.classList,b=DP(n),k=DP(i);y.remove(...b.filter(S=>S&&!k.includes(S))),y.add(...k.filter(S=>S&&!b.includes(S)))}else if(t==="style"){for(const y in n)(!i||i[y]==null)&&(y.includes("-")?e.style.removeProperty(y):e.style[y]="");for(const y in i)(!n||i[y]!==n[y])&&(y.includes("-")?e.style.setProperty(y,i[y]):e.style[y]=i[y])}else if(t!=="key")if(t==="ref")i&&i(e);else if(!e.__lookupSetter__(t)&&t[0]==="o"&&t[1]==="n"){if(t[2]==="-"?t=t.slice(3):NP(Bg,c)?t=c.slice(2):t=c[2]+t.slice(3),n||i){const y=t.endsWith(nL);t=t.replace(SU,""),n&&mr.rel(e,t,n,y),i&&mr.ael(e,t,i,y)}}else{const y=jk(i);if((d||y&&i!==null)&&!s)try{if(e.tagName.includes("-"))e[t]=i;else{const k=i==null?"":i;t==="list"?d=!1:(n==null||e[t]!=k)&&(e[t]=k)}}catch(k){}let b=!1;c!==(c=c.replace(/^xlink\:?/,""))&&(t=c,b=!0),i==null||i===!1?(i!==!1||e.getAttribute(t)==="")&&(b?e.removeAttributeNS(RP,t):e.removeAttribute(t)):(!d||l&4||s)&&!y&&(i=i===!0?"":i,b?e.setAttributeNS(RP,t,i):e.setAttribute(t,i))}}},wU=/\s/,DP=e=>e?e.split(wU):[],nL="Capture",SU=new RegExp(nL+"$"),iL=(e,t,n,i)=>{const s=t.$elm$.nodeType===11&&t.$elm$.host?t.$elm$.host:t.$elm$,l=e&&e.$attrs$||MP,d=t.$attrs$||MP;for(i in l)i in d||OP(s,i,l[i],void 0,n,t.$flags$);for(i in d)OP(s,i,l[i],d[i],n,t.$flags$)},Nb=(e,t,n,i)=>{var s;const l=t.$children$[n];let d=0,c,y,b;if(Fk||(Nk=!0,l.$tag$==="slot"&&(dh&&i.classList.add(dh+"-s"),l.$flags$|=l.$children$?2:1)),l.$text$!==null)c=l.$elm$=ta.createTextNode(l.$text$);else if(l.$flags$&1)c=l.$elm$=ta.createTextNode("");else{if(Go||(Go=l.$tag$==="svg"),c=l.$elm$=ta.createElementNS(Go?sU:aU,l.$flags$&2?"slot-fb":l.$tag$),Go&&l.$tag$==="foreignObject"&&(Go=!1),iL(null,l,Go),lU(dh)&&c["s-si"]!==dh&&c.classList.add(c["s-si"]=dh),l.$children$)for(d=0;d<l.$children$.length;++d)y=Nb(e,l,d,c),y&&c.appendChild(y);l.$tag$==="svg"?Go=!1:c.tagName==="foreignObject"&&(Go=!0)}return c["s-hn"]=ff,l.$flags$&3&&(c["s-sr"]=!0,c["s-cr"]=o2,c["s-sn"]=l.$name$||"",c["s-rf"]=(s=l.$attrs$)===null||s===void 0?void 0:s.ref,b=e&&e.$children$&&e.$children$[n],b&&b.$tag$===l.$tag$&&e.$elm$&&Fm(e.$elm$,!1)),c},Fm=(e,t)=>{mr.$flags$|=1;const n=Array.from(e.childNodes);if(e["s-sr"]&&dl.experimentalSlotFixes){let i=e;for(;i=i.nextSibling;)i&&i["s-sn"]===e["s-sn"]&&i["s-sh"]===ff&&n.push(i)}for(let i=n.length-1;i>=0;i--){const s=n[i];s["s-hn"]!==ff&&s["s-ol"]&&(sL(s).insertBefore(s,Vk(s)),s["s-ol"].remove(),s["s-ol"]=void 0,s["s-sh"]=void 0,Nk=!0),t&&Fm(s,t)}mr.$flags$&=-2},rL=(e,t,n,i,s,l)=>{let d=e["s-cr"]&&e["s-cr"].parentNode||e,c;for(d.shadowRoot&&d.tagName===ff&&(d=d.shadowRoot);s<=l;++s)i[s]&&(c=Nb(null,n,s,e),c&&(i[s].$elm$=c,d.insertBefore(c,Vk(t))))},oL=(e,t,n)=>{for(let i=t;i<=n;++i){const s=e[i];if(s){const l=s.$elm$;cL(s),l&&(Bb=!0,l["s-ol"]?l["s-ol"].remove():Fm(l,!0),l.remove())}}},kU=(e,t,n,i,s=!1)=>{let l=0,d=0,c=0,y=0,b=t.length-1,k=t[0],S=t[b],E=i.length-1,A=i[0],z=i[E],N,q;for(;l<=b&&d<=E;)if(k==null)k=t[++l];else if(S==null)S=t[--b];else if(A==null)A=i[++d];else if(z==null)z=i[--E];else if(_v(k,A,s))hh(k,A,s),k=t[++l],A=i[++d];else if(_v(S,z,s))hh(S,z,s),S=t[--b],z=i[--E];else if(_v(k,z,s))(k.$tag$==="slot"||z.$tag$==="slot")&&Fm(k.$elm$.parentNode,!1),hh(k,z,s),e.insertBefore(k.$elm$,S.$elm$.nextSibling),k=t[++l],z=i[--E];else if(_v(S,A,s))(k.$tag$==="slot"||z.$tag$==="slot")&&Fm(S.$elm$.parentNode,!1),hh(S,A,s),e.insertBefore(S.$elm$,k.$elm$),S=t[--b],A=i[++d];else{for(c=-1,y=l;y<=b;++y)if(t[y]&&t[y].$key$!==null&&t[y].$key$===A.$key$){c=y;break}c>=0?(q=t[c],q.$tag$!==A.$tag$?N=Nb(t&&t[d],n,c,e):(hh(q,A,s),t[c]=void 0,N=q.$elm$),A=i[++d]):(N=Nb(t&&t[d],n,d,e),A=i[++d]),N&&sL(k.$elm$).insertBefore(N,Vk(k.$elm$))}l>b?rL(e,i[E+1]==null?null:i[E+1].$elm$,n,i,d,E):d>E&&oL(t,l,b)},_v=(e,t,n=!1)=>e.$tag$===t.$tag$?e.$tag$==="slot"?e.$name$===t.$name$:n?!0:e.$key$===t.$key$:!1,Vk=e=>e&&e["s-ol"]||e,sL=e=>(e["s-ol"]?e["s-ol"]:e).parentNode,hh=(e,t,n=!1)=>{const i=t.$elm$=e.$elm$,s=e.$children$,l=t.$children$,d=t.$tag$,c=t.$text$;let y;c===null?(Go=d==="svg"?!0:d==="foreignObject"?!1:Go,d==="slot"&&!Fk||iL(e,t,Go),s!==null&&l!==null?kU(i,s,t,l,n):l!==null?(e.$text$!==null&&(i.textContent=""),rL(i,null,t,l,0,l.length-1)):s!==null&&oL(s,0,s.length-1),Go&&d==="svg"&&(Go=!1)):(y=i["s-cr"])?y.parentNode.textContent=c:e.$text$!==c&&(i.data=c)},aL=e=>{const t=e.childNodes;for(const n of t)if(n.nodeType===1){if(n["s-sr"]){const i=n["s-sn"];n.hidden=!1;for(const s of t)if(s!==n){if(s["s-hn"]!==n["s-hn"]||i!==""){if(s.nodeType===1&&(i===s.getAttribute("slot")||i===s["s-sn"])){n.hidden=!0;break}}else if(s.nodeType===1||s.nodeType===3&&s.textContent.trim()!==""){n.hidden=!0;break}}}aL(n)}},cl=[],lL=e=>{let t,n,i;for(const s of e.childNodes){if(s["s-sr"]&&(t=s["s-cr"])&&t.parentNode){n=t.parentNode.childNodes;const l=s["s-sn"];for(i=n.length-1;i>=0;i--)if(t=n[i],!t["s-cn"]&&!t["s-nr"]&&t["s-hn"]!==s["s-hn"]&&!dl.experimentalSlotFixes)if($P(t,l)){let d=cl.find(c=>c.$nodeToRelocate$===t);Bb=!0,t["s-sn"]=t["s-sn"]||l,d?(d.$nodeToRelocate$["s-sh"]=s["s-hn"],d.$slotRefNode$=s):(t["s-sh"]=s["s-hn"],cl.push({$slotRefNode$:s,$nodeToRelocate$:t})),t["s-sr"]&&cl.map(c=>{$P(c.$nodeToRelocate$,t["s-sn"])&&(d=cl.find(y=>y.$nodeToRelocate$===t),d&&!c.$slotRefNode$&&(c.$slotRefNode$=d.$slotRefNode$))})}else cl.some(d=>d.$nodeToRelocate$===t)||cl.push({$nodeToRelocate$:t})}s.nodeType===1&&lL(s)}},$P=(e,t)=>e.nodeType===1?e.getAttribute("slot")===null&&t===""||e.getAttribute("slot")===t:e["s-sn"]===t?!0:t==="",cL=e=>{e.$attrs$&&e.$attrs$.ref&&e.$attrs$.ref(null),e.$children$&&e.$children$.map(cL)},EU=(e,t,n=!1)=>{var i,s,l,d,c;const y=e.$hostElement$,b=e.$cmpMeta$,k=e.$vnode$||Fb(null,null),S=uU(t)?t:it(null,null,t);if(ff=y.tagName,b.$attrsToReflect$&&(S.$attrs$=S.$attrs$||{},b.$attrsToReflect$.map(([E,A])=>S.$attrs$[A]=y[E])),n&&S.$attrs$)for(const E of Object.keys(S.$attrs$))y.hasAttribute(E)&&!["key","ref","style","class"].includes(E)&&(S.$attrs$[E]=y[E]);S.$tag$=null,S.$flags$|=4,e.$vnode$=S,S.$elm$=k.$elm$=y.shadowRoot||y,dh=y["s-sc"],Fk=(b.$flags$&1)!==0,o2=y["s-cr"],Bb=!1,hh(k,S,n);{if(mr.$flags$|=1,Nk){lL(S.$elm$);for(const E of cl){const A=E.$nodeToRelocate$;if(!A["s-ol"]){const z=ta.createTextNode("");z["s-nr"]=A,A.parentNode.insertBefore(A["s-ol"]=z,A)}}for(const E of cl){const A=E.$nodeToRelocate$,z=E.$slotRefNode$;if(z){const N=z.parentNode;let q=z.nextSibling;{let F=(i=A["s-ol"])===null||i===void 0?void 0:i.previousSibling;for(;F;){let $=(s=F["s-nr"])!==null&&s!==void 0?s:null;if($&&$["s-sn"]===A["s-sn"]&&N===$.parentNode&&($=$.nextSibling,!$||!$["s-nr"])){q=$;break}F=F.previousSibling}}(!q&&N!==A.parentNode||A.nextSibling!==q)&&A!==q&&(!A["s-hn"]&&A["s-ol"]&&(A["s-hn"]=A["s-ol"].parentNode.nodeName),N.insertBefore(A,q),A.nodeType===1&&(A.hidden=(l=A["s-ih"])!==null&&l!==void 0?l:!1)),A&&typeof z["s-rf"]=="function"&&z["s-rf"](A)}else A.nodeType===1&&(n&&(A["s-ih"]=(d=A.hidden)!==null&&d!==void 0?d:!1),A.hidden=!0)}}Bb&&aL(S.$elm$),mr.$flags$&=-2,cl.length=0}if(dl.experimentalScopedSlotChanges&&b.$flags$&2)for(const E of S.$elm$.childNodes)E["s-hn"]!==ff&&!E["s-sh"]&&(n&&E["s-ih"]==null&&(E["s-ih"]=(c=E.hidden)!==null&&c!==void 0?c:!1),E.hidden=!0);o2=void 0},CU=(e,t)=>{},Uk=(e,t)=>(e.$flags$|=16,CU(e,e.$ancestorComponent$),El(()=>TU(e,t))),TU=(e,t)=>{const n=e.$hostElement$,i=od("scheduleUpdate",e.$cmpMeta$.$tagName$),s=n;let l;return t?l=Oh(s,"componentWillLoad"):l=Oh(s,"componentWillUpdate"),l=BP(l,()=>Oh(s,"componentWillRender")),i(),BP(l,()=>PU(e,s,t))},BP=(e,t)=>IU(e)?e.then(t):t(),IU=e=>e instanceof Promise||e&&e.then&&typeof e.then=="function",PU=async(e,t,n)=>{const i=e.$hostElement$,s=od("update",e.$cmpMeta$.$tagName$);i["s-rc"],n&&xU(e);const l=od("render",e.$cmpMeta$.$tagName$);AU(e,t,i,n),l(),s(),RU(e)},AU=(e,t,n,i)=>{try{AP=t,t=t.render&&t.render(),e.$flags$&=-17,e.$flags$|=2,(dl.hasRenderFn||dl.reflect)&&(dl.vdomRender||dl.reflect)&&(dl.hydrateServerSide||EU(e,t,i))}catch(y){$g(y,e.$hostElement$)}return AP=null,null},RU=e=>{const t=e.$cmpMeta$.$tagName$,n=e.$hostElement$,i=od("postUpdate",t),s=n;e.$ancestorComponent$,Oh(s,"componentDidRender"),e.$flags$&64?(Oh(s,"componentDidUpdate"),i()):(e.$flags$|=64,Oh(s,"componentDidLoad"),i())},Nm=e=>{{const t=bd(e),n=t.$hostElement$.isConnected;return n&&(t.$flags$&18)===2&&Uk(t,!1),n}},Oh=(e,t,n)=>{if(e&&e[t])try{return e[t](n)}catch(i){$g(i)}},MU=(e,t)=>bd(e).$instanceValues$.get(t),zU=(e,t,n,i)=>{const s=bd(e),l=e,d=s.$instanceValues$.get(t),c=s.$flags$,y=l;n=gU(n,i.$members$[t][0]);const b=Number.isNaN(d)&&Number.isNaN(n);if(n!==d&&!b){s.$instanceValues$.set(t,n);{if(i.$watchers$&&c&128){const S=i.$watchers$[t];S&&S.map(E=>{try{y[E](n,d,t)}catch(A){$g(A,l)}})}if((c&18)===2){if(y.componentShouldUpdate&&y.componentShouldUpdate(n,d,t)===!1)return;Uk(s,!1)}}}},LU=(e,t,n)=>{var i;const s=e.prototype;if(t.$members$){e.watchers&&(t.$watchers$=e.watchers);const l=Object.entries(t.$members$);l.map(([d,[c]])=>{(c&31||c&32)&&Object.defineProperty(s,d,{get(){return MU(this,d)},set(y){zU(this,d,y,t)},configurable:!0,enumerable:!0})});{const d=new Map;s.attributeChangedCallback=function(c,y,b){mr.jmp(()=>{var k;const S=d.get(c);if(this.hasOwnProperty(S))b=this[S],delete this[S];else{if(s.hasOwnProperty(S)&&typeof this[S]=="number"&&this[S]==b)return;if(S==null){const E=bd(this),A=E==null?void 0:E.$flags$;if(A&&!(A&8)&&A&128&&b!==y){const N=this,q=(k=t.$watchers$)===null||k===void 0?void 0:k[c];q==null||q.forEach(F=>{N[F]!=null&&N[F].call(N,b,y,c)})}return}}this[S]=b===null&&typeof this[S]=="boolean"?!1:b})},e.observedAttributes=Array.from(new Set([...Object.keys((i=t.$watchers$)!==null&&i!==void 0?i:{}),...l.filter(([c,y])=>y[0]&15).map(([c,y])=>{var b;const k=y[1]||c;return d.set(k,c),y[0]&512&&((b=t.$attrsToReflect$)===null||b===void 0||b.push([c,k])),k})]))}}return e},OU=async(e,t,n,i)=>{let s;if(!(t.$flags$&32)&&(t.$flags$|=32,n.$lazyBundleId$,s=e.constructor,customElements.whenDefined(n.$tagName$).then(()=>t.$flags$|=128),s.style)){let d=s.style;typeof d!="string"&&(d=d[t.$modeName$=fU(e)]);const c=tL(n,t.$modeName$);if(!jb.has(c)){const y=od("registerStyles",n.$tagName$);bU(c,d,!!(n.$flags$&1)),y()}}t.$ancestorComponent$,Uk(t,!0)},FP=e=>{},DU=e=>{if(!(mr.$flags$&1)){const t=bd(e),n=t.$cmpMeta$,i=od("connectedCallback",n.$tagName$);t.$flags$&1?(uL(e,t,n.$listeners$),t!=null&&t.$lazyInstance$?FP(t.$lazyInstance$):t!=null&&t.$onReadyPromise$&&t.$onReadyPromise$.then(()=>FP(t.$lazyInstance$))):(t.$flags$|=1,n.$flags$&12&&$U(e),n.$members$&&Object.entries(n.$members$).map(([s,[l]])=>{if(l&31&&e.hasOwnProperty(s)){const d=e[s];delete e[s],e[s]=d}}),OU(e,t,n)),i()}},$U=e=>{const t=e["s-cr"]=ta.createComment("");t["s-cn"]=!0,e.insertBefore(t,e.firstChild)},BU=async e=>{if(!(mr.$flags$&1)){const t=bd(e);t.$rmListeners$&&(t.$rmListeners$.map(n=>n()),t.$rmListeners$=void 0)}},Ei=(e,t)=>{const n={$flags$:t[0],$tagName$:t[1]};n.$members$=t[2],n.$listeners$=t[3],n.$watchers$=e.$watchers$,n.$attrsToReflect$=[];const i=e.prototype.connectedCallback,s=e.prototype.disconnectedCallback;return Object.assign(e.prototype,{__registerHost(){VU(this,n)},connectedCallback(){DU(this),i&&i.call(this)},disconnectedCallback(){BU(this),s&&s.call(this)},__attachShadow(){this.attachShadow({mode:"open",delegatesFocus:!!(n.$flags$&16)})}}),e.is=n.$tagName$,LU(e,n)},uL=(e,t,n,i)=>{n&&n.map(([s,l,d])=>{const c=NU(e,s),y=FU(t,d),b=jU(s);mr.ael(c,l,y,b),(t.$rmListeners$=t.$rmListeners$||[]).push(()=>mr.rel(c,l,y,b))})},FU=(e,t)=>n=>{try{dl.lazyLoad||e.$hostElement$[t](n)}catch(i){$g(i)}},NU=(e,t)=>t&4?ta:t&8?Bg:t&16?ta.body:e,jU=e=>HU?{passive:(e&1)!==0,capture:(e&2)!==0}:(e&2)!==0,dL=new WeakMap,bd=e=>dL.get(e),VU=(e,t)=>{const n={$flags$:0,$hostElement$:e,$cmpMeta$:t,$instanceValues$:new Map};return uL(e,n,t.$listeners$),dL.set(e,n)},NP=(e,t)=>t in e,$g=(e,t)=>(0,console.error)(e,t),jb=new Map,hL=[],Bg=typeof window<"u"?window:{},ta=Bg.document||{head:{}},Ci=Bg.HTMLElement||class{},mr={$flags$:0,$resourcesUrl$:"",jmp:e=>e(),raf:e=>requestAnimationFrame(e),ael:(e,t,n,i)=>e.addEventListener(t,n,i),rel:(e,t,n,i)=>e.removeEventListener(t,n,i),ce:(e,t)=>new CustomEvent(e,t)},UU=e=>{Object.assign(mr,e)},HU=(()=>{let e=!1;try{ta.addEventListener("e",null,Object.defineProperty({},"passive",{get(){e=!0}}))}catch(t){}return e})(),qU=e=>Promise.resolve(e),WU=(()=>{try{return new CSSStyleSheet,typeof new CSSStyleSheet().replaceSync=="function"}catch(e){}return!1})(),a2=[],fL=[],pL=(e,t)=>n=>{e.push(n),s2||(s2=!0,t&&mr.$flags$&4?ZU(l2):mr.raf(l2))},jP=e=>{for(let t=0;t<e.length;t++)try{e[t](performance.now())}catch(n){$g(n)}e.length=0},l2=()=>{jP(a2),jP(fL),(s2=a2.length>0)&&mr.raf(l2)},ZU=e=>qU().then(e),pf=pL(a2,!1),El=pL(fL,!0);/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const gi=typeof window<"u"?window:void 0,Dh=typeof document<"u"?document:void 0;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const sd=(e,t)=>{e.componentOnReady?e.componentOnReady().then(n=>t(n)):_s(()=>t(e))},c2=e=>e.componentOnReady!==void 0,G0=(e,t=[])=>{const n={};return t.forEach(i=>{e.hasAttribute(i)&&(e.getAttribute(i)!==null&&(n[i]=e.getAttribute(i)),e.removeAttribute(i))}),n},GU=["role","aria-activedescendant","aria-atomic","aria-autocomplete","aria-braillelabel","aria-brailleroledescription","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colindextext","aria-colspan","aria-controls","aria-current","aria-describedby","aria-description","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowindextext","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext"],Fg=(e,t)=>{let n=GU;return t&&t.length>0&&(n=n.filter(i=>!t.includes(i))),G0(e,n)},eie=(e,t,n,i)=>{var s;if(typeof window<"u"){const l=window,d=(s=l==null?void 0:l.Ionic)===null||s===void 0?void 0:s.config;if(d){const c=d.get("_ael");if(c)return c(e,t,n,i);if(d._ael)return d._ael(e,t,n,i)}}return e.addEventListener(t,n,i)},tie=(e,t,n,i)=>{var s;if(typeof window<"u"){const l=window,d=(s=l==null?void 0:l.Ionic)===null||s===void 0?void 0:s.config;if(d){const c=d.get("_rel");if(c)return c(e,t,n,i);if(d._rel)return d._rel(e,t,n,i)}}return e.removeEventListener(t,n,i)},_s=e=>typeof __zone_symbol__requestAnimationFrame=="function"?__zone_symbol__requestAnimationFrame(e):typeof requestAnimationFrame=="function"?requestAnimationFrame(e):setTimeout(e),KU=e=>!!e.shadowRoot&&!!e.attachShadow,mL=e=>{const t=e.closest("ion-item");return t?t.querySelector("ion-label"):null},K0=(e,t,n)=>Math.max(e,Math.min(t,n)),dr=(e,t)=>{if(!e){const n="ASSERT: "+t;console.error(n);debugger;throw new Error(n)}},nie=e=>e.timeStamp||Date.now(),iie=e=>{if(e){const t=e.changedTouches;if(t&&t.length>0){const n=t[0];return{x:n.clientX,y:n.clientY}}if(e.pageX!==void 0)return{x:e.pageX,y:e.pageY}}return{x:0,y:0}},VP=e=>{const t=document.dir==="rtl";switch(e){case"start":return t;case"end":return!t;default:throw new Error('"'.concat(e,'" is not a valid value for [side]. Use "start" or "end" instead.'))}},XU=(e,t)=>{const n=e._original||e;return{_original:e,emit:YU(n.emit.bind(n),t)}},YU=(e,t=0)=>{let n;return(...i)=>{clearTimeout(n),n=setTimeout(e,t,...i)}},gL=(e,t)=>{if(e!=null||(e={}),t!=null||(t={}),e===t)return!0;const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(const i of n)if(!(i in t)||e[i]!==t[i])return!1;return!0};/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */let d1;const JU=e=>(e.forEach(t=>{for(const n in t)if(t.hasOwnProperty(n)){const i=t[n];if(n==="easing"){const s="animation-timing-function";t[s]=i,delete t[n]}else{const s=QU(n);s!==n&&(t[s]=i,delete t[n])}}}),e),QU=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Hk=e=>{if(d1===void 0){const t=e.style.animationName!==void 0,n=e.style.webkitAnimationName!==void 0;d1=!t&&n?"-webkit-":""}return d1},di=(e,t,n)=>{const i=t.startsWith("animation")?Hk(e):"";e.style.setProperty(i+t,n)},Us=(e,t)=>{const n=t.startsWith("animation")?Hk(e):"";e.style.removeProperty(n+t)},eH=(e,t)=>{let n;const i={passive:!0},s=()=>{n&&n()},l=d=>{e===d.target&&(s(),t(d))};return e&&(e.addEventListener("webkitAnimationEnd",l,i),e.addEventListener("animationend",l,i),n=()=>{e.removeEventListener("webkitAnimationEnd",l,i),e.removeEventListener("animationend",l,i)}),s},tH=(e=[])=>e.map(t=>{const n=t.offset,i=[];for(const s in t)t.hasOwnProperty(s)&&s!=="offset"&&i.push("".concat(s,": ").concat(t[s],";"));return"".concat(n*100,"% { ").concat(i.join(" ")," }")}).join(" "),UP=[],nH=e=>{let t=UP.indexOf(e);return t<0&&(t=UP.push(e)-1),"ion-animation-".concat(t)},iH=e=>{const t=e.getRootNode!==void 0?e.getRootNode():e;return t.head||t},rH=(e,t,n)=>{var i;const s=iH(n),l=Hk(n),d=s.querySelector("#"+e);if(d)return d;const c=((i=n.ownerDocument)!==null&&i!==void 0?i:document).createElement("style");return c.id=e,c.textContent="@".concat(l,"keyframes ").concat(e," { ").concat(t," } @").concat(l,"keyframes ").concat(e,"-alt { ").concat(t," }"),s.appendChild(c),c},xv=(e=[],t)=>{if(t!==void 0){const n=Array.isArray(t)?t:[t];return[...e,...n]}return e},Bc=e=>{let t,n,i,s,l,d,c=[],y=[],b=[],k=!1,S,E={},A=[],z=[],N={},q=0,F=!1,$=!1,V,Z,Q,fe,oe=!0,re=!1,Be=!0,Le,Fe,Ze=!1;const Pe=e,De=[],Oe=[],$e=[],He=[],we=[],Ee=[],Ie=[],qe=[],Ye=[],yt=[],wt=[],Mt=typeof AnimationEffect=="function"||gi!==void 0&&typeof gi.AnimationEffect=="function",Ft=typeof Element=="function"&&typeof Element.prototype.animate=="function"&&Mt,Yt=100,vn=()=>wt,ei=Re=>(we.forEach(st=>{st.destroy(Re)}),Mi(Re),He.length=0,we.length=0,c.length=0,Rn(),k=!1,Be=!0,Fe),Mi=Re=>{Ne(),Re&&qn()},ir=()=>{F=!1,$=!1,Be=!0,Z=void 0,Q=void 0,fe=void 0,q=0,re=!1,oe=!0,Ze=!1},ot=()=>q!==0&&!Ze,$t=(Re,st)=>{const kt=st.findIndex(sn=>sn.c===Re);kt>-1&&st.splice(kt,1)},Ct=(Re,st)=>($e.push({c:Re,o:st}),Fe),zt=(Re,st)=>((st!=null&&st.oneTimeCallback?Oe:De).push({c:Re,o:st}),Fe),Rn=()=>(De.length=0,Oe.length=0,Fe),Ne=()=>{if(Ft)wt.forEach(Re=>{Re.cancel()}),wt.length=0;else{const Re=He.slice();_s(()=>{Re.forEach(st=>{Us(st,"animation-name"),Us(st,"animation-duration"),Us(st,"animation-timing-function"),Us(st,"animation-iteration-count"),Us(st,"animation-delay"),Us(st,"animation-play-state"),Us(st,"animation-fill-mode"),Us(st,"animation-direction")})})}},qn=()=>{Ee.forEach(Re=>{Re!=null&&Re.parentNode&&Re.parentNode.removeChild(Re)}),Ee.length=0},Ki=Re=>(Ie.push(Re),Fe),on=Re=>(qe.push(Re),Fe),si=Re=>(Ye.push(Re),Fe),vr=Re=>(yt.push(Re),Fe),zr=Re=>(y=xv(y,Re),Fe),ua=Re=>(b=xv(b,Re),Fe),da=(Re={})=>(E=Re,Fe),Os=(Re=[])=>{for(const st of Re)E[st]="";return Fe},ha=Re=>(A=xv(A,Re),Fe),Fa=Re=>(z=xv(z,Re),Fe),at=(Re={})=>(N=Re,Fe),br=(Re=[])=>{for(const st of Re)N[st]="";return Fe},Ti=()=>l!==void 0?l:S?S.getFill():"both",go=()=>Z!==void 0?Z:d!==void 0?d:S?S.getDirection():"normal",Yr=()=>F?"linear":i!==void 0?i:S?S.getEasing():"linear",nt=()=>$?0:Q!==void 0?Q:n!==void 0?n:S?S.getDuration():0,Ut=()=>s!==void 0?s:S?S.getIterations():1,Ht=()=>fe!==void 0?fe:t!==void 0?t:S?S.getDelay():0,zi=()=>c,Lr=Re=>(d=Re,Wt(!0),Fe),Jt=Re=>(l=Re,Wt(!0),Fe),ss=Re=>(t=Re,Wt(!0),Fe),Oo=Re=>(i=Re,Wt(!0),Fe),ae=Re=>(!Ft&&Re===0&&(Re=1),n=Re,Wt(!0),Fe),U=Re=>(s=Re,Wt(!0),Fe),W=Re=>(S=Re,Fe),Y=Re=>{if(Re!=null)if(Re.nodeType===1)He.push(Re);else if(Re.length>=0)for(let st=0;st<Re.length;st++)He.push(Re[st]);else console.error("Invalid addElement value");return Fe},ie=Re=>{if(Re!=null)if(Array.isArray(Re))for(const st of Re)st.parent(Fe),we.push(st);else Re.parent(Fe),we.push(Re);return Fe},ve=Re=>{const st=c!==Re;return c=Re,st&&be(c),Fe},be=Re=>{Ft?vn().forEach(st=>{const kt=st.effect;if(kt.setKeyframes)kt.setKeyframes(Re);else{const sn=new KeyframeEffect(kt.target,Re,kt.getTiming());st.effect=sn}}):Ke()},ke=()=>{Ie.forEach(sn=>sn()),qe.forEach(sn=>sn());const Re=y,st=b,kt=E;He.forEach(sn=>{const wn=sn.classList;Re.forEach(xr=>wn.add(xr)),st.forEach(xr=>wn.remove(xr));for(const xr in kt)kt.hasOwnProperty(xr)&&di(sn,xr,kt[xr])})},me=()=>{ai(),Ye.forEach(wn=>wn()),yt.forEach(wn=>wn());const Re=oe?1:0,st=A,kt=z,sn=N;He.forEach(wn=>{const xr=wn.classList;st.forEach(or=>xr.add(or)),kt.forEach(or=>xr.remove(or));for(const or in sn)sn.hasOwnProperty(or)&&di(wn,or,sn[or])}),Q=void 0,Z=void 0,fe=void 0,De.forEach(wn=>wn.c(Re,Fe)),Oe.forEach(wn=>wn.c(Re,Fe)),Oe.length=0,Be=!0,oe&&(re=!0),oe=!0},Te=()=>{q!==0&&(q--,q===0&&(me(),S&&S.animationFinish()))},Ke=(Re=!0)=>{qn();const st=JU(c);He.forEach(kt=>{if(st.length>0){const sn=tH(st);Le=e!==void 0?e:nH(sn);const wn=rH(Le,sn,kt);Ee.push(wn),di(kt,"animation-duration","".concat(nt(),"ms")),di(kt,"animation-timing-function",Yr()),di(kt,"animation-delay","".concat(Ht(),"ms")),di(kt,"animation-fill-mode",Ti()),di(kt,"animation-direction",go());const xr=Ut()===1/0?"infinite":Ut().toString();di(kt,"animation-iteration-count",xr),di(kt,"animation-play-state","paused"),Re&&di(kt,"animation-name","".concat(wn.id,"-alt")),_s(()=>{di(kt,"animation-name",wn.id||null)})}})},Ve=()=>{He.forEach(Re=>{const st=Re.animate(c,{id:Pe,delay:Ht(),duration:nt(),easing:Yr(),iterations:Ut(),fill:Ti(),direction:go()});st.pause(),wt.push(st)}),wt.length>0&&(wt[0].onfinish=()=>{Te()})},We=(Re=!0)=>{ke(),c.length>0&&(Ft?Ve():Ke(Re)),k=!0},xt=Re=>{if(Re=Math.min(Math.max(Re,0),.9999),Ft)wt.forEach(st=>{st.currentTime=st.effect.getComputedTiming().delay+nt()*Re,st.pause()});else{const st="-".concat(nt()*Re,"ms");He.forEach(kt=>{c.length>0&&(di(kt,"animation-delay",st),di(kt,"animation-play-state","paused"))})}},Nt=Re=>{wt.forEach(st=>{st.effect.updateTiming({delay:Ht(),duration:nt(),easing:Yr(),iterations:Ut(),fill:Ti(),direction:go()})}),Re!==void 0&&xt(Re)},Dt=(Re=!0,st)=>{_s(()=>{He.forEach(kt=>{di(kt,"animation-name",Le||null),di(kt,"animation-duration","".concat(nt(),"ms")),di(kt,"animation-timing-function",Yr()),di(kt,"animation-delay",st!==void 0?"-".concat(st*nt(),"ms"):"".concat(Ht(),"ms")),di(kt,"animation-fill-mode",Ti()||null),di(kt,"animation-direction",go()||null);const sn=Ut()===1/0?"infinite":Ut().toString();di(kt,"animation-iteration-count",sn),Re&&di(kt,"animation-name","".concat(Le,"-alt")),_s(()=>{di(kt,"animation-name",Le||null)})})})},Wt=(Re=!1,st=!0,kt)=>(Re&&we.forEach(sn=>{sn.update(Re,st,kt)}),Ft?Nt(kt):Dt(st,kt),Fe),Zt=(Re=!1,st)=>(we.forEach(kt=>{kt.progressStart(Re,st)}),Kn(),F=Re,k||We(),Wt(!1,!0,st),Fe),Mn=Re=>(we.forEach(st=>{st.progressStep(Re)}),xt(Re),Fe),In=(Re,st,kt)=>(F=!1,we.forEach(sn=>{sn.progressEnd(Re,st,kt)}),kt!==void 0&&(Q=kt),re=!1,oe=!0,Re===0?(Z=go()==="reverse"?"normal":"reverse",Z==="reverse"&&(oe=!1),Ft?(Wt(),xt(1-st)):(fe=(1-st)*nt()*-1,Wt(!1,!1))):Re===1&&(Ft?(Wt(),xt(st)):(fe=st*nt()*-1,Wt(!1,!1))),Re!==void 0&&!S&&su(),Fe),Kn=()=>{k&&(Ft?wt.forEach(Re=>{Re.pause()}):He.forEach(Re=>{di(Re,"animation-play-state","paused")}),Ze=!0)},Qt=()=>(we.forEach(Re=>{Re.pause()}),Kn(),Fe),Wn=()=>{V=void 0,Te()},ai=()=>{V&&clearTimeout(V)},rr=()=>{if(ai(),_s(()=>{He.forEach(Re=>{c.length>0&&di(Re,"animation-play-state","running")})}),c.length===0||He.length===0)Te();else{const Re=Ht()||0,st=nt()||0,kt=Ut()||1;isFinite(kt)&&(V=setTimeout(Wn,Re+st*kt+Yt)),eH(He[0],()=>{ai(),_s(()=>{Vi(),_s(Te)})})}},Vi=()=>{He.forEach(Re=>{Us(Re,"animation-duration"),Us(Re,"animation-delay"),Us(Re,"animation-play-state")})},Xi=()=>{wt.forEach(Re=>{Re.play()}),(c.length===0||He.length===0)&&Te()},_r=()=>{Ft?(xt(0),Nt()):Dt()},su=Re=>new Promise(st=>{Re!=null&&Re.sync&&($=!0,zt(()=>$=!1,{oneTimeCallback:!0})),k||We(),re&&(_r(),re=!1),Be&&(q=we.length+1,Be=!1);const kt=()=>{$t(sn,Oe),st()},sn=()=>{$t(kt,$e),st()};zt(sn,{oneTimeCallback:!0}),Ct(kt,{oneTimeCallback:!0}),we.forEach(wn=>{wn.play()}),Ft?Xi():rr(),Ze=!1}),Rf=()=>{we.forEach(Re=>{Re.stop()}),k&&(Ne(),k=!1),ir(),$e.forEach(Re=>Re.c(0,Fe)),$e.length=0},xn=(Re,st)=>{const kt=c[0];return kt!==void 0&&(kt.offset===void 0||kt.offset===0)?kt[Re]=st:c=[{offset:0,[Re]:st},...c],Fe};return Fe={parentAnimation:S,elements:He,childAnimations:we,id:Pe,animationFinish:Te,from:xn,to:(Re,st)=>{const kt=c[c.length-1];return kt!==void 0&&(kt.offset===void 0||kt.offset===1)?kt[Re]=st:c=[...c,{offset:1,[Re]:st}],Fe},fromTo:(Re,st,kt)=>xn(Re,st).to(Re,kt),parent:W,play:su,pause:Qt,stop:Rf,destroy:ei,keyframes:ve,addAnimation:ie,addElement:Y,update:Wt,fill:Jt,direction:Lr,iterations:U,duration:ae,easing:Oo,delay:ss,getWebAnimations:vn,getKeyframes:zi,getFill:Ti,getDirection:go,getDelay:Ht,getIterations:Ut,getEasing:Yr,getDuration:nt,afterAddRead:si,afterAddWrite:vr,afterClearStyles:br,afterStyles:at,afterRemoveClass:Fa,afterAddClass:ha,beforeAddRead:Ki,beforeAddWrite:on,beforeClearStyles:Os,beforeStyles:da,beforeRemoveClass:ua,beforeAddClass:zr,onFinish:zt,isRunning:ot,progressStart:Zt,progressStep:Mn,progressEnd:In}},oH="ionViewWillEnter",sH="ionViewDidEnter",yL="ionViewWillLeave",vL="ionViewDidLeave",h1="ionViewWillUnload",aH=()=>Ar(()=>import("./ios.transition-D8hqisUV.js"),__vite__mapDeps([])),lH=()=>Ar(()=>import("./md.transition-DfNQAzjm.js"),__vite__mapDeps([])),bL=e=>new Promise((t,n)=>{El(()=>{cH(e),uH(e).then(i=>{i.animation&&i.animation.destroy(),HP(e),t(i)},i=>{HP(e),n(i)})})}),cH=e=>{const t=e.enteringEl,n=e.leavingEl;gH(t,n,e.direction),e.showGoBack?t.classList.add("can-go-back"):t.classList.remove("can-go-back"),d2(t,!1),t.style.setProperty("pointer-events","none"),n&&(d2(n,!1),n.style.setProperty("pointer-events","none"))},uH=async e=>{const t=await dH(e);return t&&rU.isBrowser?hH(t,e):fH(e)},HP=e=>{const t=e.enteringEl,n=e.leavingEl;t.classList.remove("ion-page-invisible"),t.style.removeProperty("pointer-events"),n!==void 0&&(n.classList.remove("ion-page-invisible"),n.style.removeProperty("pointer-events"))},dH=async e=>!e.leavingEl||!e.animated||e.duration===0?void 0:e.animationBuilder?e.animationBuilder:e.mode==="ios"?(await aH()).iosTransitionAnimation:(await lH()).mdTransitionAnimation,hH=async(e,t)=>{await _L(t,!0);const n=e(t.baseEl,t);xL(t.enteringEl,t.leavingEl);const i=await mH(n,t);return t.progressCallback&&t.progressCallback(void 0),i&&wL(t.enteringEl,t.leavingEl),{hasCompleted:i,animation:n}},fH=async e=>{const t=e.enteringEl,n=e.leavingEl;return await _L(e,!1),xL(t,n),wL(t,n),{hasCompleted:!0}},_L=async(e,t)=>{(e.deepWait!==void 0?e.deepWait:t)&&await Promise.all([u2(e.enteringEl),u2(e.leavingEl)]),await pH(e.viewIsReady,e.enteringEl)},pH=async(e,t)=>{e&&await e(t)},mH=(e,t)=>{const n=t.progressCallback,i=new Promise(s=>{e.onFinish(l=>s(l===1))});return n?(e.progressStart(!0),n(e)):e.play(),i},xL=(e,t)=>{hl(t,yL),hl(e,oH)},wL=(e,t)=>{hl(e,sH),hl(t,vL)},hl=(e,t)=>{if(e){const n=new CustomEvent(t,{bubbles:!1,cancelable:!1});e.dispatchEvent(n)}},u2=async e=>{const t=e;if(t){if(t.componentOnReady!=null){if(await t.componentOnReady()!=null)return}else if(t.__registerHost!=null){await new Promise(i=>_s(i));return}await Promise.all(Array.from(t.children).map(u2))}},d2=(e,t)=>{t?(e.setAttribute("aria-hidden","true"),e.classList.add("ion-page-hidden")):(e.hidden=!1,e.removeAttribute("aria-hidden"),e.classList.remove("ion-page-hidden"))},gH=(e,t,n)=>{e!==void 0&&(e.style.zIndex=n==="back"?"99":"101"),t!==void 0&&(t.style.zIndex="100")},rie=e=>{if(e.classList.contains("ion-page"))return e;const t=e.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs");return t||e};/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const jm=(e,t,n,i,s)=>vH(e[1],t[1],n[1],i[1],s).map(l=>yH(e[0],t[0],n[0],i[0],l)),yH=(e,t,n,i,s)=>{const l=3*t*Math.pow(s-1,2),d=-3*n*s+3*n+i*s,c=e*Math.pow(s-1,3);return s*(l+s*d)-c},vH=(e,t,n,i,s)=>(e-=s,t-=s,n-=s,i-=s,_H(i-3*n+3*t-e,3*n-6*t+3*e,3*t-3*e,e).filter(d=>d>=0&&d<=1)),bH=(e,t,n)=>{const i=t*t-4*e*n;return i<0?[]:[(-t+Math.sqrt(i))/(2*e),(-t-Math.sqrt(i))/(2*e)]},_H=(e,t,n,i)=>{if(e===0)return bH(t,n,i);t/=e,n/=e,i/=e;const s=(3*n-t*t)/3,l=(2*t*t*t-9*t*n+27*i)/27;if(s===0)return[Math.pow(-l,1/3)];if(l===0)return[Math.sqrt(-s),-Math.sqrt(-s)];const d=Math.pow(l/2,2)+Math.pow(s/3,3);if(d===0)return[Math.pow(l/2,1/2)-t/3];if(d>0)return[Math.pow(-(l/2)+Math.sqrt(d),1/3)-Math.pow(l/2+Math.sqrt(d),1/3)-t/3];const c=Math.sqrt(Math.pow(-(s/3),3)),y=Math.acos(-(l/(2*Math.sqrt(Math.pow(-(s/3),3))))),b=2*Math.pow(c,1/3);return[b*Math.cos(y/3)-t/3,b*Math.cos((y+2*Math.PI)/3)-t/3,b*Math.cos((y+4*Math.PI)/3)-t/3]};/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */class xH{constructor(){this.gestureId=0,this.requestedStart=new Map,this.disabledGestures=new Map,this.disabledScroll=new Set}createGesture(t){var n;return new wH(this,this.newID(),t.name,(n=t.priority)!==null&&n!==void 0?n:0,!!t.disableScroll)}createBlocker(t={}){return new SH(this,this.newID(),t.disable,!!t.disableScroll)}start(t,n,i){return this.canStart(t)?(this.requestedStart.set(n,i),!0):(this.requestedStart.delete(n),!1)}capture(t,n,i){if(!this.start(t,n,i))return!1;const s=this.requestedStart;let l=-1e4;if(s.forEach(d=>{l=Math.max(l,d)}),l===i){this.capturedId=n,s.clear();const d=new CustomEvent("ionGestureCaptured",{detail:{gestureName:t}});return document.dispatchEvent(d),!0}return s.delete(n),!1}release(t){this.requestedStart.delete(t),this.capturedId===t&&(this.capturedId=void 0)}disableGesture(t,n){let i=this.disabledGestures.get(t);i===void 0&&(i=new Set,this.disabledGestures.set(t,i)),i.add(n)}enableGesture(t,n){const i=this.disabledGestures.get(t);i!==void 0&&i.delete(n)}disableScroll(t){this.disabledScroll.add(t),this.disabledScroll.size===1&&document.body.classList.add(qP)}enableScroll(t){this.disabledScroll.delete(t),this.disabledScroll.size===0&&document.body.classList.remove(qP)}canStart(t){return!(this.capturedId!==void 0||this.isDisabled(t))}isCaptured(){return this.capturedId!==void 0}isScrollDisabled(){return this.disabledScroll.size>0}isDisabled(t){const n=this.disabledGestures.get(t);return!!(n&&n.size>0)}newID(){return this.gestureId++,this.gestureId}}class wH{constructor(t,n,i,s,l){this.id=n,this.name=i,this.disableScroll=l,this.priority=s*1e6+n,this.ctrl=t}canStart(){return this.ctrl?this.ctrl.canStart(this.name):!1}start(){return this.ctrl?this.ctrl.start(this.name,this.id,this.priority):!1}capture(){if(!this.ctrl)return!1;const t=this.ctrl.capture(this.name,this.id,this.priority);return t&&this.disableScroll&&this.ctrl.disableScroll(this.id),t}release(){this.ctrl&&(this.ctrl.release(this.id),this.disableScroll&&this.ctrl.enableScroll(this.id))}destroy(){this.release(),this.ctrl=void 0}}class SH{constructor(t,n,i,s){this.id=n,this.disable=i,this.disableScroll=s,this.ctrl=t}block(){if(this.ctrl){if(this.disable)for(const t of this.disable)this.ctrl.disableGesture(t,this.id);this.disableScroll&&this.ctrl.disableScroll(this.id)}}unblock(){if(this.ctrl){if(this.disable)for(const t of this.disable)this.ctrl.enableGesture(t,this.id);this.disableScroll&&this.ctrl.enableScroll(this.id)}}destroy(){this.unblock(),this.ctrl=void 0}}const qP="backdrop-no-scroll",SL=new xH;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */let kH=class{constructor(){this.m=new Map}reset(t){this.m=new Map(Object.entries(t))}get(t,n){const i=this.m.get(t);return i!==void 0?i:n}getBoolean(t,n=!1){const i=this.m.get(t);return i===void 0?n:typeof i=="string"?i==="true":!!i}getNumber(t,n){const i=parseFloat(this.m.get(t));return isNaN(i)?n!==void 0?n:NaN:i}set(t,n){this.m.set(t,n)}};const Un=new kH,EH=e=>{try{const t=e.sessionStorage.getItem(kL);return t!==null?JSON.parse(t):{}}catch(t){return{}}},CH=(e,t)=>{try{e.sessionStorage.setItem(kL,JSON.stringify(t))}catch(n){return}},TH=e=>{const t={};return e.location.search.slice(1).split("&").map(n=>n.split("=")).map(([n,i])=>[decodeURIComponent(n),decodeURIComponent(i)]).filter(([n])=>IH(n,WP)).map(([n,i])=>[n.slice(WP.length),i]).forEach(([n,i])=>{t[n]=i}),t},IH=(e,t)=>e.substr(0,t.length)===t,WP="ionic:",kL="ionic-persist-config",PH=e=>EL(e),Ec=(e,t)=>(typeof e=="string"&&(t=e,e=void 0),PH(e).includes(t)),EL=(e=window)=>{if(typeof e>"u")return[];e.Ionic=e.Ionic||{};let t=e.Ionic.platforms;return t==null&&(t=e.Ionic.platforms=AH(e),t.forEach(n=>e.document.documentElement.classList.add("plt-".concat(n)))),t},AH=e=>{const t=Un.get("platform");return Object.keys(ZP).filter(n=>{const i=t==null?void 0:t[n];return typeof i=="function"?i(e):ZP[n](e)})},RH=e=>X0(e)&&!TL(e),qk=e=>!!(ad(e,/iPad/i)||ad(e,/Macintosh/i)&&X0(e)),MH=e=>ad(e,/iPhone/i),zH=e=>ad(e,/iPhone|iPod/i)||qk(e),CL=e=>ad(e,/android|sink/i),LH=e=>CL(e)&&!ad(e,/mobile/i),OH=e=>{const t=e.innerWidth,n=e.innerHeight,i=Math.min(t,n),s=Math.max(t,n);return i>390&&i<520&&s>620&&s<800},DH=e=>{const t=e.innerWidth,n=e.innerHeight,i=Math.min(t,n),s=Math.max(t,n);return qk(e)||LH(e)||i>460&&i<820&&s>780&&s<1400},X0=e=>NH(e,"(any-pointer:coarse)"),$H=e=>!X0(e),TL=e=>IL(e)||PL(e),IL=e=>!!(e.cordova||e.phonegap||e.PhoneGap),PL=e=>{const t=e.Capacitor;return!!(t!=null&&t.isNative)},BH=e=>ad(e,/electron/i),FH=e=>{var t;return!!(!((t=e.matchMedia)===null||t===void 0)&&t.call(e,"(display-mode: standalone)").matches||e.navigator.standalone)},ad=(e,t)=>t.test(e.navigator.userAgent),NH=(e,t)=>{var n;return(n=e.matchMedia)===null||n===void 0?void 0:n.call(e,t).matches},ZP={ipad:qk,iphone:MH,ios:zH,android:CL,phablet:OH,tablet:DH,cordova:IL,capacitor:PL,electron:BH,pwa:FH,mobile:X0,mobileweb:RH,desktop:$H,hybrid:TL};let fh;const Tn=e=>e&&mU(e)||fh,jH=(e={})=>{if(typeof window>"u")return;const t=window.document,n=window,i=n.Ionic=n.Ionic||{},s={};e._ael&&(s.ael=e._ael),e._rel&&(s.rel=e._rel),e._ce&&(s.ce=e._ce),UU(s);const l=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},EH(n)),{persistConfig:!1}),i.config),TH(n)),e);Un.reset(l),Un.getBoolean("persistConfig")&&CH(n,l),EL(n),i.config=Un,i.mode=fh=Un.get("mode",t.documentElement.getAttribute("mode")||(Ec(n,"ios")?"ios":"md")),Un.set("mode",fh),t.documentElement.setAttribute("mode",fh),t.documentElement.classList.add(fh),Un.getBoolean("_testing")&&Un.set("animated",!1);const d=y=>{var b;return(b=y.tagName)===null||b===void 0?void 0:b.startsWith("ION-")},c=y=>["ios","md"].includes(y);pU(y=>{for(;y;){const b=y.mode||y.getAttribute("mode");if(b){if(c(b))return b;d(y)&&console.warn('Invalid ionic mode: "'+b+'", expected: "ios" or "md"')}y=y.parentElement}return fh})};/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const Ao=(e,t)=>t.closest(e)!==null,za=(e,t)=>typeof e=="string"&&e.length>0?Object.assign({"ion-color":!0,["ion-color-".concat(e)]:!0},t):t,VH=/^[a-z][a-z0-9+\-.]*:/,Wk=async(e,t,n,i)=>{if(e!=null&&e[0]!=="#"&&!VH.test(e)){const s=document.querySelector("ion-router");if(s)return t!=null&&t.preventDefault(),s.push(e,n,i)}return!1};/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const Vm=()=>Un.get("experimentalCloseWatcher",!1)&&gi!==void 0&&"CloseWatcher"in gi,UH=()=>{document.addEventListener("backbutton",()=>{})},HH=()=>{const e=document;let t=!1;const n=()=>{if(t)return;let i=0,s=[];const l=new CustomEvent("ionBackButton",{bubbles:!1,detail:{register(y,b){s.push({priority:y,handler:b,id:i++})}}});e.dispatchEvent(l);const d=async y=>{try{if(y!=null&&y.handler){const b=y.handler(c);b!=null&&await b}}catch(b){console.error(b)}},c=()=>{if(s.length>0){let y={priority:Number.MIN_SAFE_INTEGER,handler:()=>{},id:-1};s.forEach(b=>{b.priority>=y.priority&&(y=b)}),t=!0,s=s.filter(b=>b.id!==y.id),d(y).then(()=>t=!1)}};c()};if(Vm()){let i;const s=()=>{i==null||i.destroy(),i=new gi.CloseWatcher,i.onclose=()=>{n(),s()}};s()}else e.addEventListener("backbutton",n)},qH=100,AL=99,WH=Object.freeze(Object.defineProperty({__proto__:null,MENU_BACK_BUTTON_PRIORITY:AL,OVERLAY_BACK_BUTTON_PRIORITY:qH,blockHardwareBackButton:UH,shouldUseCloseWatcher:Vm,startHardwareBackButton:HH},Symbol.toStringTag,{value:"Module"}));/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const ko=(e,...t)=>console.warn("[Ionic Warning]: ".concat(e),...t),RL=(e,...t)=>console.error("[Ionic Error]: ".concat(e),...t),ZH=(e,...t)=>console.error("<".concat(e.tagName.toLowerCase(),"> must be used inside ").concat(t.join(" or "),"."));/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const Zk=e=>Bc().duration(e?400:300),GH=e=>{let t,n;const i=e.width+8,s=Bc(),l=Bc();e.isEndSide?(t=i+"px",n="0px"):(t=-i+"px",n="0px"),s.addElement(e.menuInnerEl).fromTo("transform","translateX(".concat(t,")"),"translateX(".concat(n,")"));const c=Tn(e)==="ios",y=c?.2:.25;return l.addElement(e.backdropEl).fromTo("opacity",.01,y),Zk(c).addAnimation([s,l])},KH=e=>{let t,n;const i=Tn(e),s=e.width;e.isEndSide?(t=-s+"px",n=s+"px"):(t=s+"px",n=-s+"px");const l=Bc().addElement(e.menuInnerEl).fromTo("transform","translateX(".concat(n,")"),"translateX(0px)"),d=Bc().addElement(e.contentEl).fromTo("transform","translateX(0px)","translateX(".concat(t,")")),c=Bc().addElement(e.backdropEl).fromTo("opacity",.01,.32);return Zk(i==="ios").addAnimation([l,d,c])},XH=e=>{const t=Tn(e),n=e.width*(e.isEndSide?-1:1)+"px",i=Bc().addElement(e.contentEl).fromTo("transform","translateX(0px)","translateX(".concat(n,")"));return Zk(t==="ios").addAnimation(i)},YH=()=>{const e=new Map,t=[],n=async oe=>{const re=await b(oe,!0);return re?re.open():!1},i=async oe=>{const re=await(oe!==void 0?b(oe,!0):k());return re!==void 0?re.close():!1},s=async oe=>{const re=await b(oe,!0);return re?re.toggle():!1},l=async(oe,re)=>{const Be=await b(re);return Be&&(Be.disabled=!oe),Be},d=async(oe,re)=>{const Be=await b(re);return Be&&(Be.swipeGesture=oe),Be},c=async oe=>{if(oe!=null){const re=await b(oe);return re!==void 0&&re.isOpen()}else return await k()!==void 0},y=async oe=>{const re=await b(oe);return re?!re.disabled:!1},b=async(oe,re=!1)=>{if(await fe(),oe==="start"||oe==="end"){const Le=t.filter(Ze=>Ze.side===oe&&!Ze.disabled);if(Le.length>=1)return Le.length>1&&re&&ko('menuController queried for a menu on the "'.concat(oe,'" side, but ').concat(Le.length," menus were found. The first menu reference will be used. If this is not the behavior you want then pass the ID of the menu instead of its side."),Le.map(Ze=>Ze.el)),Le[0].el;const Fe=t.filter(Ze=>Ze.side===oe);if(Fe.length>=1)return Fe.length>1&&re&&ko('menuController queried for a menu on the "'.concat(oe,'" side, but ').concat(Fe.length," menus were found. The first menu reference will be used. If this is not the behavior you want then pass the ID of the menu instead of its side."),Fe.map(Ze=>Ze.el)),Fe[0].el}else if(oe!=null)return Q(Le=>Le.menuId===oe);const Be=Q(Le=>!Le.disabled);return Be||(t.length>0?t[0].el:void 0)},k=async()=>(await fe(),$()),S=async()=>(await fe(),V()),E=async()=>(await fe(),Z()),A=(oe,re)=>{e.set(oe,re)},z=oe=>{t.indexOf(oe)<0&&t.push(oe)},N=oe=>{const re=t.indexOf(oe);re>-1&&t.splice(re,1)},q=async(oe,re,Be)=>{if(Z())return!1;if(re){const Le=await k();Le&&oe.el!==Le&&await Le.setOpen(!1,!1)}return oe._setOpen(re,Be)},F=(oe,re)=>{const Be=e.get(oe);if(!Be)throw new Error("animation not registered");return Be(re)},$=()=>Q(oe=>oe._isOpen),V=()=>t.map(oe=>oe.el),Z=()=>t.some(oe=>oe.isAnimating),Q=oe=>{const re=t.find(oe);if(re!==void 0)return re.el},fe=()=>Promise.all(Array.from(document.querySelectorAll("ion-menu")).map(oe=>new Promise(re=>sd(oe,re))));return A("reveal",XH),A("push",KH),A("overlay",GH),Dh==null||Dh.addEventListener("ionBackButton",oe=>{const re=$();re&&oe.detail.register(AL,()=>re.close())}),{registerAnimation:A,get:b,getMenus:S,getOpen:k,isEnabled:y,swipeGesture:d,isAnimating:E,isOpen:c,enable:l,toggle:s,close:i,open:n,_getOpenSync:$,_createAnimation:F,_register:z,_unregister:N,_setOpen:q}},Wi=YH();/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const ML=async(e,t,n,i,s,l)=>{var d;if(e)return e.attachViewToDom(t,n,s,i);if(!l&&typeof n!="string"&&!(n instanceof HTMLElement))throw new Error("framework delegate is missing");const c=typeof n=="string"?(d=t.ownerDocument)===null||d===void 0?void 0:d.createElement(n):n;return i&&i.forEach(y=>c.classList.add(y)),s&&Object.assign(c,s),t.appendChild(c),await new Promise(y=>sd(c,y)),c},JH=(e,t)=>{if(t){if(e){const n=t.parentElement;return e.removeViewFromDom(n,t)}t.remove()}return Promise.resolve()};/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const QH=e=>e.classList.contains("overlay-hidden"),eq=(e,t)=>(t===void 0&&(t="ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover,ion-toast"),Array.from(e.querySelectorAll(t)).filter(n=>n.overlayIndex>0)),tq=(e,t)=>eq(e,t).filter(n=>!QH(n)),nq=(e,t,n)=>{const i=tq(e,t);return n===void 0?i[i.length-1]:i.find(s=>s.id===n)};/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const iq="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='square' stroke-miterlimit='10' stroke-width='48' d='M244 400L100 256l144-144M120 256h292' class='ionicon-fill-none'/></svg>",rq="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='round' stroke-linejoin='round' stroke-width='48' d='M328 112L184 256l144 144' class='ionicon-fill-none'/></svg>",GP="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='round' stroke-linejoin='round' stroke-width='48' d='M184 112l144 144-144 144' class='ionicon-fill-none'/></svg>",KP="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M256 48C141.31 48 48 141.31 48 256s93.31 208 208 208 208-93.31 208-208S370.69 48 256 48zm75.31 260.69a16 16 0 11-22.62 22.62L256 278.63l-52.69 52.68a16 16 0 01-22.62-22.62L233.37 256l-52.68-52.69a16 16 0 0122.62-22.62L256 233.37l52.69-52.68a16 16 0 0122.62 22.62L278.63 256z'/></svg>",XP="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M400 145.49L366.51 112 256 222.51 145.49 112 112 145.49 222.51 256 112 366.51 145.49 400 256 289.49 366.51 400 400 366.51 289.49 256 400 145.49z'/></svg>";/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */let f1;const oq=()=>{if(typeof window>"u")return new Map;if(!f1){const e=window;e.Ionicons=e.Ionicons||{},f1=e.Ionicons.map=e.Ionicons.map||new Map}return f1},sq=e=>{let t=p1(e.src);return t||(t=zL(e.name,e.icon,e.mode,e.ios,e.md),t?aq(t,e):e.icon&&(t=p1(e.icon),t||(t=p1(e.icon[e.mode]),t))?t:null)},aq=(e,t)=>{const n=oq().get(e);if(n)return n;try{return eL("svg/".concat(e,".svg"))}catch(i){console.warn('[Ionicons Warning]: Could not load icon with name "'.concat(e,'". Ensure that the icon is registered using addIcons or that the icon SVG data is passed directly to the icon component.'),t)}},zL=(e,t,n,i,s)=>(n=(n&&wv(n))==="ios"?"ios":"md",i&&n==="ios"?e=wv(i):s&&n==="md"?e=wv(s):(!e&&t&&!LL(t)&&(e=t),Vb(e)&&(e=wv(e))),!Vb(e)||e.trim()===""||e.replace(/[a-z]|-|\d/gi,"")!==""?null:e),p1=e=>Vb(e)&&(e=e.trim(),LL(e))?e:null,LL=e=>e.length>0&&/(\/|\.)/.test(e),Vb=e=>typeof e=="string",wv=e=>e.toLowerCase(),lq=(e,t=[])=>{const n={};return t.forEach(i=>{e.hasAttribute(i)&&(e.getAttribute(i)!==null&&(n[i]=e.getAttribute(i)),e.removeAttribute(i))}),n},cq=e=>e&&e.dir!==""?e.dir.toLowerCase()==="rtl":(document==null?void 0:document.dir.toLowerCase())==="rtl",uq=e=>{const t=document.createElement("div");t.innerHTML=e;for(let i=t.childNodes.length-1;i>=0;i--)t.childNodes[i].nodeName.toLowerCase()!=="svg"&&t.removeChild(t.childNodes[i]);const n=t.firstElementChild;if(n&&n.nodeName.toLowerCase()==="svg"){const i=n.getAttribute("class")||"";if(n.setAttribute("class",(i+" s-ion-icon").trim()),OL(n))return t.innerHTML}return""},OL=e=>{if(e.nodeType===1){if(e.nodeName.toLowerCase()==="script")return!1;for(let t=0;t<e.attributes.length;t++){const n=e.attributes[t].name;if(Vb(n)&&n.toLowerCase().indexOf("on")===0)return!1}for(let t=0;t<e.childNodes.length;t++)if(!OL(e.childNodes[t]))return!1}return!0},dq=e=>e.startsWith("data:image/svg+xml"),hq=e=>e.indexOf(";utf8,")!==-1,Bu=new Map,YP=new Map;let m1;const fq=(e,t)=>{let n=YP.get(e);if(!n)if(typeof fetch<"u"&&typeof document<"u")if(dq(e)&&hq(e)){m1||(m1=new DOMParser);const s=m1.parseFromString(e,"text/html").querySelector("svg");return s&&Bu.set(e,s.outerHTML),Promise.resolve()}else n=fetch(e).then(i=>{if(i.ok)return i.text().then(s=>{s&&t!==!1&&(s=uq(s)),Bu.set(e,s||"")});Bu.set(e,"")}),YP.set(e,n);else return Bu.set(e,""),Promise.resolve();return n},pq=":host{display:inline-block;width:1em;height:1em;contain:strict;fill:currentColor;-webkit-box-sizing:content-box !important;box-sizing:content-box !important}:host .ionicon{stroke:currentColor}.ionicon-fill-none{fill:none}.ionicon-stroke-width{stroke-width:32px;stroke-width:var(--ionicon-stroke-width, 32px)}.icon-inner,.ionicon,svg{display:block;height:100%;width:100%}@supports (background: -webkit-named-image(i)){:host(.icon-rtl) .icon-inner{-webkit-transform:scaleX(-1);transform:scaleX(-1)}}@supports not selector(:dir(rtl)) and selector(:host-context([dir='rtl'])){:host(.icon-rtl) .icon-inner{-webkit-transform:scaleX(-1);transform:scaleX(-1)}}:host(.flip-rtl):host-context([dir='rtl']) .icon-inner{-webkit-transform:scaleX(-1);transform:scaleX(-1)}@supports selector(:dir(rtl)){:host(.flip-rtl:dir(rtl)) .icon-inner{-webkit-transform:scaleX(-1);transform:scaleX(-1)}:host(.flip-rtl:dir(ltr)) .icon-inner{-webkit-transform:scaleX(1);transform:scaleX(1)}}:host(.icon-small){font-size:1.125rem !important}:host(.icon-large){font-size:2rem !important}:host(.ion-color){color:var(--ion-color-base) !important}:host(.ion-color-primary){--ion-color-base:var(--ion-color-primary, #3880ff)}:host(.ion-color-secondary){--ion-color-base:var(--ion-color-secondary, #0cd1e8)}:host(.ion-color-tertiary){--ion-color-base:var(--ion-color-tertiary, #f4a942)}:host(.ion-color-success){--ion-color-base:var(--ion-color-success, #10dc60)}:host(.ion-color-warning){--ion-color-base:var(--ion-color-warning, #ffce00)}:host(.ion-color-danger){--ion-color-base:var(--ion-color-danger, #f14141)}:host(.ion-color-light){--ion-color-base:var(--ion-color-light, #f4f5f8)}:host(.ion-color-medium){--ion-color-base:var(--ion-color-medium, #989aa2)}:host(.ion-color-dark){--ion-color-base:var(--ion-color-dark, #222428)}",mq=pq,gq=Ei(class extends Ci{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.iconName=null,this.inheritedAttributes={},this.didLoadIcon=!1,this.svgContent=void 0,this.isVisible=!1,this.mode=yq(),this.color=void 0,this.ios=void 0,this.md=void 0,this.flipRtl=void 0,this.name=void 0,this.src=void 0,this.icon=void 0,this.size=void 0,this.lazy=!1,this.sanitize=!0}componentWillLoad(){this.inheritedAttributes=lq(this.el,["aria-label"])}connectedCallback(){this.waitUntilVisible(this.el,"50px",()=>{this.isVisible=!0,this.loadIcon()})}componentDidLoad(){this.didLoadIcon||this.loadIcon()}disconnectedCallback(){this.io&&(this.io.disconnect(),this.io=void 0)}waitUntilVisible(t,n,i){if(this.lazy&&typeof window<"u"&&window.IntersectionObserver){const s=this.io=new window.IntersectionObserver(l=>{l[0].isIntersecting&&(s.disconnect(),this.io=void 0,i())},{rootMargin:n});s.observe(t)}else i()}loadIcon(){if(this.isVisible){const t=sq(this);t&&(Bu.has(t)?this.svgContent=Bu.get(t):fq(t,this.sanitize).then(()=>this.svgContent=Bu.get(t)),this.didLoadIcon=!0)}this.iconName=zL(this.name,this.icon,this.mode,this.ios,this.md)}render(){const{flipRtl:t,iconName:n,inheritedAttributes:i,el:s}=this,l=this.mode||"md",d=n?(n.includes("arrow")||n.includes("chevron"))&&t!==!1:!1,c=t||d;return it(ki,Object.assign({role:"img",class:Object.assign(Object.assign({[l]:!0},vq(this.color)),{["icon-".concat(this.size)]:!!this.size,"flip-rtl":c,"icon-rtl":c&&cq(s)})},i),this.svgContent?it("div",{class:"icon-inner",innerHTML:this.svgContent}):it("div",{class:"icon-inner"}))}static get assetsDirs(){return["svg"]}get el(){return this}static get watchers(){return{name:["loadIcon"],src:["loadIcon"],icon:["loadIcon"],ios:["loadIcon"],md:["loadIcon"]}}static get style(){return mq}},[1,"ion-icon",{mode:[1025],color:[1],ios:[1],md:[1],flipRtl:[4,"flip-rtl"],name:[513],src:[1],icon:[8],size:[1],lazy:[4],sanitize:[4],svgContent:[32],isVisible:[32]},void 0,{name:["loadIcon"],src:["loadIcon"],icon:["loadIcon"],ios:["loadIcon"],md:["loadIcon"]}]),yq=()=>typeof document<"u"&&document.documentElement.getAttribute("mode")||"md",vq=e=>e?{"ion-color":!0,["ion-color-".concat(e)]:!0}:null;function DL(){if(typeof customElements>"u")return;["ion-icon"].forEach(t=>{switch(t){case"ion-icon":customElements.get(t)||customElements.define(t,gq);break}})}/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const bq=":host{border-radius:var(--border-radius);display:block}::slotted(ion-img),::slotted(img){border-radius:var(--border-radius);width:100%;height:100%;-o-object-fit:cover;object-fit:cover;overflow:hidden}:host{--border-radius:50%;width:48px;height:48px}",_q=bq,xq=":host{border-radius:var(--border-radius);display:block}::slotted(ion-img),::slotted(img){border-radius:var(--border-radius);width:100%;height:100%;-o-object-fit:cover;object-fit:cover;overflow:hidden}:host{--border-radius:50%;width:64px;height:64px}",wq=xq,Sq=Ei(class extends Ci{constructor(){super(),this.__registerHost(),this.__attachShadow()}render(){return it(ki,{key:"95d7ca334f9b66e0983cbc1b782ded0b9a54eaa9",class:Tn(this)},it("slot",{key:"011d20189acdb03bee328aa4fa0511826a0b3a36"}))}static get style(){return{ios:_q,md:wq}}},[33,"ion-avatar"]);function kq(){if(typeof customElements>"u")return;["ion-avatar"].forEach(t=>{switch(t){case"ion-avatar":customElements.get(t)||customElements.define(t,Sq);break}})}const Eq=kq;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const Cq=":host{left:0;right:0;top:0;bottom:0;display:block;position:absolute;-webkit-transform:translateZ(0);transform:translateZ(0);contain:strict;cursor:pointer;opacity:0.01;-ms-touch-action:none;touch-action:none;z-index:2}:host(.backdrop-hide){background:transparent}:host(.backdrop-no-tappable){cursor:auto}:host{background-color:var(--ion-backdrop-color, #000)}",Tq=Cq,Iq=":host{left:0;right:0;top:0;bottom:0;display:block;position:absolute;-webkit-transform:translateZ(0);transform:translateZ(0);contain:strict;cursor:pointer;opacity:0.01;-ms-touch-action:none;touch-action:none;z-index:2}:host(.backdrop-hide){background:transparent}:host(.backdrop-no-tappable){cursor:auto}:host{background-color:var(--ion-backdrop-color, #000)}",Pq=Iq,Aq=Ei(class extends Ci{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionBackdropTap=Hn(this,"ionBackdropTap",7),this.blocker=SL.createBlocker({disableScroll:!0}),this.visible=!0,this.tappable=!0,this.stopPropagation=!0}connectedCallback(){this.stopPropagation&&this.blocker.block()}disconnectedCallback(){this.blocker.unblock()}onMouseDown(t){this.emitTap(t)}emitTap(t){this.stopPropagation&&(t.preventDefault(),t.stopPropagation()),this.tappable&&this.ionBackdropTap.emit()}render(){const t=Tn(this);return it(ki,{key:"b2adb9dabef01fa49388d67d9e8a4a370931f633",tabindex:"-1","aria-hidden":"true",class:{[t]:!0,"backdrop-hide":!this.visible,"backdrop-no-tappable":!this.tappable}})}static get style(){return{ios:Tq,md:Pq}}},[33,"ion-backdrop",{visible:[4],tappable:[4],stopPropagation:[4,"stop-propagation"]},[[2,"click","onMouseDown"]]]);function Rq(){if(typeof customElements>"u")return;["ion-backdrop"].forEach(t=>{switch(t){case"ion-backdrop":customElements.get(t)||customElements.define(t,Aq);break}})}/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const Mq=".sc-ion-buttons-ios-h{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-webkit-transform:translateZ(0);transform:translateZ(0);z-index:99}.sc-ion-buttons-ios-s ion-button{--padding-top:0;--padding-bottom:0;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0}.sc-ion-buttons-ios-s ion-button{--padding-top:3px;--padding-bottom:3px;--padding-start:5px;--padding-end:5px;-webkit-margin-start:2px;margin-inline-start:2px;-webkit-margin-end:2px;margin-inline-end:2px;min-height:32px}.sc-ion-buttons-ios-s .button-has-icon-only{--padding-top:0;--padding-bottom:0}.sc-ion-buttons-ios-s ion-button:not(.button-round){--border-radius:4px}.sc-ion-buttons-ios-h.ion-color.sc-ion-buttons-ios-s .button,.ion-color .sc-ion-buttons-ios-h.sc-ion-buttons-ios-s .button{--color:initial;--border-color:initial;--background-focused:var(--ion-color-contrast)}.sc-ion-buttons-ios-h.ion-color.sc-ion-buttons-ios-s .button-solid,.ion-color .sc-ion-buttons-ios-h.sc-ion-buttons-ios-s .button-solid{--background:var(--ion-color-contrast);--background-focused:#000;--background-focused-opacity:.12;--background-activated:#000;--background-activated-opacity:.12;--background-hover:var(--ion-color-base);--background-hover-opacity:0.45;--color:var(--ion-color-base);--color-focused:var(--ion-color-base)}.sc-ion-buttons-ios-h.ion-color.sc-ion-buttons-ios-s .button-clear,.ion-color .sc-ion-buttons-ios-h.sc-ion-buttons-ios-s .button-clear{--color-activated:var(--ion-color-contrast);--color-focused:var(--ion-color-contrast)}.sc-ion-buttons-ios-h.ion-color.sc-ion-buttons-ios-s .button-outline,.ion-color .sc-ion-buttons-ios-h.sc-ion-buttons-ios-s .button-outline{--color-activated:var(--ion-color-base);--color-focused:var(--ion-color-contrast);--background-activated:var(--ion-color-contrast)}.sc-ion-buttons-ios-s .button-clear,.sc-ion-buttons-ios-s .button-outline{--background-activated:transparent;--background-focused:currentColor;--background-hover:transparent}.sc-ion-buttons-ios-s .button-solid:not(.ion-color){--background-focused:#000;--background-focused-opacity:.12;--background-activated:#000;--background-activated-opacity:.12}.sc-ion-buttons-ios-s ion-icon[slot=start]{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-webkit-margin-end:0.3em;margin-inline-end:0.3em;font-size:1.41em;line-height:0.67}.sc-ion-buttons-ios-s ion-icon[slot=end]{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-webkit-margin-start:0.4em;margin-inline-start:0.4em;font-size:1.41em;line-height:0.67}.sc-ion-buttons-ios-s ion-icon[slot=icon-only]{padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;font-size:1.65em;line-height:0.67}",zq=Mq,Lq=".sc-ion-buttons-md-h{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-webkit-transform:translateZ(0);transform:translateZ(0);z-index:99}.sc-ion-buttons-md-s ion-button{--padding-top:0;--padding-bottom:0;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0}.sc-ion-buttons-md-s ion-button{--padding-top:3px;--padding-bottom:3px;--padding-start:8px;--padding-end:8px;--box-shadow:none;-webkit-margin-start:2px;margin-inline-start:2px;-webkit-margin-end:2px;margin-inline-end:2px;min-height:32px}.sc-ion-buttons-md-s .button-has-icon-only{--padding-top:0;--padding-bottom:0}.sc-ion-buttons-md-s ion-button:not(.button-round){--border-radius:2px}.sc-ion-buttons-md-h.ion-color.sc-ion-buttons-md-s .button,.ion-color .sc-ion-buttons-md-h.sc-ion-buttons-md-s .button{--color:initial;--color-focused:var(--ion-color-contrast);--color-hover:var(--ion-color-contrast);--background-activated:transparent;--background-focused:var(--ion-color-contrast);--background-hover:var(--ion-color-contrast)}.sc-ion-buttons-md-h.ion-color.sc-ion-buttons-md-s .button-solid,.ion-color .sc-ion-buttons-md-h.sc-ion-buttons-md-s .button-solid{--background:var(--ion-color-contrast);--background-activated:transparent;--background-focused:var(--ion-color-shade);--background-hover:var(--ion-color-base);--color:var(--ion-color-base);--color-focused:var(--ion-color-base);--color-hover:var(--ion-color-base)}.sc-ion-buttons-md-h.ion-color.sc-ion-buttons-md-s .button-outline,.ion-color .sc-ion-buttons-md-h.sc-ion-buttons-md-s .button-outline{--border-color:var(--ion-color-contrast)}.sc-ion-buttons-md-s .button-has-icon-only.button-clear{--padding-top:12px;--padding-end:12px;--padding-bottom:12px;--padding-start:12px;--border-radius:50%;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;width:3rem;height:3rem}.sc-ion-buttons-md-s .button{--background-hover:currentColor}.sc-ion-buttons-md-s .button-solid{--color:var(--ion-toolbar-background, var(--ion-background-color, #fff));--background:var(--ion-toolbar-color, var(--ion-text-color, #424242));--background-activated:transparent;--background-focused:currentColor}.sc-ion-buttons-md-s .button-outline{--color:initial;--background:transparent;--background-activated:transparent;--background-focused:currentColor;--background-hover:currentColor;--border-color:currentColor}.sc-ion-buttons-md-s .button-clear{--color:initial;--background:transparent;--background-activated:transparent;--background-focused:currentColor;--background-hover:currentColor}.sc-ion-buttons-md-s ion-icon[slot=start]{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-webkit-margin-end:0.3em;margin-inline-end:0.3em;font-size:1.4em}.sc-ion-buttons-md-s ion-icon[slot=end]{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-webkit-margin-start:0.4em;margin-inline-start:0.4em;font-size:1.4em}.sc-ion-buttons-md-s ion-icon[slot=icon-only]{padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;font-size:1.8em}",Oq=Lq,Dq=Ei(class extends Ci{constructor(){super(),this.__registerHost(),this.collapse=!1}render(){const t=Tn(this);return it(ki,{key:"52c0c5535f5688a481746fe8fd92b6c02941526f",class:{[t]:!0,"buttons-collapse":this.collapse}})}static get style(){return{ios:zq,md:Oq}}},[34,"ion-buttons",{collapse:[4]}]);function $q(){if(typeof customElements>"u")return;["ion-buttons"].forEach(t=>{switch(t){case"ion-buttons":customElements.get(t)||customElements.define(t,Dq);break}})}/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const Bq=$q;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const Fq=e=>{const t=e;let n;return{hasLegacyControl:()=>{if(n===void 0){const s=t.label!==void 0||Nq(t),l=t.hasAttribute("aria-label")||t.hasAttribute("aria-labelledby")&&t.shadowRoot===null,d=mL(t);n=t.legacy===!0||!s&&!l&&d!==null}return n}}},Nq=e=>!!(jq.includes(e.tagName)&&e.querySelector('[slot="label"]')!==null||Vq.includes(e.tagName)&&e.textContent!==""),jq=["ION-INPUT","ION-TEXTAREA","ION-SELECT","ION-RANGE"],Vq=["ION-TOGGLE","ION-CHECKBOX","ION-RADIO"];/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const Uq=":host{left:0;right:0;top:0;bottom:0;position:absolute;contain:strict;pointer-events:none}:host(.unbounded){contain:layout size style}.ripple-effect{border-radius:50%;position:absolute;background-color:currentColor;color:inherit;contain:strict;opacity:0;-webkit-animation:225ms rippleAnimation forwards, 75ms fadeInAnimation forwards;animation:225ms rippleAnimation forwards, 75ms fadeInAnimation forwards;will-change:transform, opacity;pointer-events:none}.fade-out{-webkit-transform:translate(var(--translate-end)) scale(var(--final-scale, 1));transform:translate(var(--translate-end)) scale(var(--final-scale, 1));-webkit-animation:150ms fadeOutAnimation forwards;animation:150ms fadeOutAnimation forwards}@-webkit-keyframes rippleAnimation{from{-webkit-animation-timing-function:cubic-bezier(0.4, 0, 0.2, 1);animation-timing-function:cubic-bezier(0.4, 0, 0.2, 1);-webkit-transform:scale(1);transform:scale(1)}to{-webkit-transform:translate(var(--translate-end)) scale(var(--final-scale, 1));transform:translate(var(--translate-end)) scale(var(--final-scale, 1))}}@keyframes rippleAnimation{from{-webkit-animation-timing-function:cubic-bezier(0.4, 0, 0.2, 1);animation-timing-function:cubic-bezier(0.4, 0, 0.2, 1);-webkit-transform:scale(1);transform:scale(1)}to{-webkit-transform:translate(var(--translate-end)) scale(var(--final-scale, 1));transform:translate(var(--translate-end)) scale(var(--final-scale, 1))}}@-webkit-keyframes fadeInAnimation{from{-webkit-animation-timing-function:linear;animation-timing-function:linear;opacity:0}to{opacity:0.16}}@keyframes fadeInAnimation{from{-webkit-animation-timing-function:linear;animation-timing-function:linear;opacity:0}to{opacity:0.16}}@-webkit-keyframes fadeOutAnimation{from{-webkit-animation-timing-function:linear;animation-timing-function:linear;opacity:0.16}to{opacity:0}}@keyframes fadeOutAnimation{from{-webkit-animation-timing-function:linear;animation-timing-function:linear;opacity:0.16}to{opacity:0}}",Hq=Uq,qq=Ei(class extends Ci{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.type="bounded"}async addRipple(t,n){return new Promise(i=>{pf(()=>{const s=this.el.getBoundingClientRect(),l=s.width,d=s.height,c=Math.sqrt(l*l+d*d),y=Math.max(d,l),b=this.unbounded?y:c+Zq,k=Math.floor(y*Gq),S=b/k;let E=t-s.left,A=n-s.top;this.unbounded&&(E=l*.5,A=d*.5);const z=E-k*.5,N=A-k*.5,q=l*.5-E,F=d*.5-A;El(()=>{const $=document.createElement("div");$.classList.add("ripple-effect");const V=$.style;V.top=N+"px",V.left=z+"px",V.width=V.height=k+"px",V.setProperty("--final-scale","".concat(S)),V.setProperty("--translate-end","".concat(q,"px, ").concat(F,"px")),(this.el.shadowRoot||this.el).appendChild($),setTimeout(()=>{i(()=>{Wq($)})},325)})})})}get unbounded(){return this.type==="unbounded"}render(){const t=Tn(this);return it(ki,{key:"9f2578664e5ff8a0a7e27cd90b2339bd430e72b8",role:"presentation",class:{[t]:!0,unbounded:this.unbounded}})}get el(){return this}static get style(){return Hq}},[1,"ion-ripple-effect",{type:[1],addRipple:[64]}]),Wq=e=>{e.classList.add("fade-out"),setTimeout(()=>{e.remove()},200)},Zq=10,Gq=.5;function $L(){if(typeof customElements>"u")return;["ion-ripple-effect"].forEach(t=>{switch(t){case"ion-ripple-effect":customElements.get(t)||customElements.define(t,qq);break}})}/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const Sv=typeof window<"u"?window:void 0;Sv&&(Sv.CSS&&Sv.CSS.supports&&Sv.CSS.supports("--a: 0"));/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const Kq=e=>e&&e.dir!==""?e.dir.toLowerCase()==="rtl":(document==null?void 0:document.dir.toLowerCase())==="rtl";/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const Xq=':host{--background:var(--ion-background-color, #fff);--color:var(--ion-text-color, #000);--padding-top:0px;--padding-bottom:0px;--padding-start:0px;--padding-end:0px;--keyboard-offset:0px;--offset-top:0px;--offset-bottom:0px;--overflow:auto;display:block;position:relative;-ms-flex:1;flex:1;width:100%;height:100%;margin:0 !important;padding:0 !important;font-family:var(--ion-font-family, inherit);contain:size style}:host(.ion-color) .inner-scroll{background:var(--ion-color-base);color:var(--ion-color-contrast)}:host(.outer-content){--background:var(--ion-color-step-50, #f2f2f2)}#background-content{left:0px;right:0px;top:calc(var(--offset-top) * -1);bottom:calc(var(--offset-bottom) * -1);position:absolute;background:var(--background)}.inner-scroll{left:0px;right:0px;top:calc(var(--offset-top) * -1);bottom:calc(var(--offset-bottom) * -1);-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:calc(var(--padding-top) + var(--offset-top));padding-bottom:calc(var(--padding-bottom) + var(--keyboard-offset) + var(--offset-bottom));position:absolute;color:var(--color);-webkit-box-sizing:border-box;box-sizing:border-box;overflow:hidden;-ms-touch-action:pan-x pan-y pinch-zoom;touch-action:pan-x pan-y pinch-zoom}.scroll-y,.scroll-x{-webkit-overflow-scrolling:touch;z-index:0;will-change:scroll-position}.scroll-y{overflow-y:var(--overflow);overscroll-behavior-y:contain}.scroll-x{overflow-x:var(--overflow);overscroll-behavior-x:contain}.overscroll::before,.overscroll::after{position:absolute;width:1px;height:1px;content:""}.overscroll::before{bottom:-1px}.overscroll::after{top:-1px}:host(.content-sizing){display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;min-height:0;contain:none}:host(.content-sizing) .inner-scroll{position:relative;top:0;bottom:0;margin-top:calc(var(--offset-top) * -1);margin-bottom:calc(var(--offset-bottom) * -1)}.transition-effect{display:none;position:absolute;width:100%;height:100vh;opacity:0;pointer-events:none}:host(.content-ltr) .transition-effect{left:-100%;}:host(.content-rtl) .transition-effect{right:-100%;}.transition-cover{position:absolute;right:0;width:100%;height:100%;background:black;opacity:0.1}.transition-shadow{display:block;position:absolute;width:100%;height:100%;-webkit-box-shadow:inset -9px 0 9px 0 rgba(0, 0, 100, 0.03);box-shadow:inset -9px 0 9px 0 rgba(0, 0, 100, 0.03)}:host(.content-ltr) .transition-shadow{right:0;}:host(.content-rtl) .transition-shadow{left:0;-webkit-transform:scaleX(-1);transform:scaleX(-1)}::slotted([slot=fixed]){position:absolute;-webkit-transform:translateZ(0);transform:translateZ(0)}',Yq=Xq,Jq=Ei(class extends Ci{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionScrollStart=Hn(this,"ionScrollStart",7),this.ionScroll=Hn(this,"ionScroll",7),this.ionScrollEnd=Hn(this,"ionScrollEnd",7),this.watchDog=null,this.isScrolling=!1,this.lastScroll=0,this.queued=!1,this.cTop=-1,this.cBottom=-1,this.isMainContent=!0,this.resizeTimeout=null,this.tabsElement=null,this.detail={scrollTop:0,scrollLeft:0,type:"scroll",event:void 0,startX:0,startY:0,startTime:0,currentX:0,currentY:0,velocityX:0,velocityY:0,deltaX:0,deltaY:0,currentTime:0,data:void 0,isScrolling:!0},this.color=void 0,this.fullscreen=!1,this.forceOverscroll=void 0,this.scrollX=!1,this.scrollY=!0,this.scrollEvents=!1}connectedCallback(){if(this.isMainContent=this.el.closest("ion-menu, ion-popover, ion-modal")===null,c2(this.el)){const t=this.tabsElement=this.el.closest("ion-tabs");t!==null&&(this.tabsLoadCallback=()=>this.resize(),t.addEventListener("ionTabBarLoaded",this.tabsLoadCallback))}}disconnectedCallback(){if(this.onScrollEnd(),c2(this.el)){const{tabsElement:t,tabsLoadCallback:n}=this;t!==null&&n!==void 0&&t.removeEventListener("ionTabBarLoaded",n),this.tabsElement=null,this.tabsLoadCallback=void 0}}onResize(){this.resizeTimeout&&(clearTimeout(this.resizeTimeout),this.resizeTimeout=null),this.resizeTimeout=setTimeout(()=>{this.el.offsetParent!==null&&this.resize()},100)}shouldForceOverscroll(){const{forceOverscroll:t}=this,n=Tn(this);return t===void 0?n==="ios"&&Ec("ios"):t}resize(){this.fullscreen?pf(()=>this.readDimensions()):(this.cTop!==0||this.cBottom!==0)&&(this.cTop=this.cBottom=0,Nm(this))}readDimensions(){const t=eW(this.el),n=Math.max(this.el.offsetTop,0),i=Math.max(t.offsetHeight-n-this.el.offsetHeight,0);(n!==this.cTop||i!==this.cBottom)&&(this.cTop=n,this.cBottom=i,Nm(this))}onScroll(t){const n=Date.now(),i=!this.isScrolling;this.lastScroll=n,i&&this.onScrollStart(),!this.queued&&this.scrollEvents&&(this.queued=!0,pf(s=>{this.queued=!1,this.detail.event=t,tW(this.detail,this.scrollEl,s,i),this.ionScroll.emit(this.detail)}))}async getScrollElement(){return this.scrollEl||await new Promise(t=>sd(this.el,t)),Promise.resolve(this.scrollEl)}async getBackgroundElement(){return this.backgroundContentEl||await new Promise(t=>sd(this.el,t)),Promise.resolve(this.backgroundContentEl)}scrollToTop(t=0){return this.scrollToPoint(void 0,0,t)}async scrollToBottom(t=0){const n=await this.getScrollElement(),i=n.scrollHeight-n.clientHeight;return this.scrollToPoint(void 0,i,t)}async scrollByPoint(t,n,i){const s=await this.getScrollElement();return this.scrollToPoint(t+s.scrollLeft,n+s.scrollTop,i)}async scrollToPoint(t,n,i=0){const s=await this.getScrollElement();if(i<32){n!=null&&(s.scrollTop=n),t!=null&&(s.scrollLeft=t);return}let l,d=0;const c=new Promise(A=>l=A),y=s.scrollTop,b=s.scrollLeft,k=n!=null?n-y:0,S=t!=null?t-b:0,E=A=>{const z=Math.min(1,(A-d)/i)-1,N=Math.pow(z,3)+1;k!==0&&(s.scrollTop=Math.floor(N*k+y)),S!==0&&(s.scrollLeft=Math.floor(N*S+b)),N<1?requestAnimationFrame(E):l()};return requestAnimationFrame(A=>{d=A,E(A)}),c}onScrollStart(){this.isScrolling=!0,this.ionScrollStart.emit({isScrolling:!0}),this.watchDog&&clearInterval(this.watchDog),this.watchDog=setInterval(()=>{this.lastScroll<Date.now()-120&&this.onScrollEnd()},100)}onScrollEnd(){this.watchDog&&clearInterval(this.watchDog),this.watchDog=null,this.isScrolling&&(this.isScrolling=!1,this.ionScrollEnd.emit({isScrolling:!1}))}render(){const{isMainContent:t,scrollX:n,scrollY:i,el:s}=this,l=Kq(s)?"rtl":"ltr",d=Tn(this),c=this.shouldForceOverscroll(),y=d==="ios",b=t?"main":"div";return this.resize(),it(ki,{key:"65d85e1f7f85876a76eec79addc4bd9f697a5d84",class:za(this.color,{[d]:!0,"content-sizing":Ao("ion-popover",this.el),overscroll:c,["content-".concat(l)]:!0}),style:{"--offset-top":"".concat(this.cTop,"px"),"--offset-bottom":"".concat(this.cBottom,"px")}},it("div",{key:"e2ac474a62cbc864772c497469100436f41289ff",ref:k=>this.backgroundContentEl=k,id:"background-content",part:"background"}),it(b,{key:"567a4bc2bcb13adfd987b088f95ac4b20b789f2c",class:{"inner-scroll":!0,"scroll-x":n,"scroll-y":i,overscroll:(n||i)&&c},ref:k=>this.scrollEl=k,onScroll:this.scrollEvents?k=>this.onScroll(k):void 0,part:"scroll"},it("slot",{key:"13909f87dd9f49bf1664ad95038499da376b9480"})),y?it("div",{class:"transition-effect"},it("div",{class:"transition-cover"}),it("div",{class:"transition-shadow"})):null,it("slot",{key:"05b56c139e203cfd1e3dd08054e99328e97e9243",name:"fixed"}))}get el(){return this}static get style(){return Yq}},[1,"ion-content",{color:[513],fullscreen:[4],forceOverscroll:[1028,"force-overscroll"],scrollX:[4,"scroll-x"],scrollY:[4,"scroll-y"],scrollEvents:[4,"scroll-events"],getScrollElement:[64],getBackgroundElement:[64],scrollToTop:[64],scrollToBottom:[64],scrollByPoint:[64],scrollToPoint:[64]},[[9,"resize","onResize"]]]),Qq=e=>{var t;return e.parentElement?e.parentElement:!((t=e.parentNode)===null||t===void 0)&&t.host?e.parentNode.host:null},eW=e=>{const t=e.closest("ion-tabs");if(t)return t;const n=e.closest("ion-app, ion-page, .ion-page, page-inner, .popover-content");return n||Qq(e)},tW=(e,t,n,i)=>{const s=e.currentX,l=e.currentY,d=e.currentTime,c=t.scrollLeft,y=t.scrollTop,b=n-d;if(i&&(e.startTime=n,e.startX=c,e.startY=y,e.velocityX=e.velocityY=0),e.currentTime=n,e.currentX=e.scrollLeft=c,e.currentY=e.scrollTop=y,e.deltaX=c-e.startX,e.deltaY=y-e.startY,b>0&&b<100){const k=(c-s)/b,S=(y-l)/b;e.velocityX=k*.7+e.velocityX*.3,e.velocityY=S*.7+e.velocityY*.3}};function nW(){if(typeof customElements>"u")return;["ion-content"].forEach(t=>{switch(t){case"ion-content":customElements.get(t)||customElements.define(t,Jq);break}})}const iW=nW;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const rW=':host{--overflow:hidden;--ripple-color:currentColor;--border-width:initial;--border-color:initial;--border-style:initial;--color-activated:var(--color);--color-focused:var(--color);--color-hover:var(--color);--box-shadow:none;display:inline-block;width:auto;color:var(--color);font-family:var(--ion-font-family, inherit);text-align:center;text-decoration:none;white-space:nowrap;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;vertical-align:top;vertical-align:-webkit-baseline-middle;-webkit-font-kerning:none;font-kerning:none}:host(.button-disabled){cursor:default;opacity:0.5;pointer-events:none}:host(.button-solid){--background:var(--ion-color-primary, #3880ff);--color:var(--ion-color-primary-contrast, #fff)}:host(.button-outline){--border-color:var(--ion-color-primary, #3880ff);--background:transparent;--color:var(--ion-color-primary, #3880ff)}:host(.button-clear){--border-width:0;--background:transparent;--color:var(--ion-color-primary, #3880ff)}:host(.button-block){display:block}:host(.button-block) .button-native{margin-left:0;margin-right:0;width:100%;clear:both;contain:content}:host(.button-block) .button-native::after{clear:both}:host(.button-full){display:block}:host(.button-full) .button-native{margin-left:0;margin-right:0;width:100%;contain:content}:host(.button-full:not(.button-round)) .button-native{border-radius:0;border-right-width:0;border-left-width:0}.button-native{border-radius:var(--border-radius);-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;display:-ms-flexbox;display:flex;position:relative;-ms-flex-align:center;align-items:center;width:100%;height:100%;min-height:inherit;-webkit-transition:var(--transition);transition:var(--transition);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);outline:none;background:var(--background);line-height:1;-webkit-box-shadow:var(--box-shadow);box-shadow:var(--box-shadow);contain:layout style;cursor:pointer;opacity:var(--opacity);overflow:var(--overflow);z-index:0;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-appearance:none;-moz-appearance:none;appearance:none}.button-native::-moz-focus-inner{border:0}.button-inner{display:-ms-flexbox;display:flex;position:relative;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-ms-flex-negative:0;flex-shrink:0;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:100%;height:100%;z-index:1}::slotted([slot=start]),::slotted([slot=end]){-ms-flex-negative:0;flex-shrink:0}::slotted(ion-icon){font-size:1.35em;pointer-events:none}::slotted(ion-icon[slot=start]){-webkit-margin-start:-0.3em;margin-inline-start:-0.3em;-webkit-margin-end:0.3em;margin-inline-end:0.3em;margin-top:0;margin-bottom:0}::slotted(ion-icon[slot=end]){-webkit-margin-start:0.3em;margin-inline-start:0.3em;-webkit-margin-end:-0.2em;margin-inline-end:-0.2em;margin-top:0;margin-bottom:0}::slotted(ion-icon[slot=icon-only]){font-size:1.8em}ion-ripple-effect{color:var(--ripple-color)}.button-native::after{left:0;right:0;top:0;bottom:0;position:absolute;content:"";opacity:0}:host(.ion-focused){color:var(--color-focused)}:host(.ion-focused) .button-native::after{background:var(--background-focused);opacity:var(--background-focused-opacity)}@media (any-hover: hover){:host(:hover){color:var(--color-hover)}:host(:hover) .button-native::after{background:var(--background-hover);opacity:var(--background-hover-opacity)}}:host(.ion-activated){color:var(--color-activated)}:host(.ion-activated) .button-native::after{background:var(--background-activated);opacity:var(--background-activated-opacity)}:host(.button-solid.ion-color) .button-native{background:var(--ion-color-base);color:var(--ion-color-contrast)}:host(.button-outline.ion-color) .button-native{border-color:var(--ion-color-base);background:transparent;color:var(--ion-color-base)}:host(.button-clear.ion-color) .button-native{background:transparent;color:var(--ion-color-base)}:host(.in-toolbar:not(.ion-color):not(.in-toolbar-color)) .button-native{color:var(--ion-toolbar-color, var(--color))}:host(.button-outline.in-toolbar:not(.ion-color):not(.in-toolbar-color)) .button-native{border-color:var(--ion-toolbar-color, var(--color, var(--border-color)))}:host(.button-solid.in-toolbar:not(.ion-color):not(.in-toolbar-color)) .button-native{background:var(--ion-toolbar-color, var(--background));color:var(--ion-toolbar-background, var(--color))}:host(.button-outline.ion-activated.in-toolbar:not(.ion-color):not(.in-toolbar-color)) .button-native{background:var(--ion-toolbar-color, var(--color));color:var(--ion-toolbar-background, var(--background), var(--ion-color-primary-contrast, #fff))}:host{--border-radius:14px;--padding-top:13px;--padding-bottom:13px;--padding-start:1em;--padding-end:1em;--transition:background-color, opacity 100ms linear;-webkit-margin-start:2px;margin-inline-start:2px;-webkit-margin-end:2px;margin-inline-end:2px;margin-top:4px;margin-bottom:4px;min-height:3.1em;font-size:min(1rem, 48px);font-weight:500;letter-spacing:0}:host(.button-solid){--background-activated:var(--ion-color-primary-shade, #3171e0);--background-focused:var(--ion-color-primary-shade, #3171e0);--background-hover:var(--ion-color-primary-tint, #4c8dff);--background-activated-opacity:1;--background-focused-opacity:1;--background-hover-opacity:1}:host(.button-outline){--border-radius:14px;--border-width:1px;--border-style:solid;--background-activated:var(--ion-color-primary, #3880ff);--background-focused:var(--ion-color-primary, #3880ff);--background-hover:transparent;--background-focused-opacity:.1;--color-activated:var(--ion-color-primary-contrast, #fff)}:host(.button-clear){--background-activated:transparent;--background-activated-opacity:0;--background-focused:var(--ion-color-primary, #3880ff);--background-hover:transparent;--background-focused-opacity:.1;font-size:min(1.0625rem, 51px);font-weight:normal}:host(.in-buttons){font-size:clamp(17px, 1.0625rem, 21.08px);font-weight:400}:host(.button-large){--border-radius:16px;--padding-top:17px;--padding-start:1em;--padding-end:1em;--padding-bottom:17px;min-height:3.1em;font-size:min(1.25rem, 60px)}:host(.button-small){--border-radius:6px;--padding-top:4px;--padding-start:0.9em;--padding-end:0.9em;--padding-bottom:4px;min-height:2.1em;font-size:min(0.8125rem, 39px)}:host(.button-has-icon-only){--padding-top:0;--padding-bottom:0}:host(.button-round){--border-radius:64px;--padding-top:0;--padding-start:26px;--padding-end:26px;--padding-bottom:0}:host(.button-strong){font-weight:600}:host(.button-outline.ion-focused.ion-color) .button-native,:host(.button-clear.ion-focused.ion-color) .button-native{color:var(--ion-color-base)}:host(.button-outline.ion-focused.ion-color) .button-native::after,:host(.button-clear.ion-focused.ion-color) .button-native::after{background:var(--ion-color-base)}:host(.button-solid.ion-color.ion-focused) .button-native::after{background:var(--ion-color-shade)}@media (any-hover: hover){:host(.button-clear:not(.ion-activated):hover),:host(.button-outline:not(.ion-activated):hover){opacity:0.6}:host(.button-clear.ion-color:hover) .button-native,:host(.button-outline.ion-color:hover) .button-native{color:var(--ion-color-base)}:host(.button-clear.ion-color:hover) .button-native::after,:host(.button-outline.ion-color:hover) .button-native::after{background:transparent}:host(.button-solid.ion-color:hover) .button-native::after{background:var(--ion-color-tint)}:host(:hover.button-solid.in-toolbar:not(.ion-color):not(.in-toolbar-color):not(.ion-activated)) .button-native::after{background:#fff;opacity:0.1}}:host(.button-clear.ion-activated){opacity:0.4}:host(.button-outline.ion-activated.ion-color) .button-native{color:var(--ion-color-contrast)}:host(.button-outline.ion-activated.ion-color) .button-native::after{background:var(--ion-color-base)}:host(.button-solid.ion-color.ion-activated) .button-native::after{background:var(--ion-color-shade)}',oW=rW,sW=':host{--overflow:hidden;--ripple-color:currentColor;--border-width:initial;--border-color:initial;--border-style:initial;--color-activated:var(--color);--color-focused:var(--color);--color-hover:var(--color);--box-shadow:none;display:inline-block;width:auto;color:var(--color);font-family:var(--ion-font-family, inherit);text-align:center;text-decoration:none;white-space:nowrap;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;vertical-align:top;vertical-align:-webkit-baseline-middle;-webkit-font-kerning:none;font-kerning:none}:host(.button-disabled){cursor:default;opacity:0.5;pointer-events:none}:host(.button-solid){--background:var(--ion-color-primary, #3880ff);--color:var(--ion-color-primary-contrast, #fff)}:host(.button-outline){--border-color:var(--ion-color-primary, #3880ff);--background:transparent;--color:var(--ion-color-primary, #3880ff)}:host(.button-clear){--border-width:0;--background:transparent;--color:var(--ion-color-primary, #3880ff)}:host(.button-block){display:block}:host(.button-block) .button-native{margin-left:0;margin-right:0;width:100%;clear:both;contain:content}:host(.button-block) .button-native::after{clear:both}:host(.button-full){display:block}:host(.button-full) .button-native{margin-left:0;margin-right:0;width:100%;contain:content}:host(.button-full:not(.button-round)) .button-native{border-radius:0;border-right-width:0;border-left-width:0}.button-native{border-radius:var(--border-radius);-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;display:-ms-flexbox;display:flex;position:relative;-ms-flex-align:center;align-items:center;width:100%;height:100%;min-height:inherit;-webkit-transition:var(--transition);transition:var(--transition);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);outline:none;background:var(--background);line-height:1;-webkit-box-shadow:var(--box-shadow);box-shadow:var(--box-shadow);contain:layout style;cursor:pointer;opacity:var(--opacity);overflow:var(--overflow);z-index:0;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-appearance:none;-moz-appearance:none;appearance:none}.button-native::-moz-focus-inner{border:0}.button-inner{display:-ms-flexbox;display:flex;position:relative;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-ms-flex-negative:0;flex-shrink:0;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:100%;height:100%;z-index:1}::slotted([slot=start]),::slotted([slot=end]){-ms-flex-negative:0;flex-shrink:0}::slotted(ion-icon){font-size:1.35em;pointer-events:none}::slotted(ion-icon[slot=start]){-webkit-margin-start:-0.3em;margin-inline-start:-0.3em;-webkit-margin-end:0.3em;margin-inline-end:0.3em;margin-top:0;margin-bottom:0}::slotted(ion-icon[slot=end]){-webkit-margin-start:0.3em;margin-inline-start:0.3em;-webkit-margin-end:-0.2em;margin-inline-end:-0.2em;margin-top:0;margin-bottom:0}::slotted(ion-icon[slot=icon-only]){font-size:1.8em}ion-ripple-effect{color:var(--ripple-color)}.button-native::after{left:0;right:0;top:0;bottom:0;position:absolute;content:"";opacity:0}:host(.ion-focused){color:var(--color-focused)}:host(.ion-focused) .button-native::after{background:var(--background-focused);opacity:var(--background-focused-opacity)}@media (any-hover: hover){:host(:hover){color:var(--color-hover)}:host(:hover) .button-native::after{background:var(--background-hover);opacity:var(--background-hover-opacity)}}:host(.ion-activated){color:var(--color-activated)}:host(.ion-activated) .button-native::after{background:var(--background-activated);opacity:var(--background-activated-opacity)}:host(.button-solid.ion-color) .button-native{background:var(--ion-color-base);color:var(--ion-color-contrast)}:host(.button-outline.ion-color) .button-native{border-color:var(--ion-color-base);background:transparent;color:var(--ion-color-base)}:host(.button-clear.ion-color) .button-native{background:transparent;color:var(--ion-color-base)}:host(.in-toolbar:not(.ion-color):not(.in-toolbar-color)) .button-native{color:var(--ion-toolbar-color, var(--color))}:host(.button-outline.in-toolbar:not(.ion-color):not(.in-toolbar-color)) .button-native{border-color:var(--ion-toolbar-color, var(--color, var(--border-color)))}:host(.button-solid.in-toolbar:not(.ion-color):not(.in-toolbar-color)) .button-native{background:var(--ion-toolbar-color, var(--background));color:var(--ion-toolbar-background, var(--color))}:host(.button-outline.ion-activated.in-toolbar:not(.ion-color):not(.in-toolbar-color)) .button-native{background:var(--ion-toolbar-color, var(--color));color:var(--ion-toolbar-background, var(--background), var(--ion-color-primary-contrast, #fff))}:host{--border-radius:4px;--padding-top:8px;--padding-bottom:8px;--padding-start:1.1em;--padding-end:1.1em;--transition:box-shadow 280ms cubic-bezier(.4, 0, .2, 1),\n                background-color 15ms linear,\n                color 15ms linear;-webkit-margin-start:2px;margin-inline-start:2px;-webkit-margin-end:2px;margin-inline-end:2px;margin-top:4px;margin-bottom:4px;min-height:36px;font-size:0.875rem;font-weight:500;letter-spacing:0.06em;text-transform:uppercase}:host(.button-solid){--background-activated:transparent;--background-hover:var(--ion-color-primary-contrast, #fff);--background-focused:var(--ion-color-primary-contrast, #fff);--background-activated-opacity:0;--background-focused-opacity:.24;--background-hover-opacity:.08;--box-shadow:0 3px 1px -2px rgba(0, 0, 0, 0.2), 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12)}:host(.button-solid.ion-activated){--box-shadow:0 5px 5px -3px rgba(0, 0, 0, 0.2), 0 8px 10px 1px rgba(0, 0, 0, 0.14), 0 3px 14px 2px rgba(0, 0, 0, 0.12)}:host(.button-outline){--border-width:2px;--border-style:solid;--box-shadow:none;--background-activated:transparent;--background-focused:var(--ion-color-primary, #3880ff);--background-hover:var(--ion-color-primary, #3880ff);--background-activated-opacity:0;--background-focused-opacity:.12;--background-hover-opacity:.04}:host(.button-outline.ion-activated.ion-color) .button-native{background:transparent}:host(.button-clear){--background-activated:transparent;--background-focused:var(--ion-color-primary, #3880ff);--background-hover:var(--ion-color-primary, #3880ff);--background-activated-opacity:0;--background-focused-opacity:.12;--background-hover-opacity:.04}:host(.button-round){--border-radius:64px;--padding-top:0;--padding-start:26px;--padding-end:26px;--padding-bottom:0}:host(.button-large){--padding-top:14px;--padding-start:1em;--padding-end:1em;--padding-bottom:14px;min-height:2.8em;font-size:1.25rem}:host(.button-small){--padding-top:4px;--padding-start:0.9em;--padding-end:0.9em;--padding-bottom:4px;min-height:2.1em;font-size:0.8125rem}:host(.button-has-icon-only){--padding-top:0;--padding-bottom:0}:host(.button-strong){font-weight:bold}::slotted(ion-icon[slot=icon-only]){padding-left:0;padding-right:0;padding-top:0;padding-bottom:0}:host(.button-solid.ion-color.ion-focused) .button-native::after{background:var(--ion-color-contrast)}:host(.button-clear.ion-color.ion-focused) .button-native::after,:host(.button-outline.ion-color.ion-focused) .button-native::after{background:var(--ion-color-base)}@media (any-hover: hover){:host(.button-solid.ion-color:hover) .button-native::after{background:var(--ion-color-contrast)}:host(.button-clear.ion-color:hover) .button-native::after,:host(.button-outline.ion-color:hover) .button-native::after{background:var(--ion-color-base)}}',aW=sW,lW=Ei(class extends Ci{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionFocus=Hn(this,"ionFocus",7),this.ionBlur=Hn(this,"ionBlur",7),this.inItem=!1,this.inListHeader=!1,this.inToolbar=!1,this.formButtonEl=null,this.formEl=null,this.inheritedAttributes={},this.handleClick=t=>{const{el:n}=this;this.type==="button"?Wk(this.href,t,this.routerDirection,this.routerAnimation):KU(n)&&this.submitForm(t)},this.onFocus=()=>{this.ionFocus.emit()},this.onBlur=()=>{this.ionBlur.emit()},this.color=void 0,this.buttonType="button",this.disabled=!1,this.expand=void 0,this.fill=void 0,this.routerDirection="forward",this.routerAnimation=void 0,this.download=void 0,this.href=void 0,this.rel=void 0,this.shape=void 0,this.size=void 0,this.strong=!1,this.target=void 0,this.type="button",this.form=void 0}disabledChanged(){const{disabled:t}=this;this.formButtonEl&&(this.formButtonEl.disabled=t)}renderHiddenButton(){const t=this.formEl=this.findForm();if(t){const{formButtonEl:n}=this;if(n!==null&&t.contains(n))return;const i=this.formButtonEl=document.createElement("button");i.type=this.type,i.style.display="none",i.disabled=this.disabled,t.appendChild(i)}}componentWillLoad(){this.inToolbar=!!this.el.closest("ion-buttons"),this.inListHeader=!!this.el.closest("ion-list-header"),this.inItem=!!this.el.closest("ion-item")||!!this.el.closest("ion-item-divider"),this.inheritedAttributes=Fg(this.el)}get hasIconOnly(){return!!this.el.querySelector('[slot="icon-only"]')}get rippleType(){return(this.fill===void 0||this.fill==="clear")&&this.hasIconOnly&&this.inToolbar?"unbounded":"bounded"}findForm(){const{form:t}=this;if(t instanceof HTMLFormElement)return t;if(typeof t=="string"){const n=document.getElementById(t);return n?n instanceof HTMLFormElement?n:(ko('Form with selector: "#'.concat(t,'" could not be found. Verify that the id is attached to a <form> element.'),this.el),null):(ko('Form with selector: "#'.concat(t,'" could not be found. Verify that the id is correct and the form is rendered in the DOM.'),this.el),null)}return t!==void 0?(ko('The provided "form" element is invalid. Verify that the form is a HTMLFormElement and rendered in the DOM.',this.el),null):this.el.closest("form")}submitForm(t){this.formEl&&this.formButtonEl&&(t.preventDefault(),this.formButtonEl.click())}render(){const t=Tn(this),{buttonType:n,type:i,disabled:s,rel:l,target:d,size:c,href:y,color:b,expand:k,hasIconOnly:S,shape:E,strong:A,inheritedAttributes:z}=this,N=c===void 0&&this.inItem?"small":c,q=y===void 0?"button":"a",F=q==="button"?{type:i}:{download:this.download,href:y,rel:l,target:d};let $=this.fill;return $==null&&($=this.inToolbar||this.inListHeader?"clear":"solid"),i!=="button"&&this.renderHiddenButton(),it(ki,{key:"8533314504b286ec10e26722f93376d86a7ca1c9",onClick:this.handleClick,"aria-disabled":s?"true":null,class:za(b,{[t]:!0,[n]:!0,["".concat(n,"-").concat(k)]:k!==void 0,["".concat(n,"-").concat(N)]:N!==void 0,["".concat(n,"-").concat(E)]:E!==void 0,["".concat(n,"-").concat($)]:!0,["".concat(n,"-strong")]:A,"in-toolbar":Ao("ion-toolbar",this.el),"in-toolbar-color":Ao("ion-toolbar[color]",this.el),"in-buttons":Ao("ion-buttons",this.el),"button-has-icon-only":S,"button-disabled":s,"ion-activatable":!0,"ion-focusable":!0})},it(q,Object.assign({key:"79bf020fdac0c2ceb2b05547b3e5a9a11e60abb4"},F,{class:"button-native",part:"native",disabled:s,onFocus:this.onFocus,onBlur:this.onBlur},z),it("span",{key:"109481ba86102647023b746b054b2718d3c9d92a",class:"button-inner"},it("slot",{key:"f824ddd9f988b9bd33136555b16aa790d9291b49",name:"icon-only"}),it("slot",{key:"d614f4e430792c5f93be4b3a8c57a826d74b9cfd",name:"start"}),it("slot",{key:"95d00c8a980c31cc7f84732f51a17a0cd285a7cb"}),it("slot",{key:"a228ff52cbe04dc9d2e22bb66611ecc96d130e6f",name:"end"})),t==="md"&&it("ion-ripple-effect",{type:this.rippleType})))}get el(){return this}static get watchers(){return{disabled:["disabledChanged"]}}static get style(){return{ios:oW,md:aW}}},[33,"ion-button",{color:[513],buttonType:[1025,"button-type"],disabled:[516],expand:[513],fill:[1537],routerDirection:[1,"router-direction"],routerAnimation:[16],download:[1],href:[1],rel:[1],shape:[513],size:[513],strong:[4],target:[1],type:[1],form:[1]},void 0,{disabled:["disabledChanged"]}]);/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const cW=':host{--border-radius:0px;--border-width:0px;--border-style:solid;--padding-top:0px;--padding-bottom:0px;--padding-end:0px;--padding-start:0px;--inner-border-width:0px;--inner-padding-top:0px;--inner-padding-bottom:0px;--inner-padding-start:0px;--inner-padding-end:0px;--inner-box-shadow:none;--show-full-highlight:0;--show-inset-highlight:0;--detail-icon-color:initial;--detail-icon-font-size:1.25em;--detail-icon-opacity:0.25;--color-activated:var(--color);--color-focused:var(--color);--color-hover:var(--color);--ripple-color:currentColor;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:block;position:relative;-ms-flex-align:center;align-items:center;-ms-flex-pack:justify;justify-content:space-between;outline:none;color:var(--color);font-family:var(--ion-font-family, inherit);text-align:initial;text-decoration:none;overflow:hidden;-webkit-box-sizing:border-box;box-sizing:border-box}:host(.ion-color:not(.item-fill-solid):not(.item-fill-outline)) .item-native{background:var(--ion-color-base);color:var(--ion-color-contrast)}:host(.ion-color:not(.item-fill-solid):not(.item-fill-outline)) .item-native,:host(.ion-color:not(.item-fill-solid):not(.item-fill-outline)) .item-inner{border-color:var(--ion-color-shade)}:host(.ion-activated) .item-native{color:var(--color-activated)}:host(.ion-activated) .item-native::after{background:var(--background-activated);opacity:var(--background-activated-opacity)}:host(.ion-color.ion-activated) .item-native{color:var(--ion-color-contrast)}:host(.ion-focused) .item-native{color:var(--color-focused)}:host(.ion-focused) .item-native::after{background:var(--background-focused);opacity:var(--background-focused-opacity)}:host(.ion-color.ion-focused) .item-native{color:var(--ion-color-contrast)}:host(.ion-color.ion-focused) .item-native::after{background:var(--ion-color-contrast)}@media (any-hover: hover){:host(.ion-activatable:not(.ion-focused):hover) .item-native{color:var(--color-hover)}:host(.ion-activatable:not(.ion-focused):hover) .item-native::after{background:var(--background-hover);opacity:var(--background-hover-opacity)}:host(.ion-color.ion-activatable:not(.ion-focused):hover) .item-native{color:var(--ion-color-contrast)}:host(.ion-color.ion-activatable:not(.ion-focused):hover) .item-native::after{background:var(--ion-color-contrast)}}:host(.item-has-interactive-control){cursor:pointer}:host(.item-interactive-disabled:not(.item-multiple-inputs)){cursor:default;pointer-events:none}:host(.item-disabled){cursor:default;opacity:0.3;pointer-events:none}.item-native{border-radius:var(--border-radius);margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;padding-right:var(--padding-end);padding-left:calc(var(--padding-start) + var(--ion-safe-area-left, 0px));display:-ms-flexbox;display:flex;position:relative;-ms-flex-align:inherit;align-items:inherit;-ms-flex-pack:inherit;justify-content:inherit;width:100%;min-height:var(--min-height);-webkit-transition:var(--transition);transition:var(--transition);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);outline:none;background:var(--background);overflow:inherit;z-index:1;-webkit-box-sizing:border-box;box-sizing:border-box}:host-context([dir=rtl]) .item-native{padding-right:calc(var(--padding-start) + var(--ion-safe-area-right, 0px));padding-left:var(--padding-end)}[dir=rtl] .item-native{padding-right:calc(var(--padding-start) + var(--ion-safe-area-right, 0px));padding-left:var(--padding-end)}@supports selector(:dir(rtl)){.item-native:dir(rtl){padding-right:calc(var(--padding-start) + var(--ion-safe-area-right, 0px));padding-left:var(--padding-end)}}.item-native::-moz-focus-inner{border:0}.item-native::after{left:0;right:0;top:0;bottom:0;position:absolute;content:"";opacity:0;-webkit-transition:var(--transition);transition:var(--transition);z-index:-1}button,a{cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-user-drag:none}.item-inner{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-top:var(--inner-padding-top);padding-bottom:var(--inner-padding-bottom);padding-right:calc(var(--ion-safe-area-right, 0px) + var(--inner-padding-end));padding-left:var(--inner-padding-start);display:-ms-flexbox;display:flex;position:relative;-ms-flex:1;flex:1;-ms-flex-direction:inherit;flex-direction:inherit;-ms-flex-align:inherit;align-items:inherit;-ms-flex-item-align:stretch;align-self:stretch;min-height:inherit;border-width:var(--inner-border-width);border-style:var(--border-style);border-color:var(--border-color);-webkit-box-shadow:var(--inner-box-shadow);box-shadow:var(--inner-box-shadow);overflow:inherit;-webkit-box-sizing:border-box;box-sizing:border-box}:host-context([dir=rtl]) .item-inner{padding-right:var(--inner-padding-start);padding-left:calc(var(--ion-safe-area-left, 0px) + var(--inner-padding-end))}[dir=rtl] .item-inner{padding-right:var(--inner-padding-start);padding-left:calc(var(--ion-safe-area-left, 0px) + var(--inner-padding-end))}@supports selector(:dir(rtl)){.item-inner:dir(rtl){padding-right:var(--inner-padding-start);padding-left:calc(var(--ion-safe-area-left, 0px) + var(--inner-padding-end))}}.item-bottom{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-top:0;padding-bottom:0;padding-left:calc(var(--padding-start) + var(--ion-safe-area-left, 0px));padding-right:calc(var(--inner-padding-end) + var(--ion-safe-area-right, 0px));display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between}:host-context([dir=rtl]) .item-bottom{padding-left:calc(var(--inner-padding-end) + var(--ion-safe-area-left, 0px));padding-right:calc(var(--padding-start) + var(--ion-safe-area-right, 0px))}[dir=rtl] .item-bottom{padding-left:calc(var(--inner-padding-end) + var(--ion-safe-area-left, 0px));padding-right:calc(var(--padding-start) + var(--ion-safe-area-right, 0px))}@supports selector(:dir(rtl)){.item-bottom:dir(rtl){padding-left:calc(var(--inner-padding-end) + var(--ion-safe-area-left, 0px));padding-right:calc(var(--padding-start) + var(--ion-safe-area-right, 0px))}}.item-detail-icon{-webkit-margin-start:calc(var(--inner-padding-end) / 2);margin-inline-start:calc(var(--inner-padding-end) / 2);-webkit-margin-end:-6px;margin-inline-end:-6px;color:var(--detail-icon-color);font-size:var(--detail-icon-font-size);opacity:var(--detail-icon-opacity)}::slotted(ion-icon){font-size:1.6em}::slotted(ion-button){--margin-top:0;--margin-bottom:0;--margin-start:0;--margin-end:0;z-index:1}::slotted(ion-label:not([slot=end])){-ms-flex:1;flex:1;width:-webkit-min-content;width:-moz-min-content;width:min-content;max-width:100%}:host(.item-input){-ms-flex-align:center;align-items:center}.input-wrapper{display:-ms-flexbox;display:flex;-ms-flex:1;flex:1;-ms-flex-direction:inherit;flex-direction:inherit;-ms-flex-align:inherit;align-items:inherit;-ms-flex-item-align:stretch;align-self:stretch;text-overflow:ellipsis;overflow:inherit;-webkit-box-sizing:border-box;box-sizing:border-box}:host(.item-label-stacked),:host(.item-label-floating){-ms-flex-align:start;align-items:start}:host(.item-label-stacked) .input-wrapper,:host(.item-label-floating) .input-wrapper{-ms-flex:1;flex:1;-ms-flex-direction:column;flex-direction:column}.item-highlight,.item-inner-highlight{left:0;right:0;top:0;bottom:0;border-radius:inherit;position:absolute;width:100%;height:100%;-webkit-transform:scaleX(0);transform:scaleX(0);-webkit-transition:border-bottom-width 200ms, -webkit-transform 200ms;transition:border-bottom-width 200ms, -webkit-transform 200ms;transition:transform 200ms, border-bottom-width 200ms;transition:transform 200ms, border-bottom-width 200ms, -webkit-transform 200ms;z-index:2;-webkit-box-sizing:border-box;box-sizing:border-box;pointer-events:none}:host(.item-interactive.ion-focused),:host(.item-interactive.item-has-focus),:host(.item-interactive.ion-touched.ion-invalid){--full-highlight-height:calc(var(--highlight-height) * var(--show-full-highlight));--inset-highlight-height:calc(var(--highlight-height) * var(--show-inset-highlight))}:host(.ion-focused) .item-highlight,:host(.ion-focused) .item-inner-highlight,:host(.item-has-focus) .item-highlight,:host(.item-has-focus) .item-inner-highlight{-webkit-transform:scaleX(1);transform:scaleX(1);border-style:var(--border-style);border-color:var(--highlight-background)}:host(.ion-focused) .item-highlight,:host(.item-has-focus) .item-highlight{border-width:var(--full-highlight-height);opacity:var(--show-full-highlight)}:host(.ion-focused) .item-inner-highlight,:host(.item-has-focus) .item-inner-highlight{border-bottom-width:var(--inset-highlight-height);opacity:var(--show-inset-highlight)}:host(.ion-focused.item-fill-solid) .item-highlight,:host(.item-has-focus.item-fill-solid) .item-highlight{border-width:calc(var(--full-highlight-height) - 1px)}:host(.ion-focused) .item-inner-highlight,:host(.ion-focused:not(.item-fill-outline)) .item-highlight,:host(.item-has-focus) .item-inner-highlight,:host(.item-has-focus:not(.item-fill-outline)) .item-highlight{border-top:none;border-right:none;border-left:none}:host(.item-interactive.ion-focused),:host(.item-interactive.item-has-focus){--highlight-background:var(--highlight-color-focused)}:host(.item-interactive.ion-valid){--highlight-background:var(--highlight-color-valid)}:host(.item-interactive.ion-invalid){--highlight-background:var(--highlight-color-invalid)}:host(.item-interactive.ion-invalid) ::slotted([slot=helper]){display:none}::slotted([slot=error]){display:none;color:var(--highlight-color-invalid)}:host(.item-interactive.ion-invalid) ::slotted([slot=error]){display:block}:host(:not(.item-label)) ::slotted(ion-select.legacy-select){--padding-start:0;max-width:none}:host(.item-label-stacked) ::slotted(ion-select.legacy-select),:host(.item-label-floating) ::slotted(ion-select.legacy-select){--padding-top:8px;--padding-bottom:8px;--padding-start:0;-ms-flex-item-align:stretch;align-self:stretch;width:100%;max-width:100%}:host(:not(.item-label)) ::slotted(ion-datetime){--padding-start:0}:host(.item-label-stacked) ::slotted(ion-datetime),:host(.item-label-floating) ::slotted(ion-datetime){--padding-start:0;width:100%}:host(.item-multiple-inputs) ::slotted(ion-checkbox),:host(.item-multiple-inputs) ::slotted(ion-datetime),:host(.item-multiple-inputs) ::slotted(ion-radio),:host(.item-multiple-inputs) ::slotted(ion-select.legacy-select){position:relative}:host(.item-textarea){-ms-flex-align:stretch;align-items:stretch}::slotted(ion-reorder[slot]){margin-top:0;margin-bottom:0}ion-ripple-effect{color:var(--ripple-color)}:host(.item-fill-solid) ::slotted([slot=start]),:host(.item-fill-solid) ::slotted([slot=end]),:host(.item-fill-outline) ::slotted([slot=start]),:host(.item-fill-outline) ::slotted([slot=end]){-ms-flex-item-align:center;align-self:center}::slotted([slot=helper]),::slotted([slot=error]),.item-counter{padding-top:5px;font-size:0.75rem;z-index:1}.item-counter{-webkit-margin-start:auto;margin-inline-start:auto;color:var(--ion-color-step-550, #737373);white-space:nowrap;-webkit-padding-start:16px;padding-inline-start:16px}@media (prefers-reduced-motion: reduce){.item-highlight,.item-inner-highlight{-webkit-transition:none;transition:none}}:host{--min-height:44px;--transition:background-color 200ms linear, opacity 200ms linear;--padding-start:16px;--inner-padding-end:16px;--inner-border-width:0px 0px 0.55px 0px;--background:var(--ion-item-background, var(--ion-background-color, #fff));--background-activated:var(--ion-text-color, #000);--background-focused:var(--ion-text-color, #000);--background-hover:currentColor;--background-activated-opacity:.12;--background-focused-opacity:.15;--background-hover-opacity:.04;--border-color:var(--ion-item-border-color, var(--ion-border-color, var(--ion-color-step-250, #c8c7cc)));--color:var(--ion-item-color, var(--ion-text-color, #000));--highlight-height:0px;--highlight-color-focused:var(--ion-color-primary, #3880ff);--highlight-color-valid:var(--ion-color-success, #2dd36f);--highlight-color-invalid:var(--ion-color-danger, #eb445a);--bottom-padding-start:0px;font-size:1rem}:host(.ion-activated){--transition:none}:host(.ion-color.ion-focused) .item-native::after{background:#000;opacity:0.15}:host(.ion-color.ion-activated) .item-native::after{background:#000;opacity:0.12}:host(.item-interactive){--show-full-highlight:0;--show-inset-highlight:1}:host(.item-lines-full){--border-width:0px 0px 0.55px 0px;--show-full-highlight:1;--show-inset-highlight:0}:host(.item-lines-inset){--inner-border-width:0px 0px 0.55px 0px;--show-full-highlight:0;--show-inset-highlight:1}:host(.item-lines-inset),:host(.item-lines-none){--border-width:0px;--show-full-highlight:0}:host(.item-lines-full),:host(.item-lines-none){--inner-border-width:0px;--show-inset-highlight:0}.item-highlight,.item-inner-highlight{-webkit-transition:none;transition:none}:host(.item-has-focus) .item-inner-highlight,:host(.item-has-focus) .item-highlight{border-top:none;border-right:none;border-left:none}::slotted([slot=start]){-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:16px;margin-inline-end:16px;margin-top:2px;margin-bottom:2px}::slotted(ion-icon[slot=start]),::slotted(ion-icon[slot=end]){margin-top:7px;margin-bottom:7px}::slotted(ion-toggle[slot=start]),::slotted(ion-toggle[slot=end]){margin-left:0;margin-right:0;margin-top:0;margin-bottom:0}:host(.item-label-stacked) ::slotted([slot=end]),:host(.item-label-floating) ::slotted([slot=end]){margin-top:7px;margin-bottom:7px}::slotted(.button-small){--padding-top:1px;--padding-bottom:1px;--padding-start:.5em;--padding-end:.5em;min-height:24px;font-size:0.8125rem}::slotted(ion-avatar){width:36px;height:36px}::slotted(ion-thumbnail){--size:56px}::slotted(ion-avatar[slot=end]),::slotted(ion-thumbnail[slot=end]){-webkit-margin-start:8px;margin-inline-start:8px;-webkit-margin-end:8px;margin-inline-end:8px;margin-top:8px;margin-bottom:8px}:host(.item-radio) ::slotted(ion-label),:host(.item-toggle) ::slotted(ion-label){-webkit-margin-start:0px;margin-inline-start:0px}::slotted(ion-label){-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:8px;margin-inline-end:8px;margin-top:10px;margin-bottom:10px}:host(.item-label-floating),:host(.item-label-stacked){--min-height:68px}:host(.item-label-stacked) ::slotted(ion-select.legacy-select),:host(.item-label-floating) ::slotted(ion-select.legacy-select){--padding-top:8px;--padding-bottom:8px;--padding-start:0px}:host(.item-label-fixed) ::slotted(ion-select.legacy-select),:host(.item-label-fixed) ::slotted(ion-datetime){--padding-start:0}',uW=cW,dW=':host{--border-radius:0px;--border-width:0px;--border-style:solid;--padding-top:0px;--padding-bottom:0px;--padding-end:0px;--padding-start:0px;--inner-border-width:0px;--inner-padding-top:0px;--inner-padding-bottom:0px;--inner-padding-start:0px;--inner-padding-end:0px;--inner-box-shadow:none;--show-full-highlight:0;--show-inset-highlight:0;--detail-icon-color:initial;--detail-icon-font-size:1.25em;--detail-icon-opacity:0.25;--color-activated:var(--color);--color-focused:var(--color);--color-hover:var(--color);--ripple-color:currentColor;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:block;position:relative;-ms-flex-align:center;align-items:center;-ms-flex-pack:justify;justify-content:space-between;outline:none;color:var(--color);font-family:var(--ion-font-family, inherit);text-align:initial;text-decoration:none;overflow:hidden;-webkit-box-sizing:border-box;box-sizing:border-box}:host(.ion-color:not(.item-fill-solid):not(.item-fill-outline)) .item-native{background:var(--ion-color-base);color:var(--ion-color-contrast)}:host(.ion-color:not(.item-fill-solid):not(.item-fill-outline)) .item-native,:host(.ion-color:not(.item-fill-solid):not(.item-fill-outline)) .item-inner{border-color:var(--ion-color-shade)}:host(.ion-activated) .item-native{color:var(--color-activated)}:host(.ion-activated) .item-native::after{background:var(--background-activated);opacity:var(--background-activated-opacity)}:host(.ion-color.ion-activated) .item-native{color:var(--ion-color-contrast)}:host(.ion-focused) .item-native{color:var(--color-focused)}:host(.ion-focused) .item-native::after{background:var(--background-focused);opacity:var(--background-focused-opacity)}:host(.ion-color.ion-focused) .item-native{color:var(--ion-color-contrast)}:host(.ion-color.ion-focused) .item-native::after{background:var(--ion-color-contrast)}@media (any-hover: hover){:host(.ion-activatable:not(.ion-focused):hover) .item-native{color:var(--color-hover)}:host(.ion-activatable:not(.ion-focused):hover) .item-native::after{background:var(--background-hover);opacity:var(--background-hover-opacity)}:host(.ion-color.ion-activatable:not(.ion-focused):hover) .item-native{color:var(--ion-color-contrast)}:host(.ion-color.ion-activatable:not(.ion-focused):hover) .item-native::after{background:var(--ion-color-contrast)}}:host(.item-has-interactive-control){cursor:pointer}:host(.item-interactive-disabled:not(.item-multiple-inputs)){cursor:default;pointer-events:none}:host(.item-disabled){cursor:default;opacity:0.3;pointer-events:none}.item-native{border-radius:var(--border-radius);margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;padding-right:var(--padding-end);padding-left:calc(var(--padding-start) + var(--ion-safe-area-left, 0px));display:-ms-flexbox;display:flex;position:relative;-ms-flex-align:inherit;align-items:inherit;-ms-flex-pack:inherit;justify-content:inherit;width:100%;min-height:var(--min-height);-webkit-transition:var(--transition);transition:var(--transition);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);outline:none;background:var(--background);overflow:inherit;z-index:1;-webkit-box-sizing:border-box;box-sizing:border-box}:host-context([dir=rtl]) .item-native{padding-right:calc(var(--padding-start) + var(--ion-safe-area-right, 0px));padding-left:var(--padding-end)}[dir=rtl] .item-native{padding-right:calc(var(--padding-start) + var(--ion-safe-area-right, 0px));padding-left:var(--padding-end)}@supports selector(:dir(rtl)){.item-native:dir(rtl){padding-right:calc(var(--padding-start) + var(--ion-safe-area-right, 0px));padding-left:var(--padding-end)}}.item-native::-moz-focus-inner{border:0}.item-native::after{left:0;right:0;top:0;bottom:0;position:absolute;content:"";opacity:0;-webkit-transition:var(--transition);transition:var(--transition);z-index:-1}button,a{cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-user-drag:none}.item-inner{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-top:var(--inner-padding-top);padding-bottom:var(--inner-padding-bottom);padding-right:calc(var(--ion-safe-area-right, 0px) + var(--inner-padding-end));padding-left:var(--inner-padding-start);display:-ms-flexbox;display:flex;position:relative;-ms-flex:1;flex:1;-ms-flex-direction:inherit;flex-direction:inherit;-ms-flex-align:inherit;align-items:inherit;-ms-flex-item-align:stretch;align-self:stretch;min-height:inherit;border-width:var(--inner-border-width);border-style:var(--border-style);border-color:var(--border-color);-webkit-box-shadow:var(--inner-box-shadow);box-shadow:var(--inner-box-shadow);overflow:inherit;-webkit-box-sizing:border-box;box-sizing:border-box}:host-context([dir=rtl]) .item-inner{padding-right:var(--inner-padding-start);padding-left:calc(var(--ion-safe-area-left, 0px) + var(--inner-padding-end))}[dir=rtl] .item-inner{padding-right:var(--inner-padding-start);padding-left:calc(var(--ion-safe-area-left, 0px) + var(--inner-padding-end))}@supports selector(:dir(rtl)){.item-inner:dir(rtl){padding-right:var(--inner-padding-start);padding-left:calc(var(--ion-safe-area-left, 0px) + var(--inner-padding-end))}}.item-bottom{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-top:0;padding-bottom:0;padding-left:calc(var(--padding-start) + var(--ion-safe-area-left, 0px));padding-right:calc(var(--inner-padding-end) + var(--ion-safe-area-right, 0px));display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between}:host-context([dir=rtl]) .item-bottom{padding-left:calc(var(--inner-padding-end) + var(--ion-safe-area-left, 0px));padding-right:calc(var(--padding-start) + var(--ion-safe-area-right, 0px))}[dir=rtl] .item-bottom{padding-left:calc(var(--inner-padding-end) + var(--ion-safe-area-left, 0px));padding-right:calc(var(--padding-start) + var(--ion-safe-area-right, 0px))}@supports selector(:dir(rtl)){.item-bottom:dir(rtl){padding-left:calc(var(--inner-padding-end) + var(--ion-safe-area-left, 0px));padding-right:calc(var(--padding-start) + var(--ion-safe-area-right, 0px))}}.item-detail-icon{-webkit-margin-start:calc(var(--inner-padding-end) / 2);margin-inline-start:calc(var(--inner-padding-end) / 2);-webkit-margin-end:-6px;margin-inline-end:-6px;color:var(--detail-icon-color);font-size:var(--detail-icon-font-size);opacity:var(--detail-icon-opacity)}::slotted(ion-icon){font-size:1.6em}::slotted(ion-button){--margin-top:0;--margin-bottom:0;--margin-start:0;--margin-end:0;z-index:1}::slotted(ion-label:not([slot=end])){-ms-flex:1;flex:1;width:-webkit-min-content;width:-moz-min-content;width:min-content;max-width:100%}:host(.item-input){-ms-flex-align:center;align-items:center}.input-wrapper{display:-ms-flexbox;display:flex;-ms-flex:1;flex:1;-ms-flex-direction:inherit;flex-direction:inherit;-ms-flex-align:inherit;align-items:inherit;-ms-flex-item-align:stretch;align-self:stretch;text-overflow:ellipsis;overflow:inherit;-webkit-box-sizing:border-box;box-sizing:border-box}:host(.item-label-stacked),:host(.item-label-floating){-ms-flex-align:start;align-items:start}:host(.item-label-stacked) .input-wrapper,:host(.item-label-floating) .input-wrapper{-ms-flex:1;flex:1;-ms-flex-direction:column;flex-direction:column}.item-highlight,.item-inner-highlight{left:0;right:0;top:0;bottom:0;border-radius:inherit;position:absolute;width:100%;height:100%;-webkit-transform:scaleX(0);transform:scaleX(0);-webkit-transition:border-bottom-width 200ms, -webkit-transform 200ms;transition:border-bottom-width 200ms, -webkit-transform 200ms;transition:transform 200ms, border-bottom-width 200ms;transition:transform 200ms, border-bottom-width 200ms, -webkit-transform 200ms;z-index:2;-webkit-box-sizing:border-box;box-sizing:border-box;pointer-events:none}:host(.item-interactive.ion-focused),:host(.item-interactive.item-has-focus),:host(.item-interactive.ion-touched.ion-invalid){--full-highlight-height:calc(var(--highlight-height) * var(--show-full-highlight));--inset-highlight-height:calc(var(--highlight-height) * var(--show-inset-highlight))}:host(.ion-focused) .item-highlight,:host(.ion-focused) .item-inner-highlight,:host(.item-has-focus) .item-highlight,:host(.item-has-focus) .item-inner-highlight{-webkit-transform:scaleX(1);transform:scaleX(1);border-style:var(--border-style);border-color:var(--highlight-background)}:host(.ion-focused) .item-highlight,:host(.item-has-focus) .item-highlight{border-width:var(--full-highlight-height);opacity:var(--show-full-highlight)}:host(.ion-focused) .item-inner-highlight,:host(.item-has-focus) .item-inner-highlight{border-bottom-width:var(--inset-highlight-height);opacity:var(--show-inset-highlight)}:host(.ion-focused.item-fill-solid) .item-highlight,:host(.item-has-focus.item-fill-solid) .item-highlight{border-width:calc(var(--full-highlight-height) - 1px)}:host(.ion-focused) .item-inner-highlight,:host(.ion-focused:not(.item-fill-outline)) .item-highlight,:host(.item-has-focus) .item-inner-highlight,:host(.item-has-focus:not(.item-fill-outline)) .item-highlight{border-top:none;border-right:none;border-left:none}:host(.item-interactive.ion-focused),:host(.item-interactive.item-has-focus){--highlight-background:var(--highlight-color-focused)}:host(.item-interactive.ion-valid){--highlight-background:var(--highlight-color-valid)}:host(.item-interactive.ion-invalid){--highlight-background:var(--highlight-color-invalid)}:host(.item-interactive.ion-invalid) ::slotted([slot=helper]){display:none}::slotted([slot=error]){display:none;color:var(--highlight-color-invalid)}:host(.item-interactive.ion-invalid) ::slotted([slot=error]){display:block}:host(:not(.item-label)) ::slotted(ion-select.legacy-select){--padding-start:0;max-width:none}:host(.item-label-stacked) ::slotted(ion-select.legacy-select),:host(.item-label-floating) ::slotted(ion-select.legacy-select){--padding-top:8px;--padding-bottom:8px;--padding-start:0;-ms-flex-item-align:stretch;align-self:stretch;width:100%;max-width:100%}:host(:not(.item-label)) ::slotted(ion-datetime){--padding-start:0}:host(.item-label-stacked) ::slotted(ion-datetime),:host(.item-label-floating) ::slotted(ion-datetime){--padding-start:0;width:100%}:host(.item-multiple-inputs) ::slotted(ion-checkbox),:host(.item-multiple-inputs) ::slotted(ion-datetime),:host(.item-multiple-inputs) ::slotted(ion-radio),:host(.item-multiple-inputs) ::slotted(ion-select.legacy-select){position:relative}:host(.item-textarea){-ms-flex-align:stretch;align-items:stretch}::slotted(ion-reorder[slot]){margin-top:0;margin-bottom:0}ion-ripple-effect{color:var(--ripple-color)}:host(.item-fill-solid) ::slotted([slot=start]),:host(.item-fill-solid) ::slotted([slot=end]),:host(.item-fill-outline) ::slotted([slot=start]),:host(.item-fill-outline) ::slotted([slot=end]){-ms-flex-item-align:center;align-self:center}::slotted([slot=helper]),::slotted([slot=error]),.item-counter{padding-top:5px;font-size:0.75rem;z-index:1}.item-counter{-webkit-margin-start:auto;margin-inline-start:auto;color:var(--ion-color-step-550, #737373);white-space:nowrap;-webkit-padding-start:16px;padding-inline-start:16px}@media (prefers-reduced-motion: reduce){.item-highlight,.item-inner-highlight{-webkit-transition:none;transition:none}}:host{--min-height:48px;--background:var(--ion-item-background, var(--ion-background-color, #fff));--background-activated:transparent;--background-focused:currentColor;--background-hover:currentColor;--background-activated-opacity:0;--background-focused-opacity:.12;--background-hover-opacity:.04;--border-color:var(--ion-item-border-color, var(--ion-border-color, var(--ion-color-step-150, rgba(0, 0, 0, 0.13))));--color:var(--ion-item-color, var(--ion-text-color, #000));--transition:opacity 15ms linear, background-color 15ms linear;--padding-start:16px;--inner-padding-end:16px;--inner-border-width:0 0 1px 0;--highlight-height:1px;--highlight-color-focused:var(--ion-color-primary, #3880ff);--highlight-color-valid:var(--ion-color-success, #2dd36f);--highlight-color-invalid:var(--ion-color-danger, #eb445a);font-size:1rem;font-weight:normal;text-transform:none}:host(.item-fill-outline){--highlight-height:2px}:host(.item-fill-none.item-interactive.ion-focus) .item-highlight,:host(.item-fill-none.item-interactive.item-has-focus) .item-highlight,:host(.item-fill-none.item-interactive.ion-touched.ion-invalid) .item-highlight{-webkit-transform:scaleX(1);transform:scaleX(1);border-width:0 0 var(--full-highlight-height) 0;border-style:var(--border-style);border-color:var(--highlight-background)}:host(.item-fill-none.item-interactive.ion-focus) .item-native,:host(.item-fill-none.item-interactive.item-has-focus) .item-native,:host(.item-fill-none.item-interactive.ion-touched.ion-invalid) .item-native{border-bottom-color:var(--highlight-background)}:host(.item-fill-outline.item-interactive.ion-focus) .item-highlight,:host(.item-fill-outline.item-interactive.item-has-focus) .item-highlight{-webkit-transform:scaleX(1);transform:scaleX(1)}:host(.item-fill-outline.item-interactive.ion-focus) .item-highlight,:host(.item-fill-outline.item-interactive.item-has-focus) .item-highlight,:host(.item-fill-outline.item-interactive.ion-touched.ion-invalid) .item-highlight{border-width:var(--full-highlight-height);border-style:var(--border-style);border-color:var(--highlight-background)}:host(.item-fill-outline.item-interactive.ion-touched.ion-invalid) .item-native{border-color:var(--highlight-background)}:host(.item-fill-solid.item-interactive.ion-focus) .item-highlight,:host(.item-fill-solid.item-interactive.item-has-focus) .item-highlight,:host(.item-fill-solid.item-interactive.ion-touched.ion-invalid) .item-highlight{-webkit-transform:scaleX(1);transform:scaleX(1);border-width:0 0 var(--full-highlight-height) 0;border-style:var(--border-style);border-color:var(--highlight-background)}:host(.item-fill-solid.item-interactive.ion-focus) .item-native,:host(.item-fill-solid.item-interactive.item-has-focus) .item-native,:host(.item-fill-solid.item-interactive.ion-touched.ion-invalid) .item-native{border-bottom-color:var(--highlight-background)}:host(.ion-color.ion-activated) .item-native::after{background:transparent}:host(.item-has-focus) .item-native{caret-color:var(--highlight-background)}:host(.item-interactive){--border-width:0 0 1px 0;--inner-border-width:0;--show-full-highlight:1;--show-inset-highlight:0}:host(.item-lines-full){--border-width:0 0 1px 0;--show-full-highlight:1;--show-inset-highlight:0}:host(.item-lines-inset){--inner-border-width:0 0 1px 0;--show-full-highlight:0;--show-inset-highlight:1}:host(.item-lines-inset),:host(.item-lines-none){--border-width:0;--show-full-highlight:0}:host(.item-lines-full),:host(.item-lines-none){--inner-border-width:0;--show-inset-highlight:0}:host(.item-fill-outline) .item-highlight{--position-offset:calc(-1 * var(--border-width));top:var(--position-offset);width:calc(100% + 2 * var(--border-width));height:calc(100% + 2 * var(--border-width));-webkit-transition:none;transition:none}@supports (inset-inline-start: 0){:host(.item-fill-outline) .item-highlight{inset-inline-start:var(--position-offset)}}@supports not (inset-inline-start: 0){:host(.item-fill-outline) .item-highlight{left:var(--position-offset)}:host-context([dir=rtl]):host(.item-fill-outline) .item-highlight,:host-context([dir=rtl]).item-fill-outline .item-highlight{left:unset;right:unset;right:var(--position-offset)}@supports selector(:dir(rtl)){:host(.item-fill-outline:dir(rtl)) .item-highlight{left:unset;right:unset;right:var(--position-offset)}}}:host(.item-fill-outline.ion-focused) .item-native,:host(.item-fill-outline.item-has-focus) .item-native{border-color:transparent}:host(.item-multi-line) ::slotted([slot=start]),:host(.item-multi-line) ::slotted([slot=end]){margin-top:16px;margin-bottom:16px;-ms-flex-item-align:start;align-self:flex-start}::slotted([slot=start]){-webkit-margin-end:32px;margin-inline-end:32px}::slotted([slot=end]){-webkit-margin-start:32px;margin-inline-start:32px}:host(.item-fill-solid) ::slotted([slot=start]),:host(.item-fill-solid) ::slotted([slot=end]),:host(.item-fill-outline) ::slotted([slot=start]),:host(.item-fill-outline) ::slotted([slot=end]){-ms-flex-item-align:center;align-self:center}::slotted(ion-icon){color:rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.54);font-size:1.5em}:host(.ion-color:not(.item-fill-solid):not(.item-fill-outline)) ::slotted(ion-icon){color:var(--ion-color-contrast)}::slotted(ion-icon[slot]){margin-top:12px;margin-bottom:12px}::slotted(ion-icon[slot=start]){-webkit-margin-end:32px;margin-inline-end:32px}::slotted(ion-icon[slot=end]){-webkit-margin-start:16px;margin-inline-start:16px}:host(.item-fill-solid) ::slotted(ion-icon[slot=start]),:host(.item-fill-outline) ::slotted(ion-icon[slot=start]){-webkit-margin-end:8px;margin-inline-end:8px}::slotted(ion-toggle[slot=start]),::slotted(ion-toggle[slot=end]){margin-left:0;margin-right:0;margin-top:0;margin-bottom:0}::slotted(ion-note){margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-ms-flex-item-align:start;align-self:flex-start;font-size:0.6875rem}::slotted(ion-note[slot]:not([slot=helper]):not([slot=error])){padding-left:0;padding-right:0;padding-top:18px;padding-bottom:10px}::slotted(ion-note[slot=start]){-webkit-padding-end:16px;padding-inline-end:16px}::slotted(ion-note[slot=end]){-webkit-padding-start:16px;padding-inline-start:16px}::slotted(ion-avatar){width:40px;height:40px}::slotted(ion-thumbnail){--size:56px}::slotted(ion-avatar),::slotted(ion-thumbnail){margin-top:8px;margin-bottom:8px}::slotted(ion-avatar[slot=start]),::slotted(ion-thumbnail[slot=start]){-webkit-margin-end:16px;margin-inline-end:16px}::slotted(ion-avatar[slot=end]),::slotted(ion-thumbnail[slot=end]){-webkit-margin-start:16px;margin-inline-start:16px}::slotted(ion-label){margin-left:0;margin-right:0;margin-top:10px;margin-bottom:10px}:host(.item-label-stacked) ::slotted([slot=end]),:host(.item-label-floating) ::slotted([slot=end]){margin-top:7px;margin-bottom:7px}:host(.item-label-fixed) ::slotted(ion-select.legacy-select),:host(.item-label-fixed) ::slotted(ion-datetime){--padding-start:8px}:host(.item-toggle) ::slotted(ion-label),:host(.item-radio) ::slotted(ion-label){-webkit-margin-start:0;margin-inline-start:0}::slotted(.button-small){--padding-top:2px;--padding-bottom:2px;--padding-start:.6em;--padding-end:.6em;min-height:25px;font-size:0.75rem}:host(.item-label-floating),:host(.item-label-stacked){--min-height:55px}:host(.item-label-stacked) ::slotted(ion-select.legacy-select),:host(.item-label-floating) ::slotted(ion-select.legacy-select){--padding-top:8px;--padding-bottom:8px;--padding-start:0}:host(.ion-focused:not(.ion-color)) ::slotted(.label-stacked),:host(.ion-focused:not(.ion-color)) ::slotted(.label-floating),:host(.item-has-focus:not(.ion-color)) ::slotted(.label-stacked),:host(.item-has-focus:not(.ion-color)) ::slotted(.label-floating){color:var(--ion-color-primary, #3880ff)}:host(.ion-color){--highlight-color-focused:var(--ion-color-contrast)}:host(.item-label-color){--highlight-color-focused:var(--ion-color-base)}:host(.item-fill-solid.ion-color),:host(.item-fill-outline.ion-color){--highlight-color-focused:var(--ion-color-base)}:host(.item-fill-solid){--background:var(--ion-color-step-50, #f2f2f2);--background-hover:var(--ion-color-step-100, #e6e6e6);--background-focused:var(--ion-color-step-150, #d9d9d9);--border-width:0 0 1px 0;--inner-border-width:0;border-top-left-radius:4px;border-top-right-radius:4px;border-bottom-right-radius:0;border-bottom-left-radius:0}:host-context([dir=rtl]):host(.item-fill-solid),:host-context([dir=rtl]).item-fill-solid{border-top-left-radius:4px;border-top-right-radius:4px;border-bottom-right-radius:0;border-bottom-left-radius:0}@supports selector(:dir(rtl)){:host(.item-fill-solid:dir(rtl)){border-top-left-radius:4px;border-top-right-radius:4px;border-bottom-right-radius:0;border-bottom-left-radius:0}}:host(.item-fill-solid) .item-native{--border-color:var(--ion-color-step-500, gray)}:host(.item-fill-solid.ion-focused) .item-native,:host(.item-fill-solid.item-has-focus) .item-native{--background:var(--background-focused)}:host(.item-fill-solid.item-shape-round){border-top-left-radius:16px;border-top-right-radius:16px;border-bottom-right-radius:0;border-bottom-left-radius:0}:host-context([dir=rtl]):host(.item-fill-solid.item-shape-round),:host-context([dir=rtl]).item-fill-solid.item-shape-round{border-top-left-radius:16px;border-top-right-radius:16px;border-bottom-right-radius:0;border-bottom-left-radius:0}@supports selector(:dir(rtl)){:host(.item-fill-solid.item-shape-round:dir(rtl)){border-top-left-radius:16px;border-top-right-radius:16px;border-bottom-right-radius:0;border-bottom-left-radius:0}}@media (any-hover: hover){:host(.item-fill-solid:hover) .item-native{--background:var(--background-hover);--border-color:var(--ion-color-step-750, #404040)}}:host(.item-fill-outline){--ripple-color:transparent;--background-focused:transparent;--background-hover:transparent;--border-color:var(--ion-color-step-500, gray);--border-width:1px;border:none;overflow:visible}:host(.item-fill-outline) .item-native{--native-padding-left:16px;border-radius:4px}:host(.item-fill-outline.item-shape-round) .item-native{--inner-padding-start:16px;border-radius:28px}:host(.item-fill-outline.item-shape-round) .item-bottom{-webkit-padding-start:32px;padding-inline-start:32px}:host(.item-fill-outline.item-label-floating.ion-focused) .item-native ::slotted(ion-input:not(:first-child)),:host(.item-fill-outline.item-label-floating.ion-focused) .item-native ::slotted(ion-textarea:not(:first-child)),:host(.item-fill-outline.item-label-floating.item-has-focus) .item-native ::slotted(ion-input:not(:first-child)),:host(.item-fill-outline.item-label-floating.item-has-focus) .item-native ::slotted(ion-textarea:not(:first-child)),:host(.item-fill-outline.item-label-floating.item-has-value) .item-native ::slotted(ion-input:not(:first-child)),:host(.item-fill-outline.item-label-floating.item-has-value) .item-native ::slotted(ion-textarea:not(:first-child)){-webkit-transform:translateY(-14px);transform:translateY(-14px)}@media (any-hover: hover){:host(.item-fill-outline:hover) .item-native{--border-color:var(--ion-color-step-750, #404040)}}.item-counter{letter-spacing:0.0333333333em}',hW=dW,fW=Ei(class extends Ci{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.labelColorStyles={},this.itemStyles=new Map,this.inheritedAriaAttributes={},this.multipleInputs=!1,this.focusable=!0,this.color=void 0,this.button=!1,this.detail=void 0,this.detailIcon=GP,this.disabled=!1,this.download=void 0,this.fill=void 0,this.shape=void 0,this.href=void 0,this.rel=void 0,this.lines=void 0,this.counter=!1,this.routerAnimation=void 0,this.routerDirection="forward",this.target=void 0,this.type="button",this.counterFormatter=void 0,this.counterString=void 0}buttonChanged(){this.focusable=this.isFocusable()}counterFormatterChanged(){this.updateCounterOutput(this.getFirstInput())}handleIonInput(t){this.counter&&t.target===this.getFirstInput()&&this.updateCounterOutput(t.target)}labelColorChanged(t){const{color:n}=this;n===void 0&&(this.labelColorStyles=t.detail)}itemStyle(t){t.stopPropagation();const n=t.target.tagName,i=t.detail,s={},l=this.itemStyles.get(n)||{};let d=!1;Object.keys(i).forEach(c=>{if(i[c]){const y="item-".concat(c);l[y]||(d=!0),s[y]=!0}}),!d&&Object.keys(s).length!==Object.keys(l).length&&(d=!0),d&&(this.itemStyles.set(n,s),Nm(this))}connectedCallback(){this.counter&&this.updateCounterOutput(this.getFirstInput()),this.hasStartEl()}componentWillLoad(){this.inheritedAriaAttributes=G0(this.el,["aria-label"])}componentDidLoad(){const{el:t,counter:n,counterFormatter:i,fill:s,shape:l}=this;t.querySelector('[slot="helper"]')!==null&&ko('The "helper" slot has been deprecated in favor of using the "helperText" property on ion-input or ion-textarea.',t),t.querySelector('[slot="error"]')!==null&&ko('The "error" slot has been deprecated in favor of using the "errorText" property on ion-input or ion-textarea.',t),n===!0&&ko('The "counter" property has been deprecated in favor of using the "counter" property on ion-input or ion-textarea.',t),i!==void 0&&ko('The "counterFormatter" property has been deprecated in favor of using the "counterFormatter" property on ion-input or ion-textarea.',t),s!==void 0&&ko('The "fill" property has been deprecated in favor of using the "fill" property on ion-input or ion-textarea.',t),l!==void 0&&ko('The "shape" property has been deprecated in favor of using the "shape" property on ion-input or ion-textarea.',t),_s(()=>{this.setMultipleInputs(),this.focusable=this.isFocusable()})}setMultipleInputs(){const t=this.el.querySelectorAll("ion-checkbox, ion-datetime, ion-select, ion-radio"),n=this.el.querySelectorAll("ion-input, ion-range, ion-searchbar, ion-segment, ion-textarea, ion-toggle"),i=this.el.querySelectorAll("ion-anchor, ion-button, a, button");this.multipleInputs=t.length+n.length>1||t.length+i.length>1||t.length>0&&this.isClickable()}hasCover(){return this.el.querySelectorAll("ion-checkbox, ion-datetime, ion-select, ion-radio").length===1&&!this.multipleInputs}isClickable(){return this.href!==void 0||this.button}canActivate(){return this.isClickable()||this.hasCover()}isFocusable(){const t=this.el.querySelector(".ion-focusable");return this.canActivate()||t!==null}getFirstInput(){return this.el.querySelectorAll("ion-input, ion-textarea")[0]}updateCounterOutput(t){var n,i;const{counter:s,counterFormatter:l,defaultCounterFormatter:d}=this;if(s&&!this.multipleInputs&&(t==null?void 0:t.maxlength)!==void 0){const c=(i=(n=t==null?void 0:t.value)===null||n===void 0?void 0:n.toString().length)!==null&&i!==void 0?i:0;if(l===void 0)this.counterString=d(c,t.maxlength);else try{this.counterString=l(c,t.maxlength)}catch(y){RL("Exception in provided `counterFormatter`.",y),this.counterString=d(c,t.maxlength)}}}defaultCounterFormatter(t,n){return"".concat(t," / ").concat(n)}hasStartEl(){this.el.querySelector('[slot="start"]')!==null&&this.el.classList.add("item-has-start-slot")}getFirstInteractive(){return this.el.querySelectorAll("ion-toggle:not([disabled]), ion-checkbox:not([disabled]), ion-radio:not([disabled]), ion-select:not([disabled])")[0]}render(){const{counterString:t,detail:n,detailIcon:i,download:s,fill:l,labelColorStyles:d,lines:c,disabled:y,href:b,rel:k,shape:S,target:E,routerAnimation:A,routerDirection:z,inheritedAriaAttributes:N,multipleInputs:q}=this,F={},$=Tn(this),V=this.isClickable(),Z=this.canActivate(),Q=V?b===void 0?"button":"a":"div",fe=Q==="button"?{type:this.type}:{download:s,href:b,rel:k,target:E};let oe={};const re=this.getFirstInteractive();(V||re!==void 0&&!q)&&(oe={onClick:Pe=>{if(V&&Wk(b,Pe,z,A),re!==void 0&&!q){const Oe=Pe.composedPath()[0];Pe.isTrusted&&this.el.shadowRoot.contains(Oe)&&re.click()}}});const Be=n!==void 0?n:$==="ios"&&V;this.itemStyles.forEach(Pe=>{Object.assign(F,Pe)});const Le=y||F["item-interactive-disabled"]?"true":null,Fe=l||"none",Ze=Ao("ion-list",this.el)&&!Ao("ion-radio-group",this.el);return it(ki,{key:"077c9ab04985292f79c30691151d2778a26285fb","aria-disabled":Le,class:Object.assign(Object.assign(Object.assign({},F),d),za(this.color,{item:!0,[$]:!0,"item-lines-default":c===void 0,["item-lines-".concat(c)]:c!==void 0,["item-fill-".concat(Fe)]:!0,["item-shape-".concat(S)]:S!==void 0,"item-has-interactive-control":re!==void 0,"item-disabled":y,"in-list":Ze,"item-multiple-inputs":this.multipleInputs,"ion-activatable":Z,"ion-focusable":this.focusable,"item-rtl":document.dir==="rtl"})),role:Ze?"listitem":null},it(Q,Object.assign({key:"08bb75c85d0584e9fb7f461e9e06b9b651ef3515"},fe,N,{class:"item-native",part:"native",disabled:y},oe),it("slot",{key:"3f742b07c4a58eadedf675be4878a3e00070750e",name:"start"}),it("div",{key:"0160b8963434f3107856a2df2fb96f1abb4fdbfe",class:"item-inner"},it("div",{key:"9439b21474443341f06a651d7c44aef90bd4c591",class:"input-wrapper"},it("slot",{key:"8034e1337a6c950b7725bc9aa46d55de980827bf"})),it("slot",{key:"690de6d3dd3a238ab7a2d3dfea69daa6647e5134",name:"end"}),Be&&it("ion-icon",{icon:i,lazy:!1,class:"item-detail-icon",part:"detail-icon","aria-hidden":"true","flip-rtl":i===GP}),it("div",{key:"e96885084ca845656fd4d18902528ce7de207c86",class:"item-inner-highlight"})),Z&&$==="md"&&it("ion-ripple-effect",null),it("div",{key:"64e5323c380e05aa183e8dd7fbe560d084725f5e",class:"item-highlight"})),it("div",{key:"677132e6193981697f494b215ddc02407fdd96a5",class:"item-bottom"},it("slot",{key:"cda34a9208020bbb18ca5313e0bfbf270f024012",name:"error"}),it("slot",{key:"c1b3541b11ece13309d0e28dd3a95c048dfab43f",name:"helper"}),t&&it("ion-note",{class:"item-counter"},t)))}static get delegatesFocus(){return!0}get el(){return this}static get watchers(){return{button:["buttonChanged"],counterFormatter:["counterFormatterChanged"]}}static get style(){return{ios:uW,md:hW}}},[49,"ion-item",{color:[513],button:[4],detail:[4],detailIcon:[1,"detail-icon"],disabled:[4],download:[1],fill:[1],shape:[1],href:[1],rel:[1],lines:[1],counter:[4],routerAnimation:[16],routerDirection:[1,"router-direction"],target:[1],type:[1],counterFormatter:[16],multipleInputs:[32],focusable:[32],counterString:[32]},[[0,"ionInput","handleIonInput"],[0,"ionColor","labelColorChanged"],[0,"ionStyle","itemStyle"]],{button:["buttonChanged"],counterFormatter:["counterFormatterChanged"]}]);/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const pW=".item.sc-ion-label-ios-h,.item .sc-ion-label-ios-h{--color:initial;display:block;color:var(--color);font-family:var(--ion-font-family, inherit);font-size:inherit;text-overflow:ellipsis;-webkit-box-sizing:border-box;box-sizing:border-box}.item-legacy.sc-ion-label-ios-h,.item-legacy .sc-ion-label-ios-h{white-space:nowrap;overflow:hidden}.ion-color.sc-ion-label-ios-h{color:var(--ion-color-base)}.ion-text-nowrap.sc-ion-label-ios-h{overflow:hidden}.item-interactive-disabled.sc-ion-label-ios-h:not(.item-multiple-inputs),.item-interactive-disabled:not(.item-multiple-inputs) .sc-ion-label-ios-h{cursor:default;opacity:0.3;pointer-events:none}.item-input.sc-ion-label-ios-h,.item-input .sc-ion-label-ios-h{-ms-flex:initial;flex:initial;max-width:200px;pointer-events:none}.item-textarea.sc-ion-label-ios-h,.item-textarea .sc-ion-label-ios-h{-ms-flex-item-align:baseline;align-self:baseline}.item-skeleton-text.sc-ion-label-ios-h,.item-skeleton-text .sc-ion-label-ios-h{overflow:hidden}.label-fixed.sc-ion-label-ios-h{-ms-flex:0 0 100px;flex:0 0 100px;width:100px;min-width:100px;max-width:200px}.label-stacked.sc-ion-label-ios-h,.label-floating.sc-ion-label-ios-h{margin-bottom:0;-ms-flex-item-align:stretch;align-self:stretch;width:auto;max-width:100%}.label-no-animate.label-floating.sc-ion-label-ios-h{-webkit-transition:none;transition:none}.sc-ion-label-ios-s h1,.sc-ion-label-ios-s h2,.sc-ion-label-ios-s h3,.sc-ion-label-ios-s h4,.sc-ion-label-ios-s h5,.sc-ion-label-ios-s h6{text-overflow:inherit;overflow:inherit}.ion-text-wrap.sc-ion-label-ios-h{font-size:0.875rem;line-height:1.5}.label-stacked.sc-ion-label-ios-h{margin-bottom:4px;font-size:0.875rem}.label-floating.sc-ion-label-ios-h{margin-bottom:0;-webkit-transform:translate(0, 29px);transform:translate(0, 29px);-webkit-transform-origin:left top;transform-origin:left top;-webkit-transition:-webkit-transform 150ms ease-in-out;transition:-webkit-transform 150ms ease-in-out;transition:transform 150ms ease-in-out;transition:transform 150ms ease-in-out, -webkit-transform 150ms ease-in-out}[dir=rtl].sc-ion-label-ios-h -no-combinator.label-floating.sc-ion-label-ios-h,[dir=rtl] .sc-ion-label-ios-h -no-combinator.label-floating.sc-ion-label-ios-h,[dir=rtl].label-floating.sc-ion-label-ios-h,[dir=rtl] .label-floating.sc-ion-label-ios-h{-webkit-transform-origin:right top;transform-origin:right top}@supports selector(:dir(rtl)){.label-floating.sc-ion-label-ios-h:dir(rtl){-webkit-transform-origin:right top;transform-origin:right top}}.item-textarea.label-floating.sc-ion-label-ios-h,.item-textarea .label-floating.sc-ion-label-ios-h{-webkit-transform:translate(0, 28px);transform:translate(0, 28px)}.item-has-focus.label-floating.sc-ion-label-ios-h,.item-has-focus .label-floating.sc-ion-label-ios-h,.item-has-placeholder.sc-ion-label-ios-h:not(.item-input).label-floating,.item-has-placeholder:not(.item-input) .label-floating.sc-ion-label-ios-h,.item-has-value.label-floating.sc-ion-label-ios-h,.item-has-value .label-floating.sc-ion-label-ios-h{-webkit-transform:scale(0.82);transform:scale(0.82)}.sc-ion-label-ios-s h1{margin-left:0;margin-right:0;margin-top:3px;margin-bottom:2px;font-size:1.375rem;font-weight:normal}.sc-ion-label-ios-s h2{margin-left:0;margin-right:0;margin-top:0;margin-bottom:2px;font-size:1.0625rem;font-weight:normal}.sc-ion-label-ios-s h3,.sc-ion-label-ios-s h4,.sc-ion-label-ios-s h5,.sc-ion-label-ios-s h6{margin-left:0;margin-right:0;margin-top:0;margin-bottom:3px;font-size:0.875rem;font-weight:normal;line-height:normal}.sc-ion-label-ios-s p{margin-left:0;margin-right:0;margin-top:0;margin-bottom:2px;font-size:0.875rem;line-height:normal;text-overflow:inherit;overflow:inherit}.sc-ion-label-ios-s>p{color:rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.4)}.sc-ion-label-ios-h.in-item-color.sc-ion-label-ios-s>p{color:inherit}.sc-ion-label-ios-s h2:last-child,.sc-ion-label-ios-s h3:last-child,.sc-ion-label-ios-s h4:last-child,.sc-ion-label-ios-s h5:last-child,.sc-ion-label-ios-s h6:last-child,.sc-ion-label-ios-s p:last-child{margin-bottom:0}",mW=pW,gW='.item.sc-ion-label-md-h,.item .sc-ion-label-md-h{--color:initial;display:block;color:var(--color);font-family:var(--ion-font-family, inherit);font-size:inherit;text-overflow:ellipsis;-webkit-box-sizing:border-box;box-sizing:border-box}.item-legacy.sc-ion-label-md-h,.item-legacy .sc-ion-label-md-h{white-space:nowrap;overflow:hidden}.ion-color.sc-ion-label-md-h{color:var(--ion-color-base)}.ion-text-nowrap.sc-ion-label-md-h{overflow:hidden}.item-interactive-disabled.sc-ion-label-md-h:not(.item-multiple-inputs),.item-interactive-disabled:not(.item-multiple-inputs) .sc-ion-label-md-h{cursor:default;opacity:0.3;pointer-events:none}.item-input.sc-ion-label-md-h,.item-input .sc-ion-label-md-h{-ms-flex:initial;flex:initial;max-width:200px;pointer-events:none}.item-textarea.sc-ion-label-md-h,.item-textarea .sc-ion-label-md-h{-ms-flex-item-align:baseline;align-self:baseline}.item-skeleton-text.sc-ion-label-md-h,.item-skeleton-text .sc-ion-label-md-h{overflow:hidden}.label-fixed.sc-ion-label-md-h{-ms-flex:0 0 100px;flex:0 0 100px;width:100px;min-width:100px;max-width:200px}.label-stacked.sc-ion-label-md-h,.label-floating.sc-ion-label-md-h{margin-bottom:0;-ms-flex-item-align:stretch;align-self:stretch;width:auto;max-width:100%}.label-no-animate.label-floating.sc-ion-label-md-h{-webkit-transition:none;transition:none}.sc-ion-label-md-s h1,.sc-ion-label-md-s h2,.sc-ion-label-md-s h3,.sc-ion-label-md-s h4,.sc-ion-label-md-s h5,.sc-ion-label-md-s h6{text-overflow:inherit;overflow:inherit}.ion-text-wrap.sc-ion-label-md-h{line-height:1.5}.label-stacked.sc-ion-label-md-h,.label-floating.sc-ion-label-md-h{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-webkit-transform-origin:top left;transform-origin:top left}.label-stacked.label-rtl.sc-ion-label-md-h,.label-floating.label-rtl.sc-ion-label-md-h{-webkit-transform-origin:top right;transform-origin:top right}.label-stacked.sc-ion-label-md-h{-webkit-transform:translateY(50%) scale(0.75);transform:translateY(50%) scale(0.75);-webkit-transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.label-floating.sc-ion-label-md-h{-webkit-transform:translateY(96%);transform:translateY(96%);-webkit-transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), transform 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), transform 150ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 150ms cubic-bezier(0.4, 0, 0.2, 1)}.ion-focused.label-floating.sc-ion-label-md-h,.ion-focused .label-floating.sc-ion-label-md-h,.item-has-focus.label-floating.sc-ion-label-md-h,.item-has-focus .label-floating.sc-ion-label-md-h,.item-has-placeholder.sc-ion-label-md-h:not(.item-input).label-floating,.item-has-placeholder:not(.item-input) .label-floating.sc-ion-label-md-h,.item-has-value.label-floating.sc-ion-label-md-h,.item-has-value .label-floating.sc-ion-label-md-h{-webkit-transform:translateY(50%) scale(0.75);transform:translateY(50%) scale(0.75)}.item-fill-outline.ion-focused.label-floating.sc-ion-label-md-h,.item-fill-outline.ion-focused .label-floating.sc-ion-label-md-h,.item-fill-outline.item-has-focus.label-floating.sc-ion-label-md-h,.item-fill-outline.item-has-focus .label-floating.sc-ion-label-md-h,.item-fill-outline.item-has-placeholder.sc-ion-label-md-h:not(.item-input).label-floating,.item-fill-outline.item-has-placeholder:not(.item-input) .label-floating.sc-ion-label-md-h,.item-fill-outline.item-has-value.label-floating.sc-ion-label-md-h,.item-fill-outline.item-has-value .label-floating.sc-ion-label-md-h{-webkit-transform:translateY(-6px) scale(0.75);transform:translateY(-6px) scale(0.75);position:relative;max-width:-webkit-min-content;max-width:-moz-min-content;max-width:min-content;background-color:var(--ion-item-background, var(--ion-background-color, #fff));overflow:visible;z-index:3}.item-fill-outline.ion-focused.label-floating.sc-ion-label-md-h::before,.item-fill-outline.ion-focused .label-floating.sc-ion-label-md-h::before,.item-fill-outline.ion-focused.label-floating.sc-ion-label-md-h::after,.item-fill-outline.ion-focused .label-floating.sc-ion-label-md-h::after,.item-fill-outline.item-has-focus.label-floating.sc-ion-label-md-h::before,.item-fill-outline.item-has-focus .label-floating.sc-ion-label-md-h::before,.item-fill-outline.item-has-focus.label-floating.sc-ion-label-md-h::after,.item-fill-outline.item-has-focus .label-floating.sc-ion-label-md-h::after,.item-fill-outline.item-has-placeholder.sc-ion-label-md-h:not(.item-input).label-floating::before,.item-fill-outline.item-has-placeholder:not(.item-input) .label-floating.sc-ion-label-md-h::before,.item-fill-outline.item-has-placeholder.sc-ion-label-md-h:not(.item-input).label-floating::after,.item-fill-outline.item-has-placeholder:not(.item-input) .label-floating.sc-ion-label-md-h::after,.item-fill-outline.item-has-value.label-floating.sc-ion-label-md-h::before,.item-fill-outline.item-has-value .label-floating.sc-ion-label-md-h::before,.item-fill-outline.item-has-value.label-floating.sc-ion-label-md-h::after,.item-fill-outline.item-has-value .label-floating.sc-ion-label-md-h::after{position:absolute;width:4px;height:100%;background-color:var(--ion-item-background, var(--ion-background-color, #fff));content:""}.item-fill-outline.ion-focused.label-floating.sc-ion-label-md-h::before,.item-fill-outline.ion-focused .label-floating.sc-ion-label-md-h::before,.item-fill-outline.item-has-focus.label-floating.sc-ion-label-md-h::before,.item-fill-outline.item-has-focus .label-floating.sc-ion-label-md-h::before,.item-fill-outline.item-has-placeholder.sc-ion-label-md-h:not(.item-input).label-floating::before,.item-fill-outline.item-has-placeholder:not(.item-input) .label-floating.sc-ion-label-md-h::before,.item-fill-outline.item-has-value.label-floating.sc-ion-label-md-h::before,.item-fill-outline.item-has-value .label-floating.sc-ion-label-md-h::before{left:calc(-1 * 4px)}.item-fill-outline.ion-focused.label-floating.sc-ion-label-md-h::after,.item-fill-outline.ion-focused .label-floating.sc-ion-label-md-h::after,.item-fill-outline.item-has-focus.label-floating.sc-ion-label-md-h::after,.item-fill-outline.item-has-focus .label-floating.sc-ion-label-md-h::after,.item-fill-outline.item-has-placeholder.sc-ion-label-md-h:not(.item-input).label-floating::after,.item-fill-outline.item-has-placeholder:not(.item-input) .label-floating.sc-ion-label-md-h::after,.item-fill-outline.item-has-value.label-floating.sc-ion-label-md-h::after,.item-fill-outline.item-has-value .label-floating.sc-ion-label-md-h::after{right:calc(-1 * 4px)}.item-fill-outline.ion-focused.item-has-start-slot.label-floating.sc-ion-label-md-h,.item-fill-outline.ion-focused.item-has-start-slot .label-floating.sc-ion-label-md-h,.item-fill-outline.item-has-focus.item-has-start-slot.label-floating.sc-ion-label-md-h,.item-fill-outline.item-has-focus.item-has-start-slot .label-floating.sc-ion-label-md-h,.item-fill-outline.item-has-placeholder.sc-ion-label-md-h:not(.item-input).item-has-start-slot.label-floating,.item-fill-outline.item-has-placeholder:not(.item-input).item-has-start-slot .label-floating.sc-ion-label-md-h,.item-fill-outline.item-has-value.item-has-start-slot.label-floating.sc-ion-label-md-h,.item-fill-outline.item-has-value.item-has-start-slot .label-floating.sc-ion-label-md-h{-webkit-transform:translateX(-32px) translateY(-6px) scale(0.75);transform:translateX(-32px) translateY(-6px) scale(0.75)}.item-fill-outline.ion-focused.item-has-start-slot.label-floating.label-rtl.sc-ion-label-md-h,.item-fill-outline.ion-focused.item-has-start-slot .label-floating.label-rtl.sc-ion-label-md-h,.item-fill-outline.item-has-focus.item-has-start-slot.label-floating.label-rtl.sc-ion-label-md-h,.item-fill-outline.item-has-focus.item-has-start-slot .label-floating.label-rtl.sc-ion-label-md-h,.item-fill-outline.item-has-placeholder.sc-ion-label-md-h:not(.item-input).item-has-start-slot.label-floating.label-rtl,.item-fill-outline.item-has-placeholder:not(.item-input).item-has-start-slot .label-floating.label-rtl.sc-ion-label-md-h,.item-fill-outline.item-has-value.item-has-start-slot.label-floating.label-rtl.sc-ion-label-md-h,.item-fill-outline.item-has-value.item-has-start-slot .label-floating.label-rtl.sc-ion-label-md-h{-webkit-transform:translateX(calc(-1 * -32px)) translateY(-6px) scale(0.75);transform:translateX(calc(-1 * -32px)) translateY(-6px) scale(0.75)}.ion-focused.label-stacked.sc-ion-label-md-h:not(.ion-color),.ion-focused .label-stacked.sc-ion-label-md-h:not(.ion-color),.ion-focused.label-floating.sc-ion-label-md-h:not(.ion-color),.ion-focused .label-floating.sc-ion-label-md-h:not(.ion-color),.item-has-focus.label-stacked.sc-ion-label-md-h:not(.ion-color),.item-has-focus .label-stacked.sc-ion-label-md-h:not(.ion-color),.item-has-focus.label-floating.sc-ion-label-md-h:not(.ion-color),.item-has-focus .label-floating.sc-ion-label-md-h:not(.ion-color){color:var(--ion-color-primary, #3880ff)}.ion-focused.ion-color.label-stacked.sc-ion-label-md-h:not(.ion-color),.ion-focused.ion-color .label-stacked.sc-ion-label-md-h:not(.ion-color),.ion-focused.ion-color.label-floating.sc-ion-label-md-h:not(.ion-color),.ion-focused.ion-color .label-floating.sc-ion-label-md-h:not(.ion-color),.item-has-focus.ion-color.label-stacked.sc-ion-label-md-h:not(.ion-color),.item-has-focus.ion-color .label-stacked.sc-ion-label-md-h:not(.ion-color),.item-has-focus.ion-color.label-floating.sc-ion-label-md-h:not(.ion-color),.item-has-focus.ion-color .label-floating.sc-ion-label-md-h:not(.ion-color){color:var(--ion-color-contrast)}.item-fill-solid.ion-focused.ion-color.label-stacked.sc-ion-label-md-h:not(.ion-color),.item-fill-solid.ion-focused.ion-color .label-stacked.sc-ion-label-md-h:not(.ion-color),.item-fill-solid.ion-focused.ion-color.label-floating.sc-ion-label-md-h:not(.ion-color),.item-fill-solid.ion-focused.ion-color .label-floating.sc-ion-label-md-h:not(.ion-color),.item-fill-outline.ion-focused.ion-color.label-stacked.sc-ion-label-md-h:not(.ion-color),.item-fill-outline.ion-focused.ion-color .label-stacked.sc-ion-label-md-h:not(.ion-color),.item-fill-outline.ion-focused.ion-color.label-floating.sc-ion-label-md-h:not(.ion-color),.item-fill-outline.ion-focused.ion-color .label-floating.sc-ion-label-md-h:not(.ion-color),.item-fill-solid.item-has-focus.ion-color.label-stacked.sc-ion-label-md-h:not(.ion-color),.item-fill-solid.item-has-focus.ion-color .label-stacked.sc-ion-label-md-h:not(.ion-color),.item-fill-solid.item-has-focus.ion-color.label-floating.sc-ion-label-md-h:not(.ion-color),.item-fill-solid.item-has-focus.ion-color .label-floating.sc-ion-label-md-h:not(.ion-color),.item-fill-outline.item-has-focus.ion-color.label-stacked.sc-ion-label-md-h:not(.ion-color),.item-fill-outline.item-has-focus.ion-color .label-stacked.sc-ion-label-md-h:not(.ion-color),.item-fill-outline.item-has-focus.ion-color.label-floating.sc-ion-label-md-h:not(.ion-color),.item-fill-outline.item-has-focus.ion-color .label-floating.sc-ion-label-md-h:not(.ion-color){color:var(--ion-color-base)}.ion-invalid.ion-touched.label-stacked.sc-ion-label-md-h:not(.ion-color),.ion-invalid.ion-touched .label-stacked.sc-ion-label-md-h:not(.ion-color),.ion-invalid.ion-touched.label-floating.sc-ion-label-md-h:not(.ion-color),.ion-invalid.ion-touched .label-floating.sc-ion-label-md-h:not(.ion-color){color:var(--highlight-color-invalid)}.sc-ion-label-md-s h1{margin-left:0;margin-right:0;margin-top:0;margin-bottom:2px;font-size:1.5rem;font-weight:normal}.sc-ion-label-md-s h2{margin-left:0;margin-right:0;margin-top:2px;margin-bottom:2px;font-size:1rem;font-weight:normal}.sc-ion-label-md-s h3,.sc-ion-label-md-s h4,.sc-ion-label-md-s h5,.sc-ion-label-md-s h6{margin-left:0;margin-right:0;margin-top:2px;margin-bottom:2px;font-size:0.875rem;font-weight:normal;line-height:normal}.sc-ion-label-md-s p{margin-left:0;margin-right:0;margin-top:0;margin-bottom:2px;font-size:0.875rem;line-height:1.25rem;text-overflow:inherit;overflow:inherit}.sc-ion-label-md-s>p{color:var(--ion-color-step-600, #666666)}.sc-ion-label-md-h.in-item-color.sc-ion-label-md-s>p{color:inherit}',yW=gW,vW=Ei(class extends Ci{constructor(){super(),this.__registerHost(),this.ionColor=Hn(this,"ionColor",7),this.ionStyle=Hn(this,"ionStyle",7),this.inRange=!1,this.color=void 0,this.position=void 0,this.noAnimate=!1}componentWillLoad(){this.inRange=!!this.el.closest("ion-range"),this.noAnimate=this.position==="floating",this.emitStyle(),this.emitColor()}componentDidLoad(){this.noAnimate&&setTimeout(()=>{this.noAnimate=!1},1e3)}colorChanged(){this.emitColor()}positionChanged(){this.emitStyle()}emitColor(){const{color:t}=this;this.ionColor.emit({"item-label-color":t!==void 0,["ion-color-".concat(t)]:t!==void 0})}emitStyle(){const{inRange:t,position:n}=this;t||this.ionStyle.emit({label:!0,["label-".concat(n)]:n!==void 0})}render(){const t=this.position,n=Tn(this);return it(ki,{key:"c80cc1b4dcd56f614efc1e63ca80bca2f20a7151",class:za(this.color,{[n]:!0,"in-item-color":Ao("ion-item.ion-color",this.el),["label-".concat(t)]:t!==void 0,"label-no-animate":this.noAnimate,"label-rtl":document.dir==="rtl"})})}get el(){return this}static get watchers(){return{color:["colorChanged"],position:["positionChanged"]}}static get style(){return{ios:mW,md:yW}}},[34,"ion-label",{color:[513],position:[1],noAnimate:[32]},void 0,{color:["colorChanged"],position:["positionChanged"]}]);function bW(){if(typeof customElements>"u")return;["ion-label"].forEach(t=>{switch(t){case"ion-label":customElements.get(t)||customElements.define(t,vW);break}})}/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const _W=()=>{if(gi!==void 0)return gi.Capacitor};/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const xW=()=>{let e;return{lock:async()=>{const n=e;let i;return e=new Promise(s=>i=s),n!==void 0&&await n,i}}};/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const wW=":host{position:absolute;width:-webkit-fit-content;width:-moz-fit-content;width:fit-content;height:-webkit-fit-content;height:-moz-fit-content;height:fit-content;z-index:999}:host(.fab-horizontal-center){left:0px;right:0px;-webkit-margin-start:auto;margin-inline-start:auto;-webkit-margin-end:auto;margin-inline-end:auto}:host(.fab-horizontal-start){left:calc(10px + var(--ion-safe-area-left, 0px));}:host-context([dir=rtl]):host(.fab-horizontal-start),:host-context([dir=rtl]).fab-horizontal-start{right:calc(10px + var(--ion-safe-area-right, 0px));left:unset}@supports selector(:dir(rtl)){:host(.fab-horizontal-start:dir(rtl)){right:calc(10px + var(--ion-safe-area-right, 0px));left:unset}}:host(.fab-horizontal-end){right:calc(10px + var(--ion-safe-area-right, 0px));}:host-context([dir=rtl]):host(.fab-horizontal-end),:host-context([dir=rtl]).fab-horizontal-end{left:calc(10px + var(--ion-safe-area-left, 0px));right:unset}@supports selector(:dir(rtl)){:host(.fab-horizontal-end:dir(rtl)){left:calc(10px + var(--ion-safe-area-left, 0px));right:unset}}:host(.fab-vertical-top){top:10px}:host(.fab-vertical-top.fab-edge){top:0}:host(.fab-vertical-top.fab-edge) ::slotted(ion-fab-button){margin-top:-50%}:host(.fab-vertical-top.fab-edge) ::slotted(ion-fab-button.fab-button-small){margin-top:calc((-100% + 16px) / 2)}:host(.fab-vertical-top.fab-edge) ::slotted(ion-fab-list.fab-list-side-start),:host(.fab-vertical-top.fab-edge) ::slotted(ion-fab-list.fab-list-side-end){margin-top:-50%}:host(.fab-vertical-top.fab-edge) ::slotted(ion-fab-list.fab-list-side-top),:host(.fab-vertical-top.fab-edge) ::slotted(ion-fab-list.fab-list-side-bottom){margin-top:calc(50% + 10px)}:host(.fab-vertical-bottom){bottom:10px}:host(.fab-vertical-bottom.fab-edge){bottom:0}:host(.fab-vertical-bottom.fab-edge) ::slotted(ion-fab-button){margin-bottom:-50%}:host(.fab-vertical-bottom.fab-edge) ::slotted(ion-fab-button.fab-button-small){margin-bottom:calc((-100% + 16px) / 2)}:host(.fab-vertical-bottom.fab-edge) ::slotted(ion-fab-list.fab-list-side-start),:host(.fab-vertical-bottom.fab-edge) ::slotted(ion-fab-list.fab-list-side-end){margin-bottom:-50%}:host(.fab-vertical-bottom.fab-edge) ::slotted(ion-fab-list.fab-list-side-top),:host(.fab-vertical-bottom.fab-edge) ::slotted(ion-fab-list.fab-list-side-bottom){margin-bottom:calc(50% + 10px)}:host(.fab-vertical-center){top:0px;bottom:0px;margin-top:auto;margin-bottom:auto}",SW=wW,kW=Ei(class extends Ci{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.horizontal=void 0,this.vertical=void 0,this.edge=!1,this.activated=!1}activatedChanged(){const t=this.activated,n=this.getFab();n&&(n.activated=t),Array.from(this.el.querySelectorAll("ion-fab-list")).forEach(i=>{i.activated=t})}componentDidLoad(){this.activated&&this.activatedChanged()}async close(){this.activated=!1}getFab(){return this.el.querySelector("ion-fab-button")}async toggle(){!!this.el.querySelector("ion-fab-list")&&(this.activated=!this.activated)}render(){const{horizontal:t,vertical:n,edge:i}=this,s=Tn(this);return it(ki,{key:"2960656845d8ab1d643e56870cfeefbceb44fb20",class:{[s]:!0,["fab-horizontal-".concat(t)]:t!==void 0,["fab-vertical-".concat(n)]:n!==void 0,"fab-edge":i}},it("slot",{key:"eed164a50594167959905a90d678d417bc99098d"}))}get el(){return this}static get watchers(){return{activated:["activatedChanged"]}}static get style(){return SW}},[1,"ion-fab",{horizontal:[1],vertical:[1],edge:[4],activated:[1028],close:[64],toggle:[64]},void 0,{activated:["activatedChanged"]}]);function EW(){if(typeof customElements>"u")return;["ion-fab"].forEach(t=>{switch(t){case"ion-fab":customElements.get(t)||customElements.define(t,kW);break}})}const CW=EW;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const TW="ION-CONTENT",BL="ion-content",FL=".ion-content-scroll-host",NL="".concat(BL,", ").concat(FL),Gk=e=>e.tagName===TW,h2=async e=>Gk(e)?(await new Promise(t=>sd(e,t)),e.getScrollElement()):e,f2=e=>{const t=e.querySelector(FL);return t||e.querySelector(NL)},gie=e=>e.closest(NL),yie=(e,t)=>Gk(e)?e.scrollToTop(t):Promise.resolve(e.scrollTo({top:0,left:0,behavior:t>0?"smooth":"auto"})),vie=(e,t,n,i)=>Gk(e)?e.scrollByPoint(t,n,i):Promise.resolve(e.scrollBy({top:n,left:t,behavior:i>0?"smooth":"auto"})),p2=e=>ZH(e,BL);/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */var m2;(function(e){e.Unimplemented="UNIMPLEMENTED",e.Unavailable="UNAVAILABLE"})(m2||(m2={}));var g2;(function(e){e.Body="body",e.Ionic="ionic",e.Native="native",e.None="none"})(g2||(g2={}));const IW={getEngine(){const e=_W();if(e!=null&&e.isPluginAvailable("Keyboard"))return e.Plugins.Keyboard},getResizeMode(){const e=this.getEngine();return e!=null&&e.getResizeMode?e.getResizeMode().catch(t=>{if(t.code!==m2.Unimplemented)throw t}):Promise.resolve(void 0)}};/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const jL=e=>{if(Dh===void 0||e===g2.None||e===void 0)return null;const t=Dh.querySelector("ion-app");return t!=null?t:Dh.body},JP=e=>{const t=jL(e);return t===null?0:t.clientHeight},VL=async e=>{let t,n,i,s;const l=async()=>{const k=await IW.getResizeMode(),S=k===void 0?void 0:k.mode;t=()=>{s===void 0&&(s=JP(S)),i=!0,d(i,S)},n=()=>{i=!1,d(i,S)},gi==null||gi.addEventListener("keyboardWillShow",t),gi==null||gi.addEventListener("keyboardWillHide",n)},d=(k,S)=>{e&&e(k,c(S))},c=k=>{if(s===0||s===JP(k))return;const S=jL(k);if(S!==null)return new Promise(E=>{const A=()=>{S.clientHeight===s&&(z.disconnect(),E())},z=new ResizeObserver(A);z.observe(S)})},y=()=>{gi==null||gi.removeEventListener("keyboardWillShow",t),gi==null||gi.removeEventListener("keyboardWillHide",n),t=n=void 0},b=()=>i;return await l(),{init:l,destroy:y,isKeyboardVisible:b}};/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const QP=(e,t)=>{pf(()=>{const n=e.scrollTop,i=e.scrollHeight-e.clientHeight,s=10,l=i-s,d=n-l,c=K0(0,1-d/s,1);El(()=>{t.style.setProperty("--opacity-scale",c.toString())})})},PW="ion-footer{display:block;position:relative;-ms-flex-order:1;order:1;width:100%;z-index:10}ion-footer.footer-toolbar-padding ion-toolbar:last-of-type{padding-bottom:var(--ion-safe-area-bottom, 0)}.footer-ios ion-toolbar:first-of-type{--border-width:0.55px 0 0}@supports ((-webkit-backdrop-filter: blur(0)) or (backdrop-filter: blur(0))){.footer-background{left:0;right:0;top:0;bottom:0;position:absolute;-webkit-backdrop-filter:saturate(180%) blur(20px);backdrop-filter:saturate(180%) blur(20px)}.footer-translucent-ios ion-toolbar{--opacity:.8}}.footer-ios.ion-no-border ion-toolbar:first-of-type{--border-width:0}.footer-collapse-fade ion-toolbar{--opacity-scale:inherit}",AW=PW,RW="ion-footer{display:block;position:relative;-ms-flex-order:1;order:1;width:100%;z-index:10}ion-footer.footer-toolbar-padding ion-toolbar:last-of-type{padding-bottom:var(--ion-safe-area-bottom, 0)}.footer-md{-webkit-box-shadow:0 2px 4px -1px rgba(0, 0, 0, 0.2), 0 4px 5px 0 rgba(0, 0, 0, 0.14), 0 1px 10px 0 rgba(0, 0, 0, 0.12);box-shadow:0 2px 4px -1px rgba(0, 0, 0, 0.2), 0 4px 5px 0 rgba(0, 0, 0, 0.14), 0 1px 10px 0 rgba(0, 0, 0, 0.12)}.footer-md.ion-no-border{-webkit-box-shadow:none;box-shadow:none}",MW=RW,zW=Ei(class extends Ci{constructor(){super(),this.__registerHost(),this.keyboardCtrl=null,this.checkCollapsibleFooter=()=>{if(Tn(this)!=="ios")return;const{collapse:n}=this,i=n==="fade";if(this.destroyCollapsibleFooter(),i){const s=this.el.closest("ion-app,ion-page,.ion-page,page-inner"),l=s?f2(s):null;if(!l){p2(this.el);return}this.setupFadeFooter(l)}},this.setupFadeFooter=async t=>{const n=this.scrollEl=await h2(t);this.contentScrollCallback=()=>{QP(n,this.el)},n.addEventListener("scroll",this.contentScrollCallback),QP(n,this.el)},this.keyboardVisible=!1,this.collapse=void 0,this.translucent=!1}componentDidLoad(){this.checkCollapsibleFooter()}componentDidUpdate(){this.checkCollapsibleFooter()}async connectedCallback(){this.keyboardCtrl=await VL(async(t,n)=>{t===!1&&n!==void 0&&await n,this.keyboardVisible=t})}disconnectedCallback(){this.keyboardCtrl&&this.keyboardCtrl.destroy()}destroyCollapsibleFooter(){this.scrollEl&&this.contentScrollCallback&&(this.scrollEl.removeEventListener("scroll",this.contentScrollCallback),this.contentScrollCallback=void 0)}render(){const{translucent:t,collapse:n}=this,i=Tn(this),s=this.el.closest("ion-tabs"),l=s==null?void 0:s.querySelector(":scope > ion-tab-bar");return it(ki,{key:"6f2827ba2e64d1a889c0631bc2a6d5df97b338ce",role:"contentinfo",class:{[i]:!0,["footer-".concat(i)]:!0,"footer-translucent":t,["footer-translucent-".concat(i)]:t,"footer-toolbar-padding":!this.keyboardVisible&&(!l||l.slot!=="bottom"),["footer-collapse-".concat(n)]:n!==void 0}},i==="ios"&&t&&it("div",{class:"footer-background"}),it("slot",{key:"b07574feb587a1089b001e7d158fd8d05e32304b"}))}get el(){return this}static get style(){return{ios:AW,md:MW}}},[36,"ion-footer",{collapse:[1],translucent:[4],keyboardVisible:[32]}]);function LW(){if(typeof customElements>"u")return;["ion-footer"].forEach(t=>{switch(t){case"ion-footer":customElements.get(t)||customElements.define(t,zW);break}})}const OW=LW;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const DW="all 0.2s ease-in-out",eA=e=>{const t=document.querySelector("".concat(e,".ion-cloned-element"));if(t!==null)return t;const n=document.createElement(e);return n.classList.add("ion-cloned-element"),n.style.setProperty("display","none"),document.body.appendChild(n),n},tA=e=>{if(!e)return;const t=e.querySelectorAll("ion-toolbar");return{el:e,toolbars:Array.from(t).map(n=>{const i=n.querySelector("ion-title");return{el:n,background:n.shadowRoot.querySelector(".toolbar-background"),ionTitleEl:i,innerTitleEl:i?i.shadowRoot.querySelector(".toolbar-title"):null,ionButtonsEl:Array.from(n.querySelectorAll("ion-buttons"))}})}},$W=(e,t,n)=>{pf(()=>{const i=e.scrollTop,s=K0(1,1+-i/500,1.1);n.querySelector("ion-refresher.refresher-native")===null&&El(()=>{NW(t.toolbars,s)})})},Kk=(e,t)=>{e.collapse!=="fade"&&(t===void 0?e.style.removeProperty("--opacity-scale"):e.style.setProperty("--opacity-scale",t.toString()))},BW=(e,t,n)=>{if(!e[0].isIntersecting)return;const i=e[0].intersectionRatio>.9||n<=0?0:(1-e[0].intersectionRatio)*100/75;Kk(t.el,i===1?void 0:i)},FW=(e,t,n,i)=>{El(()=>{const s=i.scrollTop;BW(e,t,s);const l=e[0],d=l.intersectionRect,c=d.width*d.height,y=l.rootBounds.width*l.rootBounds.height,b=c===0&&y===0,k=Math.abs(d.left-l.boundingClientRect.left),S=Math.abs(d.right-l.boundingClientRect.right),E=c>0&&(k>=5||S>=5);b||E||(l.isIntersecting?(im(t,!1),im(n)):(d.x===0&&d.y===0||d.width!==0&&d.height!==0)&&s>0&&(im(t),im(n,!1),Kk(t.el)))})},im=(e,t=!0)=>{const n=e.el;t?(n.classList.remove("header-collapse-condense-inactive"),n.removeAttribute("aria-hidden")):(n.classList.add("header-collapse-condense-inactive"),n.setAttribute("aria-hidden","true"))},NW=(e=[],t=1,n=!1)=>{e.forEach(i=>{const s=i.ionTitleEl,l=i.innerTitleEl;!s||s.size!=="large"||(l.style.transition=n?DW:"",l.style.transform="scale3d(".concat(t,", ").concat(t,", 1)"))})},nA=(e,t,n)=>{pf(()=>{const i=e.scrollTop,s=t.clientHeight,l=n?n.clientHeight:0;if(n!==null&&i<l){t.style.setProperty("--opacity-scale","0"),e.style.setProperty("clip-path","inset(".concat(s,"px 0px 0px 0px)"));return}const d=i-l,y=K0(0,d/10,1);El(()=>{e.style.removeProperty("clip-path"),t.style.setProperty("--opacity-scale",y.toString())})})},jW="ion-header{display:block;position:relative;-ms-flex-order:-1;order:-1;width:100%;z-index:10}ion-header ion-toolbar:first-of-type{padding-top:var(--ion-safe-area-top, 0)}.header-ios ion-toolbar:last-of-type{--border-width:0 0 0.55px}@supports ((-webkit-backdrop-filter: blur(0)) or (backdrop-filter: blur(0))){.header-background{left:0;right:0;top:0;bottom:0;position:absolute;-webkit-backdrop-filter:saturate(180%) blur(20px);backdrop-filter:saturate(180%) blur(20px)}.header-translucent-ios ion-toolbar{--opacity:.8}.header-collapse-condense-inactive .header-background{-webkit-backdrop-filter:blur(20px);backdrop-filter:blur(20px)}}.header-ios.ion-no-border ion-toolbar:last-of-type{--border-width:0}.header-collapse-fade ion-toolbar{--opacity-scale:inherit}.header-collapse-condense{z-index:9}.header-collapse-condense ion-toolbar{position:-webkit-sticky;position:sticky;top:0}.header-collapse-condense ion-toolbar:first-of-type{padding-top:0px;z-index:1}.header-collapse-condense ion-toolbar{--background:var(--ion-background-color, #fff);z-index:0}.header-collapse-condense ion-toolbar:last-of-type{--border-width:0px}.header-collapse-condense ion-toolbar ion-searchbar{padding-top:0px;padding-bottom:13px}.header-collapse-main{--opacity-scale:1}.header-collapse-main ion-toolbar{--opacity-scale:inherit}.header-collapse-main ion-toolbar.in-toolbar ion-title,.header-collapse-main ion-toolbar.in-toolbar ion-buttons{-webkit-transition:all 0.2s ease-in-out;transition:all 0.2s ease-in-out}.header-collapse-condense-inactive:not(.header-collapse-condense) ion-toolbar.in-toolbar ion-title,.header-collapse-condense-inactive:not(.header-collapse-condense) ion-toolbar.in-toolbar ion-buttons.buttons-collapse{opacity:0;pointer-events:none}.header-collapse-condense-inactive.header-collapse-condense ion-toolbar.in-toolbar ion-title,.header-collapse-condense-inactive.header-collapse-condense ion-toolbar.in-toolbar ion-buttons.buttons-collapse{visibility:hidden}ion-header.header-ios:not(.header-collapse-main):has(~ion-content ion-header.header-ios[collapse=condense],~ion-content ion-header.header-ios.header-collapse-condense){opacity:0}",VW=jW,UW="ion-header{display:block;position:relative;-ms-flex-order:-1;order:-1;width:100%;z-index:10}ion-header ion-toolbar:first-of-type{padding-top:var(--ion-safe-area-top, 0)}.header-md{-webkit-box-shadow:0 2px 4px -1px rgba(0, 0, 0, 0.2), 0 4px 5px 0 rgba(0, 0, 0, 0.14), 0 1px 10px 0 rgba(0, 0, 0, 0.12);box-shadow:0 2px 4px -1px rgba(0, 0, 0, 0.2), 0 4px 5px 0 rgba(0, 0, 0, 0.14), 0 1px 10px 0 rgba(0, 0, 0, 0.12)}.header-collapse-condense{display:none}.header-md.ion-no-border{-webkit-box-shadow:none;box-shadow:none}",HW=UW,qW=Ei(class extends Ci{constructor(){super(),this.__registerHost(),this.inheritedAttributes={},this.setupFadeHeader=async(t,n)=>{const i=this.scrollEl=await h2(t);this.contentScrollCallback=()=>{nA(this.scrollEl,this.el,n)},i.addEventListener("scroll",this.contentScrollCallback),nA(this.scrollEl,this.el,n)},this.collapse=void 0,this.translucent=!1}componentWillLoad(){this.inheritedAttributes=Fg(this.el)}componentDidLoad(){this.checkCollapsibleHeader()}componentDidUpdate(){this.checkCollapsibleHeader()}disconnectedCallback(){this.destroyCollapsibleHeader()}async checkCollapsibleHeader(){if(Tn(this)!=="ios")return;const{collapse:n}=this,i=n==="condense",s=n==="fade";if(this.destroyCollapsibleHeader(),i){const l=this.el.closest("ion-app,ion-page,.ion-page,page-inner"),d=l?f2(l):null;El(()=>{const c=eA("ion-title");c.size="large",eA("ion-back-button")}),await this.setupCondenseHeader(d,l)}else if(s){const l=this.el.closest("ion-app,ion-page,.ion-page,page-inner"),d=l?f2(l):null;if(!d){p2(this.el);return}const c=d.querySelector('ion-header[collapse="condense"]');await this.setupFadeHeader(d,c)}}destroyCollapsibleHeader(){this.intersectionObserver&&(this.intersectionObserver.disconnect(),this.intersectionObserver=void 0),this.scrollEl&&this.contentScrollCallback&&(this.scrollEl.removeEventListener("scroll",this.contentScrollCallback),this.contentScrollCallback=void 0),this.collapsibleMainHeader&&(this.collapsibleMainHeader.classList.remove("header-collapse-main"),this.collapsibleMainHeader=void 0)}async setupCondenseHeader(t,n){if(!t||!n){p2(this.el);return}if(typeof IntersectionObserver>"u")return;this.scrollEl=await h2(t);const i=n.querySelectorAll("ion-header");if(this.collapsibleMainHeader=Array.from(i).find(c=>c.collapse!=="condense"),!this.collapsibleMainHeader)return;const s=tA(this.collapsibleMainHeader),l=tA(this.el);if(!s||!l)return;im(s,!1),Kk(s.el,0);const d=c=>{FW(c,s,l,this.scrollEl)};this.intersectionObserver=new IntersectionObserver(d,{root:t,threshold:[.25,.3,.4,.5,.6,.7,.8,.9,1]}),this.intersectionObserver.observe(l.toolbars[l.toolbars.length-1].el),this.contentScrollCallback=()=>{$W(this.scrollEl,l,t)},this.scrollEl.addEventListener("scroll",this.contentScrollCallback),El(()=>{this.collapsibleMainHeader!==void 0&&this.collapsibleMainHeader.classList.add("header-collapse-main")})}render(){const{translucent:t,inheritedAttributes:n}=this,i=Tn(this),s=this.collapse||"none",l=Ao("ion-menu",this.el)?"none":"banner";return it(ki,Object.assign({key:"be4386a218c20dc4c18320dbbcfb25574d13d27e",role:l,class:{[i]:!0,["header-".concat(i)]:!0,"header-translucent":this.translucent,["header-collapse-".concat(s)]:!0,["header-translucent-".concat(i)]:this.translucent}},n),i==="ios"&&t&&it("div",{class:"header-background"}),it("slot",{key:"74c401fb331aeb40c733605fd580949ad53989b8"}))}get el(){return this}static get style(){return{ios:VW,md:HW}}},[36,"ion-header",{collapse:[1],translucent:[4]}]);function WW(){if(typeof customElements>"u")return;["ion-header"].forEach(t=>{switch(t){case"ion-header":customElements.get(t)||customElements.define(t,qW);break}})}const ZW=WW;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const GW=(e,t,n)=>{let i;const s=()=>!(t()===void 0||e.label!==void 0||n()===null),l=()=>{s()&&_s(()=>{d()})},d=()=>{const y=t();if(y===void 0)return;if(!s()){y.style.removeProperty("width");return}const b=n().scrollWidth;if(b===0&&y.offsetParent===null&&gi!==void 0&&"IntersectionObserver"in gi){if(i!==void 0)return;const k=i=new IntersectionObserver(S=>{S[0].intersectionRatio===1&&(d(),k.disconnect(),i=void 0)},{threshold:.01,root:e});k.observe(y);return}y.style.setProperty("width","".concat(b*.75,"px"))};return{calculateNotchWidth:l,destroy:()=>{i&&(i.disconnect(),i=void 0)}}};/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const KW=(e,t,n)=>{let i,s;if(gi!==void 0&&"MutationObserver"in gi){const y=Array.isArray(t)?t:[t];i=new MutationObserver(b=>{for(const k of b)for(const S of k.addedNodes)if(S.nodeType===Node.ELEMENT_NODE&&y.includes(S.slot)){n(),_s(()=>l(S));return}}),i.observe(e,{childList:!0})}const l=y=>{var b;s&&(s.disconnect(),s=void 0),s=new MutationObserver(k=>{n();for(const S of k)for(const E of S.removedNodes)E.nodeType===Node.ELEMENT_NODE&&E.slot===t&&c()}),s.observe((b=y.parentElement)!==null&&b!==void 0?b:y,{subtree:!0,childList:!0})},d=()=>{i&&(i.disconnect(),i=void 0),c()},c=()=>{s&&(s.disconnect(),s=void 0)};return{destroy:d}},XW=(e,t,n)=>{const i=e==null?0:e.toString().length,s=YW(i,t);if(n===void 0)return s;try{return n(i,t)}catch(l){return RL("Exception in provided `counterFormatter`.",l),s}},YW=(e,t)=>"".concat(e," / ").concat(t);/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const JW=".sc-ion-input-ios-h{--placeholder-color:initial;--placeholder-font-style:initial;--placeholder-font-weight:initial;--placeholder-opacity:0.6;--padding-top:0px;--padding-end:0px;--padding-bottom:0px;--padding-start:0px;--background:transparent;--color:initial;--border-style:solid;--highlight-color-focused:var(--ion-color-primary, #3880ff);--highlight-color-valid:var(--ion-color-success, #2dd36f);--highlight-color-invalid:var(--ion-color-danger, #eb445a);--highlight-color:var(--highlight-color-focused);display:block;position:relative;width:100%;padding:0 !important;color:var(--color);font-family:var(--ion-font-family, inherit);z-index:2}.legacy-input.sc-ion-input-ios-h{display:-ms-flexbox;display:flex;-ms-flex:1;flex:1;-ms-flex-align:center;align-items:center;background:var(--background)}.legacy-input.sc-ion-input-ios-h .native-input.sc-ion-input-ios{-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);border-radius:var(--border-radius)}ion-item.sc-ion-input-ios-h:not(.item-label):not(.item-has-modern-input),ion-item:not(.item-label):not(.item-has-modern-input) .sc-ion-input-ios-h{--padding-start:0}ion-item[slot=start].sc-ion-input-ios-h,ion-item [slot=start].sc-ion-input-ios-h,ion-item[slot=end].sc-ion-input-ios-h,ion-item [slot=end].sc-ion-input-ios-h{width:auto}.legacy-input.ion-color.sc-ion-input-ios-h{color:var(--ion-color-base)}.ion-color.sc-ion-input-ios-h{--highlight-color-focused:var(--ion-color-base)}.sc-ion-input-ios-h:not(.legacy-input){min-height:44px}.input-label-placement-floating.sc-ion-input-ios-h,.input-label-placement-stacked.sc-ion-input-ios-h{min-height:56px}.native-input.sc-ion-input-ios{padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;display:inline-block;position:relative;-ms-flex:1;flex:1;width:100%;max-width:100%;max-height:100%;border:0;outline:none;background:transparent;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-appearance:none;-moz-appearance:none;appearance:none;z-index:1}.native-input.sc-ion-input-ios::-webkit-input-placeholder{color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.native-input.sc-ion-input-ios::-moz-placeholder{color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.native-input.sc-ion-input-ios:-ms-input-placeholder{color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.native-input.sc-ion-input-ios::-ms-input-placeholder{color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.native-input.sc-ion-input-ios::placeholder{color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.native-input.sc-ion-input-ios:-webkit-autofill{background-color:transparent}.native-input.sc-ion-input-ios:invalid{-webkit-box-shadow:none;box-shadow:none}.native-input.sc-ion-input-ios::-ms-clear{display:none}.cloned-input.sc-ion-input-ios{top:0;bottom:0;position:absolute;pointer-events:none}@supports (inset-inline-start: 0){.cloned-input.sc-ion-input-ios{inset-inline-start:0}}@supports not (inset-inline-start: 0){.cloned-input.sc-ion-input-ios{left:0}[dir=rtl].sc-ion-input-ios-h .cloned-input.sc-ion-input-ios,[dir=rtl] .sc-ion-input-ios-h .cloned-input.sc-ion-input-ios{left:unset;right:unset;right:0}[dir=rtl].sc-ion-input-ios .cloned-input.sc-ion-input-ios{left:unset;right:unset;right:0}@supports selector(:dir(rtl)){.cloned-input.sc-ion-input-ios:dir(rtl){left:unset;right:unset;right:0}}}.cloned-input.sc-ion-input-ios:disabled{opacity:1}.legacy-input.sc-ion-input-ios-h .input-clear-icon.sc-ion-input-ios{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0}.input-clear-icon.sc-ion-input-ios{-webkit-margin-start:auto;margin-inline-start:auto;-webkit-margin-end:auto;margin-inline-end:auto;margin-top:auto;margin-bottom:auto;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;background-position:center;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:30px;height:30px;border:0;outline:none;background-color:transparent;background-repeat:no-repeat;color:var(--ion-color-step-600, #666666);visibility:hidden;-webkit-appearance:none;-moz-appearance:none;appearance:none}.in-item-color.sc-ion-input-ios-h .input-clear-icon.sc-ion-input-ios{color:inherit}.input-clear-icon.sc-ion-input-ios:focus{opacity:0.5}.has-value.sc-ion-input-ios-h .input-clear-icon.sc-ion-input-ios{visibility:visible}.has-focus.legacy-input.sc-ion-input-ios-h{pointer-events:none}.has-focus.legacy-input.sc-ion-input-ios-h input.sc-ion-input-ios,.has-focus.legacy-input.sc-ion-input-ios-h a.sc-ion-input-ios,.has-focus.legacy-input.sc-ion-input-ios-h button.sc-ion-input-ios{pointer-events:auto}.item-label-floating.item-has-placeholder.sc-ion-input-ios-h:not(.item-has-value),.item-label-floating.item-has-placeholder:not(.item-has-value) .sc-ion-input-ios-h{opacity:0}.item-label-floating.item-has-placeholder.sc-ion-input-ios-h:not(.item-has-value).item-has-focus,.item-label-floating.item-has-placeholder:not(.item-has-value).item-has-focus .sc-ion-input-ios-h{-webkit-transition:opacity 0.15s cubic-bezier(0.4, 0, 0.2, 1);transition:opacity 0.15s cubic-bezier(0.4, 0, 0.2, 1);opacity:1}.input-wrapper.sc-ion-input-ios{-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);border-radius:var(--border-radius);display:-ms-flexbox;display:flex;position:relative;-ms-flex-positive:1;flex-grow:1;-ms-flex-align:stretch;align-items:stretch;height:inherit;min-height:inherit;-webkit-transition:background-color 15ms linear;transition:background-color 15ms linear;background:var(--background);line-height:normal}.native-wrapper.sc-ion-input-ios{display:-ms-flexbox;display:flex;position:relative;-ms-flex-positive:1;flex-grow:1;-ms-flex-align:center;align-items:center;width:100%}.ion-touched.ion-invalid.sc-ion-input-ios-h{--highlight-color:var(--highlight-color-invalid)}.ion-valid.sc-ion-input-ios-h{--highlight-color:var(--highlight-color-valid)}.input-bottom.sc-ion-input-ios{-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:5px;padding-bottom:0;display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between;border-top:var(--border-width) var(--border-style) var(--border-color);font-size:0.75rem}.has-focus.ion-valid.sc-ion-input-ios-h,.ion-touched.ion-invalid.sc-ion-input-ios-h{--border-color:var(--highlight-color)}.input-bottom.sc-ion-input-ios .error-text.sc-ion-input-ios{display:none;color:var(--highlight-color-invalid)}.input-bottom.sc-ion-input-ios .helper-text.sc-ion-input-ios{display:block;color:var(--ion-color-step-550, #737373)}.ion-touched.ion-invalid.sc-ion-input-ios-h .input-bottom.sc-ion-input-ios .error-text.sc-ion-input-ios{display:block}.ion-touched.ion-invalid.sc-ion-input-ios-h .input-bottom.sc-ion-input-ios .helper-text.sc-ion-input-ios{display:none}.input-bottom.sc-ion-input-ios .counter.sc-ion-input-ios{-webkit-margin-start:auto;margin-inline-start:auto;color:var(--ion-color-step-550, #737373);white-space:nowrap;-webkit-padding-start:16px;padding-inline-start:16px}.has-focus.sc-ion-input-ios-h input.sc-ion-input-ios{caret-color:var(--highlight-color)}.label-text-wrapper.sc-ion-input-ios{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;max-width:200px;-webkit-transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), transform 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), transform 150ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 150ms cubic-bezier(0.4, 0, 0.2, 1);pointer-events:none}.label-text.sc-ion-input-ios,.sc-ion-input-ios-s>[slot=label]{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.label-text-wrapper-hidden.sc-ion-input-ios,.input-outline-notch-hidden.sc-ion-input-ios{display:none}.input-wrapper.sc-ion-input-ios input.sc-ion-input-ios{-webkit-transition:opacity 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:opacity 150ms cubic-bezier(0.4, 0, 0.2, 1)}.input-label-placement-start.sc-ion-input-ios-h .input-wrapper.sc-ion-input-ios{-ms-flex-direction:row;flex-direction:row}.input-label-placement-start.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios{-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:16px;margin-inline-end:16px;margin-top:0;margin-bottom:0}.input-label-placement-end.sc-ion-input-ios-h .input-wrapper.sc-ion-input-ios{-ms-flex-direction:row-reverse;flex-direction:row-reverse}.input-label-placement-end.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios{-webkit-margin-start:16px;margin-inline-start:16px;-webkit-margin-end:0;margin-inline-end:0;margin-top:0;margin-bottom:0}.input-label-placement-fixed.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios{-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:16px;margin-inline-end:16px;margin-top:0;margin-bottom:0}.input-label-placement-fixed.sc-ion-input-ios-h .label-text.sc-ion-input-ios{-ms-flex:0 0 100px;flex:0 0 100px;width:100px;min-width:100px;max-width:200px}.input-label-placement-stacked.sc-ion-input-ios-h .input-wrapper.sc-ion-input-ios,.input-label-placement-floating.sc-ion-input-ios-h .input-wrapper.sc-ion-input-ios{-ms-flex-direction:column;flex-direction:column;-ms-flex-align:start;align-items:start}.input-label-placement-stacked.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios,.input-label-placement-floating.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios{-webkit-transform-origin:left top;transform-origin:left top;max-width:100%;z-index:2}[dir=rtl].sc-ion-input-ios-h -no-combinator.input-label-placement-stacked.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios,[dir=rtl] .sc-ion-input-ios-h -no-combinator.input-label-placement-stacked.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios,[dir=rtl].input-label-placement-stacked.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios,[dir=rtl] .input-label-placement-stacked.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios,[dir=rtl].sc-ion-input-ios-h -no-combinator.input-label-placement-floating.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios,[dir=rtl] .sc-ion-input-ios-h -no-combinator.input-label-placement-floating.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios,[dir=rtl].input-label-placement-floating.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios,[dir=rtl] .input-label-placement-floating.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios{-webkit-transform-origin:right top;transform-origin:right top}@supports selector(:dir(rtl)){.input-label-placement-stacked.sc-ion-input-ios-h:dir(rtl) .label-text-wrapper.sc-ion-input-ios,.input-label-placement-floating.sc-ion-input-ios-h:dir(rtl) .label-text-wrapper.sc-ion-input-ios{-webkit-transform-origin:right top;transform-origin:right top}}.input-label-placement-stacked.sc-ion-input-ios-h input.sc-ion-input-ios,.input-label-placement-floating.sc-ion-input-ios-h input.sc-ion-input-ios{margin-left:0;margin-right:0;margin-top:1px;margin-bottom:0}.input-label-placement-floating.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios{-webkit-transform:translateY(100%) scale(1);transform:translateY(100%) scale(1)}.input-label-placement-floating.sc-ion-input-ios-h input.sc-ion-input-ios{opacity:0}.has-focus.input-label-placement-floating.sc-ion-input-ios-h input.sc-ion-input-ios,.has-value.input-label-placement-floating.sc-ion-input-ios-h input.sc-ion-input-ios{opacity:1}.label-floating.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios{-webkit-transform:translateY(50%) scale(0.75);transform:translateY(50%) scale(0.75);max-width:calc(100% / 0.75)}.sc-ion-input-ios-s>[slot=start]{-webkit-margin-end:16px;margin-inline-end:16px;-webkit-margin-start:0;margin-inline-start:0}.sc-ion-input-ios-s>[slot=end]{-webkit-margin-start:16px;margin-inline-start:16px;-webkit-margin-end:0;margin-inline-end:0}.sc-ion-input-ios-h{--border-width:0.55px;--border-color:var(--ion-item-border-color, var(--ion-border-color, var(--ion-color-step-250, #c8c7cc)));font-size:inherit}.legacy-input.sc-ion-input-ios-h{--padding-top:10px;--padding-end:8px;--padding-bottom:10px;--padding-start:0}.item-label-stacked.sc-ion-input-ios-h,.item-label-stacked .sc-ion-input-ios-h,.item-label-floating.sc-ion-input-ios-h,.item-label-floating .sc-ion-input-ios-h{--padding-top:8px;--padding-bottom:8px;--padding-start:0px}.input-clear-icon.sc-ion-input-ios ion-icon.sc-ion-input-ios{width:18px;height:18px}.legacy-input.sc-ion-input-ios-h .native-input[disabled].sc-ion-input-ios,.input-disabled.sc-ion-input-ios-h{opacity:0.3}.sc-ion-input-ios-s>ion-button[slot=start].button-has-icon-only,.sc-ion-input-ios-s>ion-button[slot=end].button-has-icon-only{--border-radius:50%;--padding-start:0;--padding-end:0;--padding-top:0;--padding-bottom:0;aspect-ratio:1}",QW=JW,eZ=".sc-ion-input-md-h{--placeholder-color:initial;--placeholder-font-style:initial;--placeholder-font-weight:initial;--placeholder-opacity:0.6;--padding-top:0px;--padding-end:0px;--padding-bottom:0px;--padding-start:0px;--background:transparent;--color:initial;--border-style:solid;--highlight-color-focused:var(--ion-color-primary, #3880ff);--highlight-color-valid:var(--ion-color-success, #2dd36f);--highlight-color-invalid:var(--ion-color-danger, #eb445a);--highlight-color:var(--highlight-color-focused);display:block;position:relative;width:100%;padding:0 !important;color:var(--color);font-family:var(--ion-font-family, inherit);z-index:2}.legacy-input.sc-ion-input-md-h{display:-ms-flexbox;display:flex;-ms-flex:1;flex:1;-ms-flex-align:center;align-items:center;background:var(--background)}.legacy-input.sc-ion-input-md-h .native-input.sc-ion-input-md{-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);border-radius:var(--border-radius)}ion-item.sc-ion-input-md-h:not(.item-label):not(.item-has-modern-input),ion-item:not(.item-label):not(.item-has-modern-input) .sc-ion-input-md-h{--padding-start:0}ion-item[slot=start].sc-ion-input-md-h,ion-item [slot=start].sc-ion-input-md-h,ion-item[slot=end].sc-ion-input-md-h,ion-item [slot=end].sc-ion-input-md-h{width:auto}.legacy-input.ion-color.sc-ion-input-md-h{color:var(--ion-color-base)}.ion-color.sc-ion-input-md-h{--highlight-color-focused:var(--ion-color-base)}.sc-ion-input-md-h:not(.legacy-input){min-height:44px}.input-label-placement-floating.sc-ion-input-md-h,.input-label-placement-stacked.sc-ion-input-md-h{min-height:56px}.native-input.sc-ion-input-md{padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;display:inline-block;position:relative;-ms-flex:1;flex:1;width:100%;max-width:100%;max-height:100%;border:0;outline:none;background:transparent;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-appearance:none;-moz-appearance:none;appearance:none;z-index:1}.native-input.sc-ion-input-md::-webkit-input-placeholder{color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.native-input.sc-ion-input-md::-moz-placeholder{color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.native-input.sc-ion-input-md:-ms-input-placeholder{color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.native-input.sc-ion-input-md::-ms-input-placeholder{color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.native-input.sc-ion-input-md::placeholder{color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.native-input.sc-ion-input-md:-webkit-autofill{background-color:transparent}.native-input.sc-ion-input-md:invalid{-webkit-box-shadow:none;box-shadow:none}.native-input.sc-ion-input-md::-ms-clear{display:none}.cloned-input.sc-ion-input-md{top:0;bottom:0;position:absolute;pointer-events:none}@supports (inset-inline-start: 0){.cloned-input.sc-ion-input-md{inset-inline-start:0}}@supports not (inset-inline-start: 0){.cloned-input.sc-ion-input-md{left:0}[dir=rtl].sc-ion-input-md-h .cloned-input.sc-ion-input-md,[dir=rtl] .sc-ion-input-md-h .cloned-input.sc-ion-input-md{left:unset;right:unset;right:0}[dir=rtl].sc-ion-input-md .cloned-input.sc-ion-input-md{left:unset;right:unset;right:0}@supports selector(:dir(rtl)){.cloned-input.sc-ion-input-md:dir(rtl){left:unset;right:unset;right:0}}}.cloned-input.sc-ion-input-md:disabled{opacity:1}.legacy-input.sc-ion-input-md-h .input-clear-icon.sc-ion-input-md{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0}.input-clear-icon.sc-ion-input-md{-webkit-margin-start:auto;margin-inline-start:auto;-webkit-margin-end:auto;margin-inline-end:auto;margin-top:auto;margin-bottom:auto;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;background-position:center;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:30px;height:30px;border:0;outline:none;background-color:transparent;background-repeat:no-repeat;color:var(--ion-color-step-600, #666666);visibility:hidden;-webkit-appearance:none;-moz-appearance:none;appearance:none}.in-item-color.sc-ion-input-md-h .input-clear-icon.sc-ion-input-md{color:inherit}.input-clear-icon.sc-ion-input-md:focus{opacity:0.5}.has-value.sc-ion-input-md-h .input-clear-icon.sc-ion-input-md{visibility:visible}.has-focus.legacy-input.sc-ion-input-md-h{pointer-events:none}.has-focus.legacy-input.sc-ion-input-md-h input.sc-ion-input-md,.has-focus.legacy-input.sc-ion-input-md-h a.sc-ion-input-md,.has-focus.legacy-input.sc-ion-input-md-h button.sc-ion-input-md{pointer-events:auto}.item-label-floating.item-has-placeholder.sc-ion-input-md-h:not(.item-has-value),.item-label-floating.item-has-placeholder:not(.item-has-value) .sc-ion-input-md-h{opacity:0}.item-label-floating.item-has-placeholder.sc-ion-input-md-h:not(.item-has-value).item-has-focus,.item-label-floating.item-has-placeholder:not(.item-has-value).item-has-focus .sc-ion-input-md-h{-webkit-transition:opacity 0.15s cubic-bezier(0.4, 0, 0.2, 1);transition:opacity 0.15s cubic-bezier(0.4, 0, 0.2, 1);opacity:1}.input-wrapper.sc-ion-input-md{-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);border-radius:var(--border-radius);display:-ms-flexbox;display:flex;position:relative;-ms-flex-positive:1;flex-grow:1;-ms-flex-align:stretch;align-items:stretch;height:inherit;min-height:inherit;-webkit-transition:background-color 15ms linear;transition:background-color 15ms linear;background:var(--background);line-height:normal}.native-wrapper.sc-ion-input-md{display:-ms-flexbox;display:flex;position:relative;-ms-flex-positive:1;flex-grow:1;-ms-flex-align:center;align-items:center;width:100%}.ion-touched.ion-invalid.sc-ion-input-md-h{--highlight-color:var(--highlight-color-invalid)}.ion-valid.sc-ion-input-md-h{--highlight-color:var(--highlight-color-valid)}.input-bottom.sc-ion-input-md{-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:5px;padding-bottom:0;display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between;border-top:var(--border-width) var(--border-style) var(--border-color);font-size:0.75rem}.has-focus.ion-valid.sc-ion-input-md-h,.ion-touched.ion-invalid.sc-ion-input-md-h{--border-color:var(--highlight-color)}.input-bottom.sc-ion-input-md .error-text.sc-ion-input-md{display:none;color:var(--highlight-color-invalid)}.input-bottom.sc-ion-input-md .helper-text.sc-ion-input-md{display:block;color:var(--ion-color-step-550, #737373)}.ion-touched.ion-invalid.sc-ion-input-md-h .input-bottom.sc-ion-input-md .error-text.sc-ion-input-md{display:block}.ion-touched.ion-invalid.sc-ion-input-md-h .input-bottom.sc-ion-input-md .helper-text.sc-ion-input-md{display:none}.input-bottom.sc-ion-input-md .counter.sc-ion-input-md{-webkit-margin-start:auto;margin-inline-start:auto;color:var(--ion-color-step-550, #737373);white-space:nowrap;-webkit-padding-start:16px;padding-inline-start:16px}.has-focus.sc-ion-input-md-h input.sc-ion-input-md{caret-color:var(--highlight-color)}.label-text-wrapper.sc-ion-input-md{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;max-width:200px;-webkit-transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), transform 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), transform 150ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 150ms cubic-bezier(0.4, 0, 0.2, 1);pointer-events:none}.label-text.sc-ion-input-md,.sc-ion-input-md-s>[slot=label]{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.label-text-wrapper-hidden.sc-ion-input-md,.input-outline-notch-hidden.sc-ion-input-md{display:none}.input-wrapper.sc-ion-input-md input.sc-ion-input-md{-webkit-transition:opacity 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:opacity 150ms cubic-bezier(0.4, 0, 0.2, 1)}.input-label-placement-start.sc-ion-input-md-h .input-wrapper.sc-ion-input-md{-ms-flex-direction:row;flex-direction:row}.input-label-placement-start.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md{-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:16px;margin-inline-end:16px;margin-top:0;margin-bottom:0}.input-label-placement-end.sc-ion-input-md-h .input-wrapper.sc-ion-input-md{-ms-flex-direction:row-reverse;flex-direction:row-reverse}.input-label-placement-end.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md{-webkit-margin-start:16px;margin-inline-start:16px;-webkit-margin-end:0;margin-inline-end:0;margin-top:0;margin-bottom:0}.input-label-placement-fixed.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md{-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:16px;margin-inline-end:16px;margin-top:0;margin-bottom:0}.input-label-placement-fixed.sc-ion-input-md-h .label-text.sc-ion-input-md{-ms-flex:0 0 100px;flex:0 0 100px;width:100px;min-width:100px;max-width:200px}.input-label-placement-stacked.sc-ion-input-md-h .input-wrapper.sc-ion-input-md,.input-label-placement-floating.sc-ion-input-md-h .input-wrapper.sc-ion-input-md{-ms-flex-direction:column;flex-direction:column;-ms-flex-align:start;align-items:start}.input-label-placement-stacked.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,.input-label-placement-floating.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md{-webkit-transform-origin:left top;transform-origin:left top;max-width:100%;z-index:2}[dir=rtl].sc-ion-input-md-h -no-combinator.input-label-placement-stacked.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,[dir=rtl] .sc-ion-input-md-h -no-combinator.input-label-placement-stacked.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,[dir=rtl].input-label-placement-stacked.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,[dir=rtl] .input-label-placement-stacked.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,[dir=rtl].sc-ion-input-md-h -no-combinator.input-label-placement-floating.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,[dir=rtl] .sc-ion-input-md-h -no-combinator.input-label-placement-floating.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,[dir=rtl].input-label-placement-floating.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,[dir=rtl] .input-label-placement-floating.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md{-webkit-transform-origin:right top;transform-origin:right top}@supports selector(:dir(rtl)){.input-label-placement-stacked.sc-ion-input-md-h:dir(rtl) .label-text-wrapper.sc-ion-input-md,.input-label-placement-floating.sc-ion-input-md-h:dir(rtl) .label-text-wrapper.sc-ion-input-md{-webkit-transform-origin:right top;transform-origin:right top}}.input-label-placement-stacked.sc-ion-input-md-h input.sc-ion-input-md,.input-label-placement-floating.sc-ion-input-md-h input.sc-ion-input-md{margin-left:0;margin-right:0;margin-top:1px;margin-bottom:0}.input-label-placement-floating.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md{-webkit-transform:translateY(100%) scale(1);transform:translateY(100%) scale(1)}.input-label-placement-floating.sc-ion-input-md-h input.sc-ion-input-md{opacity:0}.has-focus.input-label-placement-floating.sc-ion-input-md-h input.sc-ion-input-md,.has-value.input-label-placement-floating.sc-ion-input-md-h input.sc-ion-input-md{opacity:1}.label-floating.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md{-webkit-transform:translateY(50%) scale(0.75);transform:translateY(50%) scale(0.75);max-width:calc(100% / 0.75)}.sc-ion-input-md-s>[slot=start]{-webkit-margin-end:16px;margin-inline-end:16px;-webkit-margin-start:0;margin-inline-start:0}.sc-ion-input-md-s>[slot=end]{-webkit-margin-start:16px;margin-inline-start:16px;-webkit-margin-end:0;margin-inline-end:0}.input-fill-solid.sc-ion-input-md-h{--background:var(--ion-color-step-50, #f2f2f2);--border-color:var(--ion-color-step-500, gray);--border-radius:4px;--padding-start:16px;--padding-end:16px;min-height:56px}.input-fill-solid.sc-ion-input-md-h .input-wrapper.sc-ion-input-md{border-bottom:var(--border-width) var(--border-style) var(--border-color)}.has-focus.input-fill-solid.ion-valid.sc-ion-input-md-h,.input-fill-solid.ion-touched.ion-invalid.sc-ion-input-md-h{--border-color:var(--highlight-color)}.input-fill-solid.sc-ion-input-md-h .input-bottom.sc-ion-input-md{border-top:none}@media (any-hover: hover){.input-fill-solid.sc-ion-input-md-h:hover{--background:var(--ion-color-step-100, #e6e6e6);--border-color:var(--ion-color-step-750, #404040)}}.input-fill-solid.has-focus.sc-ion-input-md-h{--background:var(--ion-color-step-150, #d9d9d9);--border-color:var(--ion-color-step-750, #404040)}.input-fill-solid.sc-ion-input-md-h .input-wrapper.sc-ion-input-md{border-top-left-radius:var(--border-radius);border-top-right-radius:var(--border-radius);border-bottom-right-radius:0px;border-bottom-left-radius:0px}[dir=rtl].sc-ion-input-md-h -no-combinator.input-fill-solid.sc-ion-input-md-h .input-wrapper.sc-ion-input-md,[dir=rtl] .sc-ion-input-md-h -no-combinator.input-fill-solid.sc-ion-input-md-h .input-wrapper.sc-ion-input-md,[dir=rtl].input-fill-solid.sc-ion-input-md-h .input-wrapper.sc-ion-input-md,[dir=rtl] .input-fill-solid.sc-ion-input-md-h .input-wrapper.sc-ion-input-md{border-top-left-radius:var(--border-radius);border-top-right-radius:var(--border-radius);border-bottom-right-radius:0px;border-bottom-left-radius:0px}@supports selector(:dir(rtl)){.input-fill-solid.sc-ion-input-md-h:dir(rtl) .input-wrapper.sc-ion-input-md{border-top-left-radius:var(--border-radius);border-top-right-radius:var(--border-radius);border-bottom-right-radius:0px;border-bottom-left-radius:0px}}.label-floating.input-fill-solid.input-label-placement-floating.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md{max-width:calc(100% / 0.75)}.input-fill-outline.sc-ion-input-md-h{--border-color:var(--ion-color-step-300, #b3b3b3);--border-radius:4px;--padding-start:16px;--padding-end:16px;min-height:56px}.input-fill-outline.input-shape-round.sc-ion-input-md-h{--border-radius:28px;--padding-start:32px;--padding-end:32px}.has-focus.input-fill-outline.ion-valid.sc-ion-input-md-h,.input-fill-outline.ion-touched.ion-invalid.sc-ion-input-md-h{--border-color:var(--highlight-color)}@media (any-hover: hover){.input-fill-outline.sc-ion-input-md-h:hover{--border-color:var(--ion-color-step-750, #404040)}}.input-fill-outline.has-focus.sc-ion-input-md-h{--border-width:2px;--border-color:var(--highlight-color)}.input-fill-outline.sc-ion-input-md-h .input-bottom.sc-ion-input-md{border-top:none}.input-fill-outline.sc-ion-input-md-h .input-wrapper.sc-ion-input-md{border-bottom:none}.input-fill-outline.input-label-placement-stacked.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,.input-fill-outline.input-label-placement-floating.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md{-webkit-transform-origin:left top;transform-origin:left top;position:absolute;max-width:calc(100% - var(--padding-start) - var(--padding-end))}[dir=rtl].sc-ion-input-md-h -no-combinator.input-fill-outline.input-label-placement-stacked.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,[dir=rtl] .sc-ion-input-md-h -no-combinator.input-fill-outline.input-label-placement-stacked.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,[dir=rtl].input-fill-outline.input-label-placement-stacked.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,[dir=rtl] .input-fill-outline.input-label-placement-stacked.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,[dir=rtl].sc-ion-input-md-h -no-combinator.input-fill-outline.input-label-placement-floating.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,[dir=rtl] .sc-ion-input-md-h -no-combinator.input-fill-outline.input-label-placement-floating.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,[dir=rtl].input-fill-outline.input-label-placement-floating.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,[dir=rtl] .input-fill-outline.input-label-placement-floating.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md{-webkit-transform-origin:right top;transform-origin:right top}@supports selector(:dir(rtl)){.input-fill-outline.input-label-placement-stacked.sc-ion-input-md-h:dir(rtl) .label-text-wrapper.sc-ion-input-md,.input-fill-outline.input-label-placement-floating.sc-ion-input-md-h:dir(rtl) .label-text-wrapper.sc-ion-input-md{-webkit-transform-origin:right top;transform-origin:right top}}.input-fill-outline.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md{position:relative}.label-floating.input-fill-outline.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md{-webkit-transform:translateY(-32%) scale(0.75);transform:translateY(-32%) scale(0.75);margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;max-width:calc((100% - var(--padding-start) - var(--padding-end) - 8px) / 0.75)}.input-fill-outline.input-label-placement-stacked.sc-ion-input-md-h input.sc-ion-input-md,.input-fill-outline.input-label-placement-floating.sc-ion-input-md-h input.sc-ion-input-md{margin-left:0;margin-right:0;margin-top:6px;margin-bottom:6px}.input-fill-outline.sc-ion-input-md-h .input-outline-container.sc-ion-input-md{left:0;right:0;top:0;bottom:0;display:-ms-flexbox;display:flex;position:absolute;width:100%;height:100%}.input-fill-outline.sc-ion-input-md-h .input-outline-start.sc-ion-input-md,.input-fill-outline.sc-ion-input-md-h .input-outline-end.sc-ion-input-md{pointer-events:none}.input-fill-outline.sc-ion-input-md-h .input-outline-start.sc-ion-input-md,.input-fill-outline.sc-ion-input-md-h .input-outline-notch.sc-ion-input-md,.input-fill-outline.sc-ion-input-md-h .input-outline-end.sc-ion-input-md{border-top:var(--border-width) var(--border-style) var(--border-color);border-bottom:var(--border-width) var(--border-style) var(--border-color)}.input-fill-outline.sc-ion-input-md-h .input-outline-notch.sc-ion-input-md{max-width:calc(100% - var(--padding-start) - var(--padding-end))}.input-fill-outline.sc-ion-input-md-h .notch-spacer.sc-ion-input-md{-webkit-padding-end:8px;padding-inline-end:8px;font-size:calc(1em * 0.75);opacity:0;pointer-events:none;-webkit-box-sizing:content-box;box-sizing:content-box}.input-fill-outline.sc-ion-input-md-h .input-outline-start.sc-ion-input-md{border-top-left-radius:var(--border-radius);border-top-right-radius:0px;border-bottom-right-radius:0px;border-bottom-left-radius:var(--border-radius);-webkit-border-start:var(--border-width) var(--border-style) var(--border-color);border-inline-start:var(--border-width) var(--border-style) var(--border-color);width:calc(var(--padding-start) - 4px)}[dir=rtl].sc-ion-input-md-h -no-combinator.input-fill-outline.sc-ion-input-md-h .input-outline-start.sc-ion-input-md,[dir=rtl] .sc-ion-input-md-h -no-combinator.input-fill-outline.sc-ion-input-md-h .input-outline-start.sc-ion-input-md,[dir=rtl].input-fill-outline.sc-ion-input-md-h .input-outline-start.sc-ion-input-md,[dir=rtl] .input-fill-outline.sc-ion-input-md-h .input-outline-start.sc-ion-input-md{border-top-left-radius:0px;border-top-right-radius:var(--border-radius);border-bottom-right-radius:var(--border-radius);border-bottom-left-radius:0px}@supports selector(:dir(rtl)){.input-fill-outline.sc-ion-input-md-h:dir(rtl) .input-outline-start.sc-ion-input-md{border-top-left-radius:0px;border-top-right-radius:var(--border-radius);border-bottom-right-radius:var(--border-radius);border-bottom-left-radius:0px}}.input-fill-outline.sc-ion-input-md-h .input-outline-end.sc-ion-input-md{-webkit-border-end:var(--border-width) var(--border-style) var(--border-color);border-inline-end:var(--border-width) var(--border-style) var(--border-color);border-top-left-radius:0px;border-top-right-radius:var(--border-radius);border-bottom-right-radius:var(--border-radius);border-bottom-left-radius:0px;-ms-flex-positive:1;flex-grow:1}[dir=rtl].sc-ion-input-md-h -no-combinator.input-fill-outline.sc-ion-input-md-h .input-outline-end.sc-ion-input-md,[dir=rtl] .sc-ion-input-md-h -no-combinator.input-fill-outline.sc-ion-input-md-h .input-outline-end.sc-ion-input-md,[dir=rtl].input-fill-outline.sc-ion-input-md-h .input-outline-end.sc-ion-input-md,[dir=rtl] .input-fill-outline.sc-ion-input-md-h .input-outline-end.sc-ion-input-md{border-top-left-radius:var(--border-radius);border-top-right-radius:0px;border-bottom-right-radius:0px;border-bottom-left-radius:var(--border-radius)}@supports selector(:dir(rtl)){.input-fill-outline.sc-ion-input-md-h:dir(rtl) .input-outline-end.sc-ion-input-md{border-top-left-radius:var(--border-radius);border-top-right-radius:0px;border-bottom-right-radius:0px;border-bottom-left-radius:var(--border-radius)}}.label-floating.input-fill-outline.sc-ion-input-md-h .input-outline-notch.sc-ion-input-md{border-top:none}.sc-ion-input-md-h{--border-width:1px;--border-color:var(--ion-item-border-color, var(--ion-border-color, var(--ion-color-step-150, rgba(0, 0, 0, 0.13))));font-size:inherit}.legacy-input.sc-ion-input-md-h{--padding-top:10px;--padding-end:0;--padding-bottom:10px;--padding-start:8px}.item-label-stacked.sc-ion-input-md-h,.item-label-stacked .sc-ion-input-md-h,.item-label-floating.sc-ion-input-md-h,.item-label-floating .sc-ion-input-md-h{--padding-top:8px;--padding-bottom:8px;--padding-start:0}.input-clear-icon.sc-ion-input-md ion-icon.sc-ion-input-md{width:22px;height:22px}.legacy-input.sc-ion-input-md-h .native-input[disabled].sc-ion-input-md,.input-disabled.sc-ion-input-md-h{opacity:0.38}.has-focus.ion-valid.sc-ion-input-md-h,.ion-touched.ion-invalid.sc-ion-input-md-h{--border-color:var(--highlight-color)}.input-bottom.sc-ion-input-md .counter.sc-ion-input-md{letter-spacing:0.0333333333em}.input-label-placement-floating.has-focus.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,.input-label-placement-stacked.has-focus.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md{color:var(--highlight-color)}.has-focus.input-label-placement-floating.ion-valid.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,.input-label-placement-floating.ion-touched.ion-invalid.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,.has-focus.input-label-placement-stacked.ion-valid.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,.input-label-placement-stacked.ion-touched.ion-invalid.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md{color:var(--highlight-color)}.input-highlight.sc-ion-input-md{bottom:-1px;position:absolute;width:100%;height:2px;-webkit-transform:scale(0);transform:scale(0);-webkit-transition:-webkit-transform 200ms;transition:-webkit-transform 200ms;transition:transform 200ms;transition:transform 200ms, -webkit-transform 200ms;background:var(--highlight-color)}@supports (inset-inline-start: 0){.input-highlight.sc-ion-input-md{inset-inline-start:0}}@supports not (inset-inline-start: 0){.input-highlight.sc-ion-input-md{left:0}[dir=rtl].sc-ion-input-md-h .input-highlight.sc-ion-input-md,[dir=rtl] .sc-ion-input-md-h .input-highlight.sc-ion-input-md{left:unset;right:unset;right:0}[dir=rtl].sc-ion-input-md .input-highlight.sc-ion-input-md{left:unset;right:unset;right:0}@supports selector(:dir(rtl)){.input-highlight.sc-ion-input-md:dir(rtl){left:unset;right:unset;right:0}}}.has-focus.sc-ion-input-md-h .input-highlight.sc-ion-input-md{-webkit-transform:scale(1);transform:scale(1)}.in-item.sc-ion-input-md-h .input-highlight.sc-ion-input-md{bottom:0}@supports (inset-inline-start: 0){.in-item.sc-ion-input-md-h .input-highlight.sc-ion-input-md{inset-inline-start:0}}@supports not (inset-inline-start: 0){.in-item.sc-ion-input-md-h .input-highlight.sc-ion-input-md{left:0}[dir=rtl].sc-ion-input-md-h -no-combinator.in-item.sc-ion-input-md-h .input-highlight.sc-ion-input-md,[dir=rtl] .sc-ion-input-md-h -no-combinator.in-item.sc-ion-input-md-h .input-highlight.sc-ion-input-md,[dir=rtl].in-item.sc-ion-input-md-h .input-highlight.sc-ion-input-md,[dir=rtl] .in-item.sc-ion-input-md-h .input-highlight.sc-ion-input-md{left:unset;right:unset;right:0}@supports selector(:dir(rtl)){.in-item.sc-ion-input-md-h:dir(rtl) .input-highlight.sc-ion-input-md{left:unset;right:unset;right:0}}}.input-shape-round.sc-ion-input-md-h{--border-radius:16px}.sc-ion-input-md-s>ion-button[slot=start].button-has-icon-only,.sc-ion-input-md-s>ion-button[slot=end].button-has-icon-only{--border-radius:50%;--padding-start:8px;--padding-end:8px;--padding-top:8px;--padding-bottom:8px;aspect-ratio:1;min-height:40px}",tZ=eZ,nZ=Ei(class extends Ci{constructor(){super(),this.__registerHost(),this.ionInput=Hn(this,"ionInput",7),this.ionChange=Hn(this,"ionChange",7),this.ionBlur=Hn(this,"ionBlur",7),this.ionFocus=Hn(this,"ionFocus",7),this.ionStyle=Hn(this,"ionStyle",7),this.inputId="ion-input-".concat(iZ++),this.inheritedAttributes={},this.isComposing=!1,this.hasLoggedDeprecationWarning=!1,this.didInputClearOnEdit=!1,this.onInput=t=>{const n=t.target;n&&(this.value=n.value||""),this.emitInputChange(t)},this.onChange=t=>{this.emitValueChange(t)},this.onBlur=t=>{this.hasFocus=!1,this.emitStyle(),this.focusedValue!==this.value&&this.emitValueChange(t),this.didInputClearOnEdit=!1,this.ionBlur.emit(t)},this.onFocus=t=>{this.hasFocus=!0,this.focusedValue=this.value,this.emitStyle(),this.ionFocus.emit(t)},this.onKeydown=t=>{this.checkClearOnEdit(t)},this.onCompositionStart=()=>{this.isComposing=!0},this.onCompositionEnd=()=>{this.isComposing=!1},this.clearTextInput=t=>{this.clearInput&&!this.readonly&&!this.disabled&&t&&(t.preventDefault(),t.stopPropagation(),this.setFocus()),this.value="",this.emitInputChange(t)},this.hasFocus=!1,this.color=void 0,this.accept=void 0,this.autocapitalize="off",this.autocomplete="off",this.autocorrect="off",this.autofocus=!1,this.clearInput=!1,this.clearOnEdit=void 0,this.counter=!1,this.counterFormatter=void 0,this.debounce=void 0,this.disabled=!1,this.enterkeyhint=void 0,this.errorText=void 0,this.fill=void 0,this.inputmode=void 0,this.helperText=void 0,this.label=void 0,this.labelPlacement="start",this.legacy=void 0,this.max=void 0,this.maxlength=void 0,this.min=void 0,this.minlength=void 0,this.multiple=void 0,this.name=this.inputId,this.pattern=void 0,this.placeholder=void 0,this.readonly=!1,this.required=!1,this.shape=void 0,this.spellcheck=!1,this.step=void 0,this.size=void 0,this.type="text",this.value=""}debounceChanged(){const{ionInput:t,debounce:n,originalIonInput:i}=this;this.ionInput=n===void 0?i!=null?i:t:XU(t,n)}disabledChanged(){this.emitStyle()}placeholderChanged(){this.emitStyle()}valueChanged(){const t=this.nativeInput,n=this.getValue();t&&t.value!==n&&!this.isComposing&&(t.value=n),this.emitStyle()}componentWillLoad(){this.inheritedAttributes=Object.assign(Object.assign({},Fg(this.el)),G0(this.el,["tabindex","title","data-form-type"]))}connectedCallback(){const{el:t}=this;this.legacyFormController=Fq(t),this.slotMutationController=KW(t,["label","start","end"],()=>Nm(this)),this.notchController=GW(t,()=>this.notchSpacerEl,()=>this.labelSlot),this.emitStyle(),this.debounceChanged(),document.dispatchEvent(new CustomEvent("ionInputDidLoad",{detail:this.el}))}componentDidLoad(){this.originalIonInput=this.ionInput}componentDidRender(){var t;(t=this.notchController)===null||t===void 0||t.calculateNotchWidth()}disconnectedCallback(){document.dispatchEvent(new CustomEvent("ionInputDidUnload",{detail:this.el})),this.slotMutationController&&(this.slotMutationController.destroy(),this.slotMutationController=void 0),this.notchController&&(this.notchController.destroy(),this.notchController=void 0)}async setFocus(){this.nativeInput&&this.nativeInput.focus()}async getInputElement(){return this.nativeInput||await new Promise(t=>sd(this.el,t)),Promise.resolve(this.nativeInput)}emitValueChange(t){const{value:n}=this,i=n==null?n:n.toString();this.focusedValue=i,this.ionChange.emit({value:i,event:t})}emitInputChange(t){const{value:n}=this,i=n==null?n:n.toString();this.ionInput.emit({value:i,event:t})}shouldClearOnEdit(){const{type:t,clearOnEdit:n}=this;return n===void 0?t==="password":n}getValue(){return typeof this.value=="number"?this.value.toString():(this.value||"").toString()}emitStyle(){this.legacyFormController.hasLegacyControl()&&this.ionStyle.emit({interactive:!0,input:!0,"has-placeholder":this.placeholder!==void 0,"has-value":this.hasValue(),"has-focus":this.hasFocus,"interactive-disabled":this.disabled,legacy:!!this.legacy})}checkClearOnEdit(t){if(!this.shouldClearOnEdit())return;const i=["Enter","Tab","Shift","Meta","Alt","Control"].includes(t.key);!this.didInputClearOnEdit&&this.hasValue()&&!i&&(this.value="",this.emitInputChange(t)),i||(this.didInputClearOnEdit=!0)}hasValue(){return this.getValue().length>0}renderHintText(){const{helperText:t,errorText:n}=this;return[it("div",{class:"helper-text"},t),it("div",{class:"error-text"},n)]}renderCounter(){const{counter:t,maxlength:n,counterFormatter:i,value:s}=this;if(!(t!==!0||n===void 0))return it("div",{class:"counter"},XW(s,n,i))}renderBottomContent(){const{counter:t,helperText:n,errorText:i,maxlength:s}=this;if(!(!(n||i)&&!(t===!0&&s!==void 0)))return it("div",{class:"input-bottom"},this.renderHintText(),this.renderCounter())}renderLabel(){const{label:t}=this;return it("div",{class:{"label-text-wrapper":!0,"label-text-wrapper-hidden":!this.hasLabel}},t===void 0?it("slot",{name:"label"}):it("div",{class:"label-text"},t))}get labelSlot(){return this.el.querySelector('[slot="label"]')}get hasLabel(){return this.label!==void 0||this.labelSlot!==null}renderLabelContainer(){return Tn(this)==="md"&&this.fill==="outline"?[it("div",{class:"input-outline-container"},it("div",{class:"input-outline-start"}),it("div",{class:{"input-outline-notch":!0,"input-outline-notch-hidden":!this.hasLabel}},it("div",{class:"notch-spacer","aria-hidden":"true",ref:i=>this.notchSpacerEl=i},this.label)),it("div",{class:"input-outline-end"})),this.renderLabel()]:this.renderLabel()}renderInput(){const{disabled:t,fill:n,readonly:i,shape:s,inputId:l,labelPlacement:d,el:c,hasFocus:y}=this,b=Tn(this),k=this.getValue(),S=Ao("ion-item",this.el),E=b==="md"&&n!=="outline"&&!S,A=this.hasValue(),z=c.querySelector('[slot="start"], [slot="end"]')!==null,N=d==="stacked"||d==="floating"&&(A||y||z);return it(ki,{class:za(this.color,{[b]:!0,"has-value":A,"has-focus":y,"label-floating":N,["input-fill-".concat(n)]:n!==void 0,["input-shape-".concat(s)]:s!==void 0,["input-label-placement-".concat(d)]:!0,"in-item":S,"in-item-color":Ao("ion-item.ion-color",this.el),"input-disabled":t})},it("label",{class:"input-wrapper",htmlFor:l},this.renderLabelContainer(),it("div",{class:"native-wrapper"},it("slot",{name:"start"}),it("input",Object.assign({class:"native-input",ref:q=>this.nativeInput=q,id:l,disabled:t,accept:this.accept,autoCapitalize:this.autocapitalize,autoComplete:this.autocomplete,autoCorrect:this.autocorrect,autoFocus:this.autofocus,enterKeyHint:this.enterkeyhint,inputMode:this.inputmode,min:this.min,max:this.max,minLength:this.minlength,maxLength:this.maxlength,multiple:this.multiple,name:this.name,pattern:this.pattern,placeholder:this.placeholder||"",readOnly:i,required:this.required,spellcheck:this.spellcheck,step:this.step,size:this.size,type:this.type,value:k,onInput:this.onInput,onChange:this.onChange,onBlur:this.onBlur,onFocus:this.onFocus,onKeyDown:this.onKeydown,onCompositionstart:this.onCompositionStart,onCompositionend:this.onCompositionEnd},this.inheritedAttributes)),this.clearInput&&!i&&!t&&it("button",{"aria-label":"reset",type:"button",class:"input-clear-icon",onPointerDown:q=>{q.preventDefault()},onClick:this.clearTextInput},it("ion-icon",{"aria-hidden":"true",icon:b==="ios"?KP:XP})),it("slot",{name:"end"})),E&&it("div",{class:"input-highlight"})),this.renderBottomContent())}renderLegacyInput(){this.hasLoggedDeprecationWarning||(ko('ion-input now requires providing a label with either the "label" property or the "aria-label" attribute. To migrate, remove any usage of "ion-label" and pass the label text to either the "label" property or the "aria-label" attribute.\n\nExample: <ion-input label="Email"></ion-input>\nExample with aria-label: <ion-input aria-label="Email"></ion-input>\n\nFor inputs that do not render the label immediately next to the input, developers may continue to use "ion-label" but must manually associate the label with the input by using "aria-labelledby".\n\nDevelopers can use the "legacy" property to continue using the legacy form markup. This property will be removed in an upcoming major release of Ionic where this form control will use the modern form markup.',this.el),this.legacy&&ko('ion-input is being used with the "legacy" property enabled which will forcibly enable the legacy form markup. This property will be removed in an upcoming major release of Ionic where this form control will use the modern form markup.\n\nDevelopers can dismiss this warning by removing their usage of the "legacy" property and using the new input syntax.',this.el),this.hasLoggedDeprecationWarning=!0);const t=Tn(this),n=this.getValue(),i=this.inputId+"-lbl",s=mL(this.el);return s&&(s.id=i),it(ki,{"aria-disabled":this.disabled?"true":null,class:za(this.color,{[t]:!0,"has-value":this.hasValue(),"has-focus":this.hasFocus,"legacy-input":!0,"in-item-color":Ao("ion-item.ion-color",this.el)})},it("input",Object.assign({class:"native-input",ref:l=>this.nativeInput=l,"aria-labelledby":s?s.id:null,disabled:this.disabled,accept:this.accept,autoCapitalize:this.autocapitalize,autoComplete:this.autocomplete,autoCorrect:this.autocorrect,autoFocus:this.autofocus,enterKeyHint:this.enterkeyhint,inputMode:this.inputmode,min:this.min,max:this.max,minLength:this.minlength,maxLength:this.maxlength,multiple:this.multiple,name:this.name,pattern:this.pattern,placeholder:this.placeholder||"",readOnly:this.readonly,required:this.required,spellcheck:this.spellcheck,step:this.step,size:this.size,type:this.type,value:n,onInput:this.onInput,onChange:this.onChange,onBlur:this.onBlur,onFocus:this.onFocus,onKeyDown:this.onKeydown},this.inheritedAttributes)),this.clearInput&&!this.readonly&&!this.disabled&&it("button",{"aria-label":"reset",type:"button",class:"input-clear-icon",onPointerDown:l=>{l.preventDefault()},onClick:this.clearTextInput},it("ion-icon",{"aria-hidden":"true",icon:t==="ios"?KP:XP})))}render(){const{legacyFormController:t}=this;return t.hasLegacyControl()?this.renderLegacyInput():this.renderInput()}get el(){return this}static get watchers(){return{debounce:["debounceChanged"],disabled:["disabledChanged"],placeholder:["placeholderChanged"],value:["valueChanged"]}}static get style(){return{ios:QW,md:tZ}}},[38,"ion-input",{color:[513],accept:[1],autocapitalize:[1],autocomplete:[1],autocorrect:[1],autofocus:[4],clearInput:[4,"clear-input"],clearOnEdit:[4,"clear-on-edit"],counter:[4],counterFormatter:[16],debounce:[2],disabled:[4],enterkeyhint:[1],errorText:[1,"error-text"],fill:[1],inputmode:[1],helperText:[1,"helper-text"],label:[1],labelPlacement:[1,"label-placement"],legacy:[4],max:[8],maxlength:[2],min:[8],minlength:[2],multiple:[4],name:[1],pattern:[1],placeholder:[1],readonly:[4],required:[4],shape:[1],spellcheck:[4],step:[1],size:[2],type:[1],value:[1032],hasFocus:[32],setFocus:[64],getInputElement:[64]},void 0,{debounce:["debounceChanged"],disabled:["disabledChanged"],placeholder:["placeholderChanged"],value:["valueChanged"]}]);let iZ=0;function rZ(){if(typeof customElements>"u")return;["ion-input","ion-icon"].forEach(t=>{switch(t){case"ion-input":customElements.get(t)||customElements.define(t,nZ);break;case"ion-icon":customElements.get(t)||DL();break}})}const oZ=rZ;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const sZ=bW,aZ=":host{--width:304px;--min-width:auto;--max-width:auto;--height:100%;--min-height:auto;--max-height:auto;--background:var(--ion-background-color, #fff);left:0;right:0;top:0;bottom:0;display:none;position:absolute;contain:strict}:host(.show-menu){display:block}.menu-inner{-webkit-transform:translateX(-9999px);transform:translateX(-9999px);display:-ms-flexbox;display:flex;position:absolute;-ms-flex-direction:column;flex-direction:column;-ms-flex-pack:justify;justify-content:space-between;width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);background:var(--background);contain:strict}:host(.menu-side-start) .menu-inner{--ion-safe-area-right:0px;top:0;bottom:0}@supports (inset-inline-start: 0){:host(.menu-side-start) .menu-inner{inset-inline-start:0;inset-inline-end:auto}}@supports not (inset-inline-start: 0){:host(.menu-side-start) .menu-inner{left:0;right:auto}:host-context([dir=rtl]):host(.menu-side-start) .menu-inner,:host-context([dir=rtl]).menu-side-start .menu-inner{left:unset;right:unset;left:auto;right:0}@supports selector(:dir(rtl)){:host(.menu-side-start:dir(rtl)) .menu-inner{left:unset;right:unset;left:auto;right:0}}}:host-context([dir=rtl]):host(.menu-side-start) .menu-inner,:host-context([dir=rtl]).menu-side-start .menu-inner{--ion-safe-area-right:unset;--ion-safe-area-left:0px}@supports selector(:dir(rtl)){:host(.menu-side-start:dir(rtl)) .menu-inner{--ion-safe-area-right:unset;--ion-safe-area-left:0px}}:host(.menu-side-end) .menu-inner{--ion-safe-area-left:0px;top:0;bottom:0}@supports (inset-inline-start: 0){:host(.menu-side-end) .menu-inner{inset-inline-start:auto;inset-inline-end:0}}@supports not (inset-inline-start: 0){:host(.menu-side-end) .menu-inner{left:auto;right:0}:host-context([dir=rtl]):host(.menu-side-end) .menu-inner,:host-context([dir=rtl]).menu-side-end .menu-inner{left:unset;right:unset;left:0;right:auto}@supports selector(:dir(rtl)){:host(.menu-side-end:dir(rtl)) .menu-inner{left:unset;right:unset;left:0;right:auto}}}:host-context([dir=rtl]):host(.menu-side-end) .menu-inner,:host-context([dir=rtl]).menu-side-end .menu-inner{--ion-safe-area-left:unset;--ion-safe-area-right:0px}@supports selector(:dir(rtl)){:host(.menu-side-end:dir(rtl)) .menu-inner{--ion-safe-area-left:unset;--ion-safe-area-right:0px}}ion-backdrop{display:none;opacity:0.01;z-index:-1}@media (max-width: 340px){.menu-inner{--width:264px}}:host(.menu-type-reveal){z-index:0}:host(.menu-type-reveal.show-menu) .menu-inner{-webkit-transform:translate3d(0,  0,  0);transform:translate3d(0,  0,  0)}:host(.menu-type-overlay){z-index:1000}:host(.menu-type-overlay) .show-backdrop{display:block;cursor:pointer}:host(.menu-pane-visible){width:var(--width);min-width:var(--min-width);max-width:var(--max-width)}:host(.menu-pane-visible) .menu-inner{left:0;right:0;width:auto;-webkit-transform:none;transform:none;-webkit-box-shadow:none;box-shadow:none}:host(.menu-pane-visible) ion-backdrop{display:hidden !important}:host(.menu-type-push){z-index:1000}:host(.menu-type-push) .show-backdrop{display:block}",lZ=aZ,cZ=":host{--width:304px;--min-width:auto;--max-width:auto;--height:100%;--min-height:auto;--max-height:auto;--background:var(--ion-background-color, #fff);left:0;right:0;top:0;bottom:0;display:none;position:absolute;contain:strict}:host(.show-menu){display:block}.menu-inner{-webkit-transform:translateX(-9999px);transform:translateX(-9999px);display:-ms-flexbox;display:flex;position:absolute;-ms-flex-direction:column;flex-direction:column;-ms-flex-pack:justify;justify-content:space-between;width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);background:var(--background);contain:strict}:host(.menu-side-start) .menu-inner{--ion-safe-area-right:0px;top:0;bottom:0}@supports (inset-inline-start: 0){:host(.menu-side-start) .menu-inner{inset-inline-start:0;inset-inline-end:auto}}@supports not (inset-inline-start: 0){:host(.menu-side-start) .menu-inner{left:0;right:auto}:host-context([dir=rtl]):host(.menu-side-start) .menu-inner,:host-context([dir=rtl]).menu-side-start .menu-inner{left:unset;right:unset;left:auto;right:0}@supports selector(:dir(rtl)){:host(.menu-side-start:dir(rtl)) .menu-inner{left:unset;right:unset;left:auto;right:0}}}:host-context([dir=rtl]):host(.menu-side-start) .menu-inner,:host-context([dir=rtl]).menu-side-start .menu-inner{--ion-safe-area-right:unset;--ion-safe-area-left:0px}@supports selector(:dir(rtl)){:host(.menu-side-start:dir(rtl)) .menu-inner{--ion-safe-area-right:unset;--ion-safe-area-left:0px}}:host(.menu-side-end) .menu-inner{--ion-safe-area-left:0px;top:0;bottom:0}@supports (inset-inline-start: 0){:host(.menu-side-end) .menu-inner{inset-inline-start:auto;inset-inline-end:0}}@supports not (inset-inline-start: 0){:host(.menu-side-end) .menu-inner{left:auto;right:0}:host-context([dir=rtl]):host(.menu-side-end) .menu-inner,:host-context([dir=rtl]).menu-side-end .menu-inner{left:unset;right:unset;left:0;right:auto}@supports selector(:dir(rtl)){:host(.menu-side-end:dir(rtl)) .menu-inner{left:unset;right:unset;left:0;right:auto}}}:host-context([dir=rtl]):host(.menu-side-end) .menu-inner,:host-context([dir=rtl]).menu-side-end .menu-inner{--ion-safe-area-left:unset;--ion-safe-area-right:0px}@supports selector(:dir(rtl)){:host(.menu-side-end:dir(rtl)) .menu-inner{--ion-safe-area-left:unset;--ion-safe-area-right:0px}}ion-backdrop{display:none;opacity:0.01;z-index:-1}@media (max-width: 340px){.menu-inner{--width:264px}}:host(.menu-type-reveal){z-index:0}:host(.menu-type-reveal.show-menu) .menu-inner{-webkit-transform:translate3d(0,  0,  0);transform:translate3d(0,  0,  0)}:host(.menu-type-overlay){z-index:1000}:host(.menu-type-overlay) .show-backdrop{display:block;cursor:pointer}:host(.menu-pane-visible){width:var(--width);min-width:var(--min-width);max-width:var(--max-width)}:host(.menu-pane-visible) .menu-inner{left:0;right:0;width:auto;-webkit-transform:none;transform:none;-webkit-box-shadow:none;box-shadow:none}:host(.menu-pane-visible) ion-backdrop{display:hidden !important}:host(.menu-type-overlay) .menu-inner{-webkit-box-shadow:4px 0px 16px rgba(0, 0, 0, 0.18);box-shadow:4px 0px 16px rgba(0, 0, 0, 0.18)}",uZ=cZ,dZ="cubic-bezier(0.32,0.72,0,1)",hZ="cubic-bezier(0.0,0.0,0.2,1)",fZ="cubic-bezier(1, 0, 0.68, 0.28)",pZ="cubic-bezier(0.4, 0, 0.6, 1)",iA='[tabindex]:not([tabindex^="-"]), input:not([type=hidden]):not([tabindex^="-"]), textarea:not([tabindex^="-"]), button:not([tabindex^="-"]), select:not([tabindex^="-"]), .ion-focusable:not([tabindex^="-"])',mZ=Ei(class extends Ci{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionWillOpen=Hn(this,"ionWillOpen",7),this.ionWillClose=Hn(this,"ionWillClose",7),this.ionDidOpen=Hn(this,"ionDidOpen",7),this.ionDidClose=Hn(this,"ionDidClose",7),this.ionMenuChange=Hn(this,"ionMenuChange",7),this.lastOnEnd=0,this.blocker=SL.createBlocker({disableScroll:!0}),this.didLoad=!1,this.operationCancelled=!1,this.isAnimating=!1,this._isOpen=!1,this.inheritedAttributes={},this.handleFocus=t=>{const n=nq(document);n&&!n.contains(this.el)||this.trapKeyboardFocus(t,document)},this.isPaneVisible=!1,this.isEndSide=!1,this.contentId=void 0,this.menuId=void 0,this.type=void 0,this.disabled=!1,this.side="start",this.swipeGesture=!0,this.maxEdgeStart=50}typeChanged(t,n){const i=this.contentEl;i&&(n!==void 0&&i.classList.remove("menu-content-".concat(n)),i.classList.add("menu-content-".concat(t)),i.removeAttribute("style")),this.menuInnerEl&&this.menuInnerEl.removeAttribute("style"),this.animation=void 0}disabledChanged(){this.updateState(),this.ionMenuChange.emit({disabled:this.disabled,open:this._isOpen})}sideChanged(){this.isEndSide=VP(this.side),this.animation=void 0}swipeGestureChanged(){this.updateState()}async connectedCallback(){typeof customElements<"u"&&customElements!=null&&await customElements.whenDefined("ion-menu"),this.type===void 0&&(this.type=Un.get("menuType","overlay"));const t=this.contentId!==void 0?document.getElementById(this.contentId):null;if(t===null){console.error('Menu: must have a "content" element to listen for drag events on.');return}this.el.contains(t)&&console.error('Menu: "contentId" should refer to the main view\'s ion-content, not the ion-content inside of the ion-menu.'),this.contentEl=t,t.classList.add("menu-content"),this.typeChanged(this.type,void 0),this.sideChanged(),Wi._register(this),this.menuChanged(),this.gesture=(await Ar(()=>import("./index3-1Wug3oCw.js"),__vite__mapDeps([]))).createGesture({el:document,gestureName:"menu-swipe",gesturePriority:30,threshold:10,blurOnStart:!0,canStart:n=>this.canStart(n),onWillStart:()=>this.onWillStart(),onStart:()=>this.onStart(),onMove:n=>this.onMove(n),onEnd:n=>this.onEnd(n)}),this.updateState()}componentWillLoad(){this.inheritedAttributes=Fg(this.el)}async componentDidLoad(){this.didLoad=!0,this.menuChanged(),this.updateState()}menuChanged(){this.didLoad&&this.ionMenuChange.emit({disabled:this.disabled,open:this._isOpen})}async disconnectedCallback(){await this.close(!1),this.blocker.destroy(),Wi._unregister(this),this.animation&&this.animation.destroy(),this.gesture&&(this.gesture.destroy(),this.gesture=void 0),this.animation=void 0,this.contentEl=void 0}onSplitPaneChanged(t){const{target:n}=t,i=this.el.closest("ion-split-pane");n===i&&(this.isPaneVisible=t.detail.isPane(this.el),this.updateState())}onBackdropClick(t){this._isOpen&&this.lastOnEnd<t.timeStamp-100&&(t.composedPath&&!t.composedPath().includes(this.menuInnerEl))&&(t.preventDefault(),t.stopPropagation(),this.close())}onKeydown(t){t.key==="Escape"&&this.close()}isOpen(){return Promise.resolve(this._isOpen)}isActive(){return Promise.resolve(this._isActive())}open(t=!0){return this.setOpen(!0,t)}close(t=!0){return this.setOpen(!1,t)}toggle(t=!0){return this.setOpen(!this._isOpen,t)}setOpen(t,n=!0){return Wi._setOpen(this,t,n)}focusFirstDescendant(){const{el:t}=this,n=t.querySelector(iA);n?n.focus():t.focus()}focusLastDescendant(){const{el:t}=this,n=Array.from(t.querySelectorAll(iA)),i=n.length>0?n[n.length-1]:null;i?i.focus():t.focus()}trapKeyboardFocus(t,n){const i=t.target;i&&(this.el.contains(i)?this.lastFocus=i:(this.focusFirstDescendant(),this.lastFocus===n.activeElement&&this.focusLastDescendant()))}async _setOpen(t,n=!0){return!this._isActive()||this.isAnimating||t===this._isOpen?!1:(this.beforeAnimation(t),await this.loadAnimation(),await this.startAnimation(t,n),this.operationCancelled?(this.operationCancelled=!1,!1):(this.afterAnimation(t),!0))}async loadAnimation(){const t=this.menuInnerEl.offsetWidth,n=VP(this.side);if(t===this.width&&this.animation!==void 0&&n===this.isEndSide)return;this.width=t,this.isEndSide=n,this.animation&&(this.animation.destroy(),this.animation=void 0);const i=this.animation=await Wi._createAnimation(this.type,this);Un.getBoolean("animated",!0)||i.duration(0),i.fill("both")}async startAnimation(t,n){const i=!t,s=Tn(this),l=s==="ios"?dZ:hZ,d=s==="ios"?fZ:pZ,c=this.animation.direction(i?"reverse":"normal").easing(i?d:l);n?await c.play():c.play({sync:!0}),c.getDirection()==="reverse"&&c.direction("normal")}_isActive(){return!this.disabled&&!this.isPaneVisible}canSwipe(){return this.swipeGesture&&!this.isAnimating&&this._isActive()}canStart(t){return!!document.querySelector("ion-modal.show-modal")||!this.canSwipe()?!1:this._isOpen?!0:Wi._getOpenSync()?!1:gZ(window,t.currentX,this.isEndSide,this.maxEdgeStart)}onWillStart(){return this.beforeAnimation(!this._isOpen),this.loadAnimation()}onStart(){if(!this.isAnimating||!this.animation){dr(!1,"isAnimating has to be true");return}this.animation.progressStart(!0,this._isOpen?1:0)}onMove(t){if(!this.isAnimating||!this.animation){dr(!1,"isAnimating has to be true");return}const i=rA(t.deltaX,this._isOpen,this.isEndSide)/this.width;this.animation.progressStep(this._isOpen?1-i:i)}onEnd(t){if(!this.isAnimating||!this.animation){dr(!1,"isAnimating has to be true");return}const n=this._isOpen,i=this.isEndSide,s=rA(t.deltaX,n,i),l=this.width,d=s/l,c=t.velocityX,y=l/2,b=c>=0&&(c>.2||t.deltaX>y),k=c<=0&&(c<-.2||t.deltaX<-y),S=n?i?b:k:i?k:b;let E=!n&&S;n&&!S&&(E=!0),this.lastOnEnd=t.currentTime;let A=S?.001:-.001;const z=d<0?.01:d;A+=jm([0,0],[.4,0],[.6,1],[1,1],K0(0,z,.9999))[0]||0;const N=this._isOpen?!S:S;this.animation.easing("cubic-bezier(0.4, 0.0, 0.6, 1)").onFinish(()=>this.afterAnimation(E),{oneTimeCallback:!0}).progressEnd(N?1:0,this._isOpen?1-A:A,300)}beforeAnimation(t){dr(!this.isAnimating,"_before() should not be called while animating"),this.el.classList.add(oA),this.el.setAttribute("tabindex","0"),this.backdropEl&&this.backdropEl.classList.add(sA),this.contentEl&&(this.contentEl.classList.add(aA),this.contentEl.setAttribute("aria-hidden","true")),this.blocker.block(),this.isAnimating=!0,t?this.ionWillOpen.emit():this.ionWillClose.emit()}afterAnimation(t){var n;this._isOpen=t,this.isAnimating=!1,this._isOpen||this.blocker.unblock(),t?(this.ionDidOpen.emit(),((n=document.activeElement)===null||n===void 0?void 0:n.closest("ion-menu"))!==this.el&&this.el.focus(),document.addEventListener("focus",this.handleFocus,!0)):(this.el.classList.remove(oA),this.el.removeAttribute("tabindex"),this.contentEl&&(this.contentEl.classList.remove(aA),this.contentEl.removeAttribute("aria-hidden")),this.backdropEl&&this.backdropEl.classList.remove(sA),this.animation&&this.animation.stop(),this.ionDidClose.emit(),document.removeEventListener("focus",this.handleFocus,!0))}updateState(){const t=this._isActive();this.gesture&&this.gesture.enable(t&&this.swipeGesture),t||(this.isAnimating&&(this.operationCancelled=!0),this.afterAnimation(!1))}render(){const{type:t,disabled:n,isPaneVisible:i,inheritedAttributes:s,side:l}=this,d=Tn(this);return it(ki,{key:"6c63bd340b8e2fc19b638189af44eae3627f8c0a",onKeyDown:Vm()?null:this.onKeydown,role:"navigation","aria-label":s["aria-label"]||"menu",class:{[d]:!0,["menu-type-".concat(t)]:!0,"menu-enabled":!n,["menu-side-".concat(l)]:!0,"menu-pane-visible":i}},it("div",{key:"8cad9e601c8ca1d1dca32681937362a55311e015",class:"menu-inner",part:"container",ref:c=>this.menuInnerEl=c},it("slot",{key:"ce8ab737360c3a71ac6408d21fcb71485a189827"})),it("ion-backdrop",{key:"a7e5f9ebe98996c7f5ab0ef27223a2f24bf63646",ref:c=>this.backdropEl=c,class:"menu-backdrop",tappable:!1,stopPropagation:!1,part:"backdrop"}))}get el(){return this}static get watchers(){return{type:["typeChanged"],disabled:["disabledChanged"],side:["sideChanged"],swipeGesture:["swipeGestureChanged"]}}static get style(){return{ios:lZ,md:uZ}}},[33,"ion-menu",{contentId:[513,"content-id"],menuId:[513,"menu-id"],type:[1025],disabled:[1028],side:[513],swipeGesture:[4,"swipe-gesture"],maxEdgeStart:[2,"max-edge-start"],isPaneVisible:[32],isEndSide:[32],isOpen:[64],isActive:[64],open:[64],close:[64],toggle:[64],setOpen:[64]},[[16,"ionSplitPaneVisible","onSplitPaneChanged"],[2,"click","onBackdropClick"]],{type:["typeChanged"],disabled:["disabledChanged"],side:["sideChanged"],swipeGesture:["swipeGestureChanged"]}]),rA=(e,t,n)=>Math.max(0,t!==n?-e:e),gZ=(e,t,n,i)=>n?t>=e.innerWidth-i:t<=i,oA="show-menu",sA="show-backdrop",aA="menu-content-open";function yZ(){if(typeof customElements>"u")return;["ion-menu","ion-backdrop"].forEach(t=>{switch(t){case"ion-menu":customElements.get(t)||customElements.define(t,mZ);break;case"ion-backdrop":customElements.get(t)||Rq();break}})}const vZ=yZ,UL=1,HL=2,Ub=3;class y2{constructor(t,n){this.component=t,this.params=n,this.state=UL}async init(t){if(this.state=HL,!this.element){const n=this.component;this.element=await ML(this.delegate,t,n,["ion-page","ion-page-invisible"],this.params)}}_destroy(){dr(this.state!==Ub,"view state must be ATTACHED");const t=this.element;t&&(this.delegate?this.delegate.removeViewFromDom(t.parentElement,t):t.remove()),this.nav=void 0,this.state=Ub}}const lA=(e,t,n)=>!e||e.component!==t?!1:gL(e.params,n),cA=(e,t)=>e?e instanceof y2?e:new y2(e,t):null,bZ=e=>e.map(t=>t instanceof y2?t:"component"in t?cA(t.component,t.componentProps===null?void 0:t.componentProps):cA(t,void 0)).filter(t=>t!==null),_Z=":host{left:0;right:0;top:0;bottom:0;position:absolute;contain:layout size style;z-index:0}",xZ=_Z,wZ=Ei(class extends Ci{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionNavWillLoad=Hn(this,"ionNavWillLoad",7),this.ionNavWillChange=Hn(this,"ionNavWillChange",3),this.ionNavDidChange=Hn(this,"ionNavDidChange",3),this.transInstr=[],this.gestureOrAnimationInProgress=!1,this.useRouter=!1,this.isTransitioning=!1,this.destroyed=!1,this.views=[],this.didLoad=!1,this.delegate=void 0,this.swipeGesture=void 0,this.animated=!0,this.animation=void 0,this.rootParams=void 0,this.root=void 0}swipeGestureChanged(){this.gesture&&this.gesture.enable(this.swipeGesture===!0)}rootChanged(){this.root!==void 0&&this.didLoad!==!1&&(this.useRouter||this.root!==void 0&&this.setRoot(this.root,this.rootParams))}componentWillLoad(){if(this.useRouter=document.querySelector("ion-router")!==null&&this.el.closest("[no-router]")===null,this.swipeGesture===void 0){const t=Tn(this);this.swipeGesture=Un.getBoolean("swipeBackEnabled",t==="ios")}this.ionNavWillLoad.emit()}async componentDidLoad(){this.didLoad=!0,this.rootChanged(),this.gesture=(await Ar(()=>import("./swipe-back-Dr9KwQdC.js"),__vite__mapDeps([0,1]))).createSwipeBackGesture(this.el,this.canStart.bind(this),this.onStart.bind(this),this.onMove.bind(this),this.onEnd.bind(this)),this.swipeGestureChanged()}connectedCallback(){this.destroyed=!1}disconnectedCallback(){for(const t of this.views)hl(t.element,h1),t._destroy();this.gesture&&(this.gesture.destroy(),this.gesture=void 0),this.transInstr.length=0,this.views.length=0,this.destroyed=!0}push(t,n,i,s){return this.insert(-1,t,n,i,s)}insert(t,n,i,s,l){return this.insertPages(t,[{component:n,componentProps:i}],s,l)}insertPages(t,n,i,s){return this.queueTrns({insertStart:t,insertViews:n,opts:i},s)}pop(t,n){return this.removeIndex(-1,1,t,n)}popTo(t,n,i){const s={removeStart:-1,removeCount:-1,opts:n};return typeof t=="object"&&t.component?(s.removeView=t,s.removeStart=1):typeof t=="number"&&(s.removeStart=t+1),this.queueTrns(s,i)}popToRoot(t,n){return this.removeIndex(1,-1,t,n)}removeIndex(t,n=1,i,s){return this.queueTrns({removeStart:t,removeCount:n,opts:i},s)}setRoot(t,n,i,s){return this.setPages([{component:t,componentProps:n}],i,s)}setPages(t,n,i){return n!=null||(n={}),n.animated!==!0&&(n.animated=!1),this.queueTrns({insertStart:0,insertViews:t,removeStart:0,removeCount:-1,opts:n},i)}setRouteId(t,n,i,s){const l=this.getActiveSync();if(lA(l,t,n))return Promise.resolve({changed:!1,element:l.element});let d;const c=new Promise(k=>d=k);let y;const b={updateURL:!1,viewIsReady:k=>{let S;const E=new Promise(A=>S=A);return d({changed:!0,element:k,markVisible:async()=>{S(),await y}}),E}};if(i==="root")y=this.setRoot(t,n,b);else{const k=this.views.find(S=>lA(S,t,n));k?y=this.popTo(k,Object.assign(Object.assign({},b),{direction:"back",animationBuilder:s})):i==="forward"?y=this.push(t,n,Object.assign(Object.assign({},b),{animationBuilder:s})):i==="back"&&(y=this.setRoot(t,n,Object.assign(Object.assign({},b),{direction:"back",animated:!0,animationBuilder:s})))}return c}async getRouteId(){const t=this.getActiveSync();if(t)return{id:t.element.tagName,params:t.params,element:t.element}}async getActive(){return this.getActiveSync()}async getByIndex(t){return this.views[t]}async canGoBack(t){return this.canGoBackSync(t)}async getPrevious(t){return this.getPreviousSync(t)}getLength(){return this.views.length}getActiveSync(){return this.views[this.views.length-1]}canGoBackSync(t=this.getActiveSync()){return!!(t&&this.getPreviousSync(t))}getPreviousSync(t=this.getActiveSync()){if(!t)return;const n=this.views,i=n.indexOf(t);return i>0?n[i-1]:void 0}async queueTrns(t,n){var i,s;if(this.isTransitioning&&(!((i=t.opts)===null||i===void 0)&&i.skipIfBusy))return!1;const l=new Promise((d,c)=>{t.resolve=d,t.reject=c});if(t.done=n,t.opts&&t.opts.updateURL!==!1&&this.useRouter){const d=document.querySelector("ion-router");if(d){const c=await d.canTransition();if(c===!1)return!1;if(typeof c=="string")return d.push(c,t.opts.direction||"back"),!1}}return((s=t.insertViews)===null||s===void 0?void 0:s.length)===0&&(t.insertViews=void 0),this.transInstr.push(t),this.nextTrns(),l}success(t,n){if(this.destroyed){this.fireError("nav controller was destroyed",n);return}if(n.done&&n.done(t.hasCompleted,t.requiresTransition,t.enteringView,t.leavingView,t.direction),n.resolve(t.hasCompleted),n.opts.updateURL!==!1&&this.useRouter){const i=document.querySelector("ion-router");if(i){const s=t.direction==="back"?"back":"forward";i.navChanged(s)}}}failed(t,n){if(this.destroyed){this.fireError("nav controller was destroyed",n);return}this.transInstr.length=0,this.fireError(t,n)}fireError(t,n){n.done&&n.done(!1,!1,t),n.reject&&!this.destroyed?n.reject(t):n.resolve(!1)}nextTrns(){if(this.isTransitioning)return!1;const t=this.transInstr.shift();return t?(this.runTransition(t),!0):!1}async runTransition(t){try{this.ionNavWillChange.emit(),this.isTransitioning=!0,this.prepareTI(t);const n=this.getActiveSync(),i=this.getEnteringView(t,n);if(!n&&!i)throw new Error("no views in the stack to be removed");i&&i.state===UL&&await i.init(this.el),this.postViewInit(i,n,t);const s=(t.enteringRequiresTransition||t.leavingRequiresTransition)&&i!==n;s&&t.opts&&n&&(t.opts.direction==="back"&&(t.opts.animationBuilder=t.opts.animationBuilder||(i==null?void 0:i.animationBuilder)),n.animationBuilder=t.opts.animationBuilder);let l;s?l=await this.transition(i,n,t):l={hasCompleted:!0,requiresTransition:!1},this.success(l,t),this.ionNavDidChange.emit()}catch(n){this.failed(n,t)}this.isTransitioning=!1,this.nextTrns()}prepareTI(t){var n,i,s;const l=this.views.length;if((n=t.opts)!==null&&n!==void 0||(t.opts={}),(i=(s=t.opts).delegate)!==null&&i!==void 0||(s.delegate=this.delegate),t.removeView!==void 0){dr(t.removeStart!==void 0,"removeView needs removeStart"),dr(t.removeCount!==void 0,"removeView needs removeCount");const y=this.views.indexOf(t.removeView);if(y<0)throw new Error("removeView was not found");t.removeStart+=y}t.removeStart!==void 0&&(t.removeStart<0&&(t.removeStart=l-1),t.removeCount<0&&(t.removeCount=l-t.removeStart),t.leavingRequiresTransition=t.removeCount>0&&t.removeStart+t.removeCount===l),t.insertViews&&((t.insertStart<0||t.insertStart>l)&&(t.insertStart=l),t.enteringRequiresTransition=t.insertStart===l);const d=t.insertViews;if(!d)return;dr(d.length>0,"length can not be zero");const c=bZ(d);if(c.length===0)throw new Error("invalid views to insert");for(const y of c){y.delegate=t.opts.delegate;const b=y.nav;if(b&&b!==this)throw new Error("inserted view was already inserted");if(y.state===Ub)throw new Error("inserted view was already destroyed")}t.insertViews=c}getEnteringView(t,n){const i=t.insertViews;if(i!==void 0)return i[i.length-1];const s=t.removeStart;if(s!==void 0){const l=this.views,d=s+t.removeCount;for(let c=l.length-1;c>=0;c--){const y=l[c];if((c<s||c>=d)&&y!==n)return y}}}postViewInit(t,n,i){var s,l,d;dr(n||t,"Both leavingView and enteringView are null"),dr(i.resolve,"resolve must be valid"),dr(i.reject,"reject must be valid");const c=i.opts,{insertViews:y,removeStart:b,removeCount:k}=i;let S;if(b!==void 0&&k!==void 0){dr(b>=0,"removeStart can not be negative"),dr(k>=0,"removeCount can not be negative"),S=[];for(let A=b;A<b+k;A++){const z=this.views[A];z!==void 0&&z!==t&&z!==n&&S.push(z)}(s=c.direction)!==null&&s!==void 0||(c.direction="back")}const E=this.views.length+((l=y==null?void 0:y.length)!==null&&l!==void 0?l:0)-(k!=null?k:0);if(dr(E>=0,"final balance can not be negative"),E===0)throw console.warn("You can't remove all the pages in the navigation stack. nav.pop() is probably called too many times.",this,this.el),new Error("navigation stack needs at least one root page");if(y){let A=i.insertStart;for(const z of y)this.insertViewAt(z,A),A++;i.enteringRequiresTransition&&((d=c.direction)!==null&&d!==void 0||(c.direction="forward"))}if(S&&S.length>0){for(const A of S)hl(A.element,yL),hl(A.element,vL),hl(A.element,h1);for(const A of S)this.destroyView(A)}}async transition(t,n,i){const s=i.opts,l=s.progressAnimation?S=>{S!==void 0&&!this.gestureOrAnimationInProgress?(this.gestureOrAnimationInProgress=!0,S.onFinish(()=>{this.gestureOrAnimationInProgress=!1},{oneTimeCallback:!0}),S.progressEnd(0,0,0)):this.sbAni=S}:void 0,d=Tn(this),c=t.element,y=n&&n.element,b=Object.assign(Object.assign({mode:d,showGoBack:this.canGoBackSync(t),baseEl:this.el,progressCallback:l,animated:this.animated&&Un.getBoolean("animated",!0),enteringEl:c,leavingEl:y},s),{animationBuilder:s.animationBuilder||this.animation||Un.get("navAnimation")}),{hasCompleted:k}=await bL(b);return this.transitionFinish(k,t,n,s)}transitionFinish(t,n,i,s){const l=t?n:i;return l&&this.unmountInactiveViews(l),{hasCompleted:t,requiresTransition:!0,enteringView:n,leavingView:i,direction:s.direction}}insertViewAt(t,n){const i=this.views,s=i.indexOf(t);s>-1?(dr(t.nav===this,"view is not part of the nav"),i.splice(s,1),i.splice(n,0,t)):(dr(!t.nav,"nav is used"),t.nav=this,i.splice(n,0,t))}removeView(t){dr(t.state===HL||t.state===Ub,"view state should be loaded or destroyed");const n=this.views,i=n.indexOf(t);dr(i>-1,"view must be part of the stack"),i>=0&&n.splice(i,1)}destroyView(t){t._destroy(),this.removeView(t)}unmountInactiveViews(t){if(this.destroyed)return;const n=this.views,i=n.indexOf(t);for(let s=n.length-1;s>=0;s--){const l=n[s],d=l.element;d&&(s>i?(hl(d,h1),this.destroyView(l)):s<i&&d2(d,!0))}}canStart(){return!this.gestureOrAnimationInProgress&&!!this.swipeGesture&&!this.isTransitioning&&this.transInstr.length===0&&this.canGoBackSync()}onStart(){this.gestureOrAnimationInProgress=!0,this.pop({direction:"back",progressAnimation:!0})}onMove(t){this.sbAni&&this.sbAni.progressStep(t)}onEnd(t,n,i){if(this.sbAni){this.sbAni.onFinish(()=>{this.gestureOrAnimationInProgress=!1},{oneTimeCallback:!0});let s=t?-.001:.001;t?s+=jm([0,0],[.32,.72],[0,1],[1,1],n)[0]:(this.sbAni.easing("cubic-bezier(1, 0, 0.68, 0.28)"),s+=jm([0,0],[1,0],[.68,.28],[1,1],n)[0]),this.sbAni.progressEnd(t?1:0,s,i)}else this.gestureOrAnimationInProgress=!1}render(){return it("slot",{key:"8254ea10bef0575c13f8b0ddbe4643bec19f2366"})}get el(){return this}static get watchers(){return{swipeGesture:["swipeGestureChanged"],root:["rootChanged"]}}static get style(){return xZ}},[1,"ion-nav",{delegate:[16],swipeGesture:[1028,"swipe-gesture"],animated:[4],animation:[16],rootParams:[16],root:[1],push:[64],insert:[64],insertPages:[64],pop:[64],popTo:[64],popToRoot:[64],removeIndex:[64],setRoot:[64],setPages:[64],setRouteId:[64],getRouteId:[64],getActive:[64],getByIndex:[64],canGoBack:[64],getPrevious:[64]},void 0,{swipeGesture:["swipeGestureChanged"],root:["rootChanged"]}]);function SZ(){if(typeof customElements>"u")return;["ion-nav"].forEach(t=>{switch(t){case"ion-nav":customElements.get(t)||customElements.define(t,wZ);break}})}const kZ=SZ;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const EZ=":host{--color:initial;display:-ms-flexbox;display:flex;-ms-flex:1;flex:1;-ms-flex-align:center;align-items:center;-webkit-transform:translateZ(0);transform:translateZ(0);color:var(--color)}:host(.ion-color){color:var(--ion-color-base)}.toolbar-title{display:block;width:100%;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;pointer-events:auto}:host(.title-small) .toolbar-title{white-space:normal}:host{top:0;-webkit-padding-start:90px;padding-inline-start:90px;-webkit-padding-end:90px;padding-inline-end:90px;padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);position:absolute;width:100%;height:100%;-webkit-transform:translateZ(0);transform:translateZ(0);font-size:min(1.0625rem, 20.4px);font-weight:600;text-align:center;-webkit-box-sizing:border-box;box-sizing:border-box;pointer-events:none}@supports (inset-inline-start: 0){:host{inset-inline-start:0}}@supports not (inset-inline-start: 0){:host{left:0}:host-context([dir=rtl]){left:unset;right:unset;right:0}@supports selector(:dir(rtl)){:host(:dir(rtl)){left:unset;right:unset;right:0}}}:host(.title-small){-webkit-padding-start:9px;padding-inline-start:9px;-webkit-padding-end:9px;padding-inline-end:9px;padding-top:6px;padding-bottom:16px;position:relative;font-size:min(0.8125rem, 23.4px);font-weight:normal}:host(.title-large){-webkit-padding-start:12px;padding-inline-start:12px;-webkit-padding-end:12px;padding-inline-end:12px;padding-top:2px;padding-bottom:4px;-webkit-transform-origin:left center;transform-origin:left center;position:static;-ms-flex-align:end;align-items:flex-end;min-width:100%;font-size:min(2.125rem, 61.2px);font-weight:700;text-align:start}:host(.title-large.title-rtl){-webkit-transform-origin:right center;transform-origin:right center}:host(.title-large.ion-cloned-element){--color:var(--ion-text-color, #000);font-family:var(--ion-font-family)}:host(.title-large) .toolbar-title{-webkit-transform-origin:inherit;transform-origin:inherit;width:auto}:host-context([dir=rtl]):host(.title-large) .toolbar-title,:host-context([dir=rtl]).title-large .toolbar-title{-webkit-transform-origin:calc(100% - inherit);transform-origin:calc(100% - inherit)}@supports selector(:dir(rtl)){:host(.title-large:dir(rtl)) .toolbar-title{-webkit-transform-origin:calc(100% - inherit);transform-origin:calc(100% - inherit)}}",CZ=EZ,TZ=":host{--color:initial;display:-ms-flexbox;display:flex;-ms-flex:1;flex:1;-ms-flex-align:center;align-items:center;-webkit-transform:translateZ(0);transform:translateZ(0);color:var(--color)}:host(.ion-color){color:var(--ion-color-base)}.toolbar-title{display:block;width:100%;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;pointer-events:auto}:host(.title-small) .toolbar-title{white-space:normal}:host{-webkit-padding-start:20px;padding-inline-start:20px;-webkit-padding-end:20px;padding-inline-end:20px;padding-top:0;padding-bottom:0;font-size:1.25rem;font-weight:500;letter-spacing:0.0125em}:host(.title-small){width:100%;height:100%;font-size:0.9375rem;font-weight:normal}",IZ=TZ,PZ=Ei(class extends Ci{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionStyle=Hn(this,"ionStyle",7),this.color=void 0,this.size=void 0}sizeChanged(){this.emitStyle()}connectedCallback(){this.emitStyle()}emitStyle(){const t=this.getSize();this.ionStyle.emit({["title-".concat(t)]:!0})}getSize(){return this.size!==void 0?this.size:"default"}render(){const t=Tn(this),n=this.getSize();return it(ki,{key:"2642d433ba678b67503b7f1e9d0ae0390250bec8",class:za(this.color,{[t]:!0,["title-".concat(n)]:!0,"title-rtl":document.dir==="rtl"})},it("div",{key:"355184542e26b53296f7143d099cfebc3de7b569",class:"toolbar-title"},it("slot",{key:"aed07a34c22e4b1f34cdf40fea35481674d8941f"})))}get el(){return this}static get watchers(){return{size:["sizeChanged"]}}static get style(){return{ios:CZ,md:IZ}}},[33,"ion-title",{color:[513],size:[1]},void 0,{size:["sizeChanged"]}]);function AZ(){if(typeof customElements>"u")return;["ion-title"].forEach(t=>{switch(t){case"ion-title":customElements.get(t)||customElements.define(t,PZ);break}})}const RZ=AZ;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const MZ=":host{--border-width:0;--border-style:solid;--opacity:1;--opacity-scale:1;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:block;position:relative;width:100%;padding-right:var(--ion-safe-area-right);padding-left:var(--ion-safe-area-left);color:var(--color);font-family:var(--ion-font-family, inherit);contain:content;z-index:10;-webkit-box-sizing:border-box;box-sizing:border-box}:host(.ion-color){color:var(--ion-color-contrast)}:host(.ion-color) .toolbar-background{background:var(--ion-color-base)}.toolbar-container{-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);display:-ms-flexbox;display:flex;position:relative;-ms-flex-direction:row;flex-direction:row;-ms-flex-align:center;align-items:center;-ms-flex-pack:justify;justify-content:space-between;width:100%;min-height:var(--min-height);contain:content;overflow:hidden;z-index:10;-webkit-box-sizing:border-box;box-sizing:border-box}.toolbar-background{left:0;right:0;top:0;bottom:0;position:absolute;-webkit-transform:translateZ(0);transform:translateZ(0);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);background:var(--background);contain:strict;opacity:calc(var(--opacity) * var(--opacity-scale));z-index:-1;pointer-events:none}::slotted(ion-progress-bar){left:0;right:0;bottom:0;position:absolute}:host{--background:var(--ion-toolbar-background, var(--ion-color-step-50, #f7f7f7));--color:var(--ion-toolbar-color, var(--ion-text-color, #000));--border-color:var(--ion-toolbar-border-color, var(--ion-border-color, var(--ion-color-step-150, rgba(0, 0, 0, 0.2))));--padding-top:3px;--padding-bottom:3px;--padding-start:4px;--padding-end:4px;--min-height:44px}.toolbar-content{-ms-flex:1;flex:1;-ms-flex-order:4;order:4;min-width:0}:host(.toolbar-segment) .toolbar-content{display:-ms-inline-flexbox;display:inline-flex}:host(.toolbar-searchbar) .toolbar-container{padding-top:0;padding-bottom:0}:host(.toolbar-searchbar) ::slotted(*){-ms-flex-item-align:start;align-self:start}:host(.toolbar-searchbar) ::slotted(ion-chip){margin-top:3px}::slotted(ion-buttons){min-height:38px}::slotted([slot=start]){-ms-flex-order:2;order:2}::slotted([slot=secondary]){-ms-flex-order:3;order:3}::slotted([slot=primary]){-ms-flex-order:5;order:5;text-align:end}::slotted([slot=end]){-ms-flex-order:6;order:6;text-align:end}:host(.toolbar-title-large) .toolbar-container{-ms-flex-wrap:wrap;flex-wrap:wrap;-ms-flex-align:start;align-items:flex-start}:host(.toolbar-title-large) .toolbar-content ion-title{-ms-flex:1;flex:1;-ms-flex-order:8;order:8;min-width:100%}",zZ=MZ,LZ=":host{--border-width:0;--border-style:solid;--opacity:1;--opacity-scale:1;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:block;position:relative;width:100%;padding-right:var(--ion-safe-area-right);padding-left:var(--ion-safe-area-left);color:var(--color);font-family:var(--ion-font-family, inherit);contain:content;z-index:10;-webkit-box-sizing:border-box;box-sizing:border-box}:host(.ion-color){color:var(--ion-color-contrast)}:host(.ion-color) .toolbar-background{background:var(--ion-color-base)}.toolbar-container{-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);display:-ms-flexbox;display:flex;position:relative;-ms-flex-direction:row;flex-direction:row;-ms-flex-align:center;align-items:center;-ms-flex-pack:justify;justify-content:space-between;width:100%;min-height:var(--min-height);contain:content;overflow:hidden;z-index:10;-webkit-box-sizing:border-box;box-sizing:border-box}.toolbar-background{left:0;right:0;top:0;bottom:0;position:absolute;-webkit-transform:translateZ(0);transform:translateZ(0);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);background:var(--background);contain:strict;opacity:calc(var(--opacity) * var(--opacity-scale));z-index:-1;pointer-events:none}::slotted(ion-progress-bar){left:0;right:0;bottom:0;position:absolute}:host{--background:var(--ion-toolbar-background, var(--ion-background-color, #fff));--color:var(--ion-toolbar-color, var(--ion-text-color, #424242));--border-color:var(--ion-toolbar-border-color, var(--ion-border-color, var(--ion-color-step-150, #c1c4cd)));--padding-top:0;--padding-bottom:0;--padding-start:0;--padding-end:0;--min-height:56px}.toolbar-content{-ms-flex:1;flex:1;-ms-flex-order:3;order:3;min-width:0;max-width:100%}::slotted(.buttons-first-slot){-webkit-margin-start:4px;margin-inline-start:4px}::slotted(.buttons-last-slot){-webkit-margin-end:4px;margin-inline-end:4px}::slotted([slot=start]){-ms-flex-order:2;order:2}::slotted([slot=secondary]){-ms-flex-order:4;order:4}::slotted([slot=primary]){-ms-flex-order:5;order:5;text-align:end}::slotted([slot=end]){-ms-flex-order:6;order:6;text-align:end}",OZ=LZ,DZ=Ei(class extends Ci{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.childrenStyles=new Map,this.color=void 0}componentWillLoad(){const t=Array.from(this.el.querySelectorAll("ion-buttons")),n=t.find(l=>l.slot==="start");n&&n.classList.add("buttons-first-slot");const i=t.reverse(),s=i.find(l=>l.slot==="end")||i.find(l=>l.slot==="primary")||i.find(l=>l.slot==="secondary");s&&s.classList.add("buttons-last-slot")}childrenStyle(t){t.stopPropagation();const n=t.target.tagName,i=t.detail,s={},l=this.childrenStyles.get(n)||{};let d=!1;Object.keys(i).forEach(c=>{const y="toolbar-".concat(c),b=i[c];b!==l[y]&&(d=!0),b&&(s[y]=!0)}),d&&(this.childrenStyles.set(n,s),Nm(this))}render(){const t=Tn(this),n={};return this.childrenStyles.forEach(i=>{Object.assign(n,i)}),it(ki,{key:"fdd8621b4f69ce650b5aaf4fb6bffde29aa5ad65",class:Object.assign(Object.assign({},n),za(this.color,{[t]:!0,"in-toolbar":Ao("ion-toolbar",this.el)}))},it("div",{key:"c6ad5434546e2046a83574ea92a03a3f77d0a9e3",class:"toolbar-background"}),it("div",{key:"3b79dd20c3e8252cacfd46a82428df9ba0b8b86e",class:"toolbar-container"},it("slot",{key:"514259a8b76db9f3a587a7667b5e37fd8ade9481",name:"start"}),it("slot",{key:"d9ab68f0626f4ac8b83d21663eb67a47b76d809b",name:"secondary"}),it("div",{key:"2c21da88b67a7d7eef280e517bda9982264c7be4",class:"toolbar-content"},it("slot",{key:"ac2b7c8f20c5ac755df9032809c73eab9e767e36"})),it("slot",{key:"2ddd3b7e3803f2d56c32743dcfc114ddcb8684a2",name:"primary"}),it("slot",{key:"27483847d4333b4492506da33185c9ba1aa824a7",name:"end"})))}get el(){return this}static get style(){return{ios:zZ,md:OZ}}},[33,"ion-toolbar",{color:[513]},[[0,"ionStyle","childrenStyle"]]]);function $Z(){if(typeof customElements>"u")return;["ion-toolbar"].forEach(t=>{switch(t){case"ion-toolbar":customElements.get(t)||customElements.define(t,DZ);break}})}const BZ=$Z;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const FZ=lW;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const NZ=fW;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */var uA;(function(e){e.Dark="DARK",e.Light="LIGHT",e.Default="DEFAULT"})(uA||(uA={}));const jZ="html.plt-mobile ion-app{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}html.plt-mobile ion-app [contenteditable]{-webkit-user-select:text;-moz-user-select:text;-ms-user-select:text;user-select:text}ion-app.force-statusbar-padding{--ion-safe-area-top:20px}",VZ=jZ,UZ=Ei(class extends Ci{constructor(){super(),this.__registerHost()}componentDidLoad(){qZ(async()=>{const t=Ec(window,"hybrid");if(Un.getBoolean("_testing")||Ar(()=>import("./index9-BDKunaIm.js"),__vite__mapDeps([])).then(s=>s.startTapClick(Un)),Un.getBoolean("statusTap",t)&&Ar(()=>import("./status-tap-Dv2OAeYl.js"),__vite__mapDeps([])).then(s=>s.startStatusTap()),Un.getBoolean("inputShims",HZ())){const s=Ec(window,"ios")?"ios":"android";Ar(()=>import("./input-shims-BAwaEu5T.js"),__vite__mapDeps([])).then(l=>l.startInputShims(Un,s))}const n=await Ar(()=>Promise.resolve().then(()=>WH),void 0),i=t||Vm();Un.getBoolean("hardwareBackButton",i)?n.startHardwareBackButton():(Vm()&&ko("experimentalCloseWatcher was set to `true`, but hardwareBackButton was set to `false`. Both config options must be `true` for the Close Watcher API to be used."),n.blockHardwareBackButton()),typeof window<"u"&&Ar(()=>import("./keyboard2-B401Ob1w.js"),__vite__mapDeps([])).then(s=>s.startKeyboardAssist(window)),Ar(()=>import("./focus-visible-supuXXMI.js"),__vite__mapDeps([])).then(s=>this.focusVisible=s.startFocusVisible())})}async setFocus(t){this.focusVisible&&this.focusVisible.setFocus(t)}render(){const t=Tn(this);return it(ki,{key:"0ac01df6d90d8185017e1f8e8f02cdf407e6c94b",class:{[t]:!0,"ion-page":!0,"force-statusbar-padding":Un.getBoolean("_forceStatusbarPadding")}})}get el(){return this}static get style(){return VZ}},[0,"ion-app",{setFocus:[64]}]),HZ=()=>!!(Ec(window,"ios")&&Ec(window,"mobile")||Ec(window,"android")&&Ec(window,"mobileweb")),qZ=e=>{"requestIdleCallback"in window?window.requestIdleCallback(e):setTimeout(e,32)};function WZ(){if(typeof customElements>"u")return;["ion-app"].forEach(t=>{switch(t){case"ion-app":customElements.get(t)||customElements.define(t,UZ);break}})}const ZZ=WZ;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const GZ=':host{--background:transparent;--color-focused:currentColor;--color-hover:currentColor;--icon-margin-top:0;--icon-margin-bottom:0;--icon-padding-top:0;--icon-padding-end:0;--icon-padding-bottom:0;--icon-padding-start:0;--margin-top:0;--margin-end:0;--margin-bottom:0;--margin-start:0;--min-width:auto;--min-height:auto;--padding-top:0;--padding-end:0;--padding-bottom:0;--padding-start:0;--opacity:1;--ripple-color:currentColor;--transition:background-color, opacity 100ms linear;display:none;min-width:var(--min-width);min-height:var(--min-height);color:var(--color);font-family:var(--ion-font-family, inherit);text-align:center;text-decoration:none;text-overflow:ellipsis;text-transform:none;white-space:nowrap;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-font-kerning:none;font-kerning:none}ion-ripple-effect{color:var(--ripple-color)}:host(.ion-color) .button-native{color:var(--ion-color-base)}:host(.show-back-button){display:block}:host(.back-button-disabled){cursor:default;opacity:0.5;pointer-events:none}.button-native{border-radius:var(--border-radius);-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;-webkit-margin-start:var(--margin-start);margin-inline-start:var(--margin-start);-webkit-margin-end:var(--margin-end);margin-inline-end:var(--margin-end);margin-top:var(--margin-top);margin-bottom:var(--margin-bottom);-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;display:block;position:relative;width:100%;height:100%;min-height:inherit;-webkit-transition:var(--transition);transition:var(--transition);border:0;outline:none;background:var(--background);line-height:1;cursor:pointer;opacity:var(--opacity);overflow:hidden;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:0;-webkit-appearance:none;-moz-appearance:none;appearance:none}.button-inner{display:-ms-flexbox;display:flex;position:relative;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-ms-flex-negative:0;flex-shrink:0;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:100%;height:100%;z-index:1}ion-icon{-webkit-padding-start:var(--icon-padding-start);padding-inline-start:var(--icon-padding-start);-webkit-padding-end:var(--icon-padding-end);padding-inline-end:var(--icon-padding-end);padding-top:var(--icon-padding-top);padding-bottom:var(--icon-padding-bottom);-webkit-margin-start:var(--icon-margin-start);margin-inline-start:var(--icon-margin-start);-webkit-margin-end:var(--icon-margin-end);margin-inline-end:var(--icon-margin-end);margin-top:var(--icon-margin-top);margin-bottom:var(--icon-margin-bottom);display:inherit;font-size:var(--icon-font-size);font-weight:var(--icon-font-weight);pointer-events:none}:host(.ion-focused) .button-native{color:var(--color-focused)}:host(.ion-focused) .button-native::after{background:var(--background-focused);opacity:var(--background-focused-opacity)}.button-native::after{left:0;right:0;top:0;bottom:0;position:absolute;content:"";opacity:0}@media (any-hover: hover){:host(:hover) .button-native{color:var(--color-hover)}:host(:hover) .button-native::after{background:var(--background-hover);opacity:var(--background-hover-opacity)}}:host(.ion-color.ion-focused) .button-native{color:var(--ion-color-base)}@media (any-hover: hover){:host(.ion-color:hover) .button-native{color:var(--ion-color-base)}}:host(.in-toolbar:not(.in-toolbar-color)){color:var(--ion-toolbar-color, var(--color))}:host{--background-hover:transparent;--background-hover-opacity:1;--background-focused:currentColor;--background-focused-opacity:.1;--border-radius:4px;--color:var(--ion-color-primary, #3880ff);--icon-margin-end:1px;--icon-margin-start:-4px;--icon-font-size:1.6em;--min-height:32px;font-size:clamp(17px, 1.0625rem, 21.998px)}.button-native{-webkit-transform:translateZ(0);transform:translateZ(0);overflow:visible;z-index:99}:host(.ion-activated) .button-native{opacity:0.4}@media (any-hover: hover){:host(:hover){opacity:0.6}}',KZ=GZ,XZ=':host{--background:transparent;--color-focused:currentColor;--color-hover:currentColor;--icon-margin-top:0;--icon-margin-bottom:0;--icon-padding-top:0;--icon-padding-end:0;--icon-padding-bottom:0;--icon-padding-start:0;--margin-top:0;--margin-end:0;--margin-bottom:0;--margin-start:0;--min-width:auto;--min-height:auto;--padding-top:0;--padding-end:0;--padding-bottom:0;--padding-start:0;--opacity:1;--ripple-color:currentColor;--transition:background-color, opacity 100ms linear;display:none;min-width:var(--min-width);min-height:var(--min-height);color:var(--color);font-family:var(--ion-font-family, inherit);text-align:center;text-decoration:none;text-overflow:ellipsis;text-transform:none;white-space:nowrap;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-font-kerning:none;font-kerning:none}ion-ripple-effect{color:var(--ripple-color)}:host(.ion-color) .button-native{color:var(--ion-color-base)}:host(.show-back-button){display:block}:host(.back-button-disabled){cursor:default;opacity:0.5;pointer-events:none}.button-native{border-radius:var(--border-radius);-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;-webkit-margin-start:var(--margin-start);margin-inline-start:var(--margin-start);-webkit-margin-end:var(--margin-end);margin-inline-end:var(--margin-end);margin-top:var(--margin-top);margin-bottom:var(--margin-bottom);-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;display:block;position:relative;width:100%;height:100%;min-height:inherit;-webkit-transition:var(--transition);transition:var(--transition);border:0;outline:none;background:var(--background);line-height:1;cursor:pointer;opacity:var(--opacity);overflow:hidden;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:0;-webkit-appearance:none;-moz-appearance:none;appearance:none}.button-inner{display:-ms-flexbox;display:flex;position:relative;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-ms-flex-negative:0;flex-shrink:0;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:100%;height:100%;z-index:1}ion-icon{-webkit-padding-start:var(--icon-padding-start);padding-inline-start:var(--icon-padding-start);-webkit-padding-end:var(--icon-padding-end);padding-inline-end:var(--icon-padding-end);padding-top:var(--icon-padding-top);padding-bottom:var(--icon-padding-bottom);-webkit-margin-start:var(--icon-margin-start);margin-inline-start:var(--icon-margin-start);-webkit-margin-end:var(--icon-margin-end);margin-inline-end:var(--icon-margin-end);margin-top:var(--icon-margin-top);margin-bottom:var(--icon-margin-bottom);display:inherit;font-size:var(--icon-font-size);font-weight:var(--icon-font-weight);pointer-events:none}:host(.ion-focused) .button-native{color:var(--color-focused)}:host(.ion-focused) .button-native::after{background:var(--background-focused);opacity:var(--background-focused-opacity)}.button-native::after{left:0;right:0;top:0;bottom:0;position:absolute;content:"";opacity:0}@media (any-hover: hover){:host(:hover) .button-native{color:var(--color-hover)}:host(:hover) .button-native::after{background:var(--background-hover);opacity:var(--background-hover-opacity)}}:host(.ion-color.ion-focused) .button-native{color:var(--ion-color-base)}@media (any-hover: hover){:host(.ion-color:hover) .button-native{color:var(--ion-color-base)}}:host(.in-toolbar:not(.in-toolbar-color)){color:var(--ion-toolbar-color, var(--color))}:host{--border-radius:4px;--background-focused:currentColor;--background-focused-opacity:.12;--background-hover:currentColor;--background-hover-opacity:0.04;--color:currentColor;--icon-margin-end:0;--icon-margin-start:0;--icon-font-size:1.5rem;--icon-font-weight:normal;--min-height:32px;--min-width:44px;--padding-start:12px;--padding-end:12px;font-size:0.875rem;font-weight:500;text-transform:uppercase}:host(.back-button-has-icon-only){--border-radius:50%;min-width:48px;min-height:48px;aspect-ratio:1/1}.button-native{-webkit-box-shadow:none;box-shadow:none}.button-text{-webkit-padding-start:4px;padding-inline-start:4px;-webkit-padding-end:4px;padding-inline-end:4px;padding-top:0;padding-bottom:0}ion-icon{line-height:0.67;text-align:start}@media (any-hover: hover){:host(.ion-color:hover) .button-native::after{background:var(--ion-color-base)}}:host(.ion-color.ion-focused) .button-native::after{background:var(--ion-color-base)}',YZ=XZ,JZ=Ei(class extends Ci{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.inheritedAttributes={},this.onClick=async t=>{const n=this.el.closest("ion-nav");return t.preventDefault(),n&&await n.canGoBack()?n.pop({animationBuilder:this.routerAnimation,skipIfBusy:!0}):Wk(this.defaultHref,t,"back",this.routerAnimation)},this.color=void 0,this.defaultHref=void 0,this.disabled=!1,this.icon=void 0,this.text=void 0,this.type="button",this.routerAnimation=void 0}componentWillLoad(){this.inheritedAttributes=Fg(this.el),this.defaultHref===void 0&&(this.defaultHref=Un.get("backButtonDefaultHref"))}get backButtonIcon(){const t=this.icon;return t!=null?t:Tn(this)==="ios"?Un.get("backButtonIcon",rq):Un.get("backButtonIcon",iq)}get backButtonText(){const t=Tn(this)==="ios"?"Back":null;return this.text!=null?this.text:Un.get("backButtonText",t)}get hasIconOnly(){return this.backButtonIcon&&!this.backButtonText}get rippleType(){return this.hasIconOnly?"unbounded":"bounded"}render(){const{color:t,defaultHref:n,disabled:i,type:s,hasIconOnly:l,backButtonIcon:d,backButtonText:c,icon:y,inheritedAttributes:b}=this,k=n!==void 0,S=Tn(this),E=b["aria-label"]||c||"back";return it(ki,{key:"175fff2d7a41d2deaaf7b781c5ba2aac9311ebf4",onClick:this.onClick,class:za(t,{[S]:!0,button:!0,"back-button-disabled":i,"back-button-has-icon-only":l,"in-toolbar":Ao("ion-toolbar",this.el),"in-toolbar-color":Ao("ion-toolbar[color]",this.el),"ion-activatable":!0,"ion-focusable":!0,"show-back-button":k})},it("button",{key:"59fe30c167ea82e2431e45d46060a01bcb2aea77",type:s,disabled:i,class:"button-native",part:"native","aria-label":E},it("span",{key:"3d704fb7ef001446361e7a09d43763a771b242b9",class:"button-inner"},d&&it("ion-icon",{part:"icon",icon:d,"aria-hidden":"true",lazy:!1,"flip-rtl":y===void 0}),c&&it("span",{part:"text","aria-hidden":"true",class:"button-text"},c)),S==="md"&&it("ion-ripple-effect",{type:this.rippleType})))}get el(){return this}static get style(){return{ios:KZ,md:YZ}}},[33,"ion-back-button",{color:[513],defaultHref:[1025,"default-href"],disabled:[516],icon:[1],text:[1],type:[1],routerAnimation:[16]}]);function QZ(){if(typeof customElements>"u")return;["ion-back-button","ion-icon","ion-ripple-effect"].forEach(t=>{switch(t){case"ion-back-button":customElements.get(t)||customElements.define(t,JZ);break;case"ion-icon":customElements.get(t)||DL();break;case"ion-ripple-effect":customElements.get(t)||$L();break}})}const eG=QZ,tG=":host{left:0;right:0;top:0;bottom:0;position:absolute;contain:layout size style;z-index:0}",nG=tG,iG=Ei(class extends Ci{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionNavWillLoad=Hn(this,"ionNavWillLoad",7),this.ionNavWillChange=Hn(this,"ionNavWillChange",3),this.ionNavDidChange=Hn(this,"ionNavDidChange",3),this.lockController=xW(),this.gestureOrAnimationInProgress=!1,this.mode=Tn(this),this.delegate=void 0,this.animated=!0,this.animation=void 0,this.swipeHandler=void 0}swipeHandlerChanged(){this.gesture&&this.gesture.enable(this.swipeHandler!==void 0)}async connectedCallback(){const t=()=>{this.gestureOrAnimationInProgress=!0,this.swipeHandler&&this.swipeHandler.onStart()};this.gesture=(await Ar(()=>import("./swipe-back-Dr9KwQdC.js"),__vite__mapDeps([0,1]))).createSwipeBackGesture(this.el,()=>!this.gestureOrAnimationInProgress&&!!this.swipeHandler&&this.swipeHandler.canStart(),()=>t(),n=>{var i;return(i=this.ani)===null||i===void 0?void 0:i.progressStep(n)},(n,i,s)=>{if(this.ani){this.ani.onFinish(()=>{this.gestureOrAnimationInProgress=!1,this.swipeHandler&&this.swipeHandler.onEnd(n)},{oneTimeCallback:!0});let l=n?-.001:.001;n?l+=jm([0,0],[.32,.72],[0,1],[1,1],i)[0]:(this.ani.easing("cubic-bezier(1, 0, 0.68, 0.28)"),l+=jm([0,0],[1,0],[.68,.28],[1,1],i)[0]),this.ani.progressEnd(n?1:0,l,s)}else this.gestureOrAnimationInProgress=!1}),this.swipeHandlerChanged()}componentWillLoad(){this.ionNavWillLoad.emit()}disconnectedCallback(){this.gesture&&(this.gesture.destroy(),this.gesture=void 0)}async commit(t,n,i){const s=await this.lockController.lock();let l=!1;try{l=await this.transition(t,n,i)}catch(d){console.error(d)}return s(),l}async setRouteId(t,n,i,s){return{changed:await this.setRoot(t,n,{duration:i==="root"?0:void 0,direction:i==="back"?"back":"forward",animationBuilder:s}),element:this.activeEl}}async getRouteId(){const t=this.activeEl;return t?{id:t.tagName,element:t,params:this.activeParams}:void 0}async setRoot(t,n,i){if(this.activeComponent===t&&gL(n,this.activeParams))return!1;const s=this.activeEl,l=await ML(this.delegate,this.el,t,["ion-page","ion-page-invisible"],n);return this.activeComponent=t,this.activeEl=l,this.activeParams=n,await this.commit(l,s,i),await JH(this.delegate,s),!0}async transition(t,n,i={}){if(n===t)return!1;this.ionNavWillChange.emit();const{el:s,mode:l}=this,d=this.animated&&Un.getBoolean("animated",!0),c=i.animationBuilder||this.animation||Un.get("navAnimation");return await bL(Object.assign(Object.assign({mode:l,animated:d,enteringEl:t,leavingEl:n,baseEl:s,deepWait:c2(s),progressCallback:i.progressAnimation?y=>{y!==void 0&&!this.gestureOrAnimationInProgress?(this.gestureOrAnimationInProgress=!0,y.onFinish(()=>{this.gestureOrAnimationInProgress=!1,this.swipeHandler&&this.swipeHandler.onEnd(!1)},{oneTimeCallback:!0}),y.progressEnd(0,0,0)):this.ani=y}:void 0},i),{animationBuilder:c})),this.ionNavDidChange.emit(),!0}render(){return it("slot",{key:"e4eaa40478f70742d0ff7602ed5f83879da9f1b4"})}get el(){return this}static get watchers(){return{swipeHandler:["swipeHandlerChanged"]}}static get style(){return nG}},[1,"ion-router-outlet",{mode:[1025],delegate:[16],animated:[4],animation:[16],swipeHandler:[16],commit:[64],setRouteId:[64],getRouteId:[64]},void 0,{swipeHandler:["swipeHandlerChanged"]}]);function rG(){if(typeof customElements>"u")return;["ion-router-outlet"].forEach(t=>{switch(t){case"ion-router-outlet":customElements.get(t)||customElements.define(t,iG);break}})}const oG=rG;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const sG=":host{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:auto;padding-right:var(--ion-safe-area-right);padding-bottom:var(--ion-safe-area-bottom, 0);padding-left:var(--ion-safe-area-left);border-top:var(--border);background:var(--background);color:var(--color);text-align:center;contain:strict;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:10;-webkit-box-sizing:content-box !important;box-sizing:content-box !important}:host(.ion-color) ::slotted(ion-tab-button){--background-focused:var(--ion-color-shade);--color-selected:var(--ion-color-contrast)}:host(.ion-color) ::slotted(.tab-selected){color:var(--ion-color-contrast)}:host(.ion-color),:host(.ion-color) ::slotted(ion-tab-button){color:rgba(var(--ion-color-contrast-rgb), 0.7)}:host(.ion-color),:host(.ion-color) ::slotted(ion-tab-button){background:var(--ion-color-base)}:host(.ion-color) ::slotted(ion-tab-button.ion-focused),:host(.tab-bar-translucent) ::slotted(ion-tab-button.ion-focused){background:var(--background-focused)}:host(.tab-bar-translucent) ::slotted(ion-tab-button){background:transparent}:host([slot=top]){padding-top:var(--ion-safe-area-top, 0);padding-bottom:0;border-top:0;border-bottom:var(--border)}:host(.tab-bar-hidden){display:none !important}:host{--background:var(--ion-tab-bar-background, var(--ion-color-step-50, #f7f7f7));--background-focused:var(--ion-tab-bar-background-focused, #e0e0e0);--border:0.55px solid var(--ion-tab-bar-border-color, var(--ion-border-color, var(--ion-color-step-150, rgba(0, 0, 0, 0.2))));--color:var(--ion-tab-bar-color, var(--ion-color-step-600, #666666));--color-selected:var(--ion-tab-bar-color-selected, var(--ion-color-primary, #3880ff));height:50px}@supports ((-webkit-backdrop-filter: blur(0)) or (backdrop-filter: blur(0))){:host(.tab-bar-translucent){--background:rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.8);-webkit-backdrop-filter:saturate(210%) blur(20px);backdrop-filter:saturate(210%) blur(20px)}:host(.ion-color.tab-bar-translucent){background:rgba(var(--ion-color-base-rgb), 0.8)}:host(.tab-bar-translucent) ::slotted(ion-tab-button.ion-focused){background:rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.6)}}",aG=sG,lG=":host{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:auto;padding-right:var(--ion-safe-area-right);padding-bottom:var(--ion-safe-area-bottom, 0);padding-left:var(--ion-safe-area-left);border-top:var(--border);background:var(--background);color:var(--color);text-align:center;contain:strict;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:10;-webkit-box-sizing:content-box !important;box-sizing:content-box !important}:host(.ion-color) ::slotted(ion-tab-button){--background-focused:var(--ion-color-shade);--color-selected:var(--ion-color-contrast)}:host(.ion-color) ::slotted(.tab-selected){color:var(--ion-color-contrast)}:host(.ion-color),:host(.ion-color) ::slotted(ion-tab-button){color:rgba(var(--ion-color-contrast-rgb), 0.7)}:host(.ion-color),:host(.ion-color) ::slotted(ion-tab-button){background:var(--ion-color-base)}:host(.ion-color) ::slotted(ion-tab-button.ion-focused),:host(.tab-bar-translucent) ::slotted(ion-tab-button.ion-focused){background:var(--background-focused)}:host(.tab-bar-translucent) ::slotted(ion-tab-button){background:transparent}:host([slot=top]){padding-top:var(--ion-safe-area-top, 0);padding-bottom:0;border-top:0;border-bottom:var(--border)}:host(.tab-bar-hidden){display:none !important}:host{--background:var(--ion-tab-bar-background, var(--ion-background-color, #fff));--background-focused:var(--ion-tab-bar-background-focused, #e0e0e0);--border:1px solid var(--ion-tab-bar-border-color, var(--ion-border-color, var(--ion-color-step-150, rgba(0, 0, 0, 0.07))));--color:var(--ion-tab-bar-color, var(--ion-color-step-650, #595959));--color-selected:var(--ion-tab-bar-color-selected, var(--ion-color-primary, #3880ff));height:56px}",cG=lG,uG=Ei(class extends Ci{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionTabBarChanged=Hn(this,"ionTabBarChanged",7),this.ionTabBarLoaded=Hn(this,"ionTabBarLoaded",7),this.keyboardCtrl=null,this.keyboardVisible=!1,this.color=void 0,this.selectedTab=void 0,this.translucent=!1}selectedTabChanged(){this.selectedTab!==void 0&&this.ionTabBarChanged.emit({tab:this.selectedTab})}componentWillLoad(){this.selectedTabChanged()}async connectedCallback(){this.keyboardCtrl=await VL(async(t,n)=>{t===!1&&n!==void 0&&await n,this.keyboardVisible=t})}disconnectedCallback(){this.keyboardCtrl&&this.keyboardCtrl.destroy()}componentDidLoad(){this.ionTabBarLoaded.emit()}render(){const{color:t,translucent:n,keyboardVisible:i}=this,s=Tn(this),l=i&&this.el.getAttribute("slot")!=="top";return it(ki,{key:"51e4bdbce8c7107c1114a39618b4a9a941876bb1",role:"tablist","aria-hidden":l?"true":null,class:za(t,{[s]:!0,"tab-bar-translucent":n,"tab-bar-hidden":l})},it("slot",{key:"c11618f97e93deb0a56f33c904481b4811c685ec"}))}get el(){return this}static get watchers(){return{selectedTab:["selectedTabChanged"]}}static get style(){return{ios:aG,md:cG}}},[33,"ion-tab-bar",{color:[513],selectedTab:[1,"selected-tab"],translucent:[4],keyboardVisible:[32]},void 0,{selectedTab:["selectedTabChanged"]}]);function dG(){if(typeof customElements>"u")return;["ion-tab-bar"].forEach(t=>{switch(t){case"ion-tab-bar":customElements.get(t)||customElements.define(t,uG);break}})}const hG=dG;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const fG=':host{--ripple-color:var(--color-selected);--background-focused-opacity:1;-ms-flex:1;flex:1;-ms-flex-direction:column;flex-direction:column;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;height:100%;outline:none;background:var(--background);color:var(--color)}.button-native{border-radius:inherit;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;display:-ms-flexbox;display:flex;position:relative;-ms-flex-direction:inherit;flex-direction:inherit;-ms-flex-align:inherit;align-items:inherit;-ms-flex-pack:inherit;justify-content:inherit;width:100%;height:100%;border:0;outline:none;background:transparent;text-decoration:none;cursor:pointer;overflow:hidden;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-user-drag:none}.button-native::after{left:0;right:0;top:0;bottom:0;position:absolute;content:"";opacity:0}.button-inner{display:-ms-flexbox;display:flex;position:relative;-ms-flex-flow:inherit;flex-flow:inherit;-ms-flex-align:inherit;align-items:inherit;-ms-flex-pack:inherit;justify-content:inherit;width:100%;height:100%;z-index:1}:host(.ion-focused) .button-native{color:var(--color-focused)}:host(.ion-focused) .button-native::after{background:var(--background-focused);opacity:var(--background-focused-opacity)}@media (any-hover: hover){a:hover{color:var(--color-selected)}}:host(.tab-selected){color:var(--color-selected)}:host(.tab-hidden){display:none !important}:host(.tab-disabled){pointer-events:none;opacity:0.4}::slotted(ion-label),::slotted(ion-icon){display:block;-ms-flex-item-align:center;align-self:center;max-width:100%;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;-webkit-box-sizing:border-box;box-sizing:border-box}::slotted(ion-label){-ms-flex-order:0;order:0}::slotted(ion-icon){-ms-flex-order:-1;order:-1;height:1em}:host(.tab-has-label-only) ::slotted(ion-label){white-space:normal}::slotted(ion-badge){-webkit-box-sizing:border-box;box-sizing:border-box;position:absolute;z-index:1}:host(.tab-layout-icon-start){-ms-flex-direction:row;flex-direction:row}:host(.tab-layout-icon-end){-ms-flex-direction:row-reverse;flex-direction:row-reverse}:host(.tab-layout-icon-bottom){-ms-flex-direction:column-reverse;flex-direction:column-reverse}:host(.tab-layout-icon-hide) ::slotted(ion-icon){display:none}:host(.tab-layout-label-hide) ::slotted(ion-label){display:none}ion-ripple-effect{color:var(--ripple-color)}:host{--padding-top:0;--padding-end:2px;--padding-bottom:0;--padding-start:2px;max-width:240px;font-size:10px}::slotted(ion-badge){-webkit-padding-start:6px;padding-inline-start:6px;-webkit-padding-end:6px;padding-inline-end:6px;padding-top:1px;padding-bottom:1px;top:4px;height:auto;font-size:12px;line-height:16px}@supports (inset-inline-start: 0){::slotted(ion-badge){inset-inline-start:calc(50% + 6px)}}@supports not (inset-inline-start: 0){::slotted(ion-badge){left:calc(50% + 6px)}:host-context([dir=rtl]) ::slotted(ion-badge){left:unset;right:unset;right:calc(50% + 6px)}[dir=rtl] ::slotted(ion-badge){left:unset;right:unset;right:calc(50% + 6px)}@supports selector(:dir(rtl)){::slotted(ion-badge):dir(rtl){left:unset;right:unset;right:calc(50% + 6px)}}}::slotted(ion-icon){margin-top:2px;margin-bottom:2px;font-size:30px}::slotted(ion-icon::before){vertical-align:top}::slotted(ion-label){margin-top:0;margin-bottom:1px;min-height:11px;font-weight:500}:host(.tab-has-label-only) ::slotted(ion-label){margin-left:0;margin-right:0;margin-top:2px;margin-bottom:2px;font-size:12px;font-size:14px;line-height:1.1}:host(.tab-layout-icon-end) ::slotted(ion-label),:host(.tab-layout-icon-start) ::slotted(ion-label),:host(.tab-layout-icon-hide) ::slotted(ion-label){margin-top:2px;margin-bottom:2px;font-size:14px;line-height:1.1}:host(.tab-layout-icon-end) ::slotted(ion-icon),:host(.tab-layout-icon-start) ::slotted(ion-icon){min-width:24px;height:26px;margin-top:2px;margin-bottom:1px;font-size:24px}@supports (inset-inline-start: 0){:host(.tab-layout-icon-bottom) ::slotted(ion-badge){inset-inline-start:calc(50% + 12px)}}@supports not (inset-inline-start: 0){:host(.tab-layout-icon-bottom) ::slotted(ion-badge){left:calc(50% + 12px)}:host-context([dir=rtl]):host(.tab-layout-icon-bottom) ::slotted(ion-badge),:host-context([dir=rtl]).tab-layout-icon-bottom ::slotted(ion-badge){left:unset;right:unset;right:calc(50% + 12px)}@supports selector(:dir(rtl)){:host(.tab-layout-icon-bottom:dir(rtl)) ::slotted(ion-badge){left:unset;right:unset;right:calc(50% + 12px)}}}:host(.tab-layout-icon-bottom) ::slotted(ion-icon){margin-top:0;margin-bottom:1px}:host(.tab-layout-icon-bottom) ::slotted(ion-label){margin-top:4px}:host(.tab-layout-icon-start) ::slotted(ion-badge),:host(.tab-layout-icon-end) ::slotted(ion-badge){top:10px}@supports (inset-inline-start: 0){:host(.tab-layout-icon-start) ::slotted(ion-badge),:host(.tab-layout-icon-end) ::slotted(ion-badge){inset-inline-start:calc(50% + 35px)}}@supports not (inset-inline-start: 0){:host(.tab-layout-icon-start) ::slotted(ion-badge),:host(.tab-layout-icon-end) ::slotted(ion-badge){left:calc(50% + 35px)}:host-context([dir=rtl]):host(.tab-layout-icon-start) ::slotted(ion-badge),:host-context([dir=rtl]).tab-layout-icon-start ::slotted(ion-badge),:host-context([dir=rtl]):host(.tab-layout-icon-end) ::slotted(ion-badge),:host-context([dir=rtl]).tab-layout-icon-end ::slotted(ion-badge){left:unset;right:unset;right:calc(50% + 35px)}@supports selector(:dir(rtl)){:host(.tab-layout-icon-start:dir(rtl)) ::slotted(ion-badge),:host(.tab-layout-icon-end:dir(rtl)) ::slotted(ion-badge){left:unset;right:unset;right:calc(50% + 35px)}}}:host(.tab-layout-icon-hide) ::slotted(ion-badge),:host(.tab-has-label-only) ::slotted(ion-badge){top:10px}@supports (inset-inline-start: 0){:host(.tab-layout-icon-hide) ::slotted(ion-badge),:host(.tab-has-label-only) ::slotted(ion-badge){inset-inline-start:calc(50% + 30px)}}@supports not (inset-inline-start: 0){:host(.tab-layout-icon-hide) ::slotted(ion-badge),:host(.tab-has-label-only) ::slotted(ion-badge){left:calc(50% + 30px)}:host-context([dir=rtl]):host(.tab-layout-icon-hide) ::slotted(ion-badge),:host-context([dir=rtl]).tab-layout-icon-hide ::slotted(ion-badge),:host-context([dir=rtl]):host(.tab-has-label-only) ::slotted(ion-badge),:host-context([dir=rtl]).tab-has-label-only ::slotted(ion-badge){left:unset;right:unset;right:calc(50% + 30px)}@supports selector(:dir(rtl)){:host(.tab-layout-icon-hide:dir(rtl)) ::slotted(ion-badge),:host(.tab-has-label-only:dir(rtl)) ::slotted(ion-badge){left:unset;right:unset;right:calc(50% + 30px)}}}:host(.tab-layout-label-hide) ::slotted(ion-badge),:host(.tab-has-icon-only) ::slotted(ion-badge){top:10px}:host(.tab-layout-label-hide) ::slotted(ion-icon){margin-left:0;margin-right:0;margin-top:0;margin-bottom:0}',pG=fG,mG=':host{--ripple-color:var(--color-selected);--background-focused-opacity:1;-ms-flex:1;flex:1;-ms-flex-direction:column;flex-direction:column;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;height:100%;outline:none;background:var(--background);color:var(--color)}.button-native{border-radius:inherit;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;display:-ms-flexbox;display:flex;position:relative;-ms-flex-direction:inherit;flex-direction:inherit;-ms-flex-align:inherit;align-items:inherit;-ms-flex-pack:inherit;justify-content:inherit;width:100%;height:100%;border:0;outline:none;background:transparent;text-decoration:none;cursor:pointer;overflow:hidden;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-user-drag:none}.button-native::after{left:0;right:0;top:0;bottom:0;position:absolute;content:"";opacity:0}.button-inner{display:-ms-flexbox;display:flex;position:relative;-ms-flex-flow:inherit;flex-flow:inherit;-ms-flex-align:inherit;align-items:inherit;-ms-flex-pack:inherit;justify-content:inherit;width:100%;height:100%;z-index:1}:host(.ion-focused) .button-native{color:var(--color-focused)}:host(.ion-focused) .button-native::after{background:var(--background-focused);opacity:var(--background-focused-opacity)}@media (any-hover: hover){a:hover{color:var(--color-selected)}}:host(.tab-selected){color:var(--color-selected)}:host(.tab-hidden){display:none !important}:host(.tab-disabled){pointer-events:none;opacity:0.4}::slotted(ion-label),::slotted(ion-icon){display:block;-ms-flex-item-align:center;align-self:center;max-width:100%;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;-webkit-box-sizing:border-box;box-sizing:border-box}::slotted(ion-label){-ms-flex-order:0;order:0}::slotted(ion-icon){-ms-flex-order:-1;order:-1;height:1em}:host(.tab-has-label-only) ::slotted(ion-label){white-space:normal}::slotted(ion-badge){-webkit-box-sizing:border-box;box-sizing:border-box;position:absolute;z-index:1}:host(.tab-layout-icon-start){-ms-flex-direction:row;flex-direction:row}:host(.tab-layout-icon-end){-ms-flex-direction:row-reverse;flex-direction:row-reverse}:host(.tab-layout-icon-bottom){-ms-flex-direction:column-reverse;flex-direction:column-reverse}:host(.tab-layout-icon-hide) ::slotted(ion-icon){display:none}:host(.tab-layout-label-hide) ::slotted(ion-label){display:none}ion-ripple-effect{color:var(--ripple-color)}:host{--padding-top:0;--padding-end:12px;--padding-bottom:0;--padding-start:12px;max-width:168px;font-size:12px;font-weight:normal;letter-spacing:0.03em}::slotted(ion-label){margin-left:0;margin-right:0;margin-top:2px;margin-bottom:2px;text-transform:none}::slotted(ion-icon){margin-left:0;margin-right:0;margin-top:16px;margin-bottom:16px;-webkit-transform-origin:center center;transform-origin:center center;font-size:22px}:host-context([dir=rtl]) ::slotted(ion-icon){-webkit-transform-origin:calc(100% - center) center;transform-origin:calc(100% - center) center}[dir=rtl] ::slotted(ion-icon){-webkit-transform-origin:calc(100% - center) center;transform-origin:calc(100% - center) center}@supports selector(:dir(rtl)){::slotted(ion-icon):dir(rtl){-webkit-transform-origin:calc(100% - center) center;transform-origin:calc(100% - center) center}}::slotted(ion-badge){border-radius:8px;-webkit-padding-start:2px;padding-inline-start:2px;-webkit-padding-end:2px;padding-inline-end:2px;padding-top:3px;padding-bottom:2px;top:8px;min-width:12px;font-size:8px;font-weight:normal}@supports (inset-inline-start: 0){::slotted(ion-badge){inset-inline-start:calc(50% + 6px)}}@supports not (inset-inline-start: 0){::slotted(ion-badge){left:calc(50% + 6px)}:host-context([dir=rtl]) ::slotted(ion-badge){left:unset;right:unset;right:calc(50% + 6px)}[dir=rtl] ::slotted(ion-badge){left:unset;right:unset;right:calc(50% + 6px)}@supports selector(:dir(rtl)){::slotted(ion-badge):dir(rtl){left:unset;right:unset;right:calc(50% + 6px)}}}::slotted(ion-badge:empty){display:block;min-width:8px;height:8px}:host(.tab-layout-icon-top) ::slotted(ion-icon){margin-top:6px;margin-bottom:2px}:host(.tab-layout-icon-top) ::slotted(ion-label){margin-top:0;margin-bottom:6px}:host(.tab-layout-icon-bottom) ::slotted(ion-badge){top:8px}@supports (inset-inline-start: 0){:host(.tab-layout-icon-bottom) ::slotted(ion-badge){inset-inline-start:70%}}@supports not (inset-inline-start: 0){:host(.tab-layout-icon-bottom) ::slotted(ion-badge){left:70%}:host-context([dir=rtl]):host(.tab-layout-icon-bottom) ::slotted(ion-badge),:host-context([dir=rtl]).tab-layout-icon-bottom ::slotted(ion-badge){left:unset;right:unset;right:70%}@supports selector(:dir(rtl)){:host(.tab-layout-icon-bottom:dir(rtl)) ::slotted(ion-badge){left:unset;right:unset;right:70%}}}:host(.tab-layout-icon-bottom) ::slotted(ion-icon){margin-top:0;margin-bottom:6px}:host(.tab-layout-icon-bottom) ::slotted(ion-label){margin-top:6px;margin-bottom:0}:host(.tab-layout-icon-start) ::slotted(ion-badge),:host(.tab-layout-icon-end) ::slotted(ion-badge){top:16px}@supports (inset-inline-start: 0){:host(.tab-layout-icon-start) ::slotted(ion-badge),:host(.tab-layout-icon-end) ::slotted(ion-badge){inset-inline-start:80%}}@supports not (inset-inline-start: 0){:host(.tab-layout-icon-start) ::slotted(ion-badge),:host(.tab-layout-icon-end) ::slotted(ion-badge){left:80%}:host-context([dir=rtl]):host(.tab-layout-icon-start) ::slotted(ion-badge),:host-context([dir=rtl]).tab-layout-icon-start ::slotted(ion-badge),:host-context([dir=rtl]):host(.tab-layout-icon-end) ::slotted(ion-badge),:host-context([dir=rtl]).tab-layout-icon-end ::slotted(ion-badge){left:unset;right:unset;right:80%}@supports selector(:dir(rtl)){:host(.tab-layout-icon-start:dir(rtl)) ::slotted(ion-badge),:host(.tab-layout-icon-end:dir(rtl)) ::slotted(ion-badge){left:unset;right:unset;right:80%}}}:host(.tab-layout-icon-start) ::slotted(ion-icon){-webkit-margin-end:6px;margin-inline-end:6px}:host(.tab-layout-icon-end) ::slotted(ion-icon){-webkit-margin-start:6px;margin-inline-start:6px}:host(.tab-layout-icon-hide) ::slotted(ion-badge),:host(.tab-has-label-only) ::slotted(ion-badge){top:16px}@supports (inset-inline-start: 0){:host(.tab-layout-icon-hide) ::slotted(ion-badge),:host(.tab-has-label-only) ::slotted(ion-badge){inset-inline-start:70%}}@supports not (inset-inline-start: 0){:host(.tab-layout-icon-hide) ::slotted(ion-badge),:host(.tab-has-label-only) ::slotted(ion-badge){left:70%}:host-context([dir=rtl]):host(.tab-layout-icon-hide) ::slotted(ion-badge),:host-context([dir=rtl]).tab-layout-icon-hide ::slotted(ion-badge),:host-context([dir=rtl]):host(.tab-has-label-only) ::slotted(ion-badge),:host-context([dir=rtl]).tab-has-label-only ::slotted(ion-badge){left:unset;right:unset;right:70%}@supports selector(:dir(rtl)){:host(.tab-layout-icon-hide:dir(rtl)) ::slotted(ion-badge),:host(.tab-has-label-only:dir(rtl)) ::slotted(ion-badge){left:unset;right:unset;right:70%}}}:host(.tab-layout-icon-hide) ::slotted(ion-label),:host(.tab-has-label-only) ::slotted(ion-label){margin-top:0;margin-bottom:0}:host(.tab-layout-label-hide) ::slotted(ion-badge),:host(.tab-has-icon-only) ::slotted(ion-badge){top:16px}:host(.tab-layout-label-hide) ::slotted(ion-icon),:host(.tab-has-icon-only) ::slotted(ion-icon){margin-top:0;margin-bottom:0;font-size:24px}',gG=mG,yG=Ei(class extends Ci{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionTabButtonClick=Hn(this,"ionTabButtonClick",7),this.inheritedAttributes={},this.onKeyUp=t=>{(t.key==="Enter"||t.key===" ")&&this.selectTab(t)},this.onClick=t=>{this.selectTab(t)},this.disabled=!1,this.download=void 0,this.href=void 0,this.rel=void 0,this.layout=void 0,this.selected=!1,this.tab=void 0,this.target=void 0}onTabBarChanged(t){const n=t.target,i=this.el.parentElement;(t.composedPath().includes(i)||n!=null&&n.contains(this.el))&&(this.selected=this.tab===t.detail.tab)}componentWillLoad(){this.inheritedAttributes=Object.assign({},G0(this.el,["aria-label"])),this.layout===void 0&&(this.layout=Un.get("tabButtonLayout","icon-top"))}selectTab(t){this.tab!==void 0&&(this.disabled||this.ionTabButtonClick.emit({tab:this.tab,href:this.href,selected:this.selected}),t.preventDefault())}get hasLabel(){return!!this.el.querySelector("ion-label")}get hasIcon(){return!!this.el.querySelector("ion-icon")}render(){const{disabled:t,hasIcon:n,hasLabel:i,href:s,rel:l,target:d,layout:c,selected:y,tab:b,inheritedAttributes:k}=this,S=Tn(this),E={download:this.download,href:s,rel:l,target:d};return it(ki,{key:"32ec1fb183523dadaaed6689add4a042d0fdd69a",onClick:this.onClick,onKeyup:this.onKeyUp,id:b!==void 0?"tab-button-".concat(b):null,class:{[S]:!0,"tab-selected":y,"tab-disabled":t,"tab-has-label":i,"tab-has-icon":n,"tab-has-label-only":i&&!n,"tab-has-icon-only":n&&!i,["tab-layout-".concat(c)]:!0,"ion-activatable":!0,"ion-selectable":!0,"ion-focusable":!0}},it("a",Object.assign({key:"9e56304c52e30ae3a3dca434fa0b41eccc873faa"},E,{class:"button-native",part:"native",role:"tab","aria-selected":y?"true":null,"aria-disabled":t?"true":null,tabindex:t?"-1":void 0},k),it("span",{key:"34eae18c23584742a25d20b4038aa1742d9ab0d8",class:"button-inner"},it("slot",{key:"4bc9629861f5ce3f1ef87ac77bc027ba0dea694c"})),S==="md"&&it("ion-ripple-effect",{type:"unbounded"})))}get el(){return this}static get style(){return{ios:pG,md:gG}}},[33,"ion-tab-button",{disabled:[4],download:[1],href:[1],rel:[1],layout:[1025],selected:[1028],tab:[1],target:[1]},[[8,"ionTabBarChanged","onTabBarChanged"]]]);function vG(){if(typeof customElements>"u")return;["ion-tab-button","ion-ripple-effect"].forEach(t=>{switch(t){case"ion-tab-button":customElements.get(t)||customElements.define(t,yG);break;case"ion-ripple-effect":customElements.get(t)||$L();break}})}const bG=vG;let g1;const _G=()=>{if(typeof window>"u")return new Map;if(!g1){const e=window;e.Ionicons=e.Ionicons||{},g1=e.Ionicons.map=e.Ionicons.map||new Map}return g1},xG=e=>{let t=y1(e.src);return t||(t=qL(e.name,e.icon,e.mode,e.ios,e.md),t?wG(t,e):e.icon&&(t=y1(e.icon),t||(t=y1(e.icon[e.mode]),t))?t:null)},wG=(e,t)=>{const n=_G().get(e);if(n)return n;try{return eL("svg/".concat(e,".svg"))}catch(i){console.warn('[Ionicons Warning]: Could not load icon with name "'.concat(e,'". Ensure that the icon is registered using addIcons or that the icon SVG data is passed directly to the icon component.'),t)}},qL=(e,t,n,i,s)=>(n=(n&&kv(n))==="ios"?"ios":"md",i&&n==="ios"?e=kv(i):s&&n==="md"?e=kv(s):(!e&&t&&!WL(t)&&(e=t),Hb(e)&&(e=kv(e))),!Hb(e)||e.trim()===""||e.replace(/[a-z]|-|\d/gi,"")!==""?null:e),y1=e=>Hb(e)&&(e=e.trim(),WL(e))?e:null,WL=e=>e.length>0&&/(\/|\.)/.test(e),Hb=e=>typeof e=="string",kv=e=>e.toLowerCase(),SG=(e,t=[])=>{const n={};return t.forEach(i=>{e.hasAttribute(i)&&(e.getAttribute(i)!==null&&(n[i]=e.getAttribute(i)),e.removeAttribute(i))}),n},kG=e=>e&&e.dir!==""?e.dir.toLowerCase()==="rtl":(document==null?void 0:document.dir.toLowerCase())==="rtl",EG=e=>{const t=document.createElement("div");t.innerHTML=e;for(let i=t.childNodes.length-1;i>=0;i--)t.childNodes[i].nodeName.toLowerCase()!=="svg"&&t.removeChild(t.childNodes[i]);const n=t.firstElementChild;if(n&&n.nodeName.toLowerCase()==="svg"){const i=n.getAttribute("class")||"";if(n.setAttribute("class",(i+" s-ion-icon").trim()),ZL(n))return t.innerHTML}return""},ZL=e=>{if(e.nodeType===1){if(e.nodeName.toLowerCase()==="script")return!1;for(let t=0;t<e.attributes.length;t++){const n=e.attributes[t].name;if(Hb(n)&&n.toLowerCase().indexOf("on")===0)return!1}for(let t=0;t<e.childNodes.length;t++)if(!ZL(e.childNodes[t]))return!1}return!0},CG=e=>e.startsWith("data:image/svg+xml"),TG=e=>e.indexOf(";utf8,")!==-1,Fu=new Map,dA=new Map;let v1;const IG=(e,t)=>{let n=dA.get(e);if(!n)if(typeof fetch<"u"&&typeof document<"u")if(CG(e)&&TG(e)){v1||(v1=new DOMParser);const s=v1.parseFromString(e,"text/html").querySelector("svg");return s&&Fu.set(e,s.outerHTML),Promise.resolve()}else n=fetch(e).then(i=>{if(i.ok)return i.text().then(s=>{s&&t!==!1&&(s=EG(s)),Fu.set(e,s||"")});Fu.set(e,"")}),dA.set(e,n);else return Fu.set(e,""),Promise.resolve();return n},PG=":host{display:inline-block;width:1em;height:1em;contain:strict;fill:currentColor;-webkit-box-sizing:content-box !important;box-sizing:content-box !important}:host .ionicon{stroke:currentColor}.ionicon-fill-none{fill:none}.ionicon-stroke-width{stroke-width:32px;stroke-width:var(--ionicon-stroke-width, 32px)}.icon-inner,.ionicon,svg{display:block;height:100%;width:100%}@supports (background: -webkit-named-image(i)){:host(.icon-rtl) .icon-inner{-webkit-transform:scaleX(-1);transform:scaleX(-1)}}@supports not selector(:dir(rtl)) and selector(:host-context([dir='rtl'])){:host(.icon-rtl) .icon-inner{-webkit-transform:scaleX(-1);transform:scaleX(-1)}}:host(.flip-rtl):host-context([dir='rtl']) .icon-inner{-webkit-transform:scaleX(-1);transform:scaleX(-1)}@supports selector(:dir(rtl)){:host(.flip-rtl:dir(rtl)) .icon-inner{-webkit-transform:scaleX(-1);transform:scaleX(-1)}:host(.flip-rtl:dir(ltr)) .icon-inner{-webkit-transform:scaleX(1);transform:scaleX(1)}}:host(.icon-small){font-size:1.125rem !important}:host(.icon-large){font-size:2rem !important}:host(.ion-color){color:var(--ion-color-base) !important}:host(.ion-color-primary){--ion-color-base:var(--ion-color-primary, #3880ff)}:host(.ion-color-secondary){--ion-color-base:var(--ion-color-secondary, #0cd1e8)}:host(.ion-color-tertiary){--ion-color-base:var(--ion-color-tertiary, #f4a942)}:host(.ion-color-success){--ion-color-base:var(--ion-color-success, #10dc60)}:host(.ion-color-warning){--ion-color-base:var(--ion-color-warning, #ffce00)}:host(.ion-color-danger){--ion-color-base:var(--ion-color-danger, #f14141)}:host(.ion-color-light){--ion-color-base:var(--ion-color-light, #f4f5f8)}:host(.ion-color-medium){--ion-color-base:var(--ion-color-medium, #989aa2)}:host(.ion-color-dark){--ion-color-base:var(--ion-color-dark, #222428)}",AG=Ei(class extends Ci{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.iconName=null,this.inheritedAttributes={},this.didLoadIcon=!1,this.svgContent=void 0,this.isVisible=!1,this.mode=RG(),this.color=void 0,this.ios=void 0,this.md=void 0,this.flipRtl=void 0,this.name=void 0,this.src=void 0,this.icon=void 0,this.size=void 0,this.lazy=!1,this.sanitize=!0}componentWillLoad(){this.inheritedAttributes=SG(this.el,["aria-label"])}connectedCallback(){this.waitUntilVisible(this.el,"50px",()=>{this.isVisible=!0,this.loadIcon()})}componentDidLoad(){this.didLoadIcon||this.loadIcon()}disconnectedCallback(){this.io&&(this.io.disconnect(),this.io=void 0)}waitUntilVisible(t,n,i){if(this.lazy&&typeof window<"u"&&window.IntersectionObserver){const s=this.io=new window.IntersectionObserver(l=>{l[0].isIntersecting&&(s.disconnect(),this.io=void 0,i())},{rootMargin:n});s.observe(t)}else i()}loadIcon(){if(this.isVisible){const t=xG(this);t&&(Fu.has(t)?this.svgContent=Fu.get(t):IG(t,this.sanitize).then(()=>this.svgContent=Fu.get(t)),this.didLoadIcon=!0)}this.iconName=qL(this.name,this.icon,this.mode,this.ios,this.md)}render(){const{flipRtl:t,iconName:n,inheritedAttributes:i,el:s}=this,l=this.mode||"md",d=n?(n.includes("arrow")||n.includes("chevron"))&&t!==!1:!1,c=t||d;return it(ki,Object.assign({role:"img",class:Object.assign(Object.assign({[l]:!0},MG(this.color)),{["icon-".concat(this.size)]:!!this.size,"flip-rtl":c,"icon-rtl":c&&kG(s)})},i),this.svgContent?it("div",{class:"icon-inner",innerHTML:this.svgContent}):it("div",{class:"icon-inner"}))}static get assetsDirs(){return["svg"]}get el(){return this}static get watchers(){return{name:["loadIcon"],src:["loadIcon"],icon:["loadIcon"],ios:["loadIcon"],md:["loadIcon"]}}static get style(){return PG}},[1,"ion-icon",{mode:[1025],color:[1],ios:[1],md:[1],flipRtl:[4,"flip-rtl"],name:[513],src:[1],icon:[8],size:[1],lazy:[4],sanitize:[4],svgContent:[32],isVisible:[32]}]),RG=()=>typeof document<"u"&&document.documentElement.getAttribute("mode")||"md",MG=e=>e?{"ion-color":!0,["ion-color-".concat(e)]:!0}:null;function zG(){if(typeof customElements>"u")return;["ion-icon"].forEach(t=>{switch(t){case"ion-icon":customElements.get(t)||customElements.define(t,AG);break}})}const LG=zG,Xk=J.createContext({onIonViewWillEnter:()=>{},ionViewWillEnter:()=>{},onIonViewDidEnter:()=>{},ionViewDidEnter:()=>{},onIonViewWillLeave:()=>{},ionViewWillLeave:()=>{},onIonViewDidLeave:()=>{},ionViewDidLeave:()=>{},cleanupIonViewWillEnter:()=>{},cleanupIonViewDidEnter:()=>{},cleanupIonViewWillLeave:()=>{},cleanupIonViewDidLeave:()=>{}}),OG=class{constructor(){this.ionViewWillEnterCallbacks=[],this.ionViewDidEnterCallbacks=[],this.ionViewWillLeaveCallbacks=[],this.ionViewDidLeaveCallbacks=[],this.ionViewWillEnterDestructorCallbacks=[],this.ionViewDidEnterDestructorCallbacks=[],this.ionViewWillLeaveDestructorCallbacks=[],this.ionViewDidLeaveDestructorCallbacks=[]}onIonViewWillEnter(e){if(e.id){const t=this.ionViewWillEnterCallbacks.findIndex(n=>n.id===e.id);t>-1?this.ionViewWillEnterCallbacks[t]=e:this.ionViewWillEnterCallbacks.push(e)}else this.ionViewWillEnterCallbacks.push(e)}teardownCallback(e,t){const n=t.filter(i=>i.id===e.id);n.length!==0&&(n.forEach(i=>{i&&typeof i.destructor=="function"&&i.destructor()}),t=t.filter(i=>i.id!==e.id))}cleanupIonViewWillEnter(e){this.teardownCallback(e,this.ionViewWillEnterDestructorCallbacks)}cleanupIonViewDidEnter(e){this.teardownCallback(e,this.ionViewDidEnterDestructorCallbacks)}cleanupIonViewWillLeave(e){this.teardownCallback(e,this.ionViewWillLeaveDestructorCallbacks)}cleanupIonViewDidLeave(e){this.teardownCallback(e,this.ionViewDidLeaveDestructorCallbacks)}ionViewWillEnter(){this.ionViewWillEnterCallbacks.forEach(e=>{const t=e();e.id&&this.ionViewWillEnterDestructorCallbacks.push({id:e.id,destructor:t})})}onIonViewDidEnter(e){if(e.id){const t=this.ionViewDidEnterCallbacks.findIndex(n=>n.id===e.id);t>-1?this.ionViewDidEnterCallbacks[t]=e:this.ionViewDidEnterCallbacks.push(e)}else this.ionViewDidEnterCallbacks.push(e)}ionViewDidEnter(){this.ionViewDidEnterCallbacks.forEach(e=>{const t=e();e.id&&this.ionViewDidEnterDestructorCallbacks.push({id:e.id,destructor:t})})}onIonViewWillLeave(e){if(e.id){const t=this.ionViewWillLeaveCallbacks.findIndex(n=>n.id===e.id);t>-1?this.ionViewWillLeaveCallbacks[t]=e:this.ionViewWillLeaveCallbacks.push(e)}else this.ionViewWillLeaveCallbacks.push(e)}ionViewWillLeave(){this.ionViewWillLeaveCallbacks.forEach(e=>{const t=e();e.id&&this.ionViewWillLeaveDestructorCallbacks.push({id:e.id,destructor:t})})}onIonViewDidLeave(e){if(e.id){const t=this.ionViewDidLeaveCallbacks.findIndex(n=>n.id===e.id);t>-1?this.ionViewDidLeaveCallbacks[t]=e:this.ionViewDidLeaveCallbacks.push(e)}else this.ionViewDidLeaveCallbacks.push(e)}ionViewDidLeave(){this.ionViewDidLeaveCallbacks.forEach(e=>{const t=e();e.id&&this.ionViewDidLeaveDestructorCallbacks.push({id:e.id,destructor:t})}),this.componentCanBeDestroyed()}onComponentCanBeDestroyed(e){this.componentCanBeDestroyedCallback=e}componentCanBeDestroyed(){this.componentCanBeDestroyedCallback&&this.componentCanBeDestroyedCallback()}},la=J.createContext({getIonRedirect:()=>{},getIonRoute:()=>{},getPageManager:()=>{},getStackManager:()=>{},goBack:e=>{typeof window<"u"&&(typeof e=="string"?window.location.pathname=e:window.history.back())},navigate:e=>{typeof window<"u"&&(window.location.pathname=e)},hasIonicRouter:()=>!1,routeInfo:void 0,setCurrentTab:()=>{},changeTab:(e,t)=>{typeof window<"u"&&(window.location.pathname=t)},resetTab:(e,t)=>{typeof window<"u"&&(window.location.pathname=t)}}),GL=e=>e.toLowerCase().split("-").map(t=>t.charAt(0).toUpperCase()+t.slice(1)).join(""),Yk=e=>e.replace(/([A-Z])/g,t=>"-".concat(t[0].toLowerCase())),KL=(e,t,n={})=>{if(e instanceof Element){const i=DG(e.classList,t,n);i!==""&&(e.className=i),Object.keys(t).forEach(s=>{if(!(s==="children"||s==="style"||s==="ref"||s==="class"||s==="className"||s==="forwardedRef"))if(s.indexOf("on")===0&&s[2]===s[2].toUpperCase()){const l=s.substring(2),d=l[0].toLowerCase()+l.substring(1);Jk(d)||BG(e,d,t[s])}else e[s]=t[s],typeof t[s]==="string"&&e.setAttribute(Yk(s),t[s])})}},DG=(e,t,n)=>{const i=t.className||t.class,s=n.className||n.class,l=b1(e),d=b1(i?i.split(" "):[]),c=b1(s?s.split(" "):[]),y=[];return l.forEach(b=>{d.has(b)?(y.push(b),d.delete(b)):c.has(b)||y.push(b)}),d.forEach(b=>y.push(b)),y.join(" ")},$G=e=>{switch(e){case"doubleclick":return"dblclick"}return e};/**
 * Checks if an event is supported in the current execution environment.
 * @license Modernizr 3.0.0pre (Custom Build) | MIT
 */const Jk=e=>{if(typeof document>"u")return!0;{const t="on"+$G(e);let n=t in document;if(!n){const i=document.createElement("div");i.setAttribute(t,"return;"),n=typeof i[t]=="function"}return n}},BG=(e,t,n)=>{const i=e.__events||(e.__events={}),s=i[t];s&&e.removeEventListener(t,s),e.addEventListener(t,i[t]=function(d){n&&n.call(this,d)})},b1=e=>{const t=new Map;return e.forEach(n=>t.set(n,n)),t},FG=(e,t)=>{typeof e=="function"?e(t):e!=null&&(e.current=t)},Qk=(...e)=>t=>{e.forEach(n=>{FG(n,t)})},NG=(e,t)=>{const n=(i,s)=>J.createElement(e,Object.assign({},i,{forwardedRef:s}));return n.displayName=t,J.forwardRef(n)},jG=(e,t)=>{t!==void 0&&typeof customElements<"u"&&!customElements.get(e)&&customElements.define(e,t)},gr=(e,t,n,i)=>{i!==void 0&&i();const s=GL(e),l=class extends J.Component{constructor(d){super(d),this.setComponentElRef=c=>{this.componentEl=c}}componentDidMount(){this.componentDidUpdate(this.props)}componentDidUpdate(d){KL(this.componentEl,this.props,d)}render(){const d=this.props,{children:c,forwardedRef:y,style:b,className:k,ref:S}=d,E=Gr(d,["children","forwardedRef","style","className","ref"]);let A=Object.keys(E).reduce((N,q)=>{const F=E[q];if(q.indexOf("on")===0&&q[2]===q[2].toUpperCase()){const $=q.substring(2).toLowerCase();typeof document<"u"&&Jk($)&&(N[q]=F)}else{const $=typeof F;($==="string"||$==="boolean"||$==="number")&&(N[Yk(q)]=F)}return N},{});n&&(A=n(this.props,A));const z=Object.assign(Object.assign({},A),{ref:Qk(y,this.setComponentElRef),style:b});return ce.createElement(e,z,c)}static get displayName(){return s}};return t&&(l.contextType=t),NG(l,s)},VG=gr("ion-avatar",void 0,void 0,Eq),hA=gr("ion-buttons",void 0,void 0,Bq),mf=gr("ion-content",void 0,void 0,iW),UG=gr("ion-fab",void 0,void 0,CW),HG=gr("ion-footer",void 0,void 0,OW),eE=gr("ion-header",void 0,void 0,ZW),qG=gr("ion-input",void 0,void 0,oZ),_1=gr("ion-label",void 0,void 0,sZ),XL=gr("ion-menu",void 0,void 0,vZ),tE=gr("ion-title",void 0,void 0,RZ),nE=gr("ion-toolbar",void 0,void 0,BZ),Tf=(e,t)=>{const n=(i,s)=>J.createElement(e,Object.assign({},i,{forwardedRef:s}));return n.displayName=t,J.forwardRef(n)},iE=()=>{if(typeof window<"u"){const e=window.Ionic;if(e&&e.config)return e.config}return null},YL=(e,t)=>{jG(e,t);const n=GL(e),i=class extends J.Component{constructor(s){super(s),this.handleClick=l=>{const{routerLink:d,routerDirection:c,routerOptions:y,routerAnimation:b}=this.props;d!==void 0&&(l.preventDefault(),this.context.navigate(d,c,void 0,b,y))},this.ref=J.createRef(),this.stableMergedRefs=Qk(this.ref,this.props.forwardedRef)}componentDidMount(){this.componentDidUpdate(this.props)}componentDidUpdate(s){const l=this.ref.current;KL(l,this.props,s)}render(){const s=this.props,{children:l,forwardedRef:d,style:c,className:y,ref:b}=s,k=Gr(s,["children","forwardedRef","style","className","ref"]),S=Object.keys(k).reduce((A,z)=>{if(z.indexOf("on")===0&&z[2]===z[2].toUpperCase()){const N=z.substring(2).toLowerCase();Jk(N)&&(A[z]=k[z])}else["string","boolean","number"].includes(typeof k[z])&&(A[Yk(z)]=k[z]);return A},{}),E=Object.assign(Object.assign({},S),{ref:this.stableMergedRefs,style:c});if(this.props.routerLink&&!this.props.href&&(E.href=this.props.routerLink),E.onClick){const A=E.onClick;E.onClick=z=>{A(z),z.defaultPrevented||this.handleClick(z)}}else E.onClick=this.handleClick;return ce.createElement(e,E,l)}static get displayName(){return n}static get contextType(){return la}};return Tf(i,n)},Ml=YL("ion-button",FZ),WG=YL("ion-item",NZ),ZG=J.createContext({addOverlay:()=>{},removeOverlay:()=>{}}),GG=({onAddOverlay:e,onRemoveOverlay:t})=>{const[n,i]=ce.useState({}),s=ce.useRef({});ce.useEffect(()=>{e(l),t(d)},[]);const l=(y,b,k)=>{const S=Object.assign({},s.current);S[y]={component:b,containerElement:k},s.current=S,i(S)},d=y=>{const b=Object.assign({},s.current);delete b[y],s.current=b,i(b)},c=Object.keys(n);return J.createElement(J.Fragment,null,c.map(y=>{const b=n[y];return FM.createPortal(b.component,b.containerElement,"overlay-".concat(y))}))},KG=gr("ion-tab-button",void 0,void 0,bG),XG=gr("ion-tab-bar",void 0,void 0,hG),YG=gr("ion-back-button",void 0,void 0,eG),v2=gr("ion-router-outlet",void 0,void 0,oG),JG=gr("ion-app",void 0,void 0,ZZ),QG=gr("ion-icon",void 0,void 0,LG),eK=class extends J.Component{constructor(e){super(e),this.ionContext={addOverlay:(t,n,i)=>{this.addOverlayCallback&&this.addOverlayCallback(t,n,i)},removeOverlay:t=>{this.removeOverlayCallback&&this.removeOverlayCallback(t)}}}render(){return J.createElement(ZG.Provider,{value:this.ionContext},J.createElement(JG,Object.assign({},this.props),this.props.children),J.createElement(GG,{onAddOverlay:e=>{this.addOverlayCallback=e},onRemoveOverlay:e=>{this.removeOverlayCallback=e}}))}static get displayName(){return"IonApp"}},rE=J.createContext({registerIonPage:()=>{},isInOutlet:()=>!1});class oE extends J.PureComponent{constructor(t){super(t),this.ionPageElementRef=J.createRef(),this.stableMergedRefs=Qk(this.ionPageElementRef,this.props.forwardedRef),this.ionViewWillEnterHandler=this.ionViewWillEnterHandler.bind(this),this.ionViewDidEnterHandler=this.ionViewDidEnterHandler.bind(this),this.ionViewWillLeaveHandler=this.ionViewWillLeaveHandler.bind(this),this.ionViewDidLeaveHandler=this.ionViewDidLeaveHandler.bind(this)}componentDidMount(){this.ionPageElementRef.current&&(this.context.isInOutlet()&&this.ionPageElementRef.current.classList.add("ion-page-invisible"),this.context.registerIonPage(this.ionPageElementRef.current,this.props.routeInfo),this.ionPageElementRef.current.addEventListener("ionViewWillEnter",this.ionViewWillEnterHandler),this.ionPageElementRef.current.addEventListener("ionViewDidEnter",this.ionViewDidEnterHandler),this.ionPageElementRef.current.addEventListener("ionViewWillLeave",this.ionViewWillLeaveHandler),this.ionPageElementRef.current.addEventListener("ionViewDidLeave",this.ionViewDidLeaveHandler))}componentWillUnmount(){this.ionPageElementRef.current&&(this.ionPageElementRef.current.removeEventListener("ionViewWillEnter",this.ionViewWillEnterHandler),this.ionPageElementRef.current.removeEventListener("ionViewDidEnter",this.ionViewDidEnterHandler),this.ionPageElementRef.current.removeEventListener("ionViewWillLeave",this.ionViewWillLeaveHandler))}ionViewWillEnterHandler(){this.ionLifeCycleContext.ionViewWillEnter()}ionViewDidEnterHandler(){this.ionLifeCycleContext.ionViewDidEnter()}ionViewWillLeaveHandler(){this.ionLifeCycleContext.ionViewWillLeave()}ionViewDidLeaveHandler(){this.ionLifeCycleContext.ionViewDidLeave()}render(){const t=this.props,{className:n,children:i,routeInfo:s,forwardedRef:l}=t,d=Gr(t,["className","children","routeInfo","forwardedRef"]);return J.createElement(Xk.Consumer,null,c=>(this.ionLifeCycleContext=c,J.createElement("div",Object.assign({className:n?"".concat(n," ion-page"):"ion-page",ref:this.stableMergedRefs},d),i)))}static get contextType(){return rE}}class tK extends J.Component{constructor(t){super(t)}render(){const t=this.props,{className:n,children:i,forwardedRef:s}=t,l=Gr(t,["className","children","forwardedRef"]);return this.context.hasIonicRouter()?J.createElement(oE,Object.assign({className:n?"".concat(n):"",routeInfo:this.context.routeInfo,forwardedRef:s},l),i):J.createElement("div",Object.assign({className:n?"ion-page ".concat(n):"ion-page",ref:s},l),i)}static get displayName(){return"IonPage"}static get contextType(){return la}}const Ng=Tf(tK,"IonPage"),fA={main:0},Um=(e="main")=>{var t;const n=((t=fA[e])!==null&&t!==void 0?t:0)+1;return fA[e]=n,n.toString()},nK=(e,t)=>{const n=new WeakMap,i="react-delegate-".concat(Um());let s=0;return{attachViewToDom:async(c,y,b,k)=>{const S=document.createElement("div");k&&S.classList.add(...k),c.appendChild(S);const E=y(b),A="".concat(i,"-").concat(s++),z=Pg.createPortal(E,S,A);return n.set(S,z),e(z),Promise.resolve(S)},removeViewFromDom:(c,y)=>{const b=n.get(y);return b&&t(b),y.remove(),Promise.resolve()}}},iK=gr("ion-nav",void 0,void 0,kZ),rK=e=>{var{children:t,forwardedRef:n}=e,i=Gr(e,["children","forwardedRef"]);const[s,l]=ce.useState([]),d=b=>l(k=>[...k,b]),c=b=>l(k=>k.filter(S=>S!==b)),y=ce.useMemo(()=>nK(d,c),[]);return J.createElement(iK,Object.assign({delegate:y,ref:n},i),s)};Tf(rK,"IonNav");const oK=J.createContext({activeTab:void 0,selectTab:()=>!1}),sK=typeof HTMLElement<"u"?HTMLElement:class{};class aK extends J.Component{constructor(t){super(t),this.outletIsReady=!1,this.ionViewWillEnterHandler=this.ionViewWillEnterHandler.bind(this),this.ionViewDidEnterHandler=this.ionViewDidEnterHandler.bind(this),this.ionViewWillLeaveHandler=this.ionViewWillLeaveHandler.bind(this),this.ionViewDidLeaveHandler=this.ionViewDidLeaveHandler.bind(this)}componentDidMount(){this.ionRouterOutlet&&(this.outletIsReady||sd(this.ionRouterOutlet,()=>{this.outletIsReady=!0,this.context.registerIonPage(this.ionRouterOutlet,this.props.routeInfo)}),this.ionRouterOutlet.addEventListener("ionViewWillEnter",this.ionViewWillEnterHandler),this.ionRouterOutlet.addEventListener("ionViewDidEnter",this.ionViewDidEnterHandler),this.ionRouterOutlet.addEventListener("ionViewWillLeave",this.ionViewWillLeaveHandler),this.ionRouterOutlet.addEventListener("ionViewDidLeave",this.ionViewDidLeaveHandler))}componentWillUnmount(){this.ionRouterOutlet&&(this.ionRouterOutlet.removeEventListener("ionViewWillEnter",this.ionViewWillEnterHandler),this.ionRouterOutlet.removeEventListener("ionViewDidEnter",this.ionViewDidEnterHandler),this.ionRouterOutlet.removeEventListener("ionViewWillLeave",this.ionViewWillLeaveHandler),this.ionRouterOutlet.removeEventListener("ionViewDidLeave",this.ionViewDidLeaveHandler))}ionViewWillEnterHandler(){this.ionLifeCycleContext.ionViewWillEnter()}ionViewDidEnterHandler(){this.ionLifeCycleContext.ionViewDidEnter()}ionViewWillLeaveHandler(){this.ionLifeCycleContext.ionViewWillLeave()}ionViewDidLeaveHandler(){this.ionLifeCycleContext.ionViewDidLeave()}render(){const t=this.props,{StackManager:n,children:i,routeInfo:s}=t,l=Gr(t,["StackManager","children","routeInfo"]);return J.createElement(Xk.Consumer,null,d=>(this.ionLifeCycleContext=d,J.createElement(n,{routeInfo:s},J.createElement(v2,Object.assign({setRef:c=>this.ionRouterOutlet=c},l),i))))}static get contextType(){return rE}}class lK extends J.Component{constructor(t){super(t)}render(){const t=this.context.getStackManager(),n=this.props,{children:i,forwardedRef:s}=n,l=Gr(n,["children","forwardedRef"]);return this.context.hasIonicRouter()?l.ionPage?J.createElement(aK,Object.assign({StackManager:t,routeInfo:this.context.routeInfo},l),i):J.createElement(t,{routeInfo:this.context.routeInfo},J.createElement(v2,Object.assign({},l,{forwardedRef:s}),i)):J.createElement(v2,Object.assign({ref:s},this.props),this.props.children)}static get contextType(){return la}}const b2=Tf(lK,"IonRouterOutlet"),Fc=class extends J.Component{constructor(e){super(e),this.handleIonTabButtonClick=this.handleIonTabButtonClick.bind(this)}handleIonTabButtonClick(){this.props.onClick&&this.props.onClick(new CustomEvent("ionTabButtonClick",{detail:{tab:this.props.tab,href:this.props.href,routeOptions:this.props.routerOptions}}))}render(){const e=this.props,t=Gr(e,["onClick"]);return J.createElement(KG,Object.assign({onIonTabButtonClick:this.handleIonTabButtonClick},t))}static get displayName(){return"IonTabButton"}};class cK extends J.PureComponent{constructor(t){super(t),this.setActiveTabOnContext=i=>{};const n={};J.Children.forEach(t.children,i=>{var s,l,d,c;i!=null&&typeof i=="object"&&i.props&&(i.type===Fc||i.type.isTabButton)&&(n[i.props.tab]={originalHref:i.props.href,currentHref:i.props.href,originalRouteOptions:i.props.href===((s=t.routeInfo)===null||s===void 0?void 0:s.pathname)?(l=t.routeInfo)===null||l===void 0?void 0:l.routeOptions:void 0,currentRouteOptions:i.props.href===((d=t.routeInfo)===null||d===void 0?void 0:d.pathname)?(c=t.routeInfo)===null||c===void 0?void 0:c.routeOptions:void 0})}),this.state={tabs:n},this.onTabButtonClick=this.onTabButtonClick.bind(this),this.renderTabButton=this.renderTabButton.bind(this),this.setActiveTabOnContext=this.setActiveTabOnContext.bind(this),this.selectTab=this.selectTab.bind(this)}componentDidMount(){const t=this.state.tabs,i=Object.keys(t).find(s=>{const l=t[s].originalHref;return this.props.routeInfo.pathname.startsWith(l)});i&&this.setState({activeTab:i})}componentDidUpdate(){this.state.activeTab&&this.setActiveTabOnContext(this.state.activeTab)}selectTab(t){const n=this.state.tabs[t];return n?(this.onTabButtonClick(new CustomEvent("ionTabButtonClick",{detail:{href:n.currentHref,tab:t,selected:t===this.state.activeTab,routeOptions:void 0}})),!0):!1}static getDerivedStateFromProps(t,n){var i,s,l;const d=Object.assign({},n.tabs),y=Object.keys(n.tabs).find(k=>{const S=n.tabs[k].originalHref;return t.routeInfo.pathname.startsWith(S)});J.Children.forEach(t.children,k=>{if(k!=null&&typeof k=="object"&&k.props&&(k.type===Fc||k.type.isTabButton)){const S=d[k.props.tab];(!S||S.originalHref!==k.props.href)&&(d[k.props.tab]={originalHref:k.props.href,currentHref:k.props.href,originalRouteOptions:k.props.routeOptions,currentRouteOptions:k.props.routeOptions})}});const{activeTab:b}=n;if(y&&b){const k=n.tabs[b].currentHref,S=n.tabs[b].currentRouteOptions;(y!==b||k!==((i=t.routeInfo)===null||i===void 0?void 0:i.pathname)||S!==((s=t.routeInfo)===null||s===void 0?void 0:s.routeOptions))&&(d[y]={originalHref:d[y].originalHref,currentHref:t.routeInfo.pathname+(t.routeInfo.search||""),originalRouteOptions:d[y].originalRouteOptions,currentRouteOptions:(l=t.routeInfo)===null||l===void 0?void 0:l.routeOptions},t.routeInfo.routeAction==="pop"&&y!==b&&(d[b]={originalHref:d[b].originalHref,currentHref:d[b].originalHref,originalRouteOptions:d[b].originalRouteOptions,currentRouteOptions:d[b].currentRouteOptions}))}return y&&t.onSetCurrentTab(y,t.routeInfo),{activeTab:y,tabs:d}}onTabButtonClick(t,n){const i=this.state.tabs[t.detail.tab],s=i.originalHref,l=t.detail.href,{activeTab:d}=this.state;n&&n(t),d===t.detail.tab?s!==l&&this.context.resetTab(t.detail.tab,s,i.originalRouteOptions):(this.props.onIonTabsWillChange&&this.props.onIonTabsWillChange(new CustomEvent("ionTabWillChange",{detail:{tab:t.detail.tab}})),this.props.onIonTabsDidChange&&this.props.onIonTabsDidChange(new CustomEvent("ionTabDidChange",{detail:{tab:t.detail.tab}})),this.setActiveTabOnContext(t.detail.tab),this.context.changeTab(t.detail.tab,l,t.detail.routeOptions))}renderTabButton(t){return n=>{var i,s;if(n!=null&&n.props&&(n.type===Fc||n.type.isTabButton)){const l=n.props.tab===t?(i=this.props.routeInfo)===null||i===void 0?void 0:i.pathname:this.state.tabs[n.props.tab].currentHref,d=n.props.tab===t?(s=this.props.routeInfo)===null||s===void 0?void 0:s.routeOptions:this.state.tabs[n.props.tab].currentRouteOptions;return J.cloneElement(n,{href:l,routeOptions:d,onClick:c=>this.onTabButtonClick(c,n.props.onClick)})}return null}}render(){const{activeTab:t}=this.state;return J.createElement(XG,Object.assign({},this.props,{selectedTab:t}),J.Children.map(this.props.children,this.renderTabButton(t)))}static get contextType(){return la}}const uK=J.memo(e=>{var{forwardedRef:t}=e,n=Gr(e,["forwardedRef"]);const i=ce.useContext(la);return J.createElement(cK,Object.assign({ref:t},n,{routeInfo:n.routeInfo||i.routeInfo||{pathname:window.location.pathname},onSetCurrentTab:i.setCurrentTab}),n.children)}),qb=Tf(uK,"IonTabBar");class dK extends sK{constructor(){super()}}typeof window<"u"&&window.customElements&&(window.customElements.get("ion-tabs")||window.customElements.define("ion-tabs",dK));const pA={display:"flex",position:"absolute",top:"0",left:"0",right:"0",bottom:"0",flexDirection:"column",width:"100%",height:"100%",contain:"layout size style"},mA={position:"relative",flex:1,contain:"layout size style"},hK=class extends J.Component{constructor(e){super(e),this.routerOutletRef=J.createRef(),this.tabBarRef=J.createRef(),this.ionTabContextState={activeTab:void 0,selectTab:()=>!1}}componentDidMount(){this.tabBarRef.current&&(this.ionTabContextState.activeTab=this.tabBarRef.current.state.activeTab,this.tabBarRef.current.setActiveTabOnContext=e=>{this.ionTabContextState.activeTab=e},this.ionTabContextState.selectTab=this.tabBarRef.current.selectTab)}render(){let e,t;const n=this.props,{className:i,onIonTabsDidChange:s,onIonTabsWillChange:l}=n,d=Gr(n,["className","onIonTabsDidChange","onIonTabsWillChange"]),c=typeof this.props.children=="function"?this.props.children(this.ionTabContextState):this.props.children;if(J.Children.forEach(c,y=>{if(y==null||typeof y!="object"||!y.hasOwnProperty("type"))return;y.type===b2||y.type.isRouterOutlet?e=J.cloneElement(y):y.type===ce.Fragment&&y.props.children[0].type===b2&&(e=y.props.children[0]);let b={ref:this.tabBarRef};s!==void 0&&(b=Object.assign(Object.assign({},b),{onIonTabsDidChange:s})),l!==void 0&&(b=Object.assign(Object.assign({},b),{onIonTabsWillChange:l})),y.type===qb||y.type.isTabBar?t=J.cloneElement(y,b):y.type===ce.Fragment&&(y.props.children[1].type===qb||y.props.children[1].type.isTabBar)&&(t=J.cloneElement(y.props.children[1],b))}),!e)throw new Error("IonTabs must contain an IonRouterOutlet");if(!t)throw new Error("IonTabs needs a IonTabBar");return J.createElement(oK.Provider,{value:this.ionTabContextState},this.context.hasIonicRouter()?J.createElement(oE,Object.assign({className:i?"".concat(i):"",routeInfo:this.context.routeInfo},d),J.createElement("ion-tabs",{className:"ion-tabs",style:pA},t.props.slot==="top"?t:null,J.createElement("div",{style:mA,className:"tabs-inner"},e),t.props.slot==="bottom"?t:null)):J.createElement("div",Object.assign({className:i?"".concat(i):"ion-tabs"},d,{style:pA}),t.props.slot==="top"?t:null,J.createElement("div",{style:mA,className:"tabs-inner"},e),t.props.slot==="bottom"?t:null))}static get contextType(){return la}},fK=class extends J.Component{constructor(){super(...arguments),this.clickButton=e=>{if(e.target&&e.target.closest("ion-nav")!==null)return;const{defaultHref:t,routerAnimation:n}=this.props;this.context.hasIonicRouter()?(e.stopPropagation(),this.context.goBack(t,n)):t!==void 0&&(window.location.href=t)}}render(){return J.createElement(YG,Object.assign({onClick:this.clickButton},this.props))}static get displayName(){return"IonBackButton"}static get contextType(){return la}};class pK extends J.PureComponent{constructor(t){super(t),this.props.name&&console.warn('In Ionic React, you import icons from "ionicons/icons" and set the icon you imported to the "icon" property. Setting the "name" property has no effect.')}render(){var t,n;const i=this.props,{icon:s,ios:l,md:d,mode:c}=i,y=Gr(i,["icon","ios","md","mode"]);let b;const k=iE(),S=c||(k==null?void 0:k.get("mode"));return l||d?S==="ios"?b=(t=l!=null?l:d)!==null&&t!==void 0?t:s:b=(n=d!=null?d:l)!==null&&n!==void 0?n:s:b=s,J.createElement(QG,Object.assign({ref:this.props.forwardedRef,icon:b},y),this.props.children)}static get contextType(){return la}}const Zr=Tf(pK,"IonIcon");class sE extends J.PureComponent{render(){const t=this.context.getIonRoute();return!this.context.hasIonicRouter()||!sE?(console.error("You either do not have an Ionic Router package, or your router does not support using <IonRoute>"),null):J.createElement(t,Object.assign({},this.props))}static get contextType(){return la}}class JL extends J.PureComponent{render(){const t=this.context.getIonRedirect();return!this.context.hasIonicRouter()||!JL?(console.error("You either do not have an Ionic Router package, or your router does not support using <IonRedirect>"),null):J.createElement(t,Object.assign({},this.props))}static get contextType(){return la}}const QL=J.createContext({routeInfo:void 0,push:()=>{throw new Error("An Ionic Router is required for IonRouterContext")},back:()=>{throw new Error("An Ionic Router is required for IonRouterContext")},canGoBack:()=>{throw new Error("An Ionic Router is required for IonRouterContext")},nativeBack:()=>{throw new Error("An Ionic Router is required for IonRouterContext")}});function Y0(){const e=ce.useContext(QL);return ce.useMemo(()=>({back:e.back,push:e.push,goBack:e.back,canGoBack:e.canGoBack,routeInfo:e.routeInfo}),[e.back,e.push,e.canGoBack,e.routeInfo])}class Mie extends J.PureComponent{constructor(t){super(t),this.nodes=new Map,this.animation=Bc(t.id)}setupAnimation(t){const n=this.animation;this.nodes.size>0&&n.addElement(Array.from(this.nodes.values())),gA(n,t),yA(n,t)}componentDidMount(){const t=this.props;this.setupAnimation(t)}componentDidUpdate(t){const n=this.animation,i=this.props;gA(n,i,t),mK(n,i,t),yA(n,i,t)}render(){const{children:t}=this.props;return J.createElement(J.Fragment,null,J.Children.map(t,(n,i)=>J.cloneElement(n,{ref:s=>this.nodes.set(i,s)})))}}const gA=(e,t={},n={})=>{const i=["children","progressStart","progressStep","progressEnd","pause","stop","destroy","play","from","to","fromTo","onFinish"];for(const y in t)t.hasOwnProperty(y)&&!i.includes(y)&&t[y]!==n[y]&&e[y](t[y]);const s=t.from;s&&s!==n.from&&(Array.isArray(s)?s:[s]).forEach(b=>e.from(b.property,b.value));const l=t.to;l&&l!==n.to&&(Array.isArray(l)?l:[l]).forEach(b=>e.to(b.property,b.value));const d=t.fromTo;d&&d!==n.fromTo&&(Array.isArray(d)?d:[d]).forEach(b=>e.fromTo(b.property,b.fromValue,b.toValue));const c=t.onFinish;c&&c!==n.onFinish&&(Array.isArray(c)?c:[c]).forEach(b=>e.onFinish(b.callback,b.opts))},mK=(e,t={},n={})=>{var i,s,l,d,c;const{progressStart:y,progressStep:b,progressEnd:k}=t;y&&(((i=n.progressStart)===null||i===void 0?void 0:i.forceLinearEasing)!==(y==null?void 0:y.forceLinearEasing)||((s=n.progressStart)===null||s===void 0?void 0:s.step)!==(y==null?void 0:y.step))&&e.progressStart(y.forceLinearEasing,y.step),b&&((l=n.progressStep)===null||l===void 0?void 0:l.step)!==(b==null?void 0:b.step)&&e.progressStep(b.step),k&&(((d=n.progressEnd)===null||d===void 0?void 0:d.playTo)!==(k==null?void 0:k.playTo)||((c=n.progressEnd)===null||c===void 0?void 0:c.step)!==(k==null?void 0:k.step)||(n==null?void 0:n.dur)!==(k==null?void 0:k.dur))&&e.progressEnd(k.playTo,k.step,k.dur)},yA=(e,t={},n={})=>{!n.play&&t.play&&e.play(),!n.pause&&t.pause&&e.pause(),!n.stop&&t.stop&&e.stop(),!n.destroy&&t.destroy&&e.destroy()},gK=(e={})=>{typeof document<"u"&&document.documentElement.classList.add("ion-ce"),jH(Object.assign({},e))},eO=J.createContext({addViewItem:()=>{},canGoBack:()=>{},clearOutlet:()=>{},createViewItem:()=>{},findViewItemByPathname:()=>{},findLeavingViewItemByRouteInfo:()=>{},findViewItemByRouteInfo:()=>{},getChildrenToRender:()=>{},goBack:()=>{},unMountViewItem:()=>{}});class vA extends J.Component{constructor(t){super(t),this.ionLifeCycleContext=new OG,this._isMounted=!1,this.ionLifeCycleContext.onComponentCanBeDestroyed(()=>{this.props.mount||this._isMounted&&this.setState({show:!1},()=>this.props.removeView())}),this.state={show:!0}}componentDidMount(){this._isMounted=!0}componentWillUnmount(){this._isMounted=!1}render(){const{show:t}=this.state;return J.createElement(Xk.Provider,{value:this.ionLifeCycleContext},t&&this.props.children)}}class yK{constructor(){this.locationHistory=[],this.tabHistory={}}add(t){t.routeAction==="push"||t.routeAction==null?this._add(t):t.routeAction==="pop"?this._pop(t):t.routeAction==="replace"&&this._replace(t),t.routeDirection==="root"&&(this._clear(),this._add(t))}clearTabStack(t){const n=this._getRouteInfosByKey(t);n&&(n.forEach(i=>{this.locationHistory=this.locationHistory.filter(s=>s.id!==i.id)}),this.tabHistory[t]=[])}update(t){const n=this.locationHistory.findIndex(s=>s.id===t.id);n>-1&&this.locationHistory.splice(n,1,t);const i=this.tabHistory[t.tab||""];if(i){const s=i.findIndex(l=>l.id===t.id);s>-1?i.splice(s,1,t):i.push(t)}else t.tab&&(this.tabHistory[t.tab]=[t])}_add(t){const n=this._getRouteInfosByKey(t.tab);n&&(this._areRoutesEqual(n[n.length-1],t)&&n.pop(),n.push(t)),this.locationHistory.push(t)}_areRoutesEqual(t,n){return!t||!n?!1:t.pathname===n.pathname&&t.search===n.search}_pop(t){const n=this._getRouteInfosByKey(t.tab);n&&(n.pop(),n.pop(),n.push(t)),this.locationHistory.pop(),this.locationHistory.pop(),this.locationHistory.push(t)}_replace(t){const n=this._getRouteInfosByKey(t.tab);n&&n.pop(),this.locationHistory.pop(),this._add(t)}_clear(){Object.keys(this.tabHistory).forEach(n=>this.tabHistory[n]=[]),this.locationHistory=[]}_getRouteInfosByKey(t){let n;return t&&(n=this.tabHistory[t],n||(n=this.tabHistory[t]=[])),n}getFirstRouteInfoForTab(t){const n=this._getRouteInfosByKey(t);if(n)return n[0]}getCurrentRouteInfoForTab(t){const n=this._getRouteInfosByKey(t);if(n)return n[n.length-1]}findLastLocation(t){const n=this._getRouteInfosByKey(t.tab);if(n)for(let i=n.length-2;i>=0;i--){const s=n[i];if(s&&s.pathname===t.pushedByRoute)return s}for(let i=this.locationHistory.length-2;i>=0;i--){const s=this.locationHistory[i];if(s&&s.pathname===t.pushedByRoute)return s}}previous(){return this.locationHistory[this.locationHistory.length-2]||this.locationHistory[this.locationHistory.length-1]}current(){return this.locationHistory[this.locationHistory.length-1]}canGoBack(){return this.locationHistory.length>1}}class vK extends J.PureComponent{constructor(t){super(t),this.ionRouterContextValue={push:(n,i,s,l,d)=>{this.navigate(n,i,s,d,l)},back:n=>{this.goBack(void 0,n)},canGoBack:()=>this.props.locationHistory.canGoBack(),nativeBack:()=>this.props.onNativeBack(),routeInfo:this.props.routeInfo},this.state={goBack:this.goBack.bind(this),hasIonicRouter:()=>!0,navigate:this.navigate.bind(this),getIonRedirect:this.getIonRedirect.bind(this),getIonRoute:this.getIonRoute.bind(this),getStackManager:this.getStackManager.bind(this),getPageManager:this.getPageManager.bind(this),routeInfo:this.props.routeInfo,setCurrentTab:this.props.onSetCurrentTab,changeTab:this.props.onChangeTab,resetTab:this.props.onResetTab}}componentDidMount(){typeof document<"u"&&(this.handleHardwareBackButton=this.handleHardwareBackButton.bind(this),document.addEventListener("ionBackButton",this.handleHardwareBackButton))}componentWillUnmount(){typeof document<"u"&&document.removeEventListener("ionBackButton",this.handleHardwareBackButton)}handleHardwareBackButton(t){t.detail.register(0,n=>{this.nativeGoBack(),n()})}goBack(t,n){this.props.onNavigateBack(t,n)}nativeGoBack(){this.props.onNativeBack()}navigate(t,n="forward",i="push",s,l,d){this.props.onNavigate(t,i,n,s,l,d)}getPageManager(){return oE}getIonRedirect(){return this.props.ionRedirect}getIonRoute(){return this.props.ionRoute}getStackManager(){return this.props.stackManager}render(){return J.createElement(la.Provider,{value:Object.assign(Object.assign({},this.state),{routeInfo:this.props.routeInfo})},J.createElement(QL.Provider,{value:Object.assign(Object.assign({},this.ionRouterContextValue),{routeInfo:this.props.routeInfo})},this.props.children))}}class bK{constructor(){this.viewStacks={},this.add=this.add.bind(this),this.clear=this.clear.bind(this),this.getViewItemsForOutlet=this.getViewItemsForOutlet.bind(this),this.remove=this.remove.bind(this)}add(t){const{outletId:n}=t;this.viewStacks[n]?this.viewStacks[n].push(t):this.viewStacks[n]=[t]}clear(t){return setTimeout(()=>{delete this.viewStacks[t]},500)}getViewItemsForOutlet(t){return this.viewStacks[t]||[]}remove(t){const{outletId:n}=t,i=this.viewStacks[n];if(i){const s=i.find(l=>l.id===t.id);s&&(s.mount=!1,this.viewStacks[n]=i.filter(l=>l.id!==s.id))}}getStackIds(){return Object.keys(this.viewStacks)}getAllViewItems(){const t=this.getStackIds(),n=[];return t.forEach(i=>{n.push(...this.viewStacks[i])}),n}}function Ev(e){return e.charAt(0)==="/"}function x1(e,t){for(var n=t,i=n+1,s=e.length;i<s;n+=1,i+=1)e[n]=e[i];e.pop()}function _K(e,t){t===void 0&&(t="");var n=e&&e.split("/")||[],i=t&&t.split("/")||[],s=e&&Ev(e),l=t&&Ev(t),d=s||l;if(e&&Ev(e)?i=n:n.length&&(i.pop(),i=i.concat(n)),!i.length)return"/";var c;if(i.length){var y=i[i.length-1];c=y==="."||y===".."||y===""}else c=!1;for(var b=0,k=i.length;k>=0;k--){var S=i[k];S==="."?x1(i,k):S===".."?(x1(i,k),b++):b&&(x1(i,k),b--)}if(!d)for(;b--;b)i.unshift("..");d&&i[0]!==""&&(!i[0]||!Ev(i[0]))&&i.unshift("");var E=i.join("/");return c&&E.substr(-1)!=="/"&&(E+="/"),E}function bA(e){return e.valueOf?e.valueOf():Object.prototype.valueOf.call(e)}function Gv(e,t){if(e===t)return!0;if(e==null||t==null)return!1;if(Array.isArray(e))return Array.isArray(t)&&e.length===t.length&&e.every(function(s,l){return Gv(s,t[l])});if(typeof e=="object"||typeof t=="object"){var n=bA(e),i=bA(t);return n!==e||i!==t?Gv(n,i):Object.keys(Object.assign({},e,t)).every(function(s){return Gv(e[s],t[s])})}return!1}var xK="Invariant failed";function _d(e,t){if(!e)throw new Error(xK)}function mm(e){return e.charAt(0)==="/"?e:"/"+e}function _A(e){return e.charAt(0)==="/"?e.substr(1):e}function wK(e,t){return e.toLowerCase().indexOf(t.toLowerCase())===0&&"/?#".indexOf(e.charAt(t.length))!==-1}function tO(e,t){return wK(e,t)?e.substr(t.length):e}function nO(e){return e.charAt(e.length-1)==="/"?e.slice(0,-1):e}function SK(e){var t=e||"/",n="",i="",s=t.indexOf("#");s!==-1&&(i=t.substr(s),t=t.substr(0,s));var l=t.indexOf("?");return l!==-1&&(n=t.substr(l),t=t.substr(0,l)),{pathname:t,search:n==="?"?"":n,hash:i==="#"?"":i}}function gs(e){var t=e.pathname,n=e.search,i=e.hash,s=t||"/";return n&&n!=="?"&&(s+=n.charAt(0)==="?"?n:"?"+n),i&&i!=="#"&&(s+=i.charAt(0)==="#"?i:"#"+i),s}function Co(e,t,n,i){var s;typeof e=="string"?(s=SK(e),s.state=t):(s=uo({},e),s.pathname===void 0&&(s.pathname=""),s.search?s.search.charAt(0)!=="?"&&(s.search="?"+s.search):s.search="",s.hash?s.hash.charAt(0)!=="#"&&(s.hash="#"+s.hash):s.hash="",t!==void 0&&s.state===void 0&&(s.state=t));try{s.pathname=decodeURI(s.pathname)}catch(l){throw l instanceof URIError?new URIError('Pathname "'+s.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):l}return n&&(s.key=n),i?s.pathname?s.pathname.charAt(0)!=="/"&&(s.pathname=_K(s.pathname,i.pathname)):s.pathname=i.pathname:s.pathname||(s.pathname="/"),s}function kK(e,t){return e.pathname===t.pathname&&e.search===t.search&&e.hash===t.hash&&e.key===t.key&&Gv(e.state,t.state)}function aE(){var e=null;function t(d){return e=d,function(){e===d&&(e=null)}}function n(d,c,y,b){if(e!=null){var k=typeof e=="function"?e(d,c):e;typeof k=="string"?typeof y=="function"?y(k,b):b(!0):b(k!==!1)}else b(!0)}var i=[];function s(d){var c=!0;function y(){c&&d.apply(void 0,arguments)}return i.push(y),function(){c=!1,i=i.filter(function(b){return b!==y})}}function l(){for(var d=arguments.length,c=new Array(d),y=0;y<d;y++)c[y]=arguments[y];i.forEach(function(b){return b.apply(void 0,c)})}return{setPrompt:t,confirmTransitionTo:n,appendListener:s,notifyListeners:l}}var iO=!!(typeof window<"u"&&window.document&&window.document.createElement);function rO(e,t){t(window.confirm(e))}function EK(){var e=window.navigator.userAgent;return(e.indexOf("Android 2.")!==-1||e.indexOf("Android 4.0")!==-1)&&e.indexOf("Mobile Safari")!==-1&&e.indexOf("Chrome")===-1&&e.indexOf("Windows Phone")===-1?!1:window.history&&"pushState"in window.history}function CK(){return window.navigator.userAgent.indexOf("Trident")===-1}function TK(){return window.navigator.userAgent.indexOf("Firefox")===-1}function IK(e){return e.state===void 0&&navigator.userAgent.indexOf("CriOS")===-1}var xA="popstate",wA="hashchange";function SA(){try{return window.history.state||{}}catch(e){return{}}}function PK(e){e===void 0&&(e={}),iO||_d(!1);var t=window.history,n=EK(),i=!CK(),s=e,l=s.forceRefresh,d=l===void 0?!1:l,c=s.getUserConfirmation,y=c===void 0?rO:c,b=s.keyLength,k=b===void 0?6:b,S=e.basename?nO(mm(e.basename)):"";function E(Ee){var Ie=Ee||{},qe=Ie.key,Ye=Ie.state,yt=window.location,wt=yt.pathname,Mt=yt.search,Ft=yt.hash,Yt=wt+Mt+Ft;return S&&(Yt=tO(Yt,S)),Co(Yt,Ye,qe)}function A(){return Math.random().toString(36).substr(2,k)}var z=aE();function N(Ee){uo(we,Ee),we.length=t.length,z.notifyListeners(we.location,we.action)}function q(Ee){IK(Ee)||V(E(Ee.state))}function F(){V(E(SA()))}var $=!1;function V(Ee){if($)$=!1,N();else{var Ie="POP";z.confirmTransitionTo(Ee,Ie,y,function(qe){qe?N({action:Ie,location:Ee}):Z(Ee)})}}function Z(Ee){var Ie=we.location,qe=fe.indexOf(Ie.key);qe===-1&&(qe=0);var Ye=fe.indexOf(Ee.key);Ye===-1&&(Ye=0);var yt=qe-Ye;yt&&($=!0,Le(yt))}var Q=E(SA()),fe=[Q.key];function oe(Ee){return S+gs(Ee)}function re(Ee,Ie){var qe="PUSH",Ye=Co(Ee,Ie,A(),we.location);z.confirmTransitionTo(Ye,qe,y,function(yt){if(yt){var wt=oe(Ye),Mt=Ye.key,Ft=Ye.state;if(n)if(t.pushState({key:Mt,state:Ft},null,wt),d)window.location.href=wt;else{var Yt=fe.indexOf(we.location.key),vn=fe.slice(0,Yt+1);vn.push(Ye.key),fe=vn,N({action:qe,location:Ye})}else window.location.href=wt}})}function Be(Ee,Ie){var qe="REPLACE",Ye=Co(Ee,Ie,A(),we.location);z.confirmTransitionTo(Ye,qe,y,function(yt){if(yt){var wt=oe(Ye),Mt=Ye.key,Ft=Ye.state;if(n)if(t.replaceState({key:Mt,state:Ft},null,wt),d)window.location.replace(wt);else{var Yt=fe.indexOf(we.location.key);Yt!==-1&&(fe[Yt]=Ye.key),N({action:qe,location:Ye})}else window.location.replace(wt)}})}function Le(Ee){t.go(Ee)}function Fe(){Le(-1)}function Ze(){Le(1)}var Pe=0;function De(Ee){Pe+=Ee,Pe===1&&Ee===1?(window.addEventListener(xA,q),i&&window.addEventListener(wA,F)):Pe===0&&(window.removeEventListener(xA,q),i&&window.removeEventListener(wA,F))}var Oe=!1;function $e(Ee){Ee===void 0&&(Ee=!1);var Ie=z.setPrompt(Ee);return Oe||(De(1),Oe=!0),function(){return Oe&&(Oe=!1,De(-1)),Ie()}}function He(Ee){var Ie=z.appendListener(Ee);return De(1),function(){De(-1),Ie()}}var we={length:t.length,action:"POP",location:Q,createHref:oe,push:re,replace:Be,go:Le,goBack:Fe,goForward:Ze,block:$e,listen:He};return we}var kA="hashchange",AK={hashbang:{encodePath:function(t){return t.charAt(0)==="!"?t:"!/"+_A(t)},decodePath:function(t){return t.charAt(0)==="!"?t.substr(1):t}},noslash:{encodePath:_A,decodePath:mm},slash:{encodePath:mm,decodePath:mm}};function oO(e){var t=e.indexOf("#");return t===-1?e:e.slice(0,t)}function Kp(){var e=window.location.href,t=e.indexOf("#");return t===-1?"":e.substring(t+1)}function RK(e){window.location.hash=e}function w1(e){window.location.replace(oO(window.location.href)+"#"+e)}function MK(e){e===void 0&&(e={}),iO||_d(!1);var t=window.history;TK();var n=e,i=n.getUserConfirmation,s=i===void 0?rO:i,l=n.hashType,d=l===void 0?"slash":l,c=e.basename?nO(mm(e.basename)):"",y=AK[d],b=y.encodePath,k=y.decodePath;function S(){var Ie=k(Kp());return c&&(Ie=tO(Ie,c)),Co(Ie)}var E=aE();function A(Ie){uo(Ee,Ie),Ee.length=t.length,E.notifyListeners(Ee.location,Ee.action)}var z=!1,N=null;function q(Ie,qe){return Ie.pathname===qe.pathname&&Ie.search===qe.search&&Ie.hash===qe.hash}function F(){var Ie=Kp(),qe=b(Ie);if(Ie!==qe)w1(qe);else{var Ye=S(),yt=Ee.location;if(!z&&q(yt,Ye)||N===gs(Ye))return;N=null,$(Ye)}}function $(Ie){if(z)z=!1,A();else{var qe="POP";E.confirmTransitionTo(Ie,qe,s,function(Ye){Ye?A({action:qe,location:Ie}):V(Ie)})}}function V(Ie){var qe=Ee.location,Ye=oe.lastIndexOf(gs(qe));Ye===-1&&(Ye=0);var yt=oe.lastIndexOf(gs(Ie));yt===-1&&(yt=0);var wt=Ye-yt;wt&&(z=!0,Fe(wt))}var Z=Kp(),Q=b(Z);Z!==Q&&w1(Q);var fe=S(),oe=[gs(fe)];function re(Ie){var qe=document.querySelector("base"),Ye="";return qe&&qe.getAttribute("href")&&(Ye=oO(window.location.href)),Ye+"#"+b(c+gs(Ie))}function Be(Ie,qe){var Ye="PUSH",yt=Co(Ie,void 0,void 0,Ee.location);E.confirmTransitionTo(yt,Ye,s,function(wt){if(wt){var Mt=gs(yt),Ft=b(c+Mt),Yt=Kp()!==Ft;if(Yt){N=Mt,RK(Ft);var vn=oe.lastIndexOf(gs(Ee.location)),ei=oe.slice(0,vn+1);ei.push(Mt),oe=ei,A({action:Ye,location:yt})}else A()}})}function Le(Ie,qe){var Ye="REPLACE",yt=Co(Ie,void 0,void 0,Ee.location);E.confirmTransitionTo(yt,Ye,s,function(wt){if(wt){var Mt=gs(yt),Ft=b(c+Mt),Yt=Kp()!==Ft;Yt&&(N=Mt,w1(Ft));var vn=oe.indexOf(gs(Ee.location));vn!==-1&&(oe[vn]=Mt),A({action:Ye,location:yt})}})}function Fe(Ie){t.go(Ie)}function Ze(){Fe(-1)}function Pe(){Fe(1)}var De=0;function Oe(Ie){De+=Ie,De===1&&Ie===1?window.addEventListener(kA,F):De===0&&window.removeEventListener(kA,F)}var $e=!1;function He(Ie){Ie===void 0&&(Ie=!1);var qe=E.setPrompt(Ie);return $e||(Oe(1),$e=!0),function(){return $e&&($e=!1,Oe(-1)),qe()}}function we(Ie){var qe=E.appendListener(Ie);return Oe(1),function(){Oe(-1),qe()}}var Ee={length:t.length,action:"POP",location:fe,createHref:re,push:Be,replace:Le,go:Fe,goBack:Ze,goForward:Pe,block:He,listen:we};return Ee}function EA(e,t,n){return Math.min(Math.max(e,t),n)}function zK(e){e===void 0&&(e={});var t=e,n=t.getUserConfirmation,i=t.initialEntries,s=i===void 0?["/"]:i,l=t.initialIndex,d=l===void 0?0:l,c=t.keyLength,y=c===void 0?6:c,b=aE();function k(re){uo(oe,re),oe.length=oe.entries.length,b.notifyListeners(oe.location,oe.action)}function S(){return Math.random().toString(36).substr(2,y)}var E=EA(d,0,s.length-1),A=s.map(function(re){return typeof re=="string"?Co(re,void 0,S()):Co(re,void 0,re.key||S())}),z=gs;function N(re,Be){var Le="PUSH",Fe=Co(re,Be,S(),oe.location);b.confirmTransitionTo(Fe,Le,n,function(Ze){if(Ze){var Pe=oe.index,De=Pe+1,Oe=oe.entries.slice(0);Oe.length>De?Oe.splice(De,Oe.length-De,Fe):Oe.push(Fe),k({action:Le,location:Fe,index:De,entries:Oe})}})}function q(re,Be){var Le="REPLACE",Fe=Co(re,Be,S(),oe.location);b.confirmTransitionTo(Fe,Le,n,function(Ze){Ze&&(oe.entries[oe.index]=Fe,k({action:Le,location:Fe}))})}function F(re){var Be=EA(oe.index+re,0,oe.entries.length-1),Le="POP",Fe=oe.entries[Be];b.confirmTransitionTo(Fe,Le,n,function(Ze){Ze?k({action:Le,location:Fe,index:Be}):k()})}function $(){F(-1)}function V(){F(1)}function Z(re){var Be=oe.index+re;return Be>=0&&Be<oe.entries.length}function Q(re){return re===void 0&&(re=!1),b.setPrompt(re)}function fe(re){return b.appendListener(re)}var oe={length:A.length,action:"POP",location:A[E],index:E,entries:A,createHref:z,push:N,replace:q,go:F,goBack:$,goForward:V,canGo:Z,block:Q,listen:fe};return oe}function _2(e,t){return _2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,s){return i.__proto__=s,i},_2(e,t)}function Wc(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,_2(e,t)}var sO={exports:{}},LK="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",OK=LK,DK=OK;function aO(){}function lO(){}lO.resetWarningCache=aO;var $K=function(){function e(i,s,l,d,c,y){if(y!==DK){var b=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw b.name="Invariant Violation",b}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:lO,resetWarningCache:aO};return n.PropTypes=n,n};sO.exports=$K();var BK=sO.exports;const CA=fd(BK);var If={exports:{}},FK=Array.isArray||function(e){return Object.prototype.toString.call(e)=="[object Array]"},Wb=FK;If.exports=dO;If.exports.parse=lE;If.exports.compile=jK;If.exports.tokensToFunction=cO;If.exports.tokensToRegExp=uO;var NK=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function lE(e,t){for(var n=[],i=0,s=0,l="",d=t&&t.delimiter||"/",c;(c=NK.exec(e))!=null;){var y=c[0],b=c[1],k=c.index;if(l+=e.slice(s,k),s=k+y.length,b){l+=b[1];continue}var S=e[s],E=c[2],A=c[3],z=c[4],N=c[5],q=c[6],F=c[7];l&&(n.push(l),l="");var $=E!=null&&S!=null&&S!==E,V=q==="+"||q==="*",Z=q==="?"||q==="*",Q=c[2]||d,fe=z||N;n.push({name:A||i++,prefix:E||"",delimiter:Q,optional:Z,repeat:V,partial:$,asterisk:!!F,pattern:fe?HK(fe):F?".*":"[^"+Kv(Q)+"]+?"})}return s<e.length&&(l+=e.substr(s)),l&&n.push(l),n}function jK(e,t){return cO(lE(e,t),t)}function VK(e){return encodeURI(e).replace(/[\/?#]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})}function UK(e){return encodeURI(e).replace(/[?#]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})}function cO(e,t){for(var n=new Array(e.length),i=0;i<e.length;i++)typeof e[i]=="object"&&(n[i]=new RegExp("^(?:"+e[i].pattern+")$",uE(t)));return function(s,l){for(var d="",c=s||{},y=l||{},b=y.pretty?VK:encodeURIComponent,k=0;k<e.length;k++){var S=e[k];if(typeof S=="string"){d+=S;continue}var E=c[S.name],A;if(E==null)if(S.optional){S.partial&&(d+=S.prefix);continue}else throw new TypeError('Expected "'+S.name+'" to be defined');if(Wb(E)){if(!S.repeat)throw new TypeError('Expected "'+S.name+'" to not repeat, but received `'+JSON.stringify(E)+"`");if(E.length===0){if(S.optional)continue;throw new TypeError('Expected "'+S.name+'" to not be empty')}for(var z=0;z<E.length;z++){if(A=b(E[z]),!n[k].test(A))throw new TypeError('Expected all "'+S.name+'" to match "'+S.pattern+'", but received `'+JSON.stringify(A)+"`");d+=(z===0?S.prefix:S.delimiter)+A}continue}if(A=S.asterisk?UK(E):b(E),!n[k].test(A))throw new TypeError('Expected "'+S.name+'" to match "'+S.pattern+'", but received "'+A+'"');d+=S.prefix+A}return d}}function Kv(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function HK(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function cE(e,t){return e.keys=t,e}function uE(e){return e&&e.sensitive?"":"i"}function qK(e,t){var n=e.source.match(/\((?!\?)/g);if(n)for(var i=0;i<n.length;i++)t.push({name:i,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return cE(e,t)}function WK(e,t,n){for(var i=[],s=0;s<e.length;s++)i.push(dO(e[s],t,n).source);var l=new RegExp("(?:"+i.join("|")+")",uE(n));return cE(l,t)}function ZK(e,t,n){return uO(lE(e,n),t,n)}function uO(e,t,n){Wb(t)||(n=t||n,t=[]),n=n||{};for(var i=n.strict,s=n.end!==!1,l="",d=0;d<e.length;d++){var c=e[d];if(typeof c=="string")l+=Kv(c);else{var y=Kv(c.prefix),b="(?:"+c.pattern+")";t.push(c),c.repeat&&(b+="(?:"+y+b+")*"),c.optional?c.partial?b=y+"("+b+")?":b="(?:"+y+"("+b+"))?":b=y+"("+b+")",l+=b}}var k=Kv(n.delimiter||"/"),S=l.slice(-k.length)===k;return i||(l=(S?l.slice(0,-k.length):l)+"(?:"+k+"(?=$))?"),s?l+="$":l+=i&&S?"":"(?="+k+"|$)",cE(new RegExp("^"+l,uE(n)),t)}function dO(e,t,n){return Wb(t)||(n=t||n,t=[]),n=n||{},e instanceof RegExp?qK(e,t):Wb(e)?WK(e,t,n):ZK(e,t,n)}var GK=If.exports;const hO=fd(GK);var fO={exports:{}},Fn={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yr=typeof Symbol=="function"&&Symbol.for,dE=yr?Symbol.for("react.element"):60103,hE=yr?Symbol.for("react.portal"):60106,J0=yr?Symbol.for("react.fragment"):60107,Q0=yr?Symbol.for("react.strict_mode"):60108,e_=yr?Symbol.for("react.profiler"):60114,t_=yr?Symbol.for("react.provider"):60109,n_=yr?Symbol.for("react.context"):60110,fE=yr?Symbol.for("react.async_mode"):60111,i_=yr?Symbol.for("react.concurrent_mode"):60111,r_=yr?Symbol.for("react.forward_ref"):60112,o_=yr?Symbol.for("react.suspense"):60113,KK=yr?Symbol.for("react.suspense_list"):60120,s_=yr?Symbol.for("react.memo"):60115,a_=yr?Symbol.for("react.lazy"):60116,XK=yr?Symbol.for("react.block"):60121,YK=yr?Symbol.for("react.fundamental"):60117,JK=yr?Symbol.for("react.responder"):60118,QK=yr?Symbol.for("react.scope"):60119;function os(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case dE:switch(e=e.type,e){case fE:case i_:case J0:case e_:case Q0:case o_:return e;default:switch(e=e&&e.$$typeof,e){case n_:case r_:case a_:case s_:case t_:return e;default:return t}}case hE:return t}}}function pO(e){return os(e)===i_}Fn.AsyncMode=fE;Fn.ConcurrentMode=i_;Fn.ContextConsumer=n_;Fn.ContextProvider=t_;Fn.Element=dE;Fn.ForwardRef=r_;Fn.Fragment=J0;Fn.Lazy=a_;Fn.Memo=s_;Fn.Portal=hE;Fn.Profiler=e_;Fn.StrictMode=Q0;Fn.Suspense=o_;Fn.isAsyncMode=function(e){return pO(e)||os(e)===fE};Fn.isConcurrentMode=pO;Fn.isContextConsumer=function(e){return os(e)===n_};Fn.isContextProvider=function(e){return os(e)===t_};Fn.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===dE};Fn.isForwardRef=function(e){return os(e)===r_};Fn.isFragment=function(e){return os(e)===J0};Fn.isLazy=function(e){return os(e)===a_};Fn.isMemo=function(e){return os(e)===s_};Fn.isPortal=function(e){return os(e)===hE};Fn.isProfiler=function(e){return os(e)===e_};Fn.isStrictMode=function(e){return os(e)===Q0};Fn.isSuspense=function(e){return os(e)===o_};Fn.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===J0||e===i_||e===e_||e===Q0||e===o_||e===KK||typeof e=="object"&&e!==null&&(e.$$typeof===a_||e.$$typeof===s_||e.$$typeof===t_||e.$$typeof===n_||e.$$typeof===r_||e.$$typeof===YK||e.$$typeof===JK||e.$$typeof===QK||e.$$typeof===XK)};Fn.typeOf=os;fO.exports=Fn;var eX=fO.exports,pE=eX,tX={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},nX={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},iX={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},mO={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},mE={};mE[pE.ForwardRef]=iX;mE[pE.Memo]=mO;function TA(e){return pE.isMemo(e)?mO:mE[e.$$typeof]||tX}var rX=Object.defineProperty,oX=Object.getOwnPropertyNames,IA=Object.getOwnPropertySymbols,sX=Object.getOwnPropertyDescriptor,aX=Object.getPrototypeOf,PA=Object.prototype;function gO(e,t,n){if(typeof t!="string"){if(PA){var i=aX(t);i&&i!==PA&&gO(e,i,n)}var s=oX(t);IA&&(s=s.concat(IA(t)));for(var l=TA(e),d=TA(t),c=0;c<s.length;++c){var y=s[c];if(!nX[y]&&!(n&&n[y])&&!(d&&d[y])&&!(l&&l[y])){var b=sX(t,y);try{rX(e,y,b)}catch(k){}}}}return e}var lX=gO;const cX=fd(lX);var S1=1073741823,AA=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:{};function uX(){var e="__global_unique_id__";return AA[e]=(AA[e]||0)+1}function dX(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function hX(e){var t=[];return{on:function(i){t.push(i)},off:function(i){t=t.filter(function(s){return s!==i})},get:function(){return e},set:function(i,s){e=i,t.forEach(function(l){return l(e,s)})}}}function fX(e){return Array.isArray(e)?e[0]:e}function pX(e,t){var n,i,s="__create-react-context-"+uX()+"__",l=function(c){Wc(y,c);function y(){for(var k,S=arguments.length,E=new Array(S),A=0;A<S;A++)E[A]=arguments[A];return k=c.call.apply(c,[this].concat(E))||this,k.emitter=hX(k.props.value),k}var b=y.prototype;return b.getChildContext=function(){var S;return S={},S[s]=this.emitter,S},b.componentWillReceiveProps=function(S){if(this.props.value!==S.value){var E=this.props.value,A=S.value,z;dX(E,A)?z=0:(z=typeof t=="function"?t(E,A):S1,z|=0,z!==0&&this.emitter.set(S.value,z))}},b.render=function(){return this.props.children},y}(J.Component);l.childContextTypes=(n={},n[s]=CA.object.isRequired,n);var d=function(c){Wc(y,c);function y(){for(var k,S=arguments.length,E=new Array(S),A=0;A<S;A++)E[A]=arguments[A];return k=c.call.apply(c,[this].concat(E))||this,k.observedBits=void 0,k.state={value:k.getValue()},k.onUpdate=function(z,N){var q=k.observedBits|0;q&N&&k.setState({value:k.getValue()})},k}var b=y.prototype;return b.componentWillReceiveProps=function(S){var E=S.observedBits;this.observedBits=E==null?S1:E},b.componentDidMount=function(){this.context[s]&&this.context[s].on(this.onUpdate);var S=this.props.observedBits;this.observedBits=S==null?S1:S},b.componentWillUnmount=function(){this.context[s]&&this.context[s].off(this.onUpdate)},b.getValue=function(){return this.context[s]?this.context[s].get():e},b.render=function(){return fX(this.props.children)(this.state.value)},y}(J.Component);return d.contextTypes=(i={},i[s]=CA.object,i),{Provider:l,Consumer:d}}var mX=J.createContext||pX,yO=function(t){var n=mX();return n.displayName=t,n},vO=yO("Router-History"),Zc=yO("Router"),jg=function(e){Wc(t,e),t.computeRootMatch=function(s){return{path:"/",url:"/",params:{},isExact:s==="/"}};function t(i){var s;return s=e.call(this,i)||this,s.state={location:i.history.location},s._isMounted=!1,s._pendingLocation=null,i.staticContext||(s.unlisten=i.history.listen(function(l){s._pendingLocation=l})),s}var n=t.prototype;return n.componentDidMount=function(){var s=this;this._isMounted=!0,this.unlisten&&this.unlisten(),this.props.staticContext||(this.unlisten=this.props.history.listen(function(l){s._isMounted&&s.setState({location:l})})),this._pendingLocation&&this.setState({location:this._pendingLocation})},n.componentWillUnmount=function(){this.unlisten&&(this.unlisten(),this._isMounted=!1,this._pendingLocation=null)},n.render=function(){return J.createElement(Zc.Provider,{value:{history:this.props.history,location:this.state.location,match:t.computeRootMatch(this.state.location.pathname),staticContext:this.props.staticContext}},J.createElement(vO.Provider,{children:this.props.children||null,value:this.props.history}))},t}(J.Component);J.Component;var gX=function(e){Wc(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;return n.componentDidMount=function(){this.props.onMount&&this.props.onMount.call(this,this)},n.componentDidUpdate=function(s){this.props.onUpdate&&this.props.onUpdate.call(this,this,s)},n.componentWillUnmount=function(){this.props.onUnmount&&this.props.onUnmount.call(this,this)},n.render=function(){return null},t}(J.Component),k1={},yX=1e4,RA=0;function vX(e){if(k1[e])return k1[e];var t=hO.compile(e);return RA<yX&&(k1[e]=t,RA++),t}function MA(e,t){return e===void 0&&(e="/"),t===void 0&&(t={}),e==="/"?e:vX(e)(t,{pretty:!0})}function Ls(e){var t=e.computedMatch,n=e.to,i=e.push,s=i===void 0?!1:i;return J.createElement(Zc.Consumer,null,function(l){l||_d(!1);var d=l.history,c=l.staticContext,y=s?d.push:d.replace,b=Co(t?typeof n=="string"?MA(n,t.params):uo({},n,{pathname:MA(n.pathname,t.params)}):n);return c?(y(b),null):J.createElement(gX,{onMount:function(){y(b)},onUpdate:function(S,E){var A=Co(E.to);kK(A,uo({},b,{key:A.key}))||y(b)},to:n})})}var zA={},bX=1e4,LA=0;function _X(e,t){var n=""+t.end+t.strict+t.sensitive,i=zA[n]||(zA[n]={});if(i[e])return i[e];var s=[],l=hO(e,s,t),d={regexp:l,keys:s};return LA<bX&&(i[e]=d,LA++),d}function gE(e,t){t===void 0&&(t={}),(typeof t=="string"||Array.isArray(t))&&(t={path:t});var n=t,i=n.path,s=n.exact,l=s===void 0?!1:s,d=n.strict,c=d===void 0?!1:d,y=n.sensitive,b=y===void 0?!1:y,k=[].concat(i);return k.reduce(function(S,E){if(!E&&E!=="")return null;if(S)return S;var A=_X(E,{end:l,strict:c,sensitive:b}),z=A.regexp,N=A.keys,q=z.exec(e);if(!q)return null;var F=q[0],$=q.slice(1),V=e===F;return l&&!V?null:{path:E,url:E==="/"&&F===""?"/":F,isExact:V,params:N.reduce(function(Z,Q,fe){return Z[Q.name]=$[fe],Z},{})}},null)}function xX(e){return J.Children.count(e)===0}var ms=function(e){Wc(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;return n.render=function(){var s=this;return J.createElement(Zc.Consumer,null,function(l){l||_d(!1);var d=s.props.location||l.location,c=s.props.computedMatch?s.props.computedMatch:s.props.path?gE(d.pathname,s.props):l.match,y=uo({},l,{location:d,match:c}),b=s.props,k=b.children,S=b.component,E=b.render;return Array.isArray(k)&&xX(k)&&(k=null),J.createElement(Zc.Provider,{value:y},y.match?k?typeof k=="function"?k(y):k:S?J.createElement(S,y):E?E(y):null:typeof k=="function"?k(y):null)})},t}(J.Component);function yE(e){return e.charAt(0)==="/"?e:"/"+e}function wX(e,t){return e?uo({},t,{pathname:yE(e)+t.pathname}):t}function SX(e,t){if(!e)return t;var n=yE(e);return t.pathname.indexOf(n)!==0?t:uo({},t,{pathname:t.pathname.substr(n.length)})}function OA(e){return typeof e=="string"?e:gs(e)}function E1(e){return function(){_d(!1)}}function DA(){}J.Component;J.Component;function kX(e){var t="withRouter("+(e.displayName||e.name)+")",n=function(s){var l=s.wrappedComponentRef,d=Ik(s,["wrappedComponentRef"]);return J.createElement(Zc.Consumer,null,function(c){return c||_d(!1),J.createElement(e,uo({},d,c,{ref:l}))})};return n.displayName=t,n.WrappedComponent=e,cX(n,e)}var vE=J.useContext;function bE(){return vE(vO)}function EX(){return vE(Zc).location}function _E(){var e=vE(Zc).match;return e?e.params:{}}class CX extends J.PureComponent{render(){return J.createElement(ms,Object.assign({path:this.props.path,exact:this.props.exact,render:this.props.render},this.props.computedMatch!==void 0?{computedMatch:this.props.computedMatch}:{}))}}const Hm=({pathname:e,componentProps:t})=>{const{exact:n,component:i}=t,s=t.path||t.from,d=gE(e,{exact:n,path:s,component:i});return d||!1};class TX extends bK{constructor(){super(),this.createViewItem=this.createViewItem.bind(this),this.findViewItemByRouteInfo=this.findViewItemByRouteInfo.bind(this),this.findLeavingViewItemByRouteInfo=this.findLeavingViewItemByRouteInfo.bind(this),this.getChildrenToRender=this.getChildrenToRender.bind(this),this.findViewItemByPathname=this.findViewItemByPathname.bind(this)}createViewItem(t,n,i,s){const l={id:Um("viewItem"),outletId:t,ionPageElement:s,reactElement:n,mount:!0,ionRoute:!1};return n.type===sE&&(l.ionRoute=!0,l.disableIonPageManagement=n.props.disableIonPageManagement),l.routeData={match:Hm({pathname:i.pathname,componentProps:n.props}),childProps:n.props},l}getChildrenToRender(t,n,i){const s=this.getViewItemsForOutlet(t);return J.Children.forEach(n.props.children,d=>{const c=s.find(y=>$A(d,y.routeData.childProps.path||y.routeData.childProps.from));c&&(c.reactElement=d)}),s.map(d=>{let c;if(d.ionRoute&&!d.disableIonPageManagement)c=J.createElement(vA,{key:"view-".concat(d.id),mount:d.mount,removeView:()=>this.remove(d)},J.cloneElement(d.reactElement,{computedMatch:d.routeData.match}));else{const y=$A(d.reactElement,i.pathname);c=J.createElement(vA,{key:"view-".concat(d.id),mount:d.mount,removeView:()=>this.remove(d)},J.cloneElement(d.reactElement,{computedMatch:d.routeData.match})),!y&&d.routeData.match&&(d.routeData.match=void 0,d.mount=!1)}return c})}findViewItemByRouteInfo(t,n,i){const{viewItem:s,match:l}=this.findViewItemByPath(t.pathname,n);return(i===void 0||i===!0)&&s&&l&&(s.routeData.match=l),s}findLeavingViewItemByRouteInfo(t,n,i=!0){const{viewItem:s}=this.findViewItemByPath(t.lastPathname,n,i);return s}findViewItemByPathname(t,n){const{viewItem:i}=this.findViewItemByPath(t,n);return i}findViewItemByPath(t,n,i){let s,l,d;if(n)d=this.getViewItemsForOutlet(n),d.some(c),s||d.some(y);else{const b=this.getAllViewItems();b.some(c),s||b.some(y)}return{viewItem:s,match:l};function c(b){var k,S;if(i&&!b.ionRoute)return!1;if(l=Hm({pathname:t,componentProps:b.routeData.childProps}),l){const E=l.path.includes(":");if(!E||E&&l.url===((S=(k=b.routeData)===null||k===void 0?void 0:k.match)===null||S===void 0?void 0:S.url))return s=b,!0}return!1}function y(b){return!b.routeData.childProps.path&&!b.routeData.childProps.from?(l={path:t,url:t,isExact:!0,params:{}},s=b,!0):!1}}}function $A(e,t){return Hm({pathname:t,componentProps:e.props})}function IX(e){let t;if(typeof e=="string"?t=e:t=e.outerHTML,document){const n=document.createElement("div");n.innerHTML=t,n.style.zIndex="";const i=n.getElementsByTagName("ion-back-button");return i[0]&&i[0].remove(),n.firstChild}}const BA=e=>!e.classList.contains("ion-page-invisible")&&!e.classList.contains("ion-page-hidden");class PX extends J.PureComponent{constructor(t){super(t),this.stackContextValue={registerIonPage:this.registerIonPage.bind(this),isInOutlet:()=>!0},this.pendingPageTransition=!1,this.registerIonPage=this.registerIonPage.bind(this),this.transitionPage=this.transitionPage.bind(this),this.handlePageTransition=this.handlePageTransition.bind(this),this.id=Um("routerOutlet"),this.prevProps=void 0,this.skipTransition=!1}componentDidMount(){this.clearOutletTimeout&&clearTimeout(this.clearOutletTimeout),this.routerOutletElement&&(this.setupRouterOutlet(this.routerOutletElement),this.handlePageTransition(this.props.routeInfo))}componentDidUpdate(t){const{pathname:n}=this.props.routeInfo,{pathname:i}=t.routeInfo;n!==i?(this.prevProps=t,this.handlePageTransition(this.props.routeInfo)):this.pendingPageTransition&&(this.handlePageTransition(this.props.routeInfo),this.pendingPageTransition=!1)}componentWillUnmount(){this.clearOutletTimeout=this.context.clearOutlet(this.id)}async handlePageTransition(t){var n,i;if(!this.routerOutletElement||!this.routerOutletElement.commit)this.pendingPageTransition=!0;else{let s=this.context.findViewItemByRouteInfo(t,this.id),l=this.context.findLeavingViewItemByRouteInfo(t,this.id);!l&&t.prevRouteLastPathname&&(l=this.context.findViewItemByPathname(t.prevRouteLastPathname,this.id)),l&&(t.routeAction==="replace"?l.mount=!1:t.routeAction==="push"&&t.routeDirection==="forward"?!((n=t.routeOptions)===null||n===void 0)&&n.unmount&&(l.mount=!1):t.routeDirection!=="none"&&s!==l&&(l.mount=!1));const d=AX((i=this.ionRouterOutlet)===null||i===void 0?void 0:i.props.children,t);if(s?s.reactElement=d:d&&(s=this.context.createViewItem(this.id,d,t),this.context.addViewItem(s)),s&&s.ionPageElement){if(s===l&&s.routeData.match.url!==t.pathname||(!l&&this.props.routeInfo.prevRouteLastPathname&&(l=this.context.findViewItemByPathname(this.props.routeInfo.prevRouteLastPathname,this.id)),BA(s.ionPageElement)&&l!==void 0&&!BA(l.ionPageElement)))return;this.transitionPage(t,s,l)}else l&&!d&&!s&&l.ionPageElement&&(l.ionPageElement.classList.add("ion-page-hidden"),l.ionPageElement.setAttribute("aria-hidden","true"));this.forceUpdate()}}registerIonPage(t,n){const i=this.context.findViewItemByRouteInfo(n,this.id);if(i){const s=i.ionPageElement;if(i.ionPageElement=t,i.ionRoute=!0,s===t)return}this.handlePageTransition(n)}async setupRouterOutlet(t){const n=()=>{const l=iE();if(!(l&&l.get("swipeBackEnabled",t.mode==="ios")))return!1;const{routeInfo:c}=this.props,y=this.prevProps&&this.prevProps.routeInfo.pathname===c.pushedByRoute?this.prevProps.routeInfo:{pathname:c.pushedByRoute||""},b=this.context.findViewItemByRouteInfo(y,this.id,!1);return!!b&&b.mount&&b.routeData.match.path!==c.pathname},i=async()=>{const{routeInfo:l}=this.props,d=this.prevProps&&this.prevProps.routeInfo.pathname===l.pushedByRoute?this.prevProps.routeInfo:{pathname:l.pushedByRoute||""},c=this.context.findViewItemByRouteInfo(d,this.id,!1),y=this.context.findViewItemByRouteInfo(l,this.id,!1);return c&&y&&await this.transitionPage(l,c,y,"back",!0),Promise.resolve()},s=l=>{if(l)this.skipTransition=!0,this.context.goBack();else{const{routeInfo:d}=this.props,c=this.prevProps&&this.prevProps.routeInfo.pathname===d.pushedByRoute?this.prevProps.routeInfo:{pathname:d.pushedByRoute||""},y=this.context.findViewItemByRouteInfo(c,this.id,!1),b=this.context.findViewItemByRouteInfo(d,this.id,!1);if(y!==b&&(y==null?void 0:y.ionPageElement)!==void 0){const{ionPageElement:k}=y;k.setAttribute("aria-hidden","true"),k.classList.add("ion-page-hidden")}}};t.swipeHandler={canStart:n,onStart:i,onEnd:s}}async transitionPage(t,n,i,s,l=!1){const d=async(k,S)=>{const E=this.skipTransition;E?this.skipTransition=!1:(k.classList.add("ion-page"),k.classList.add("ion-page-invisible")),await c.commit(k,S,{duration:E||b===void 0?0:void 0,direction:b,showGoBack:!!t.pushedByRoute,progressAnimation:l,animationBuilder:t.routeAnimation})},c=this.routerOutletElement,y=t.routeDirection==="none"||t.routeDirection==="root"?void 0:t.routeDirection,b=s!=null?s:y;if(n&&n.ionPageElement&&this.routerOutletElement)if(i&&i.ionPageElement&&n===i)if(RX(i.reactElement,t.pathname,!0)){const S=IX(i.ionPageElement.outerHTML);S&&(this.routerOutletElement.appendChild(S),await d(n.ionPageElement,S),this.routerOutletElement.removeChild(S))}else await d(n.ionPageElement,void 0);else await d(n.ionPageElement,i==null?void 0:i.ionPageElement),i&&i.ionPageElement&&!l&&(i.ionPageElement.classList.add("ion-page-hidden"),i.ionPageElement.setAttribute("aria-hidden","true"))}render(){const{children:t}=this.props,n=J.Children.only(t);this.ionRouterOutlet=n;const i=this.context.getChildrenToRender(this.id,this.ionRouterOutlet,this.props.routeInfo,()=>{this.forceUpdate()});return J.createElement(rE.Provider,{value:this.stackContextValue},J.cloneElement(n,{ref:s=>{n.props.setRef&&n.props.setRef(s),n.props.forwardedRef&&(n.props.forwardedRef.current=s),this.routerOutletElement=s;const{ref:l}=n;typeof l=="function"&&l(s)}},i))}static get contextType(){return eO}}function AX(e,t){let n;return J.Children.forEach(e,i=>{Hm({pathname:t.pathname,componentProps:i.props})&&(n=i)}),n||(J.Children.forEach(e,i=>{i.props.path||i.props.from||(n=i)}),n)}function RX(e,t,n){return Hm({pathname:t,componentProps:Object.assign(Object.assign({},e.props),{exact:n})})}class MX extends J.PureComponent{constructor(t){super(t),this.exitViewFromOtherOutletHandlers=[],this.locationHistory=new yK,this.viewStack=new TX,this.routeMangerContextState={canGoBack:()=>this.locationHistory.canGoBack(),clearOutlet:this.viewStack.clear,findViewItemByPathname:this.viewStack.findViewItemByPathname,getChildrenToRender:this.viewStack.getChildrenToRender,goBack:()=>this.handleNavigateBack(),createViewItem:this.viewStack.createViewItem,findViewItemByRouteInfo:this.viewStack.findViewItemByRouteInfo,findLeavingViewItemByRouteInfo:this.viewStack.findLeavingViewItemByRouteInfo,addViewItem:this.viewStack.add,unMountViewItem:this.viewStack.remove};const n={id:Um("routeInfo"),pathname:this.props.location.pathname,search:this.props.location.search};this.locationHistory.add(n),this.handleChangeTab=this.handleChangeTab.bind(this),this.handleResetTab=this.handleResetTab.bind(this),this.handleNativeBack=this.handleNativeBack.bind(this),this.handleNavigate=this.handleNavigate.bind(this),this.handleNavigateBack=this.handleNavigateBack.bind(this),this.props.registerHistoryListener(this.handleHistoryChange.bind(this)),this.handleSetCurrentTab=this.handleSetCurrentTab.bind(this),this.state={routeInfo:n}}handleChangeTab(t,n,i){if(!n)return;const s=this.locationHistory.getCurrentRouteInfoForTab(t),[l,d]=n.split("?");s?(this.incomingRouteParams=Object.assign(Object.assign({},s),{routeAction:"push",routeDirection:"none"}),s.pathname===l?(this.incomingRouteParams.routeOptions=i,this.props.history.push(s.pathname+(s.search||""))):(this.incomingRouteParams.pathname=l,this.incomingRouteParams.search=d?"?"+d:void 0,this.incomingRouteParams.routeOptions=i,this.props.history.push(l+(d?"?"+d:"")))):this.handleNavigate(l,"push","none",void 0,i,t)}handleHistoryChange(t,n){var i,s,l;let d;if(this.incomingRouteParams?this.incomingRouteParams.routeAction==="replace"?d=this.locationHistory.previous():d=this.locationHistory.current():d=this.locationHistory.current(),d.pathname+d.search!==t.pathname){if(!this.incomingRouteParams){if(n==="REPLACE"&&(this.incomingRouteParams={routeAction:"replace",routeDirection:"none",tab:this.currentTab}),n==="POP"){const b=this.locationHistory.current();if(b&&b.pushedByRoute){const k=this.locationHistory.findLastLocation(b);this.incomingRouteParams=Object.assign(Object.assign({},k),{routeAction:"pop",routeDirection:"back"})}else this.incomingRouteParams={routeAction:"pop",routeDirection:"none",tab:this.currentTab}}this.incomingRouteParams||(this.incomingRouteParams={routeAction:"push",routeDirection:((i=t.state)===null||i===void 0?void 0:i.direction)||"forward",routeOptions:(s=t.state)===null||s===void 0?void 0:s.routerOptions,tab:this.currentTab})}let y;if(!((l=this.incomingRouteParams)===null||l===void 0)&&l.id)y=Object.assign(Object.assign({},this.incomingRouteParams),{lastPathname:d.pathname}),this.locationHistory.add(y);else{const b=this.incomingRouteParams.routeAction==="push"&&this.incomingRouteParams.routeDirection==="forward";if(y=Object.assign(Object.assign({id:Um("routeInfo")},this.incomingRouteParams),{lastPathname:d.pathname,pathname:t.pathname,search:t.search,params:this.props.match.params,prevRouteLastPathname:d.lastPathname}),b)y.tab=d.tab,y.pushedByRoute=d.pathname;else if(y.routeAction==="pop"){const k=this.locationHistory.findLastLocation(y);y.pushedByRoute=k==null?void 0:k.pushedByRoute}else if(y.routeAction==="push"&&y.tab!==d.tab){const k=this.locationHistory.getCurrentRouteInfoForTab(y.tab);y.pushedByRoute=k==null?void 0:k.pushedByRoute}else if(y.routeAction==="replace"){const k=this.locationHistory.current(),S=k==null?void 0:k.pushedByRoute,E=S!==void 0&&S!==y.pathname?S:y.pushedByRoute;y.lastPathname=(k==null?void 0:k.pathname)||y.lastPathname,y.prevRouteLastPathname=k==null?void 0:k.lastPathname,y.pushedByRoute=E,y.routeDirection=y.routeDirection||(k==null?void 0:k.routeDirection),y.routeAnimation=y.routeAnimation||(k==null?void 0:k.routeAnimation)}this.locationHistory.add(y)}this.setState({routeInfo:y})}this.incomingRouteParams=void 0}handleNativeBack(){const t=this.props.history;(t.goBack||t.back)()}handleNavigate(t,n,i,s,l,d){this.incomingRouteParams=Object.assign(this.incomingRouteParams||{},{routeAction:n,routeDirection:i,routeOptions:l,routeAnimation:s,tab:d}),n==="push"?this.props.history.push(t):this.props.history.replace(t)}handleNavigateBack(t="/",n){const i=iE();t=t||i&&i.get("backButtonDefaultHref");const s=this.locationHistory.current();if(s&&s.pushedByRoute){const l=this.locationHistory.findLastLocation(s);if(l){const d=n||s.routeAnimation;if(this.incomingRouteParams=Object.assign(Object.assign({},l),{routeAction:"pop",routeDirection:"back",routeAnimation:d}),s.lastPathname===s.pushedByRoute||l.pathname===s.pushedByRoute&&s.tab===""&&l.tab===""){const c=this.props.history;(c.goBack||c.back)()}else this.handleNavigate(l.pathname+(l.search||""),"pop","back",d)}else this.handleNavigate(t,"pop","back",n)}else this.handleNavigate(t,"pop","back",n)}handleResetTab(t,n,i){const s=this.locationHistory.getFirstRouteInfoForTab(t);if(s){const l=Object.assign({},s);l.pathname=n,l.routeOptions=i,this.incomingRouteParams=Object.assign(Object.assign({},l),{routeAction:"pop",routeDirection:"back"}),this.props.history.push(l.pathname+(l.search||""))}}handleSetCurrentTab(t){this.currentTab=t;const n=Object.assign({},this.locationHistory.current());n.tab!==t&&(n.tab=t,this.locationHistory.update(n))}render(){return J.createElement(eO.Provider,{value:this.routeMangerContextState},J.createElement(vK,{ionRoute:CX,ionRedirect:{},stackManager:PX,routeInfo:this.state.routeInfo,onNativeBack:this.handleNativeBack,onNavigateBack:this.handleNavigateBack,onNavigate:this.handleNavigate,onSetCurrentTab:this.handleSetCurrentTab,onChangeTab:this.handleChangeTab,onResetTab:this.handleResetTab,locationHistory:this.locationHistory},this.props.children))}}const l_=kX(MX);l_.displayName="IonRouter";class zX extends J.Component{constructor(t){super(t);const{history:n}=t,i=Gr(t,["history"]);this.history=n||PK(i),this.history.listen(this.handleHistoryChange.bind(this)),this.registerHistoryListener=this.registerHistoryListener.bind(this)}handleHistoryChange(t,n){const i=t.location||t,s=t.action||n;this.historyListenHandler&&this.historyListenHandler(i,s)}registerHistoryListener(t){this.historyListenHandler=t}render(){const t=this.props,{children:n}=t,i=Gr(t,["children"]);return J.createElement(jg,Object.assign({history:this.history},i),J.createElement(l_,{registerHistoryListener:this.registerHistoryListener},n))}}class zie extends J.Component{constructor(t){super(t),this.history=t.history,this.history.listen(this.handleHistoryChange.bind(this)),this.registerHistoryListener=this.registerHistoryListener.bind(this)}handleHistoryChange(t,n){const i=t.location||t,s=t.action||n;this.historyListenHandler&&this.historyListenHandler(i,s)}registerHistoryListener(t){this.historyListenHandler=t}render(){const t=this.props,{children:n}=t,i=Gr(t,["children"]);return J.createElement(jg,Object.assign({},i),J.createElement(l_,{registerHistoryListener:this.registerHistoryListener},n))}}class Lie extends J.Component{constructor(t){super(t);const{history:n}=t,i=Gr(t,["history"]);this.history=n||MK(i),this.history.listen(this.handleHistoryChange.bind(this)),this.registerHistoryListener=this.registerHistoryListener.bind(this)}handleHistoryChange(t,n){const i=t.location||t,s=t.action||n;this.historyListenHandler&&this.historyListenHandler(i,s)}registerHistoryListener(t){this.historyListenHandler=t}render(){const t=this.props,{children:n}=t,i=Gr(t,["children"]);return J.createElement(jg,Object.assign({history:this.history},i),J.createElement(l_,{registerHistoryListener:this.registerHistoryListener},n))}}const LX="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M448 256c0-106-86-192-192-192S64 150 64 256s86 192 192 192 192-86 192-192z' stroke-miterlimit='10' class='ionicon-fill-none ionicon-stroke-width'/><path stroke-linecap='round' stroke-linejoin='round' d='M256 176v160M336 256H176' class='ionicon-fill-none ionicon-stroke-width'/></svg>",OX="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M256 48C141.31 48 48 141.31 48 256s93.31 208 208 208 208-93.31 208-208S370.69 48 256 48zm96 224h-80v80h-32v-80h-80v-32h80v-80h32v80h80z'/></svg>",DX="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='round' stroke-linejoin='round' stroke-width='48' d='M268 112l144 144-144 144M392 256H100' class='ionicon-fill-none'/></svg>",bO="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M144 464a16 16 0 01-16-16v-64h-24a72.08 72.08 0 01-72-72V120a72.08 72.08 0 0172-72h304a72.08 72.08 0 0172 72v192a72.08 72.08 0 01-72 72H245.74l-91.49 76.29A16.05 16.05 0 01144 464z'/></svg>",$X="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M456 48H56a24 24 0 00-24 24v288a24 24 0 0024 24h72v80l117.74-80H456a24 24 0 0024-24V72a24 24 0 00-24-24zM160 248a32 32 0 1132-32 32 32 0 01-32 32zm96 0a32 32 0 1132-32 32 32 0 01-32 32zm96 0a32 32 0 1132-32 32 32 0 01-32 32zM456 80z'/></svg>",BX="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M87.49 380c1.19-4.38-1.44-10.47-3.95-14.86a44.86 44.86 0 00-2.54-3.8 199.81 199.81 0 01-33-110C47.65 139.09 140.73 48 255.83 48 356.21 48 440 117.54 459.58 209.85a199 199 0 014.42 41.64c0 112.41-89.49 204.93-204.59 204.93-18.3 0-43-4.6-56.47-8.37s-26.92-8.77-30.39-10.11a31.09 31.09 0 00-11.12-2.07 30.71 30.71 0 00-12.09 2.43l-67.83 24.48a16 16 0 01-4.67 1.22 9.6 9.6 0 01-9.57-9.74 15.85 15.85 0 01.6-3.29z' stroke-linecap='round' stroke-miterlimit='10' class='ionicon-fill-none ionicon-stroke-width'/></svg>",FX="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M261.56 101.28a8 8 0 00-11.06 0L66.4 277.15a8 8 0 00-2.47 5.79L63.9 448a32 32 0 0032 32H192a16 16 0 0016-16V328a8 8 0 018-8h80a8 8 0 018 8v136a16 16 0 0016 16h96.06a32 32 0 0032-32V282.94a8 8 0 00-2.47-5.79z'/><path d='M490.91 244.15l-74.8-71.56V64a16 16 0 00-16-16h-48a16 16 0 00-16 16v32l-57.92-55.38C272.77 35.14 264.71 32 256 32c-8.68 0-16.72 3.14-22.14 8.63l-212.7 203.5c-6.22 6-7 15.87-1.34 22.37A16 16 0 0043 267.56L250.5 69.28a8 8 0 0111.06 0l207.52 198.28a16 16 0 0022.59-.44c6.14-6.36 5.63-16.86-.76-22.97z'/></svg>",NX="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M368 192h-16v-80a96 96 0 10-192 0v80h-16a64.07 64.07 0 00-64 64v176a64.07 64.07 0 0064 64h224a64.07 64.07 0 0064-64V256a64.07 64.07 0 00-64-64zm-48 0H192v-80a64 64 0 11128 0z'/></svg>",jX="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M160 256a16 16 0 0116-16h144V136c0-32-33.79-56-64-56H104a56.06 56.06 0 00-56 56v240a56.06 56.06 0 0056 56h160a56.06 56.06 0 0056-56V272H176a16 16 0 01-16-16zM459.31 244.69l-80-80a16 16 0 00-22.62 22.62L409.37 240H320v32h89.37l-52.68 52.69a16 16 0 1022.62 22.62l80-80a16 16 0 000-22.62z'/></svg>",_O="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='round' stroke-miterlimit='10' stroke-width='48' d='M88 152h336M88 256h336M88 360h336' class='ionicon-fill-none'/></svg>",VX="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M336 256c-20.56 0-40.44-9.18-56-25.84-15.13-16.25-24.37-37.92-26-61-1.74-24.62 5.77-47.26 21.14-63.76S312 80 336 80c23.83 0 45.38 9.06 60.7 25.52 15.47 16.62 23 39.22 21.26 63.63-1.67 23.11-10.9 44.77-26 61C376.44 246.82 356.57 256 336 256zm66-88zM467.83 432H204.18a27.71 27.71 0 01-22-10.67 30.22 30.22 0 01-5.26-25.79c8.42-33.81 29.28-61.85 60.32-81.08C264.79 297.4 299.86 288 336 288c36.85 0 71 9 98.71 26.05 31.11 19.13 52 47.33 60.38 81.55a30.27 30.27 0 01-5.32 25.78A27.68 27.68 0 01467.83 432zM147 260c-35.19 0-66.13-32.72-69-72.93-1.42-20.6 5-39.65 18-53.62 12.86-13.83 31-21.45 51-21.45s38 7.66 50.93 21.57c13.1 14.08 19.5 33.09 18 53.52-2.87 40.2-33.8 72.91-68.93 72.91zM212.66 291.45c-17.59-8.6-40.42-12.9-65.65-12.9-29.46 0-58.07 7.68-80.57 21.62-25.51 15.83-42.67 38.88-49.6 66.71a27.39 27.39 0 004.79 23.36A25.32 25.32 0 0041.72 400h111a8 8 0 007.87-6.57c.11-.63.25-1.26.41-1.88 8.48-34.06 28.35-62.84 57.71-83.82a8 8 0 00-.63-13.39c-1.57-.92-3.37-1.89-5.42-2.89z'/></svg>",xO="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M332.64 64.58C313.18 43.57 286 32 256 32c-30.16 0-57.43 11.5-76.8 32.38-19.58 21.11-29.12 49.8-26.88 80.78C156.76 206.28 203.27 256 256 256s99.16-49.71 103.67-110.82c2.27-30.7-7.33-59.33-27.03-80.6zM432 480H80a31 31 0 01-24.2-11.13c-6.5-7.77-9.12-18.38-7.18-29.11C57.06 392.94 83.4 353.61 124.8 326c36.78-24.51 83.37-38 131.2-38s94.42 13.5 131.2 38c41.4 27.6 67.74 66.93 76.18 113.75 1.94 10.73-.68 21.34-7.18 29.11A31 31 0 01432 480z'/></svg>",UX="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M470.3 271.15L43.16 447.31a7.83 7.83 0 01-11.16-7V327a8 8 0 016.51-7.86l247.62-47c17.36-3.29 17.36-28.15 0-31.44l-247.63-47a8 8 0 01-6.5-7.85V72.59c0-5.74 5.88-10.26 11.16-8L470.3 241.76a16 16 0 010 29.39z' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/></svg>",wO=({icon:e,text:t,onClick:n})=>ne.jsxs("div",{className:"flex row w-100 g-20 cursor-pointer hover-secondary p-2 br",onClick:n,children:[e,ne.jsx("p",{children:t})]}),HX=[{title:"Received Requests",path:"/requests_received",icon:ne.jsx(Zr,{icon:bO,size:"large"})},{title:"Sent Requests",path:"/requests_sent",icon:ne.jsx(Zr,{icon:$X,size:"large"})}],qX=()=>{const e=Y0();return ne.jsxs(ne.Fragment,{children:[ne.jsxs(XL,{menuId:"chat-menu",contentId:"main-content",swipeGesture:!1,children:[ne.jsx(eE,{children:ne.jsx(nE,{children:ne.jsx(tE,{children:"Chats"})})}),ne.jsx(mf,{className:"ion-padding",children:ne.jsx("div",{className:"flex flex-col gap-3",children:HX.map((t,n)=>ne.jsx(wO,{icon:t.icon,text:t.title,onClick:()=>{Wi.close("chat-menu"),e.push(t.path)}},n))})})]}),ne.jsx(Ng,{id:"main-content"})]})};function Ir(e){return"Minified Redux error #".concat(e,"; visit https://redux.js.org/Errors?code=").concat(e," for the full message or use the non-minified dev environment for full errors. ")}var WX=typeof Symbol=="function"&&Symbol.observable||"@@observable",FA=WX,C1=()=>Math.random().toString(36).substring(7).split("").join("."),ZX={INIT:"@@redux/INIT".concat(C1()),REPLACE:"@@redux/REPLACE".concat(C1()),PROBE_UNKNOWN_ACTION:()=>"@@redux/PROBE_UNKNOWN_ACTION".concat(C1())},Zb=ZX;function xE(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function wE(e,t,n){if(typeof e!="function")throw new Error(Ir(2));if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Ir(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Ir(1));return n(wE)(e,t)}let i=e,s=t,l=new Map,d=l,c=0,y=!1;function b(){d===l&&(d=new Map,l.forEach((q,F)=>{d.set(F,q)}))}function k(){if(y)throw new Error(Ir(3));return s}function S(q){if(typeof q!="function")throw new Error(Ir(4));if(y)throw new Error(Ir(5));let F=!0;b();const $=c++;return d.set($,q),function(){if(F){if(y)throw new Error(Ir(6));F=!1,b(),d.delete($),l=null}}}function E(q){if(!xE(q))throw new Error(Ir(7));if(typeof q.type>"u")throw new Error(Ir(8));if(typeof q.type!="string")throw new Error(Ir(17));if(y)throw new Error(Ir(9));try{y=!0,s=i(s,q)}finally{y=!1}return(l=d).forEach($=>{$()}),q}function A(q){if(typeof q!="function")throw new Error(Ir(10));i=q,E({type:Zb.REPLACE})}function z(){const q=S;return{subscribe(F){if(typeof F!="object"||F===null)throw new Error(Ir(11));function $(){const Z=F;Z.next&&Z.next(k())}return $(),{unsubscribe:q($)}},[FA](){return this}}}return E({type:Zb.INIT}),{dispatch:E,subscribe:S,getState:k,replaceReducer:A,[FA]:z}}function GX(e){Object.keys(e).forEach(t=>{const n=e[t];if(typeof n(void 0,{type:Zb.INIT})>"u")throw new Error(Ir(12));if(typeof n(void 0,{type:Zb.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Ir(13))})}function SO(e){const t=Object.keys(e),n={};for(let l=0;l<t.length;l++){const d=t[l];typeof e[d]=="function"&&(n[d]=e[d])}const i=Object.keys(n);let s;try{GX(n)}catch(l){s=l}return function(d={},c){if(s)throw s;let y=!1;const b={};for(let k=0;k<i.length;k++){const S=i[k],E=n[S],A=d[S],z=E(A,c);if(typeof z>"u")throw c&&c.type,new Error(Ir(14));b[S]=z,y=y||z!==A}return y=y||i.length!==Object.keys(d).length,y?b:d}}function Gb(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,n)=>(...i)=>t(n(...i)))}function KX(...e){return t=>(n,i)=>{const s=t(n,i);let l=()=>{throw new Error(Ir(15))};const d={getState:s.getState,dispatch:(y,...b)=>l(y,...b)},c=e.map(y=>y(d));return l=Gb(...c)(s.dispatch),{...s,dispatch:l}}}function XX(e){return xE(e)&&"type"in e&&typeof e.type=="string"}var kO=Symbol.for("immer-nothing"),NA=Symbol.for("immer-draftable"),ts=Symbol.for("immer-state");function Ks(e,...t){throw new Error("[Immer] minified error nr: ".concat(e,". Full error at: https://bit.ly/3cXEKWf"))}var gf=Object.getPrototypeOf;function Gc(e){return!!e&&!!e[ts]}function Cl(e){var t;return e?EO(e)||Array.isArray(e)||!!e[NA]||!!((t=e.constructor)!=null&&t[NA])||u_(e)||d_(e):!1}var YX=Object.prototype.constructor.toString();function EO(e){if(!e||typeof e!="object")return!1;const t=gf(e);if(t===null)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===YX}function Kb(e,t){c_(e)===0?Reflect.ownKeys(e).forEach(n=>{t(n,e[n],e)}):e.forEach((n,i)=>t(i,n,e))}function c_(e){const t=e[ts];return t?t.type_:Array.isArray(e)?1:u_(e)?2:d_(e)?3:0}function x2(e,t){return c_(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function CO(e,t,n){const i=c_(e);i===2?e.set(t,n):i===3?e.add(n):e[t]=n}function JX(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function u_(e){return e instanceof Map}function d_(e){return e instanceof Set}function Mu(e){return e.copy_||e.base_}function w2(e,t){if(u_(e))return new Map(e);if(d_(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);if(!t&&EO(e))return gf(e)?{...e}:Object.assign(Object.create(null),e);const n=Object.getOwnPropertyDescriptors(e);delete n[ts];let i=Reflect.ownKeys(n);for(let s=0;s<i.length;s++){const l=i[s],d=n[l];d.writable===!1&&(d.writable=!0,d.configurable=!0),(d.get||d.set)&&(n[l]={configurable:!0,writable:!0,enumerable:d.enumerable,value:e[l]})}return Object.create(gf(e),n)}function SE(e,t=!1){return h_(e)||Gc(e)||!Cl(e)||(c_(e)>1&&(e.set=e.add=e.clear=e.delete=QX),Object.freeze(e),t&&Object.entries(e).forEach(([n,i])=>SE(i,!0))),e}function QX(){Ks(2)}function h_(e){return Object.isFrozen(e)}var eY={};function ld(e){const t=eY[e];return t||Ks(0,e),t}var qm;function TO(){return qm}function tY(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function jA(e,t){t&&(ld("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function S2(e){k2(e),e.drafts_.forEach(nY),e.drafts_=null}function k2(e){e===qm&&(qm=e.parent_)}function VA(e){return qm=tY(qm,e)}function nY(e){const t=e[ts];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function UA(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return e!==void 0&&e!==n?(n[ts].modified_&&(S2(t),Ks(4)),Cl(e)&&(e=Xb(t,e),t.parent_||Yb(t,e)),t.patches_&&ld("Patches").generateReplacementPatches_(n[ts].base_,e,t.patches_,t.inversePatches_)):e=Xb(t,n,[]),S2(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==kO?e:void 0}function Xb(e,t,n){if(h_(t))return t;const i=t[ts];if(!i)return Kb(t,(s,l)=>HA(e,i,t,s,l,n)),t;if(i.scope_!==e)return t;if(!i.modified_)return Yb(e,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const s=i.copy_;let l=s,d=!1;i.type_===3&&(l=new Set(s),s.clear(),d=!0),Kb(l,(c,y)=>HA(e,i,s,c,y,n,d)),Yb(e,s,!1),n&&e.patches_&&ld("Patches").generatePatches_(i,n,e.patches_,e.inversePatches_)}return i.copy_}function HA(e,t,n,i,s,l,d){if(Gc(s)){const c=l&&t&&t.type_!==3&&!x2(t.assigned_,i)?l.concat(i):void 0,y=Xb(e,s,c);if(CO(n,i,y),Gc(y))e.canAutoFreeze_=!1;else return}else d&&n.add(s);if(Cl(s)&&!h_(s)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;Xb(e,s),(!t||!t.scope_.parent_)&&typeof i!="symbol"&&Object.prototype.propertyIsEnumerable.call(n,i)&&Yb(e,s)}}function Yb(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&SE(t,n)}function iY(e,t){const n=Array.isArray(e),i={type_:n?1:0,scope_:t?t.scope_:TO(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let s=i,l=kE;n&&(s=[i],l=Wm);const{revoke:d,proxy:c}=Proxy.revocable(s,l);return i.draft_=c,i.revoke_=d,c}var kE={get(e,t){if(t===ts)return e;const n=Mu(e);if(!x2(n,t))return rY(e,n,t);const i=n[t];return e.finalized_||!Cl(i)?i:i===T1(e.base_,t)?(I1(e),e.copy_[t]=C2(i,e)):i},has(e,t){return t in Mu(e)},ownKeys(e){return Reflect.ownKeys(Mu(e))},set(e,t,n){const i=IO(Mu(e),t);if(i!=null&&i.set)return i.set.call(e.draft_,n),!0;if(!e.modified_){const s=T1(Mu(e),t),l=s==null?void 0:s[ts];if(l&&l.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(JX(n,s)&&(n!==void 0||x2(e.base_,t)))return!0;I1(e),E2(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty(e,t){return T1(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,I1(e),E2(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=Mu(e),i=Reflect.getOwnPropertyDescriptor(n,t);return i&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:i.enumerable,value:n[t]}},defineProperty(){Ks(11)},getPrototypeOf(e){return gf(e.base_)},setPrototypeOf(){Ks(12)}},Wm={};Kb(kE,(e,t)=>{Wm[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});Wm.deleteProperty=function(e,t){return Wm.set.call(this,e,t,void 0)};Wm.set=function(e,t,n){return kE.set.call(this,e[0],t,n,e[0])};function T1(e,t){const n=e[ts];return(n?Mu(n):e)[t]}function rY(e,t,n){var s;const i=IO(t,n);return i?"value"in i?i.value:(s=i.get)==null?void 0:s.call(e.draft_):void 0}function IO(e,t){if(!(t in e))return;let n=gf(e);for(;n;){const i=Object.getOwnPropertyDescriptor(n,t);if(i)return i;n=gf(n)}}function E2(e){e.modified_||(e.modified_=!0,e.parent_&&E2(e.parent_))}function I1(e){e.copy_||(e.copy_=w2(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var oY=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,n,i)=>{if(typeof t=="function"&&typeof n!="function"){const l=n;n=t;const d=this;return function(y=l,...b){return d.produce(y,k=>n.call(this,k,...b))}}typeof n!="function"&&Ks(6),i!==void 0&&typeof i!="function"&&Ks(7);let s;if(Cl(t)){const l=VA(this),d=C2(t,void 0);let c=!0;try{s=n(d),c=!1}finally{c?S2(l):k2(l)}return jA(l,i),UA(s,l)}else if(!t||typeof t!="object"){if(s=n(t),s===void 0&&(s=t),s===kO&&(s=void 0),this.autoFreeze_&&SE(s,!0),i){const l=[],d=[];ld("Patches").generateReplacementPatches_(t,s,l,d),i(l,d)}return s}else Ks(1,t)},this.produceWithPatches=(t,n)=>{if(typeof t=="function")return(d,...c)=>this.produceWithPatches(d,y=>t(y,...c));let i,s;return[this.produce(t,n,(d,c)=>{i=d,s=c}),i,s]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){Cl(e)||Ks(8),Gc(e)&&(e=PO(e));const t=VA(this),n=C2(e,void 0);return n[ts].isManual_=!0,k2(t),n}finishDraft(e,t){const n=e&&e[ts];(!n||!n.isManual_)&&Ks(9);const{scope_:i}=n;return jA(i,t),UA(void 0,i)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const s=t[n];if(s.path.length===0&&s.op==="replace"){e=s.value;break}}n>-1&&(t=t.slice(n+1));const i=ld("Patches").applyPatches_;return Gc(e)?i(e,t):this.produce(e,s=>i(s,t))}};function C2(e,t){const n=u_(e)?ld("MapSet").proxyMap_(e,t):d_(e)?ld("MapSet").proxySet_(e,t):iY(e,t);return(t?t.scope_:TO()).drafts_.push(n),n}function PO(e){return Gc(e)||Ks(10,e),AO(e)}function AO(e){if(!Cl(e)||h_(e))return e;const t=e[ts];let n;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=w2(e,t.scope_.immer_.useStrictShallowCopy_)}else n=w2(e,!0);return Kb(n,(i,s)=>{CO(n,i,AO(s))}),t&&(t.finalized_=!1),n}var ns=new oY,RO=ns.produce;ns.produceWithPatches.bind(ns);ns.setAutoFreeze.bind(ns);ns.setUseStrictShallowCopy.bind(ns);ns.applyPatches.bind(ns);ns.createDraft.bind(ns);ns.finishDraft.bind(ns);function sY(e,t="expected a function, instead received ".concat(typeof e)){if(typeof e!="function")throw new TypeError(t)}function aY(e,t="expected an object, instead received ".concat(typeof e)){if(typeof e!="object")throw new TypeError(t)}function lY(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(n=>typeof n=="function")){const n=e.map(i=>typeof i=="function"?"function ".concat(i.name||"unnamed","()"):typeof i).join(", ");throw new TypeError("".concat(t,"[").concat(n,"]"))}}var qA=e=>Array.isArray(e)?e:[e];function cY(e){const t=Array.isArray(e[0])?e[0]:e;return lY(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function uY(e,t){const n=[],{length:i}=e;for(let s=0;s<i;s++)n.push(e[s].apply(null,t));return n}var dY=class{constructor(e){this.value=e}deref(){return this.value}},hY=typeof WeakRef<"u"?WeakRef:dY,fY=0,WA=1;function Cv(){return{s:fY,v:void 0,o:null,p:null}}function EE(e,t={}){let n=Cv();const{resultEqualityCheck:i}=t;let s,l=0;function d(){var S,E;let c=n;const{length:y}=arguments;for(let A=0,z=y;A<z;A++){const N=arguments[A];if(typeof N=="function"||typeof N=="object"&&N!==null){let q=c.o;q===null&&(c.o=q=new WeakMap);const F=q.get(N);F===void 0?(c=Cv(),q.set(N,c)):c=F}else{let q=c.p;q===null&&(c.p=q=new Map);const F=q.get(N);F===void 0?(c=Cv(),q.set(N,c)):c=F}}const b=c;let k;if(c.s===WA?k=c.v:(k=e.apply(null,arguments),l++),b.s=WA,i){const A=(E=(S=s==null?void 0:s.deref)==null?void 0:S.call(s))!=null?E:s;A!=null&&i(A,k)&&(k=A,l!==0&&l--),s=typeof k=="object"&&k!==null||typeof k=="function"?new hY(k):k}return b.v=k,k}return d.clearCache=()=>{n=Cv(),d.resetResultsCount()},d.resultsCount=()=>l,d.resetResultsCount=()=>{l=0},d}function MO(e,...t){const n=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,i=(...s)=>{let l=0,d=0,c,y={},b=s.pop();typeof b=="object"&&(y=b,b=s.pop()),sY(b,"createSelector expects an output function after the inputs, but received: [".concat(typeof b,"]"));const k={...n,...y},{memoize:S,memoizeOptions:E=[],argsMemoize:A=EE,argsMemoizeOptions:z=[],devModeChecks:N={}}=k,q=qA(E),F=qA(z),$=cY(s),V=S(function(){return l++,b.apply(null,arguments)},...q),Z=A(function(){d++;const fe=uY($,arguments);return c=V.apply(null,fe),c},...F);return Object.assign(Z,{resultFunc:b,memoizedResultFunc:V,dependencies:$,dependencyRecomputations:()=>d,resetDependencyRecomputations:()=>{d=0},lastResult:()=>c,recomputations:()=>l,resetRecomputations:()=>{l=0},memoize:S,argsMemoize:A})};return Object.assign(i,{withTypes:()=>i}),i}var pY=MO(EE),mY=Object.assign((e,t=pY)=>{aY(e,"createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ".concat(typeof e));const n=Object.keys(e),i=n.map(l=>e[l]);return t(i,(...l)=>l.reduce((d,c,y)=>(d[n[y]]=c,d),{}))},{withTypes:()=>mY});function zO(e){return({dispatch:n,getState:i})=>s=>l=>typeof l=="function"?l(n,i,e):s(l)}var gY=zO(),yY=zO,vY=(...e)=>{const t=MO(...e),n=Object.assign((...i)=>{const s=t(...i),l=(d,...c)=>s(Gc(d)?PO(d):d,...c);return Object.assign(l,s),l},{withTypes:()=>n});return n};vY(EE);var bY=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Gb:Gb.apply(null,arguments)};function yf(e,t){function n(...i){if(t){let s=t(...i);if(!s)throw new Error(Ro(0));return{type:e,payload:s.payload,..."meta"in s&&{meta:s.meta},..."error"in s&&{error:s.error}}}return{type:e,payload:i[0]}}return n.toString=()=>"".concat(e),n.type=e,n.match=i=>XX(i)&&i.type===e,n}var LO=class rm extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,rm.prototype)}static get[Symbol.species](){return rm}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new rm(...t[0].concat(this)):new rm(...t.concat(this))}};function ZA(e){return Cl(e)?RO(e,()=>{}):e}function GA(e,t,n){if(e.has(t)){let s=e.get(t);return n.update&&(s=n.update(s,t,e),e.set(t,s)),s}if(!n.insert)throw new Error(Ro(10));const i=n.insert(t,e);return e.set(t,i),i}function _Y(e){return typeof e=="boolean"}var xY=()=>function(t){const{thunk:n=!0,immutableCheck:i=!0,serializableCheck:s=!0,actionCreatorCheck:l=!0}=t!=null?t:{};let d=new LO;return n&&(_Y(n)?d.push(gY):d.push(yY(n.extraArgument))),d},wY="RTK_autoBatch",OO=e=>t=>{setTimeout(t,e)},SY=typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:OO(10),kY=(e={type:"raf"})=>t=>(...n)=>{const i=t(...n);let s=!0,l=!1,d=!1;const c=new Set,y=e.type==="tick"?queueMicrotask:e.type==="raf"?SY:e.type==="callback"?e.queueNotification:OO(e.timeout),b=()=>{d=!1,l&&(l=!1,c.forEach(k=>k()))};return Object.assign({},i,{subscribe(k){const S=()=>s&&k(),E=i.subscribe(S);return c.add(k),()=>{E(),c.delete(k)}},dispatch(k){var S;try{return s=!((S=k==null?void 0:k.meta)!=null&&S[wY]),l=!s,l&&(d||(d=!0,y(b))),i.dispatch(k)}finally{s=!0}}})},EY=e=>function(n){const{autoBatch:i=!0}=n!=null?n:{};let s=new LO(e);return i&&s.push(kY(typeof i=="object"?i:void 0)),s},CY=!0;function TY(e){const t=xY(),{reducer:n=void 0,middleware:i,devTools:s=!0,preloadedState:l=void 0,enhancers:d=void 0}=e||{};let c;if(typeof n=="function")c=n;else if(xE(n))c=SO(n);else throw new Error(Ro(1));let y;typeof i=="function"?y=i(t):y=t();let b=Gb;s&&(b=bY({trace:!CY,...typeof s=="object"&&s}));const k=KX(...y),S=EY(k);let E=typeof d=="function"?d(S):S();const A=b(...E);return wE(c,l,A)}function DO(e){const t={},n=[];let i;const s={addCase(l,d){const c=typeof l=="string"?l:l.type;if(!c)throw new Error(Ro(28));if(c in t)throw new Error(Ro(29));return t[c]=d,s},addMatcher(l,d){return n.push({matcher:l,reducer:d}),s},addDefaultCase(l){return i=l,s}};return e(s),[t,n,i]}function IY(e){return typeof e=="function"}function PY(e,t){let[n,i,s]=DO(t),l;if(IY(e))l=()=>ZA(e());else{const c=ZA(e);l=()=>c}function d(c=l(),y){let b=[n[y.type],...i.filter(({matcher:k})=>k(y)).map(({reducer:k})=>k)];return b.filter(k=>!!k).length===0&&(b=[s]),b.reduce((k,S)=>{if(S)if(Gc(k)){const A=S(k,y);return A===void 0?k:A}else{if(Cl(k))return RO(k,E=>S(E,y));{const E=S(k,y);if(E===void 0){if(k===null)return k;throw new Error(Ro(9))}return E}}return k},c)}return d.getInitialState=l,d}var AY="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",RY=(e=21)=>{let t="",n=e;for(;n--;)t+=AY[Math.random()*64|0];return t},MY=Symbol.for("rtk-slice-createasyncthunk");function zY(e,t){return"".concat(e,"/").concat(t)}function LY({creators:e}={}){var n;const t=(n=e==null?void 0:e.asyncThunk)==null?void 0:n[MY];return function(s){const{name:l,reducerPath:d=l}=s;if(!l)throw new Error(Ro(11));typeof process<"u";const c=(typeof s.reducers=="function"?s.reducers(DY()):s.reducers)||{},y=Object.keys(c),b={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},k={addCase(V,Z){const Q=typeof V=="string"?V:V.type;if(!Q)throw new Error(Ro(12));if(Q in b.sliceCaseReducersByType)throw new Error(Ro(13));return b.sliceCaseReducersByType[Q]=Z,k},addMatcher(V,Z){return b.sliceMatchers.push({matcher:V,reducer:Z}),k},exposeAction(V,Z){return b.actionCreators[V]=Z,k},exposeCaseReducer(V,Z){return b.sliceCaseReducersByName[V]=Z,k}};y.forEach(V=>{const Z=c[V],Q={reducerName:V,type:zY(l,V),createNotation:typeof s.reducers=="function"};BY(Z)?NY(Q,Z,k,t):$Y(Q,Z,k)});function S(){const[V={},Z=[],Q=void 0]=typeof s.extraReducers=="function"?DO(s.extraReducers):[s.extraReducers],fe={...V,...b.sliceCaseReducersByType};return PY(s.initialState,oe=>{for(let re in fe)oe.addCase(re,fe[re]);for(let re of b.sliceMatchers)oe.addMatcher(re.matcher,re.reducer);for(let re of Z)oe.addMatcher(re.matcher,re.reducer);Q&&oe.addDefaultCase(Q)})}const E=V=>V,A=new Map;let z;function N(V,Z){return z||(z=S()),z(V,Z)}function q(){return z||(z=S()),z.getInitialState()}function F(V,Z=!1){function Q(oe){let re=oe[V];return typeof re>"u"&&Z&&(re=q()),re}function fe(oe=E){const re=GA(A,Z,{insert:()=>new WeakMap});return GA(re,oe,{insert:()=>{var Le;const Be={};for(const[Fe,Ze]of Object.entries((Le=s.selectors)!=null?Le:{}))Be[Fe]=OY(Ze,oe,q,Z);return Be}})}return{reducerPath:V,getSelectors:fe,get selectors(){return fe(Q)},selectSlice:Q}}const $={name:l,reducer:N,actions:b.actionCreators,caseReducers:b.sliceCaseReducersByName,getInitialState:q,...F(d),injectInto(V,{reducerPath:Z,...Q}={}){const fe=Z!=null?Z:d;return V.inject({reducerPath:fe,reducer:N},Q),{...$,...F(fe,!0)}}};return $}}function OY(e,t,n,i){function s(l,...d){let c=t(l);return typeof c>"u"&&i&&(c=n()),e(c,...d)}return s.unwrapped=e,s}var CE=LY();function DY(){function e(t,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...n}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...n){return t(...n)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:n}},asyncThunk:e}}function $Y({type:e,reducerName:t,createNotation:n},i,s){let l,d;if("reducer"in i){if(n&&!FY(i))throw new Error(Ro(17));l=i.reducer,d=i.prepare}else l=i;s.addCase(e,l).exposeCaseReducer(t,l).exposeAction(t,d?yf(e,d):yf(e))}function BY(e){return e._reducerDefinitionType==="asyncThunk"}function FY(e){return e._reducerDefinitionType==="reducerWithPrepare"}function NY({type:e,reducerName:t},n,i,s){if(!s)throw new Error(Ro(18));const{payloadCreator:l,fulfilled:d,pending:c,rejected:y,settled:b,options:k}=n,S=s(e,l,k);i.exposeAction(t,S),d&&i.addCase(S.fulfilled,d),c&&i.addCase(S.pending,c),y&&i.addCase(S.rejected,y),b&&i.addMatcher(S.settled,b),i.exposeCaseReducer(t,{fulfilled:d||Tv,pending:c||Tv,rejected:y||Tv,settled:b||Tv})}function Tv(){}var jY=(e,t)=>{if(typeof e!="function")throw new Error(Ro(32))},TE="listenerMiddleware",VY=e=>{let{type:t,actionCreator:n,matcher:i,predicate:s,effect:l}=e;if(t)s=yf(t).match;else if(n)t=n.type,s=n.match;else if(i)s=i;else if(!s)throw new Error(Ro(21));return jY(l),{predicate:s,type:t,effect:l}},UY=Object.assign(e=>{const{type:t,predicate:n,effect:i}=VY(e);return{id:RY(),effect:i,type:t,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(Ro(22))}}},{withTypes:()=>UY}),HY=Object.assign(yf("".concat(TE,"/add")),{withTypes:()=>HY});yf("".concat(TE,"/removeAll"));var qY=Object.assign(yf("".concat(TE,"/remove")),{withTypes:()=>qY});function Ro(e){return"Minified Redux Toolkit error #".concat(e,"; visit https://redux-toolkit.js.org/Errors?code=").concat(e," for the full message or use the non-minified dev environment for full errors. ")}const $O=CE({name:"navbar",initialState:!1,reducers:{toggleNavbar:e=>!e,turnOnNavbar:()=>!0,turnOffNavbar:()=>!1}}),{toggleNavbar:Oie,turnOnNavbar:WY,turnOffNavbar:T2}=$O.actions,ZY=$O.reducer,GY=e=>e.navbar,BO=CE({name:"token",initialState:{value:null},reducers:{setToken:(e,t)=>{e.value=t.payload.token},clearToken:e=>{e.value=null}}}),{setToken:KY,clearToken:XY}=BO.actions,YY=BO.reducer,FO=e=>e.token,NO=()=>{const e=Bk(),t=ou();return{logout:()=>{e(T2()),e(XY()),t.clear()}}},JY=()=>{const e=Y0(),{logout:t}=NO(),n=[{title:"Edit Profile",path:"/profile/edit",icon:ne.jsx(Zr,{icon:xO,size:"large"})},{title:"Edit Password",path:"/profile/password",icon:ne.jsx(Zr,{icon:NX,size:"large"})},{title:"Logout",path:"/logout",icon:ne.jsx(Zr,{icon:jX,size:"large"})}];return ne.jsxs(ne.Fragment,{children:[ne.jsxs(XL,{menuId:"profile-menu",contentId:"main-content",swipeGesture:!1,children:[ne.jsx(eE,{children:ne.jsx(nE,{children:ne.jsx(tE,{children:"Profile Settings"})})}),ne.jsx(mf,{className:"ion-padding",children:ne.jsx("div",{className:"flex flex-col gap-3",children:n.map((i,s)=>ne.jsx(wO,{icon:i.icon,text:i.title,onClick:i.path==="/logout"?t:()=>{Wi.close("profile-menu"),e.push(i.path)}},s))})})]}),ne.jsx(Ng,{id:"main-content"})]})};function jO(e,t){return function(){return e.apply(t,arguments)}}const{toString:QY}=Object.prototype,{getPrototypeOf:IE}=Object,f_=(e=>t=>{const n=QY.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Ba=e=>(e=e.toLowerCase(),t=>f_(t)===e),p_=e=>t=>typeof t===e,{isArray:Pf}=Array,Zm=p_("undefined");function eJ(e){return e!==null&&!Zm(e)&&e.constructor!==null&&!Zm(e.constructor)&&Cs(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const VO=Ba("ArrayBuffer");function tJ(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&VO(e.buffer),t}const nJ=p_("string"),Cs=p_("function"),UO=p_("number"),m_=e=>e!==null&&typeof e=="object",iJ=e=>e===!0||e===!1,Xv=e=>{if(f_(e)!=="object")return!1;const t=IE(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},rJ=Ba("Date"),oJ=Ba("File"),sJ=Ba("Blob"),aJ=Ba("FileList"),lJ=e=>m_(e)&&Cs(e.pipe),cJ=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||Cs(e.append)&&((t=f_(e))==="formdata"||t==="object"&&Cs(e.toString)&&e.toString()==="[object FormData]"))},uJ=Ba("URLSearchParams"),dJ=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Vg(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let i,s;if(typeof e!="object"&&(e=[e]),Pf(e))for(i=0,s=e.length;i<s;i++)t.call(null,e[i],i,e);else{const l=n?Object.getOwnPropertyNames(e):Object.keys(e),d=l.length;let c;for(i=0;i<d;i++)c=l[i],t.call(null,e[c],c,e)}}function HO(e,t){t=t.toLowerCase();const n=Object.keys(e);let i=n.length,s;for(;i-- >0;)if(s=n[i],t===s.toLowerCase())return s;return null}const qO=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,WO=e=>!Zm(e)&&e!==qO;function I2(){const{caseless:e}=WO(this)&&this||{},t={},n=(i,s)=>{const l=e&&HO(t,s)||s;Xv(t[l])&&Xv(i)?t[l]=I2(t[l],i):Xv(i)?t[l]=I2({},i):Pf(i)?t[l]=i.slice():t[l]=i};for(let i=0,s=arguments.length;i<s;i++)arguments[i]&&Vg(arguments[i],n);return t}const hJ=(e,t,n,{allOwnKeys:i}={})=>(Vg(t,(s,l)=>{n&&Cs(s)?e[l]=jO(s,n):e[l]=s},{allOwnKeys:i}),e),fJ=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),pJ=(e,t,n,i)=>{e.prototype=Object.create(t.prototype,i),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},mJ=(e,t,n,i)=>{let s,l,d;const c={};if(t=t||{},e==null)return t;do{for(s=Object.getOwnPropertyNames(e),l=s.length;l-- >0;)d=s[l],(!i||i(d,e,t))&&!c[d]&&(t[d]=e[d],c[d]=!0);e=n!==!1&&IE(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},gJ=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const i=e.indexOf(t,n);return i!==-1&&i===n},yJ=e=>{if(!e)return null;if(Pf(e))return e;let t=e.length;if(!UO(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},vJ=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&IE(Uint8Array)),bJ=(e,t)=>{const i=(e&&e[Symbol.iterator]).call(e);let s;for(;(s=i.next())&&!s.done;){const l=s.value;t.call(e,l[0],l[1])}},_J=(e,t)=>{let n;const i=[];for(;(n=e.exec(t))!==null;)i.push(n);return i},xJ=Ba("HTMLFormElement"),wJ=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,i,s){return i.toUpperCase()+s}),KA=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),SJ=Ba("RegExp"),ZO=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),i={};Vg(n,(s,l)=>{let d;(d=t(s,l,e))!==!1&&(i[l]=d||s)}),Object.defineProperties(e,i)},kJ=e=>{ZO(e,(t,n)=>{if(Cs(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const i=e[n];if(Cs(i)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},EJ=(e,t)=>{const n={},i=s=>{s.forEach(l=>{n[l]=!0})};return Pf(e)?i(e):i(String(e).split(t)),n},CJ=()=>{},TJ=(e,t)=>(e=+e,Number.isFinite(e)?e:t),P1="abcdefghijklmnopqrstuvwxyz",XA="0123456789",GO={DIGIT:XA,ALPHA:P1,ALPHA_DIGIT:P1+P1.toUpperCase()+XA},IJ=(e=16,t=GO.ALPHA_DIGIT)=>{let n="";const{length:i}=t;for(;e--;)n+=t[Math.random()*i|0];return n};function PJ(e){return!!(e&&Cs(e.append)&&e[Symbol.toStringTag]==="FormData"&&e[Symbol.iterator])}const AJ=e=>{const t=new Array(10),n=(i,s)=>{if(m_(i)){if(t.indexOf(i)>=0)return;if(!("toJSON"in i)){t[s]=i;const l=Pf(i)?[]:{};return Vg(i,(d,c)=>{const y=n(d,s+1);!Zm(y)&&(l[c]=y)}),t[s]=void 0,l}}return i};return n(e,0)},RJ=Ba("AsyncFunction"),MJ=e=>e&&(m_(e)||Cs(e))&&Cs(e.then)&&Cs(e.catch),et={isArray:Pf,isArrayBuffer:VO,isBuffer:eJ,isFormData:cJ,isArrayBufferView:tJ,isString:nJ,isNumber:UO,isBoolean:iJ,isObject:m_,isPlainObject:Xv,isUndefined:Zm,isDate:rJ,isFile:oJ,isBlob:sJ,isRegExp:SJ,isFunction:Cs,isStream:lJ,isURLSearchParams:uJ,isTypedArray:vJ,isFileList:aJ,forEach:Vg,merge:I2,extend:hJ,trim:dJ,stripBOM:fJ,inherits:pJ,toFlatObject:mJ,kindOf:f_,kindOfTest:Ba,endsWith:gJ,toArray:yJ,forEachEntry:bJ,matchAll:_J,isHTMLForm:xJ,hasOwnProperty:KA,hasOwnProp:KA,reduceDescriptors:ZO,freezeMethods:kJ,toObjectSet:EJ,toCamelCase:wJ,noop:CJ,toFiniteNumber:TJ,findKey:HO,global:qO,isContextDefined:WO,ALPHABET:GO,generateString:IJ,isSpecCompliantForm:PJ,toJSONObject:AJ,isAsyncFn:RJ,isThenable:MJ};function kn(e,t,n,i,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),i&&(this.request=i),s&&(this.response=s)}et.inherits(kn,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:et.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const KO=kn.prototype,XO={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{XO[e]={value:e}});Object.defineProperties(kn,XO);Object.defineProperty(KO,"isAxiosError",{value:!0});kn.from=(e,t,n,i,s,l)=>{const d=Object.create(KO);return et.toFlatObject(e,d,function(y){return y!==Error.prototype},c=>c!=="isAxiosError"),kn.call(d,e.message,t,n,i,s),d.cause=e,d.name=e.name,l&&Object.assign(d,l),d};const zJ=null;function P2(e){return et.isPlainObject(e)||et.isArray(e)}function YO(e){return et.endsWith(e,"[]")?e.slice(0,-2):e}function YA(e,t,n){return e?e.concat(t).map(function(s,l){return s=YO(s),!n&&l?"["+s+"]":s}).join(n?".":""):t}function LJ(e){return et.isArray(e)&&!e.some(P2)}const OJ=et.toFlatObject(et,{},null,function(t){return/^is[A-Z]/.test(t)});function g_(e,t,n){if(!et.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=et.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(N,q){return!et.isUndefined(q[N])});const i=n.metaTokens,s=n.visitor||k,l=n.dots,d=n.indexes,y=(n.Blob||typeof Blob<"u"&&Blob)&&et.isSpecCompliantForm(t);if(!et.isFunction(s))throw new TypeError("visitor must be a function");function b(z){if(z===null)return"";if(et.isDate(z))return z.toISOString();if(!y&&et.isBlob(z))throw new kn("Blob is not supported. Use a Buffer instead.");return et.isArrayBuffer(z)||et.isTypedArray(z)?y&&typeof Blob=="function"?new Blob([z]):Buffer.from(z):z}function k(z,N,q){let F=z;if(z&&!q&&typeof z=="object"){if(et.endsWith(N,"{}"))N=i?N:N.slice(0,-2),z=JSON.stringify(z);else if(et.isArray(z)&&LJ(z)||(et.isFileList(z)||et.endsWith(N,"[]"))&&(F=et.toArray(z)))return N=YO(N),F.forEach(function(V,Z){!(et.isUndefined(V)||V===null)&&t.append(d===!0?YA([N],Z,l):d===null?N:N+"[]",b(V))}),!1}return P2(z)?!0:(t.append(YA(q,N,l),b(z)),!1)}const S=[],E=Object.assign(OJ,{defaultVisitor:k,convertValue:b,isVisitable:P2});function A(z,N){if(!et.isUndefined(z)){if(S.indexOf(z)!==-1)throw Error("Circular reference detected in "+N.join("."));S.push(z),et.forEach(z,function(F,$){(!(et.isUndefined(F)||F===null)&&s.call(t,F,et.isString($)?$.trim():$,N,E))===!0&&A(F,N?N.concat($):[$])}),S.pop()}}if(!et.isObject(e))throw new TypeError("data must be an object");return A(e),t}function JA(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(i){return t[i]})}function PE(e,t){this._pairs=[],e&&g_(e,this,t)}const JO=PE.prototype;JO.append=function(t,n){this._pairs.push([t,n])};JO.toString=function(t){const n=t?function(i){return t.call(this,i,JA)}:JA;return this._pairs.map(function(s){return n(s[0])+"="+n(s[1])},"").join("&")};function DJ(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function QO(e,t,n){if(!t)return e;const i=n&&n.encode||DJ,s=n&&n.serialize;let l;if(s?l=s(t,n):l=et.isURLSearchParams(t)?t.toString():new PE(t,n).toString(i),l){const d=e.indexOf("#");d!==-1&&(e=e.slice(0,d)),e+=(e.indexOf("?")===-1?"?":"&")+l}return e}class QA{constructor(){this.handlers=[]}use(t,n,i){return this.handlers.push({fulfilled:t,rejected:n,synchronous:i?i.synchronous:!1,runWhen:i?i.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){et.forEach(this.handlers,function(i){i!==null&&t(i)})}}const e5={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},$J=typeof URLSearchParams<"u"?URLSearchParams:PE,BJ=typeof FormData<"u"?FormData:null,FJ=typeof Blob<"u"?Blob:null,NJ={isBrowser:!0,classes:{URLSearchParams:$J,FormData:BJ,Blob:FJ},protocols:["http","https","file","blob","url","data"]},t5=typeof window<"u"&&typeof document<"u",jJ=(e=>t5&&["ReactNative","NativeScript","NS"].indexOf(e)<0)(typeof navigator<"u"&&navigator.product),VJ=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",UJ=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:t5,hasStandardBrowserEnv:jJ,hasStandardBrowserWebWorkerEnv:VJ},Symbol.toStringTag,{value:"Module"})),Ia={...UJ,...NJ};function HJ(e,t){return g_(e,new Ia.classes.URLSearchParams,Object.assign({visitor:function(n,i,s,l){return Ia.isNode&&et.isBuffer(n)?(this.append(i,n.toString("base64")),!1):l.defaultVisitor.apply(this,arguments)}},t))}function qJ(e){return et.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function WJ(e){const t={},n=Object.keys(e);let i;const s=n.length;let l;for(i=0;i<s;i++)l=n[i],t[l]=e[l];return t}function n5(e){function t(n,i,s,l){let d=n[l++];if(d==="__proto__")return!0;const c=Number.isFinite(+d),y=l>=n.length;return d=!d&&et.isArray(s)?s.length:d,y?(et.hasOwnProp(s,d)?s[d]=[s[d],i]:s[d]=i,!c):((!s[d]||!et.isObject(s[d]))&&(s[d]=[]),t(n,i,s[d],l)&&et.isArray(s[d])&&(s[d]=WJ(s[d])),!c)}if(et.isFormData(e)&&et.isFunction(e.entries)){const n={};return et.forEachEntry(e,(i,s)=>{t(qJ(i),s,n,0)}),n}return null}function ZJ(e,t,n){if(et.isString(e))try{return(t||JSON.parse)(e),et.trim(e)}catch(i){if(i.name!=="SyntaxError")throw i}return(n||JSON.stringify)(e)}const AE={transitional:e5,adapter:["xhr","http"],transformRequest:[function(t,n){const i=n.getContentType()||"",s=i.indexOf("application/json")>-1,l=et.isObject(t);if(l&&et.isHTMLForm(t)&&(t=new FormData(t)),et.isFormData(t))return s?JSON.stringify(n5(t)):t;if(et.isArrayBuffer(t)||et.isBuffer(t)||et.isStream(t)||et.isFile(t)||et.isBlob(t))return t;if(et.isArrayBufferView(t))return t.buffer;if(et.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let c;if(l){if(i.indexOf("application/x-www-form-urlencoded")>-1)return HJ(t,this.formSerializer).toString();if((c=et.isFileList(t))||i.indexOf("multipart/form-data")>-1){const y=this.env&&this.env.FormData;return g_(c?{"files[]":t}:t,y&&new y,this.formSerializer)}}return l||s?(n.setContentType("application/json",!1),ZJ(t)):t}],transformResponse:[function(t){const n=this.transitional||AE.transitional,i=n&&n.forcedJSONParsing,s=this.responseType==="json";if(t&&et.isString(t)&&(i&&!this.responseType||s)){const d=!(n&&n.silentJSONParsing)&&s;try{return JSON.parse(t)}catch(c){if(d)throw c.name==="SyntaxError"?kn.from(c,kn.ERR_BAD_RESPONSE,this,null,this.response):c}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Ia.classes.FormData,Blob:Ia.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};et.forEach(["delete","get","head","post","put","patch"],e=>{AE.headers[e]={}});const RE=AE,GJ=et.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),KJ=e=>{const t={};let n,i,s;return e&&e.split("\n").forEach(function(d){s=d.indexOf(":"),n=d.substring(0,s).trim().toLowerCase(),i=d.substring(s+1).trim(),!(!n||t[n]&&GJ[n])&&(n==="set-cookie"?t[n]?t[n].push(i):t[n]=[i]:t[n]=t[n]?t[n]+", "+i:i)}),t},eR=Symbol("internals");function Xp(e){return e&&String(e).trim().toLowerCase()}function Yv(e){return e===!1||e==null?e:et.isArray(e)?e.map(Yv):String(e)}function XJ(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let i;for(;i=n.exec(e);)t[i[1]]=i[2];return t}const YJ=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function A1(e,t,n,i,s){if(et.isFunction(i))return i.call(this,t,n);if(s&&(t=n),!!et.isString(t)){if(et.isString(i))return t.indexOf(i)!==-1;if(et.isRegExp(i))return i.test(t)}}function JJ(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,i)=>n.toUpperCase()+i)}function QJ(e,t){const n=et.toCamelCase(" "+t);["get","set","has"].forEach(i=>{Object.defineProperty(e,i+n,{value:function(s,l,d){return this[i].call(this,t,s,l,d)},configurable:!0})})}class y_{constructor(t){t&&this.set(t)}set(t,n,i){const s=this;function l(c,y,b){const k=Xp(y);if(!k)throw new Error("header name must be a non-empty string");const S=et.findKey(s,k);(!S||s[S]===void 0||b===!0||b===void 0&&s[S]!==!1)&&(s[S||y]=Yv(c))}const d=(c,y)=>et.forEach(c,(b,k)=>l(b,k,y));return et.isPlainObject(t)||t instanceof this.constructor?d(t,n):et.isString(t)&&(t=t.trim())&&!YJ(t)?d(KJ(t),n):t!=null&&l(n,t,i),this}get(t,n){if(t=Xp(t),t){const i=et.findKey(this,t);if(i){const s=this[i];if(!n)return s;if(n===!0)return XJ(s);if(et.isFunction(n))return n.call(this,s,i);if(et.isRegExp(n))return n.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=Xp(t),t){const i=et.findKey(this,t);return!!(i&&this[i]!==void 0&&(!n||A1(this,this[i],i,n)))}return!1}delete(t,n){const i=this;let s=!1;function l(d){if(d=Xp(d),d){const c=et.findKey(i,d);c&&(!n||A1(i,i[c],c,n))&&(delete i[c],s=!0)}}return et.isArray(t)?t.forEach(l):l(t),s}clear(t){const n=Object.keys(this);let i=n.length,s=!1;for(;i--;){const l=n[i];(!t||A1(this,this[l],l,t,!0))&&(delete this[l],s=!0)}return s}normalize(t){const n=this,i={};return et.forEach(this,(s,l)=>{const d=et.findKey(i,l);if(d){n[d]=Yv(s),delete n[l];return}const c=t?JJ(l):String(l).trim();c!==l&&delete n[l],n[c]=Yv(s),i[c]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return et.forEach(this,(i,s)=>{i!=null&&i!==!1&&(n[s]=t&&et.isArray(i)?i.join(", "):i)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join("\n")}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const i=new this(t);return n.forEach(s=>i.set(s)),i}static accessor(t){const i=(this[eR]=this[eR]={accessors:{}}).accessors,s=this.prototype;function l(d){const c=Xp(d);i[c]||(QJ(s,d),i[c]=!0)}return et.isArray(t)?t.forEach(l):l(t),this}}y_.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);et.reduceDescriptors(y_.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(i){this[n]=i}}});et.freezeMethods(y_);const gl=y_;function R1(e,t){const n=this||RE,i=t||n,s=gl.from(i.headers);let l=i.data;return et.forEach(e,function(c){l=c.call(n,l,s.normalize(),t?t.status:void 0)}),s.normalize(),l}function i5(e){return!!(e&&e.__CANCEL__)}function Ug(e,t,n){kn.call(this,e==null?"canceled":e,kn.ERR_CANCELED,t,n),this.name="CanceledError"}et.inherits(Ug,kn,{__CANCEL__:!0});function eQ(e,t,n){const i=n.config.validateStatus;!n.status||!i||i(n.status)?e(n):t(new kn("Request failed with status code "+n.status,[kn.ERR_BAD_REQUEST,kn.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}const tQ=Ia.hasStandardBrowserEnv?{write(e,t,n,i,s,l){const d=[e+"="+encodeURIComponent(t)];et.isNumber(n)&&d.push("expires="+new Date(n).toGMTString()),et.isString(i)&&d.push("path="+i),et.isString(s)&&d.push("domain="+s),l===!0&&d.push("secure"),document.cookie=d.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function nQ(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function iQ(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function r5(e,t){return e&&!nQ(t)?iQ(e,t):t}const rQ=Ia.hasStandardBrowserEnv?function(){const t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");let i;function s(l){let d=l;return t&&(n.setAttribute("href",d),d=n.href),n.setAttribute("href",d),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return i=s(window.location.href),function(d){const c=et.isString(d)?s(d):d;return c.protocol===i.protocol&&c.host===i.host}}():function(){return function(){return!0}}();function oQ(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function sQ(e,t){e=e||10;const n=new Array(e),i=new Array(e);let s=0,l=0,d;return t=t!==void 0?t:1e3,function(y){const b=Date.now(),k=i[l];d||(d=b),n[s]=y,i[s]=b;let S=l,E=0;for(;S!==s;)E+=n[S++],S=S%e;if(s=(s+1)%e,s===l&&(l=(l+1)%e),b-d<t)return;const A=k&&b-k;return A?Math.round(E*1e3/A):void 0}}function tR(e,t){let n=0;const i=sQ(50,250);return s=>{const l=s.loaded,d=s.lengthComputable?s.total:void 0,c=l-n,y=i(c),b=l<=d;n=l;const k={loaded:l,total:d,progress:d?l/d:void 0,bytes:c,rate:y||void 0,estimated:y&&d&&b?(d-l)/y:void 0,event:s};k[t?"download":"upload"]=!0,e(k)}}const aQ=typeof XMLHttpRequest<"u",lQ=aQ&&function(e){return new Promise(function(n,i){let s=e.data;const l=gl.from(e.headers).normalize();let{responseType:d,withXSRFToken:c}=e,y;function b(){e.cancelToken&&e.cancelToken.unsubscribe(y),e.signal&&e.signal.removeEventListener("abort",y)}let k;if(et.isFormData(s)){if(Ia.hasStandardBrowserEnv||Ia.hasStandardBrowserWebWorkerEnv)l.setContentType(!1);else if((k=l.getContentType())!==!1){const[N,...q]=k?k.split(";").map(F=>F.trim()).filter(Boolean):[];l.setContentType([N||"multipart/form-data",...q].join("; "))}}let S=new XMLHttpRequest;if(e.auth){const N=e.auth.username||"",q=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";l.set("Authorization","Basic "+btoa(N+":"+q))}const E=r5(e.baseURL,e.url);S.open(e.method.toUpperCase(),QO(E,e.params,e.paramsSerializer),!0),S.timeout=e.timeout;function A(){if(!S)return;const N=gl.from("getAllResponseHeaders"in S&&S.getAllResponseHeaders()),F={data:!d||d==="text"||d==="json"?S.responseText:S.response,status:S.status,statusText:S.statusText,headers:N,config:e,request:S};eQ(function(V){n(V),b()},function(V){i(V),b()},F),S=null}if("onloadend"in S?S.onloadend=A:S.onreadystatechange=function(){!S||S.readyState!==4||S.status===0&&!(S.responseURL&&S.responseURL.indexOf("file:")===0)||setTimeout(A)},S.onabort=function(){S&&(i(new kn("Request aborted",kn.ECONNABORTED,e,S)),S=null)},S.onerror=function(){i(new kn("Network Error",kn.ERR_NETWORK,e,S)),S=null},S.ontimeout=function(){let q=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded";const F=e.transitional||e5;e.timeoutErrorMessage&&(q=e.timeoutErrorMessage),i(new kn(q,F.clarifyTimeoutError?kn.ETIMEDOUT:kn.ECONNABORTED,e,S)),S=null},Ia.hasStandardBrowserEnv&&(c&&et.isFunction(c)&&(c=c(e)),c||c!==!1&&rQ(E))){const N=e.xsrfHeaderName&&e.xsrfCookieName&&tQ.read(e.xsrfCookieName);N&&l.set(e.xsrfHeaderName,N)}s===void 0&&l.setContentType(null),"setRequestHeader"in S&&et.forEach(l.toJSON(),function(q,F){S.setRequestHeader(F,q)}),et.isUndefined(e.withCredentials)||(S.withCredentials=!!e.withCredentials),d&&d!=="json"&&(S.responseType=e.responseType),typeof e.onDownloadProgress=="function"&&S.addEventListener("progress",tR(e.onDownloadProgress,!0)),typeof e.onUploadProgress=="function"&&S.upload&&S.upload.addEventListener("progress",tR(e.onUploadProgress)),(e.cancelToken||e.signal)&&(y=N=>{S&&(i(!N||N.type?new Ug(null,e,S):N),S.abort(),S=null)},e.cancelToken&&e.cancelToken.subscribe(y),e.signal&&(e.signal.aborted?y():e.signal.addEventListener("abort",y)));const z=oQ(E);if(z&&Ia.protocols.indexOf(z)===-1){i(new kn("Unsupported protocol "+z+":",kn.ERR_BAD_REQUEST,e));return}S.send(s||null)})},A2={http:zJ,xhr:lQ};et.forEach(A2,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(n){}Object.defineProperty(e,"adapterName",{value:t})}});const nR=e=>"- ".concat(e),cQ=e=>et.isFunction(e)||e===null||e===!1,o5={getAdapter:e=>{e=et.isArray(e)?e:[e];const{length:t}=e;let n,i;const s={};for(let l=0;l<t;l++){n=e[l];let d;if(i=n,!cQ(n)&&(i=A2[(d=String(n)).toLowerCase()],i===void 0))throw new kn("Unknown adapter '".concat(d,"'"));if(i)break;s[d||"#"+l]=i}if(!i){const l=Object.entries(s).map(([c,y])=>"adapter ".concat(c," ")+(y===!1?"is not supported by the environment":"is not available in the build"));let d=t?l.length>1?"since :\n"+l.map(nR).join("\n"):" "+nR(l[0]):"as no adapter specified";throw new kn("There is no suitable adapter to dispatch the request "+d,"ERR_NOT_SUPPORT")}return i},adapters:A2};function M1(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Ug(null,e)}function iR(e){return M1(e),e.headers=gl.from(e.headers),e.data=R1.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),o5.getAdapter(e.adapter||RE.adapter)(e).then(function(i){return M1(e),i.data=R1.call(e,e.transformResponse,i),i.headers=gl.from(i.headers),i},function(i){return i5(i)||(M1(e),i&&i.response&&(i.response.data=R1.call(e,e.transformResponse,i.response),i.response.headers=gl.from(i.response.headers))),Promise.reject(i)})}const rR=e=>e instanceof gl?{...e}:e;function vf(e,t){t=t||{};const n={};function i(b,k,S){return et.isPlainObject(b)&&et.isPlainObject(k)?et.merge.call({caseless:S},b,k):et.isPlainObject(k)?et.merge({},k):et.isArray(k)?k.slice():k}function s(b,k,S){if(et.isUndefined(k)){if(!et.isUndefined(b))return i(void 0,b,S)}else return i(b,k,S)}function l(b,k){if(!et.isUndefined(k))return i(void 0,k)}function d(b,k){if(et.isUndefined(k)){if(!et.isUndefined(b))return i(void 0,b)}else return i(void 0,k)}function c(b,k,S){if(S in t)return i(b,k);if(S in e)return i(void 0,b)}const y={url:l,method:l,data:l,baseURL:d,transformRequest:d,transformResponse:d,paramsSerializer:d,timeout:d,timeoutMessage:d,withCredentials:d,withXSRFToken:d,adapter:d,responseType:d,xsrfCookieName:d,xsrfHeaderName:d,onUploadProgress:d,onDownloadProgress:d,decompress:d,maxContentLength:d,maxBodyLength:d,beforeRedirect:d,transport:d,httpAgent:d,httpsAgent:d,cancelToken:d,socketPath:d,responseEncoding:d,validateStatus:c,headers:(b,k)=>s(rR(b),rR(k),!0)};return et.forEach(Object.keys(Object.assign({},e,t)),function(k){const S=y[k]||s,E=S(e[k],t[k],k);et.isUndefined(E)&&S!==c||(n[k]=E)}),n}const s5="1.6.8",ME={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{ME[e]=function(i){return typeof i===e||"a"+(t<1?"n ":" ")+e}});const oR={};ME.transitional=function(t,n,i){function s(l,d){return"[Axios v"+s5+"] Transitional option '"+l+"'"+d+(i?". "+i:"")}return(l,d,c)=>{if(t===!1)throw new kn(s(d," has been removed"+(n?" in "+n:"")),kn.ERR_DEPRECATED);return n&&!oR[d]&&(oR[d]=!0,console.warn(s(d," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(l,d,c):!0}};function uQ(e,t,n){if(typeof e!="object")throw new kn("options must be an object",kn.ERR_BAD_OPTION_VALUE);const i=Object.keys(e);let s=i.length;for(;s-- >0;){const l=i[s],d=t[l];if(d){const c=e[l],y=c===void 0||d(c,l,e);if(y!==!0)throw new kn("option "+l+" must be "+y,kn.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new kn("Unknown option "+l,kn.ERR_BAD_OPTION)}}const R2={assertOptions:uQ,validators:ME},ac=R2.validators;class Jb{constructor(t){this.defaults=t,this.interceptors={request:new QA,response:new QA}}async request(t,n){try{return await this._request(t,n)}catch(i){if(i instanceof Error){let s;Error.captureStackTrace?Error.captureStackTrace(s={}):s=new Error;const l=s.stack?s.stack.replace(/^.+\n/,""):"";i.stack?l&&!String(i.stack).endsWith(l.replace(/^.+\n.+\n/,""))&&(i.stack+="\n"+l):i.stack=l}throw i}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=vf(this.defaults,n);const{transitional:i,paramsSerializer:s,headers:l}=n;i!==void 0&&R2.assertOptions(i,{silentJSONParsing:ac.transitional(ac.boolean),forcedJSONParsing:ac.transitional(ac.boolean),clarifyTimeoutError:ac.transitional(ac.boolean)},!1),s!=null&&(et.isFunction(s)?n.paramsSerializer={serialize:s}:R2.assertOptions(s,{encode:ac.function,serialize:ac.function},!0)),n.method=(n.method||this.defaults.method||"get").toLowerCase();let d=l&&et.merge(l.common,l[n.method]);l&&et.forEach(["delete","get","head","post","put","patch","common"],z=>{delete l[z]}),n.headers=gl.concat(d,l);const c=[];let y=!0;this.interceptors.request.forEach(function(N){typeof N.runWhen=="function"&&N.runWhen(n)===!1||(y=y&&N.synchronous,c.unshift(N.fulfilled,N.rejected))});const b=[];this.interceptors.response.forEach(function(N){b.push(N.fulfilled,N.rejected)});let k,S=0,E;if(!y){const z=[iR.bind(this),void 0];for(z.unshift.apply(z,c),z.push.apply(z,b),E=z.length,k=Promise.resolve(n);S<E;)k=k.then(z[S++],z[S++]);return k}E=c.length;let A=n;for(S=0;S<E;){const z=c[S++],N=c[S++];try{A=z(A)}catch(q){N.call(this,q);break}}try{k=iR.call(this,A)}catch(z){return Promise.reject(z)}for(S=0,E=b.length;S<E;)k=k.then(b[S++],b[S++]);return k}getUri(t){t=vf(this.defaults,t);const n=r5(t.baseURL,t.url);return QO(n,t.params,t.paramsSerializer)}}et.forEach(["delete","get","head","options"],function(t){Jb.prototype[t]=function(n,i){return this.request(vf(i||{},{method:t,url:n,data:(i||{}).data}))}});et.forEach(["post","put","patch"],function(t){function n(i){return function(l,d,c){return this.request(vf(c||{},{method:t,headers:i?{"Content-Type":"multipart/form-data"}:{},url:l,data:d}))}}Jb.prototype[t]=n(),Jb.prototype[t+"Form"]=n(!0)});const Jv=Jb;class zE{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(l){n=l});const i=this;this.promise.then(s=>{if(!i._listeners)return;let l=i._listeners.length;for(;l-- >0;)i._listeners[l](s);i._listeners=null}),this.promise.then=s=>{let l;const d=new Promise(c=>{i.subscribe(c),l=c}).then(s);return d.cancel=function(){i.unsubscribe(l)},d},t(function(l,d,c){i.reason||(i.reason=new Ug(l,d,c),n(i.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}static source(){let t;return{token:new zE(function(s){t=s}),cancel:t}}}const dQ=zE;function hQ(e){return function(n){return e.apply(null,n)}}function fQ(e){return et.isObject(e)&&e.isAxiosError===!0}const M2={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(M2).forEach(([e,t])=>{M2[t]=e});const pQ=M2;function a5(e){const t=new Jv(e),n=jO(Jv.prototype.request,t);return et.extend(n,Jv.prototype,t,{allOwnKeys:!0}),et.extend(n,t,null,{allOwnKeys:!0}),n.create=function(s){return a5(vf(e,s))},n}const Gi=a5(RE);Gi.Axios=Jv;Gi.CanceledError=Ug;Gi.CancelToken=dQ;Gi.isCancel=i5;Gi.VERSION=s5;Gi.toFormData=g_;Gi.AxiosError=kn;Gi.Cancel=Gi.CanceledError;Gi.all=function(t){return Promise.all(t)};Gi.spread=hQ;Gi.isAxiosError=fQ;Gi.mergeConfig=vf;Gi.AxiosHeaders=gl;Gi.formToJSON=e=>n5(et.isHTMLForm(e)?new FormData(e):e);Gi.getAdapter=o5.getAdapter;Gi.HttpStatusCode=pQ;Gi.default=Gi;var l5={},c5={},cd={};Object.defineProperty(cd,"__esModule",{value:!0});cd.PLACEHOLDER_UNDEFINED=cd.PACKAGE_NAME=void 0;cd.PACKAGE_NAME="redux-deep-persist";cd.PLACEHOLDER_UNDEFINED="@@placeholder/undefined";var LE={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ConfigType=void 0,function(t){t[t.WHITELIST=0]="WHITELIST",t[t.BLACKLIST=1]="BLACKLIST"}(e.ConfigType||(e.ConfigType={}))})(LE);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.getRootKeysGroup=e.throwError=e.configValidator=e.transformsValidator=e.singleTransformValidator=e.findDuplicatesAndSubsets=e.unique=e.preserveUndefined=e.mergeDeep=e.dissocPath=e.assocPath=e.path=e.difference=e.cloneDeep=e._cloneDeep=e.getCircularPath=e.isEmpty=e.isDate=e.isString=e.isIntegerString=e.isPlainObject=e.isArray=e.isLength=e.isObjectLike=void 0;const t=cd,n=LE,i=function(Pe){return typeof Pe=="object"&&Pe!==null};e.isObjectLike=i;const s=function(Pe){return typeof Pe=="number"&&Pe>-1&&Pe%1==0&&Pe<=Number.MAX_SAFE_INTEGER};e.isLength=s,e.isArray=Array.isArray||function(Pe){return(0,e.isLength)(Pe&&Pe.length)&&Object.prototype.toString.call(Pe)==="[object Array]"};const l=function(Pe){return!!Pe&&typeof Pe=="object"&&!(0,e.isArray)(Pe)};e.isPlainObject=l;const d=function(Pe){return String(~~Pe)===Pe&&Number(Pe)>=0};e.isIntegerString=d;const c=function(Pe){return Object.prototype.toString.call(Pe)==="[object String]"};e.isString=c;const y=function(Pe){return Object.prototype.toString.call(Pe)==="[object Date]"};e.isDate=y;const b=function(Pe){return Object.keys(Pe).length===0};e.isEmpty=b;const k=Object.prototype.hasOwnProperty,S=function(Pe,De,Oe){Oe||(Oe=new Set([Pe])),De||(De="");for(const $e in Pe){const He=De?"".concat(De,".").concat($e):$e,we=Pe[$e];if((0,e.isObjectLike)(we))return Oe.has(we)?"".concat(De,".").concat($e,":<Circular>"):(Oe.add(we),(0,e.getCircularPath)(we,He,Oe))}return null};e.getCircularPath=S;const E=function(Pe){if(!(0,e.isObjectLike)(Pe))return Pe;if((0,e.isDate)(Pe))return new Date(+Pe);const De=(0,e.isArray)(Pe)?[]:{};for(const Oe in Pe){const $e=Pe[Oe];De[Oe]=(0,e._cloneDeep)($e)}return De};e._cloneDeep=E;const A=function(Pe){const De=(0,e.getCircularPath)(Pe);if(De)throw new Error("".concat(t.PACKAGE_NAME,": circular dependency detected under the path '").concat(De,"' of object you're trying to persist: ").concat(Pe));return(0,e._cloneDeep)(Pe)};e.cloneDeep=A;const z=function(Pe,De){if(Pe===De)return{};if(!(0,e.isObjectLike)(Pe)||!(0,e.isObjectLike)(De))return De;const Oe=(0,e.cloneDeep)(Pe),$e=(0,e.cloneDeep)(De),He=Object.keys(Oe).reduce((Ee,Ie)=>(k.call($e,Ie)||(Ee[Ie]=void 0),Ee),{});if((0,e.isDate)(Oe)||(0,e.isDate)($e))return Oe.valueOf()===$e.valueOf()?{}:$e;const we=Object.keys($e).reduce((Ee,Ie)=>{if(!k.call(Oe,Ie))return Ee[Ie]=$e[Ie],Ee;const qe=(0,e.difference)(Oe[Ie],$e[Ie]);return(0,e.isObjectLike)(qe)&&(0,e.isEmpty)(qe)&&!(0,e.isDate)(qe)?(0,e.isArray)(Oe)&&!(0,e.isArray)($e)||!(0,e.isArray)(Oe)&&(0,e.isArray)($e)?$e:Ee:(Ee[Ie]=qe,Ee)},He);return delete we._persist,we};e.difference=z;const N=function(Pe,De){return De.reduce((Oe,$e)=>{if(Oe){const He=parseInt($e,10),we=(0,e.isIntegerString)($e)&&He<0?Oe.length+He:$e;return(0,e.isString)(Oe)?Oe.charAt(we):Oe[we]}},Pe)};e.path=N;const q=function(Pe,De){return[...Pe].reverse().reduce((He,we,Ee)=>{const Ie=(0,e.isIntegerString)(we)?[]:{};return Ie[we]=Ee===0?De:He,Ie},{})};e.assocPath=q;const F=function(Pe,De){const Oe=(0,e.cloneDeep)(Pe);return De.reduce(($e,He,we)=>(we===De.length-1&&$e&&(0,e.isObjectLike)($e)&&delete $e[He],$e&&$e[He]),Oe),Oe};e.dissocPath=F;const $=function(Pe,De,...Oe){if(!Oe||!Oe.length)return De;const $e=Oe.shift(),{preservePlaceholder:He,preserveUndefined:we}=Pe;if((0,e.isObjectLike)(De)&&(0,e.isObjectLike)($e))for(const Ee in $e)if((0,e.isObjectLike)($e[Ee])&&(0,e.isObjectLike)(De[Ee]))De[Ee]||(De[Ee]={}),$(Pe,De[Ee],$e[Ee]);else if((0,e.isArray)(De)){let Ie=$e[Ee];const qe=He?t.PLACEHOLDER_UNDEFINED:void 0;we||(Ie=typeof Ie<"u"?Ie:De[parseInt(Ee,10)]),Ie=Ie!==t.PLACEHOLDER_UNDEFINED?Ie:qe,De[parseInt(Ee,10)]=Ie}else{const Ie=$e[Ee]!==t.PLACEHOLDER_UNDEFINED?$e[Ee]:void 0;De[Ee]=Ie}return $(Pe,De,...Oe)},V=function(Pe,De,Oe){return $({preservePlaceholder:Oe==null?void 0:Oe.preservePlaceholder,preserveUndefined:Oe==null?void 0:Oe.preserveUndefined},(0,e.cloneDeep)(Pe),(0,e.cloneDeep)(De))};e.mergeDeep=V;const Z=function(Pe,De=[],Oe,$e,He){if(!(0,e.isObjectLike)(Pe))return Pe;for(const we in Pe){const Ee=Pe[we],Ie=(0,e.isArray)(Pe),qe=$e?$e+"."+we:we;Ee===null&&(Oe===n.ConfigType.WHITELIST&&De.indexOf(qe)===-1||Oe===n.ConfigType.BLACKLIST&&De.indexOf(qe)!==-1)&&Ie&&(Pe[parseInt(we,10)]=void 0),Ee===void 0&&He&&Oe===n.ConfigType.BLACKLIST&&De.indexOf(qe)===-1&&Ie&&(Pe[parseInt(we,10)]=t.PLACEHOLDER_UNDEFINED),Z(Ee,De,Oe,qe,He)}},Q=function(Pe,De,Oe,$e){const He=(0,e.cloneDeep)(Pe);return Z(He,De,Oe,"",$e),He};e.preserveUndefined=Q;const fe=function(Pe,De,Oe){return Oe.indexOf(Pe)===De};e.unique=fe;const oe=function(Pe){return Pe.reduce((De,Oe)=>{const $e=Pe.filter(Ye=>Ye===Oe),He=Pe.filter(Ye=>(Oe+".").indexOf(Ye+".")===0),{duplicates:we,subsets:Ee}=De,Ie=$e.length>1&&we.indexOf(Oe)===-1,qe=He.length>1;return{duplicates:[...we,...Ie?$e:[]],subsets:[...Ee,...qe?He:[]].filter(e.unique).sort()}},{duplicates:[],subsets:[]})};e.findDuplicatesAndSubsets=oe;const re=function(Pe,De,Oe){const $e=Oe===n.ConfigType.WHITELIST?"whitelist":"blacklist",He="".concat(t.PACKAGE_NAME,": incorrect ").concat($e," configuration."),we="Check your create".concat(Oe===n.ConfigType.WHITELIST?"White":"Black","list arguments.\n\n");if(!(0,e.isString)(De)||De.length<1)throw new Error("".concat(He," Name (key) of reducer is required. ").concat(we));if(!Pe||!Pe.length)return;const{duplicates:Ee,subsets:Ie}=(0,e.findDuplicatesAndSubsets)(Pe);if(Ee.length>1)throw new Error("".concat(He," Duplicated paths.\n\n ").concat(JSON.stringify(Ee),"\n\n ").concat(we));if(Ie.length>1)throw new Error("".concat(He," You are trying to persist an entire property and also some of its subset.\n\n").concat(JSON.stringify(Ie),"\n\n ").concat(we))};e.singleTransformValidator=re;const Be=function(Pe){if(!(0,e.isArray)(Pe))return;const De=(Pe==null?void 0:Pe.map(Oe=>Oe.deepPersistKey).filter(Oe=>Oe))||[];if(De.length){const Oe=De.filter(($e,He)=>De.indexOf($e)!==He);if(Oe.length)throw new Error("".concat(t.PACKAGE_NAME,": found duplicated keys in transforms creators. You can createWhitelist or createBlacklist for a specific root reducer key only once. Duplicated keys among createWhitelist and createBlacklist transforms are not allowed.\n\n Duplicates: ").concat(JSON.stringify(Oe)))}};e.transformsValidator=Be;const Le=function({whitelist:Pe,blacklist:De}){if(Pe&&Pe.length&&De&&De.length)throw new Error("".concat(t.PACKAGE_NAME,": you should not define a whitelist and blacklist in parallel. It is allowed to use only one of these lists per config."));if(Pe){const{duplicates:Oe,subsets:$e}=(0,e.findDuplicatesAndSubsets)(Pe);(0,e.throwError)({duplicates:Oe,subsets:$e},"whitelist")}if(De){const{duplicates:Oe,subsets:$e}=(0,e.findDuplicatesAndSubsets)(De);(0,e.throwError)({duplicates:Oe,subsets:$e},"blacklist")}};e.configValidator=Le;const Fe=function({duplicates:Pe,subsets:De},Oe){if(Pe.length)throw new Error("".concat(t.PACKAGE_NAME,": duplicates of paths found in your ").concat(Oe,".\n\n ").concat(JSON.stringify(Pe)));if(De.length)throw new Error("".concat(t.PACKAGE_NAME,": subsets of some parent keys found in your ").concat(Oe,". You must decide if you want to persist an entire path or its specific subset.\n\n ").concat(JSON.stringify(De)))};e.throwError=Fe;const Ze=function(Pe){return(0,e.isArray)(Pe)?Pe.filter(e.unique).reduce((De,Oe)=>{const $e=Oe.split("."),He=$e[0],we=$e.slice(1).join(".")||void 0,Ee=De.filter(qe=>Object.keys(qe)[0]===He)[0],Ie=Ee?Object.values(Ee)[0]:void 0;return Ee||De.push({[He]:we?[we]:void 0}),Ee&&!Ie&&we&&(Ee[He]=[we]),Ee&&Ie&&we&&Ie.push(we),De},[]):[]};e.getRootKeysGroup=Ze})(c5);(function(e){var t=V1&&V1.__rest||function(S,E){var A={};for(var z in S)Object.prototype.hasOwnProperty.call(S,z)&&E.indexOf(z)<0&&(A[z]=S[z]);if(S!=null&&typeof Object.getOwnPropertySymbols=="function")for(var N=0,z=Object.getOwnPropertySymbols(S);N<z.length;N++)E.indexOf(z[N])<0&&Object.prototype.propertyIsEnumerable.call(S,z[N])&&(A[z[N]]=S[z[N]]);return A};Object.defineProperty(e,"__esModule",{value:!0}),e.getPersistConfig=e.getTransforms=e.createBlacklist=e.createWhitelist=e.autoMergeDeep=void 0;const n=c5,i=cd,s=LE,l=function(S,E,A={}){const z=A.whitelist||null,N=A.blacklist||null;function q(F){return!!(z&&z.indexOf(F)===-1||N&&N.indexOf(F)!==-1)}return{in:(F,$,V)=>!q($)&&S?S(F,$,V):F,out:(F,$,V)=>!q($)&&E?E(F,$,V):F,deepPersistKey:z&&z[0]}},d=(S,E,A,{debug:z,whitelist:N,blacklist:q,transforms:F})=>{if(N||q)throw new Error("State reconciler autoMergeDeep uses custom transforms instead of old whitelist or blacklist config properties. Please use createWhitelist or createBlacklist transforms.");(0,n.transformsValidator)(F);const $=(0,n.cloneDeep)(A);let V=S;if(V&&(0,n.isObjectLike)(V)){const Z=(0,n.difference)(E,A);(0,n.isEmpty)(Z)||(V=(0,n.mergeDeep)(S,Z,{preserveUndefined:!0}),z&&console.log("".concat(i.PACKAGE_NAME,"/autoMergeDeep: sub state of your state was modified by reducer during rehydration. Values from reducer will be kept: ").concat(JSON.stringify(Z)))),Object.keys(V).forEach(Q=>{if(Q!=="_persist"){if((0,n.isObjectLike)($[Q])){$[Q]=(0,n.mergeDeep)($[Q],V[Q]);return}$[Q]=V[Q]}})}return z&&V&&(0,n.isObjectLike)(V)&&console.log("".concat(i.PACKAGE_NAME,"/autoMergeDeep: rehydrated keys ").concat(JSON.stringify(V))),$};e.autoMergeDeep=d;const c=(S,E)=>((0,n.singleTransformValidator)(E,S,s.ConfigType.WHITELIST),l(A=>{if(!E||!E.length)return A;let z=null,N;return E.forEach(q=>{const F=q.split(".");N=(0,n.path)(A,F),typeof N>"u"&&(0,n.isIntegerString)(F[F.length-1])&&(N=i.PLACEHOLDER_UNDEFINED);const $=(0,n.assocPath)(F,N),V=(0,n.isArray)($)?[]:{};z=(0,n.mergeDeep)(z||V,$,{preservePlaceholder:!0})}),z||A},A=>(0,n.preserveUndefined)(A,E,s.ConfigType.WHITELIST),{whitelist:[S]}));e.createWhitelist=c;const y=(S,E)=>((0,n.singleTransformValidator)(E,S,s.ConfigType.BLACKLIST),l(A=>{if(!E||!E.length)return;const z=(0,n.preserveUndefined)(A,E,s.ConfigType.BLACKLIST,!0);return E.map(q=>q.split(".")).reduce((q,F)=>(0,n.dissocPath)(q,F),z)},A=>(0,n.preserveUndefined)(A,E,s.ConfigType.BLACKLIST),{whitelist:[S]}));e.createBlacklist=y;const b=function(S,E){return E.map(A=>{const z=Object.keys(A)[0],N=A[z];return S===s.ConfigType.WHITELIST?(0,e.createWhitelist)(z,N):(0,e.createBlacklist)(z,N)})};e.getTransforms=b;const k=S=>{var{key:E,whitelist:A,blacklist:z,storage:N,transforms:q,rootReducer:F}=S,$=t(S,["key","whitelist","blacklist","storage","transforms","rootReducer"]);(0,n.configValidator)({whitelist:A,blacklist:z});const V=(0,n.getRootKeysGroup)(A),Z=(0,n.getRootKeysGroup)(z),Q=Object.keys(F(void 0,{type:""})),fe=V.map(Ze=>Object.keys(Ze)[0]),oe=Z.map(Ze=>Object.keys(Ze)[0]),re=Q.filter(Ze=>fe.indexOf(Ze)===-1&&oe.indexOf(Ze)===-1),Be=(0,e.getTransforms)(s.ConfigType.WHITELIST,V),Le=(0,e.getTransforms)(s.ConfigType.BLACKLIST,Z),Fe=(0,n.isArray)(A)?re.map(Ze=>(0,e.createBlacklist)(Ze)):[];return Object.assign(Object.assign({},$),{key:E,storage:N,transforms:[...Be,...Le,...Fe,...q||[]],stateReconciler:e.autoMergeDeep})};e.getPersistConfig=k})(l5);var OE="persist:",u5="persist/FLUSH",DE="persist/REHYDRATE",d5="persist/PAUSE",h5="persist/PERSIST",f5="persist/PURGE",p5="persist/REGISTER",mQ=-1;function Qv(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Qv=function(n){return typeof n}:Qv=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Qv(e)}function sR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function gQ(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?sR(n,!0).forEach(function(i){yQ(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sR(n).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function yQ(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vQ(e,t,n,i){i.debug;var s=gQ({},n);return e&&Qv(e)==="object"&&Object.keys(e).forEach(function(l){l!=="_persist"&&t[l]===n[l]&&(s[l]=e[l])}),s}function bQ(e){var t=e.blacklist||null,n=e.whitelist||null,i=e.transforms||[],s=e.throttle||0,l="".concat(e.keyPrefix!==void 0?e.keyPrefix:OE).concat(e.key),d=e.storage,c;e.serialize===!1?c=function(Q){return Q}:typeof e.serialize=="function"?c=e.serialize:c=_Q;var y=e.writeFailHandler||null,b={},k={},S=[],E=null,A=null,z=function(Q){Object.keys(Q).forEach(function(fe){F(fe)&&b[fe]!==Q[fe]&&S.indexOf(fe)===-1&&S.push(fe)}),Object.keys(b).forEach(function(fe){Q[fe]===void 0&&F(fe)&&S.indexOf(fe)===-1&&b[fe]!==void 0&&S.push(fe)}),E===null&&(E=setInterval(N,s)),b=Q};function N(){if(S.length===0){E&&clearInterval(E),E=null;return}var Z=S.shift(),Q=i.reduce(function(fe,oe){return oe.in(fe,Z,b)},b[Z]);if(Q!==void 0)try{k[Z]=c(Q)}catch(fe){console.error("redux-persist/createPersistoid: error serializing state",fe)}else delete k[Z];S.length===0&&q()}function q(){Object.keys(k).forEach(function(Z){b[Z]===void 0&&delete k[Z]}),A=d.setItem(l,c(k)).catch($)}function F(Z){return!(n&&n.indexOf(Z)===-1&&Z!=="_persist"||t&&t.indexOf(Z)!==-1)}function $(Z){y&&y(Z)}var V=function(){for(;S.length!==0;)N();return A||Promise.resolve()};return{update:z,flush:V}}function _Q(e){return JSON.stringify(e)}function xQ(e){var t=e.transforms||[],n="".concat(e.keyPrefix!==void 0?e.keyPrefix:OE).concat(e.key),i=e.storage;e.debug;var s;return e.deserialize===!1?s=function(d){return d}:typeof e.deserialize=="function"?s=e.deserialize:s=wQ,i.getItem(n).then(function(l){if(l)try{var d={},c=s(l);return Object.keys(c).forEach(function(y){d[y]=t.reduceRight(function(b,k){return k.out(b,y,c)},s(c[y]))}),d}catch(y){throw y}else return})}function wQ(e){return JSON.parse(e)}function SQ(e){var t=e.storage,n="".concat(e.keyPrefix!==void 0?e.keyPrefix:OE).concat(e.key);return t.removeItem(n,kQ)}function kQ(e){}function aR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function ol(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?aR(n,!0).forEach(function(i){EQ(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):aR(n).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function EQ(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function CQ(e,t){if(e==null)return{};var n=TQ(e,t),i,s;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(s=0;s<l.length;s++)i=l[s],!(t.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(e,i)&&(n[i]=e[i])}return n}function TQ(e,t){if(e==null)return{};var n={},i=Object.keys(e),s,l;for(l=0;l<i.length;l++)s=i[l],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}var IQ=5e3;function PQ(e,t){var n=e.version!==void 0?e.version:mQ;e.debug;var i=e.stateReconciler===void 0?vQ:e.stateReconciler,s=e.getStoredState||xQ,l=e.timeout!==void 0?e.timeout:IQ,d=null,c=!1,y=!0,b=function(S){return S._persist.rehydrated&&d&&!y&&d.update(S),S};return function(k,S){var E=k||{},A=E._persist,z=CQ(E,["_persist"]),N=z;if(S.type===h5){var q=!1,F=function(re,Be){q||(S.rehydrate(e.key,re,Be),q=!0)};if(l&&setTimeout(function(){!q&&F(void 0,new Error('redux-persist: persist timed out for persist key "'.concat(e.key,'"')))},l),y=!1,d||(d=bQ(e)),A)return ol({},t(N,S),{_persist:A});if(typeof S.rehydrate!="function"||typeof S.register!="function")throw new Error("redux-persist: either rehydrate or register is not a function on the PERSIST action. This can happen if the action is being replayed. This is an unexplored use case, please open an issue and we will figure out a resolution.");return S.register(e.key),s(e).then(function(oe){var re=e.migrate||function(Be,Le){return Promise.resolve(Be)};re(oe,n).then(function(Be){F(Be)},function(Be){F(void 0,Be)})},function(oe){F(void 0,oe)}),ol({},t(N,S),{_persist:{version:n,rehydrated:!1}})}else{if(S.type===f5)return c=!0,S.result(SQ(e)),ol({},t(N,S),{_persist:A});if(S.type===u5)return S.result(d&&d.flush()),ol({},t(N,S),{_persist:A});if(S.type===d5)y=!0;else if(S.type===DE){if(c)return ol({},N,{_persist:ol({},A,{rehydrated:!0})});if(S.key===e.key){var $=t(N,S),V=S.payload,Z=i!==!1&&V!==void 0?i(V,k,$,e):$,Q=ol({},Z,{_persist:ol({},A,{rehydrated:!0})});return b(Q)}}}if(!A)return t(k,S);var fe=t(N,S);return fe===N?k:b(ol({},fe,{_persist:A}))}}function lR(e){return MQ(e)||RQ(e)||AQ()}function AQ(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function RQ(e){if(Symbol.iterator in Object(e)||Object.prototype.toString.call(e)==="[object Arguments]")return Array.from(e)}function MQ(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}function cR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function z2(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?cR(n,!0).forEach(function(i){zQ(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cR(n).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function zQ(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var m5={registry:[],bootstrapped:!1},LQ=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:m5,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case p5:return z2({},t,{registry:[].concat(lR(t.registry),[n.key])});case DE:var i=t.registry.indexOf(n.key),s=lR(t.registry);return s.splice(i,1),z2({},t,{registry:s,bootstrapped:s.length===0});default:return t}};function OQ(e,t,n){var i=n||!1,s=wE(LQ,m5,t&&t.enhancer?t.enhancer:void 0),l=function(b){s.dispatch({type:p5,key:b})},d=function(b,k,S){var E={type:DE,payload:k,err:S,key:b};e.dispatch(E),s.dispatch(E),i&&c.getState().bootstrapped&&(i(),i=!1)},c=z2({},s,{purge:function(){var b=[];return e.dispatch({type:f5,result:function(S){b.push(S)}}),Promise.all(b)},flush:function(){var b=[];return e.dispatch({type:u5,result:function(S){b.push(S)}}),Promise.all(b)},pause:function(){e.dispatch({type:d5})},persist:function(){e.dispatch({type:h5,register:l,rehydrate:d})}});return t&&t.manualPersist||c.persist(),c}var $E={},BE={};BE.__esModule=!0;BE.default=BQ;function eb(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?eb=function(n){return typeof n}:eb=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},eb(e)}function z1(){}var DQ={getItem:z1,setItem:z1,removeItem:z1};function $Q(e){if((typeof self>"u"?"undefined":eb(self))!=="object"||!(e in self))return!1;try{var t=self[e],n="redux-persist ".concat(e," test");t.setItem(n,"test"),t.getItem(n),t.removeItem(n)}catch(i){return!1}return!0}function BQ(e){var t="".concat(e,"Storage");return $Q(t)?self[t]:DQ}$E.__esModule=!0;$E.default=jQ;var FQ=NQ(BE);function NQ(e){return e&&e.__esModule?e:{default:e}}function jQ(e){var t=(0,FQ.default)(e);return{getItem:function(i){return new Promise(function(s,l){s(t.getItem(i))})},setItem:function(i,s){return new Promise(function(l,d){l(t.setItem(i,s))})},removeItem:function(i){return new Promise(function(s,l){s(t.removeItem(i))})}}}var g5=void 0,VQ=UQ($E);function UQ(e){return e&&e.__esModule?e:{default:e}}var HQ=(0,VQ.default)("local");g5=HQ;const y5=CE({name:"menu",initialState:{chat:!1,profile:!1},reducers:{off:e=>{e.chat=!1,e.profile=!1,Wi.enable(!1,"profile-menu"),Wi.enable(!1,"chat-menu")},chat:e=>{e.chat=!0,e.profile=!1,Wi.enable(!0,"chat-menu"),Wi.enable(!1,"profile-menu")},profile:e=>{e.chat=!1,e.profile=!0,Wi.enable(!1,"chat-menu"),Wi.enable(!0,"profile-menu")}}}),{off:qQ,chat:WQ,profile:ZQ}=y5.actions,GQ=y5.reducer,v5=SO({navbar:ZY,token:YY,menu:GQ}),KQ=l5.getPersistConfig({key:"root",storage:g5,whitelist:["token"],rootReducer:v5}),XQ=PQ(KQ,v5),FE=TY({reducer:XQ,devTools:!0,middleware:e=>e({serializableCheck:!1})}),YQ=OQ(FE);/*! Capacitor: https://capacitorjs.com/ - MIT License */const JQ=e=>{const t=new Map;t.set("web",{name:"web"});const n=e.CapacitorPlatforms||{currentPlatform:{name:"web"},platforms:t},i=(l,d)=>{n.platforms.set(l,d)},s=l=>{n.platforms.has(l)&&(n.currentPlatform=n.platforms.get(l))};return n.addPlatform=i,n.setPlatform=s,n},QQ=e=>e.CapacitorPlatforms=JQ(e),b5=QQ(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});b5.addPlatform;b5.setPlatform;var bf;(function(e){e.Unimplemented="UNIMPLEMENTED",e.Unavailable="UNAVAILABLE"})(bf||(bf={}));class L1 extends Error{constructor(t,n,i){super(t),this.message=t,this.code=n,this.data=i}}const eee=e=>{var t,n;return e!=null&&e.androidBridge?"android":!((n=(t=e==null?void 0:e.webkit)===null||t===void 0?void 0:t.messageHandlers)===null||n===void 0)&&n.bridge?"ios":"web"},tee=e=>{var t,n,i,s,l;const d=e.CapacitorCustomPlatform||null,c=e.Capacitor||{},y=c.Plugins=c.Plugins||{},b=e.CapacitorPlatforms,k=()=>d!==null?d.name:eee(e),S=((t=b==null?void 0:b.currentPlatform)===null||t===void 0?void 0:t.getPlatform)||k,E=()=>S()!=="web",A=((n=b==null?void 0:b.currentPlatform)===null||n===void 0?void 0:n.isNativePlatform)||E,z=oe=>{const re=Z.get(oe);return!!(re!=null&&re.platforms.has(S())||F(oe))},N=((i=b==null?void 0:b.currentPlatform)===null||i===void 0?void 0:i.isPluginAvailable)||z,q=oe=>{var re;return(re=c.PluginHeaders)===null||re===void 0?void 0:re.find(Be=>Be.name===oe)},F=((s=b==null?void 0:b.currentPlatform)===null||s===void 0?void 0:s.getPluginHeader)||q,$=oe=>e.console.error(oe),V=(oe,re,Be)=>Promise.reject("".concat(Be,' does not have an implementation of "').concat(re,'".')),Z=new Map,Q=(oe,re={})=>{const Be=Z.get(oe);if(Be)return console.warn('Capacitor plugin "'.concat(oe,'" already registered. Cannot register plugins twice.')),Be.proxy;const Le=S(),Fe=F(oe);let Ze;const Pe=async()=>(!Ze&&Le in re?Ze=typeof re[Le]=="function"?Ze=await re[Le]():Ze=re[Le]:d!==null&&!Ze&&"web"in re&&(Ze=typeof re.web=="function"?Ze=await re.web():Ze=re.web),Ze),De=(Ie,qe)=>{var Ye,yt;if(Fe){const wt=Fe==null?void 0:Fe.methods.find(Mt=>qe===Mt.name);if(wt)return wt.rtype==="promise"?Mt=>c.nativePromise(oe,qe.toString(),Mt):(Mt,Ft)=>c.nativeCallback(oe,qe.toString(),Mt,Ft);if(Ie)return(Ye=Ie[qe])===null||Ye===void 0?void 0:Ye.bind(Ie)}else{if(Ie)return(yt=Ie[qe])===null||yt===void 0?void 0:yt.bind(Ie);throw new L1('"'.concat(oe,'" plugin is not implemented on ').concat(Le),bf.Unimplemented)}},Oe=Ie=>{let qe;const Ye=(...yt)=>{const wt=Pe().then(Mt=>{const Ft=De(Mt,Ie);if(Ft){const Yt=Ft(...yt);return qe=Yt==null?void 0:Yt.remove,Yt}else throw new L1('"'.concat(oe,".").concat(Ie,'()" is not implemented on ').concat(Le),bf.Unimplemented)});return Ie==="addListener"&&(wt.remove=async()=>qe()),wt};return Ye.toString=()=>"".concat(Ie.toString(),"() { [capacitor code] }"),Object.defineProperty(Ye,"name",{value:Ie,writable:!1,configurable:!1}),Ye},$e=Oe("addListener"),He=Oe("removeListener"),we=(Ie,qe)=>{const Ye=$e({eventName:Ie},qe),yt=async()=>{const Mt=await Ye;He({eventName:Ie,callbackId:Mt},qe)},wt=new Promise(Mt=>Ye.then(()=>Mt({remove:yt})));return wt.remove=async()=>{console.warn("Using addListener() without 'await' is deprecated."),await yt()},wt},Ee=new Proxy({},{get(Ie,qe){switch(qe){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return Fe?we:$e;case"removeListener":return He;default:return Oe(qe)}}});return y[oe]=Ee,Z.set(oe,{name:oe,proxy:Ee,platforms:new Set([...Object.keys(re),...Fe?[Le]:[]])}),Ee},fe=((l=b==null?void 0:b.currentPlatform)===null||l===void 0?void 0:l.registerPlugin)||Q;return c.convertFileSrc||(c.convertFileSrc=oe=>oe),c.getPlatform=S,c.handleError=$,c.isNativePlatform=A,c.isPluginAvailable=N,c.pluginMethodNoop=V,c.registerPlugin=fe,c.Exception=L1,c.DEBUG=!!c.DEBUG,c.isLoggingEnabled=!!c.isLoggingEnabled,c.platform=c.getPlatform(),c.isNative=c.isNativePlatform(),c},nee=e=>e.Capacitor=tee(e),Qb=nee(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),_5=Qb.registerPlugin;Qb.Plugins;class x5{constructor(t){this.listeners={},this.windowListeners={},t&&(console.warn('Capacitor WebPlugin "'.concat(t.name,'" config object was deprecated in v3 and will be removed in v4.')),this.config=t)}addListener(t,n){this.listeners[t]||(this.listeners[t]=[]),this.listeners[t].push(n);const s=this.windowListeners[t];s&&!s.registered&&this.addWindowListener(s);const l=async()=>this.removeListener(t,n),d=Promise.resolve({remove:l});return Object.defineProperty(d,"remove",{value:async()=>{console.warn("Using addListener() without 'await' is deprecated."),await l()}}),d}async removeAllListeners(){this.listeners={};for(const t in this.windowListeners)this.removeWindowListener(this.windowListeners[t]);this.windowListeners={}}notifyListeners(t,n){const i=this.listeners[t];i&&i.forEach(s=>s(n))}hasListeners(t){return!!this.listeners[t].length}registerWindowListener(t,n){this.windowListeners[n]={registered:!1,windowEventName:t,pluginEventName:n,handler:i=>{this.notifyListeners(n,i)}}}unimplemented(t="not implemented"){return new Qb.Exception(t,bf.Unimplemented)}unavailable(t="not available"){return new Qb.Exception(t,bf.Unavailable)}async removeListener(t,n){const i=this.listeners[t];if(!i)return;const s=i.indexOf(n);this.listeners[t].splice(s,1),this.listeners[t].length||this.removeWindowListener(this.windowListeners[t])}addWindowListener(t){window.addEventListener(t.windowEventName,t.handler),t.registered=!0}removeWindowListener(t){t&&(window.removeEventListener(t.windowEventName,t.handler),t.registered=!1)}}const uR=e=>encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),dR=e=>e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class iee extends x5{async getCookies(){const t=document.cookie,n={};return t.split(";").forEach(i=>{if(i.length<=0)return;let[s,l]=i.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");s=dR(s).trim(),l=dR(l).trim(),n[s]=l}),n}async setCookie(t){try{const n=uR(t.key),i=uR(t.value),s="; expires=".concat((t.expires||"").replace("expires=","")),l=(t.path||"/").replace("path=",""),d=t.url!=null&&t.url.length>0?"domain=".concat(t.url):"";document.cookie="".concat(n,"=").concat(i||"").concat(s,"; path=").concat(l,"; ").concat(d,";")}catch(n){return Promise.reject(n)}}async deleteCookie(t){try{document.cookie="".concat(t.key,"=; Max-Age=0")}catch(n){return Promise.reject(n)}}async clearCookies(){try{const t=document.cookie.split(";")||[];for(const n of t)document.cookie=n.replace(/^ +/,"").replace(/=.*/,"=;expires=".concat(new Date().toUTCString(),";path=/"))}catch(t){return Promise.reject(t)}}async clearAllCookies(){try{await this.clearCookies()}catch(t){return Promise.reject(t)}}}_5("CapacitorCookies",{web:()=>new iee});const ree=async e=>new Promise((t,n)=>{const i=new FileReader;i.onload=()=>{const s=i.result;t(s.indexOf(",")>=0?s.split(",")[1]:s)},i.onerror=s=>n(s),i.readAsDataURL(e)}),oee=(e={})=>{const t=Object.keys(e);return Object.keys(e).map(s=>s.toLocaleLowerCase()).reduce((s,l,d)=>(s[l]=e[t[d]],s),{})},see=(e,t=!0)=>e?Object.entries(e).reduce((i,s)=>{const[l,d]=s;let c,y;return Array.isArray(d)?(y="",d.forEach(b=>{c=t?encodeURIComponent(b):b,y+="".concat(l,"=").concat(c,"&")}),y.slice(0,-1)):(c=t?encodeURIComponent(d):d,y="".concat(l,"=").concat(c)),"".concat(i,"&").concat(y)},"").substr(1):null,aee=(e,t={})=>{const n=Object.assign({method:e.method||"GET",headers:e.headers},t),s=oee(e.headers)["content-type"]||"";if(typeof e.data=="string")n.body=e.data;else if(s.includes("application/x-www-form-urlencoded")){const l=new URLSearchParams;for(const[d,c]of Object.entries(e.data||{}))l.set(d,c);n.body=l.toString()}else if(s.includes("multipart/form-data")||e.data instanceof FormData){const l=new FormData;if(e.data instanceof FormData)e.data.forEach((c,y)=>{l.append(y,c)});else for(const c of Object.keys(e.data))l.append(c,e.data[c]);n.body=l;const d=new Headers(n.headers);d.delete("content-type"),n.headers=d}else(s.includes("application/json")||typeof e.data=="object")&&(n.body=JSON.stringify(e.data));return n};class lee extends x5{async request(t){const n=aee(t,t.webFetchExtra),i=see(t.params,t.shouldEncodeUrlParams),s=i?"".concat(t.url,"?").concat(i):t.url,l=await fetch(s,n),d=l.headers.get("content-type")||"";let{responseType:c="text"}=l.ok?t:{};d.includes("application/json")&&(c="json");let y,b;switch(c){case"arraybuffer":case"blob":b=await l.blob(),y=await ree(b);break;case"json":y=await l.json();break;case"document":case"text":default:y=await l.text()}const k={};return l.headers.forEach((S,E)=>{k[E]=S}),{data:y,headers:k,status:l.status,url:l.url}}async get(t){return this.request(Object.assign(Object.assign({},t),{method:"GET"}))}async post(t){return this.request(Object.assign(Object.assign({},t),{method:"POST"}))}async put(t){return this.request(Object.assign(Object.assign({},t),{method:"PUT"}))}async patch(t){return this.request(Object.assign(Object.assign({},t),{method:"PATCH"}))}async delete(t){return this.request(Object.assign(Object.assign({},t),{method:"DELETE"}))}}const cee=_5("CapacitorHttp",{web:()=>new lee});class uee{constructor(){bT(this,"baseUrl","http://10.100.1.41:3000")}async makeRequest(t,n,i){const s=FE.getState().token.value,l={url:"".concat(this.baseUrl).concat(t),method:n,headers:{Authorization:"Bearer ".concat(s),"Content-Type":"application/json"}};i&&(l.data=i);const d=await cee.request(l);if(d.status===200&&!d.error)return d.data;throw new Error(d.data.error)}get(t){return this.makeRequest(t,"get")}post(t,n){return this.makeRequest(t,"post",n)}put(t,n){return this.makeRequest(t,"put",n)}del(t){return this.makeRequest(t,"delete")}}const dee=ce.createContext(new uee),Af=()=>ce.useContext(dee),Nc=e=>{const t={};return Object.keys(e).forEach(n=>{const i=e[n];typeof i=="object"&&i!==null&&!Array.isArray(i)?Object.assign(t,{...Nc(i),...t}):n.includes("Image")&&!i.includes("http")?t[n]="http://10.100.1.41:3000"+i:t[n]=i}),t};var w5={exports:{}};/**
 * MapLibre GL JS
 * @license 3-Clause BSD. Full text of license: https://github.com/maplibre/maplibre-gl-js/blob/v4.1.2/LICENSE.txt
 */(function(e,t){(function(n,i){e.exports=i()})(V1,function(){var n={},i={};function s(d,c,y){if(i[d]=y,d==="index"){var b="var sharedModule = {}; ("+i.shared+")(sharedModule); ("+i.worker+")(sharedModule);",k={};return i.shared(k),i.index(n,k),typeof window<"u"&&n.setWorkerUrl(window.URL.createObjectURL(new Blob([b],{type:"text/javascript"}))),n}}s("shared",["exports"],function(d){function c(a,r,u,f){return new(u||(u=Promise))(function(g,x){function w(M){try{P(f.next(M))}catch(O){x(O)}}function C(M){try{P(f.throw(M))}catch(O){x(O)}}function P(M){var O;M.done?g(M.value):(O=M.value,O instanceof u?O:new u(function(D){D(O)})).then(w,C)}P((f=f.apply(a,r||[])).next())})}function y(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}typeof SuppressedError=="function"&&SuppressedError;var b=k;function k(a,r){this.x=a,this.y=r}k.prototype={clone:function(){return new k(this.x,this.y)},add:function(a){return this.clone()._add(a)},sub:function(a){return this.clone()._sub(a)},multByPoint:function(a){return this.clone()._multByPoint(a)},divByPoint:function(a){return this.clone()._divByPoint(a)},mult:function(a){return this.clone()._mult(a)},div:function(a){return this.clone()._div(a)},rotate:function(a){return this.clone()._rotate(a)},rotateAround:function(a,r){return this.clone()._rotateAround(a,r)},matMult:function(a){return this.clone()._matMult(a)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(a){return this.x===a.x&&this.y===a.y},dist:function(a){return Math.sqrt(this.distSqr(a))},distSqr:function(a){var r=a.x-this.x,u=a.y-this.y;return r*r+u*u},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(a){return Math.atan2(this.y-a.y,this.x-a.x)},angleWith:function(a){return this.angleWithSep(a.x,a.y)},angleWithSep:function(a,r){return Math.atan2(this.x*r-this.y*a,this.x*a+this.y*r)},_matMult:function(a){var r=a[2]*this.x+a[3]*this.y;return this.x=a[0]*this.x+a[1]*this.y,this.y=r,this},_add:function(a){return this.x+=a.x,this.y+=a.y,this},_sub:function(a){return this.x-=a.x,this.y-=a.y,this},_mult:function(a){return this.x*=a,this.y*=a,this},_div:function(a){return this.x/=a,this.y/=a,this},_multByPoint:function(a){return this.x*=a.x,this.y*=a.y,this},_divByPoint:function(a){return this.x/=a.x,this.y/=a.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var a=this.y;return this.y=this.x,this.x=-a,this},_rotate:function(a){var r=Math.cos(a),u=Math.sin(a),f=u*this.x+r*this.y;return this.x=r*this.x-u*this.y,this.y=f,this},_rotateAround:function(a,r){var u=Math.cos(a),f=Math.sin(a),g=r.y+f*(this.x-r.x)+u*(this.y-r.y);return this.x=r.x+u*(this.x-r.x)-f*(this.y-r.y),this.y=g,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},k.convert=function(a){return a instanceof k?a:Array.isArray(a)?new k(a[0],a[1]):a};var S=y(b),E=A;function A(a,r,u,f){this.cx=3*a,this.bx=3*(u-a)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*r,this.by=3*(f-r)-this.cy,this.ay=1-this.cy-this.by,this.p1x=a,this.p1y=r,this.p2x=u,this.p2y=f}A.prototype={sampleCurveX:function(a){return((this.ax*a+this.bx)*a+this.cx)*a},sampleCurveY:function(a){return((this.ay*a+this.by)*a+this.cy)*a},sampleCurveDerivativeX:function(a){return(3*this.ax*a+2*this.bx)*a+this.cx},solveCurveX:function(a,r){if(r===void 0&&(r=1e-6),a<0)return 0;if(a>1)return 1;for(var u=a,f=0;f<8;f++){var g=this.sampleCurveX(u)-a;if(Math.abs(g)<r)return u;var x=this.sampleCurveDerivativeX(u);if(Math.abs(x)<1e-6)break;u-=g/x}var w=0,C=1;for(u=a,f=0;f<20&&(g=this.sampleCurveX(u),!(Math.abs(g-a)<r));f++)a>g?w=u:C=u,u=.5*(C-w)+w;return u},solve:function(a,r){return this.sampleCurveY(this.solveCurveX(a,r))}};var z=y(E);let N,q;function F(){return N==null&&(N=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")&&typeof createImageBitmap=="function"),N}function $(){if(q==null&&(q=!1,F())){const r=new OffscreenCanvas(5,5).getContext("2d",{willReadFrequently:!0});if(r){for(let f=0;f<5*5;f++){const g=4*f;r.fillStyle="rgb(".concat(g,",").concat(g+1,",").concat(g+2,")"),r.fillRect(f%5,Math.floor(f/5),1,1)}const u=r.getImageData(0,0,5,5).data;for(let f=0;f<5*5*4;f++)if(f%4!=3&&u[f]!==f){q=!0;break}}}return q||!1}function V(a,r,u,f){const g=new z(a,r,u,f);return function(x){return g.solve(x)}}const Z=V(.25,.1,.25,1);function Q(a,r,u){return Math.min(u,Math.max(r,a))}function fe(a,r,u){const f=u-r,g=((a-r)%f+f)%f+r;return g===r?u:g}function oe(a,...r){for(const u of r)for(const f in u)a[f]=u[f];return a}let re=1;function Be(a,r,u){const f={};for(const g in a)f[g]=r.call(u||this,a[g],g,a);return f}function Le(a,r,u){const f={};for(const g in a)r.call(u||this,a[g],g,a)&&(f[g]=a[g]);return f}function Fe(a){return Array.isArray(a)?a.map(Fe):typeof a=="object"&&a?Be(a,Fe):a}const Ze={};function Pe(a){Ze[a]||(typeof console<"u"&&console.warn(a),Ze[a]=!0)}function De(a,r,u){return(u.y-a.y)*(r.x-a.x)>(r.y-a.y)*(u.x-a.x)}function Oe(a){let r=0;for(let u,f,g=0,x=a.length,w=x-1;g<x;w=g++)u=a[g],f=a[w],r+=(f.x-u.x)*(u.y+f.y);return r}function $e(a){return typeof WorkerGlobalScope<"u"&&a!==void 0&&a instanceof WorkerGlobalScope}let He=null;function we(a){return typeof ImageBitmap<"u"&&a instanceof ImageBitmap}const Ee="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=";function Ie(a,r,u,f,g){return c(this,void 0,void 0,function*(){if(typeof VideoFrame>"u")throw new Error("VideoFrame not supported");const x=new VideoFrame(a,{timestamp:0});try{const w=x==null?void 0:x.format;if(!w||!w.startsWith("BGR")&&!w.startsWith("RGB"))throw new Error("Unrecognized format ".concat(w));const C=w.startsWith("BGR"),P=new Uint8ClampedArray(f*g*4);if(yield x.copyTo(P,function(M,O,D,H,G){const X=4*Math.max(-O,0),te=(Math.max(0,D)-D)*H*4+X,ue=4*H,pe=Math.max(0,O),Ce=Math.max(0,D);return{rect:{x:pe,y:Ce,width:Math.min(M.width,O+H)-pe,height:Math.min(M.height,D+G)-Ce},layout:[{offset:te,stride:ue}]}}(a,r,u,f,g)),C)for(let M=0;M<P.length;M+=4){const O=P[M];P[M]=P[M+2],P[M+2]=O}return P}finally{x.close()}})}let qe,Ye;const yt="AbortError";function wt(){return new Error(yt)}const Mt={MAX_PARALLEL_IMAGE_REQUESTS:16,MAX_PARALLEL_IMAGE_REQUESTS_PER_FRAME:8,MAX_TILE_CACHE_ZOOM_LEVELS:5,REGISTERED_PROTOCOLS:{},WORKER_URL:""};function Ft(a){return Mt.REGISTERED_PROTOCOLS[a.substring(0,a.indexOf("://"))]}const Yt="global-dispatcher";class vn extends Error{constructor(r,u,f,g){super("AJAXError: ".concat(u," (").concat(r,"): ").concat(f)),this.status=r,this.statusText=u,this.url=f,this.body=g}}const ei=()=>$e(self)?self.worker&&self.worker.referrer:(window.location.protocol==="blob:"?window.parent:window).location.href,Mi=function(a,r){if(/:\/\//.test(a.url)&&!/^https?:|^file:/.test(a.url)){const f=Ft(a.url);if(f)return f(a,r);if($e(self)&&self.worker&&self.worker.actor)return self.worker.actor.sendAsync({type:"getResource",data:a,targetMapId:Yt},r)}if(!(/^file:/.test(u=a.url)||/^file:/.test(ei())&&!/^\w+:/.test(u))){if(fetch&&Request&&AbortController&&Object.prototype.hasOwnProperty.call(Request.prototype,"signal"))return function(f,g){return c(this,void 0,void 0,function*(){const x=new Request(f.url,{method:f.method||"GET",body:f.body,credentials:f.credentials,headers:f.headers,cache:f.cache,referrer:ei(),signal:g.signal});f.type==="json"&&x.headers.set("Accept","application/json");const w=yield fetch(x);if(!w.ok){const M=yield w.blob();throw new vn(w.status,w.statusText,f.url,M)}let C;C=f.type==="arrayBuffer"||f.type==="image"?w.arrayBuffer():f.type==="json"?w.json():w.text();const P=yield C;if(g.signal.aborted)throw wt();return{data:P,cacheControl:w.headers.get("Cache-Control"),expires:w.headers.get("Expires")}})}(a,r);if($e(self)&&self.worker&&self.worker.actor)return self.worker.actor.sendAsync({type:"getResource",data:a,mustQueue:!0,targetMapId:Yt},r)}var u;return function(f,g){return new Promise((x,w)=>{const C=new XMLHttpRequest;C.open(f.method||"GET",f.url,!0),f.type!=="arrayBuffer"&&f.type!=="image"||(C.responseType="arraybuffer");for(const P in f.headers)C.setRequestHeader(P,f.headers[P]);f.type==="json"&&(C.responseType="text",C.setRequestHeader("Accept","application/json")),C.withCredentials=f.credentials==="include",C.onerror=()=>{w(new Error(C.statusText))},C.onload=()=>{if(!g.signal.aborted)if((C.status>=200&&C.status<300||C.status===0)&&C.response!==null){let P=C.response;if(f.type==="json")try{P=JSON.parse(C.response)}catch(M){return void w(M)}x({data:P,cacheControl:C.getResponseHeader("Cache-Control"),expires:C.getResponseHeader("Expires")})}else{const P=new Blob([C.response],{type:C.getResponseHeader("Content-Type")});w(new vn(C.status,C.statusText,f.url,P))}},g.signal.addEventListener("abort",()=>{C.abort(),w(wt())}),C.send(f.body)})}(a,r)};function ir(a){if(!a||a.indexOf("://")<=0||a.indexOf("data:image/")===0||a.indexOf("blob:")===0)return!0;const r=new URL(a),u=window.location;return r.protocol===u.protocol&&r.host===u.host}function ot(a,r,u){u[a]&&u[a].indexOf(r)!==-1||(u[a]=u[a]||[],u[a].push(r))}function $t(a,r,u){if(u&&u[a]){const f=u[a].indexOf(r);f!==-1&&u[a].splice(f,1)}}class Ct{constructor(r,u={}){oe(this,u),this.type=r}}class zt extends Ct{constructor(r,u={}){super("error",oe({error:r},u))}}class Rn{on(r,u){return this._listeners=this._listeners||{},ot(r,u,this._listeners),this}off(r,u){return $t(r,u,this._listeners),$t(r,u,this._oneTimeListeners),this}once(r,u){return u?(this._oneTimeListeners=this._oneTimeListeners||{},ot(r,u,this._oneTimeListeners),this):new Promise(f=>this.once(r,f))}fire(r,u){typeof r=="string"&&(r=new Ct(r,u||{}));const f=r.type;if(this.listens(f)){r.target=this;const g=this._listeners&&this._listeners[f]?this._listeners[f].slice():[];for(const C of g)C.call(this,r);const x=this._oneTimeListeners&&this._oneTimeListeners[f]?this._oneTimeListeners[f].slice():[];for(const C of x)$t(f,C,this._oneTimeListeners),C.call(this,r);const w=this._eventedParent;w&&(oe(r,typeof this._eventedParentData=="function"?this._eventedParentData():this._eventedParentData),w.fire(r))}else r instanceof zt&&console.error(r.error);return this}listens(r){return this._listeners&&this._listeners[r]&&this._listeners[r].length>0||this._oneTimeListeners&&this._oneTimeListeners[r]&&this._oneTimeListeners[r].length>0||this._eventedParent&&this._eventedParent.listens(r)}setEventedParent(r,u){return this._eventedParent=r,this._eventedParentData=u,this}}var Ne={$version:8,$root:{version:{required:!0,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number"},zoom:{type:"number"},bearing:{type:"number",default:0,period:360,units:"degrees"},pitch:{type:"number",default:0,units:"degrees"},light:{type:"light"},sky:{type:"sky"},terrain:{type:"terrain"},sources:{required:!0,type:"sources"},sprite:{type:"sprite"},glyphs:{type:"string"},transition:{type:"transition"},layers:{required:!0,type:"array",value:"layer"}},sources:{"*":{type:"source"}},source:["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],source_vector:{type:{required:!0,type:"enum",values:{vector:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},attribution:{type:"string"},promoteId:{type:"promoteId"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster:{type:{required:!0,type:"enum",values:{raster:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},attribution:{type:"string"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster_dem:{type:{required:!0,type:"enum",values:{"raster-dem":{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},attribution:{type:"string"},encoding:{type:"enum",values:{terrarium:{},mapbox:{},custom:{}},default:"mapbox"},redFactor:{type:"number",default:1},blueFactor:{type:"number",default:1},greenFactor:{type:"number",default:1},baseShift:{type:"number",default:0},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_geojson:{type:{required:!0,type:"enum",values:{geojson:{}}},data:{required:!0,type:"*"},maxzoom:{type:"number",default:18},attribution:{type:"string"},buffer:{type:"number",default:128,maximum:512,minimum:0},filter:{type:"*"},tolerance:{type:"number",default:.375},cluster:{type:"boolean",default:!1},clusterRadius:{type:"number",default:50,minimum:0},clusterMaxZoom:{type:"number"},clusterMinPoints:{type:"number"},clusterProperties:{type:"*"},lineMetrics:{type:"boolean",default:!1},generateId:{type:"boolean",default:!1},promoteId:{type:"promoteId"}},source_video:{type:{required:!0,type:"enum",values:{video:{}}},urls:{required:!0,type:"array",value:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},source_image:{type:{required:!0,type:"enum",values:{image:{}}},url:{required:!0,type:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},layer:{id:{type:"string",required:!0},type:{type:"enum",values:{fill:{},line:{},symbol:{},circle:{},heatmap:{},"fill-extrusion":{},raster:{},hillshade:{},background:{}},required:!0},metadata:{type:"*"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:24},maxzoom:{type:"number",minimum:0,maximum:24},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"}},layout:["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background"],layout_background:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_fill:{"fill-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_circle:{"circle-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_heatmap:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_line:{"line-cap":{type:"enum",values:{butt:{},round:{},square:{}},default:"butt",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-join":{type:"enum",values:{bevel:{},round:{},miter:{}},default:"miter",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number",default:2,requires:[{"line-join":"miter"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number",default:1.05,requires:[{"line-join":"round"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_symbol:{"symbol-placement":{type:"enum",values:{point:{},line:{},"line-center":{}},default:"point",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number",default:250,minimum:1,units:"pixels",requires:[{"symbol-placement":"line"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean",default:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{},"viewport-y":{},source:{}},default:"auto",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean",default:!1,requires:["icon-image",{"!":"icon-overlap"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-overlap":{type:"enum",values:{never:{},always:{},cooperative:{}},requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean",default:!1,requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number",default:1,minimum:0,units:"factor of the original icon size",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{},width:{},height:{},both:{}},default:"none",requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"resolvedImage",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"padding",default:[2],units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-keep-upright":{type:"boolean",default:!1,requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{},viewport:{},"viewport-glyph":{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted",default:"",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number",default:16,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number",default:1.2,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-letter-spacing":{type:"number",default:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{},left:{},center:{},right:{}},default:"center",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems",default:0,requires:["text-field"],"property-type":"data-driven",expression:{interpolated:!0,parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-variable-anchor-offset":{type:"variableAnchorOffsetCollection",requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["text-field",{"!":"text-variable-anchor"}],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number",default:45,units:"degrees",requires:["text-field",{"symbol-placement":["line","line-center"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-writing-mode":{type:"array",value:"enum",values:{horizontal:{},vertical:{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",default:!0,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{},uppercase:{},lowercase:{}},default:"none",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",value:"number",units:"ems",length:2,default:[0,0],requires:["text-field",{"!":"text-radial-offset"}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean",default:!1,requires:["text-field",{"!":"text-overlap"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-overlap":{type:"enum",values:{never:{},always:{},cooperative:{}},requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean",default:!1,requires:["text-field","icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_raster:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_hillshade:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},filter:{type:"array",value:"*"},filter_operator:{type:"enum",values:{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},in:{},"!in":{},all:{},any:{},none:{},has:{},"!has":{},within:{}}},geometry_type:{type:"enum",values:{Point:{},LineString:{},Polygon:{}}},function:{expression:{type:"expression"},stops:{type:"array",value:"function_stop"},base:{type:"number",default:1,minimum:0},property:{type:"string",default:"$zoom"},type:{type:"enum",values:{identity:{},exponential:{},interval:{},categorical:{}},default:"exponential"},colorSpace:{type:"enum",values:{rgb:{},lab:{},hcl:{}},default:"rgb"},default:{type:"*",required:!1}},function_stop:{type:"array",minimum:0,maximum:24,value:["number","color"],length:2},expression:{type:"array",value:"*",minimum:1},light:{anchor:{type:"enum",default:"viewport",values:{map:{},viewport:{}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]}},position:{type:"array",default:[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},intensity:{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},sky:{"sky-color":{type:"color","property-type":"data-constant",default:"#88C6FC",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"fog-color":{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"fog-blend":{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"horizon-blend":{type:"number","property-type":"data-constant",default:.8,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},terrain:{source:{type:"string",required:!0},exaggeration:{type:"number",minimum:0,default:1}},paint:["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background"],paint_fill:{"fill-antialias":{type:"boolean",default:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-extrusion-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{type:"number",default:0,minimum:0,units:"meters",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number",default:0,minimum:0,units:"meters",transition:!0,requires:["fill-extrusion-height"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean",default:!0,transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_line:{"line-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"line-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["line-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number",default:1,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number",default:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"line-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{type:"color",transition:!1,requires:[{"!":"line-dasharray"},{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"}},paint_circle:{"circle-radius":{type:"number",default:5,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number",default:0,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["circle-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{},viewport:{}},default:"map",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},paint_heatmap:{"heatmap-radius":{type:"number",default:30,minimum:1,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number",default:1,minimum:0,transition:!1,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number",default:1,minimum:0,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],transition:!1,expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_symbol:{"icon-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color",default:"#000000",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["icon-image","icon-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",default:"#000000",transition:!0,overridable:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["text-field","text-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_raster:{"raster-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number",default:0,period:360,transition:!0,units:"degrees",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",default:0,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",values:{linear:{},nearest:{}},default:"linear",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number",default:300,minimum:0,transition:!1,units:"milliseconds",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_hillshade:{"hillshade-illumination-direction":{type:"number",default:335,minimum:0,maximum:359,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",default:.5,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"color",default:"#FFFFFF",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_background:{"background-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"background-pattern"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},transition:{duration:{type:"number",default:300,minimum:0,units:"milliseconds"},delay:{type:"number",default:0,minimum:0,units:"milliseconds"}},"property-type":{"data-driven":{type:"property-type"},"cross-faded":{type:"property-type"},"cross-faded-data-driven":{type:"property-type"},"color-ramp":{type:"property-type"},"data-constant":{type:"property-type"},constant:{type:"property-type"}},promoteId:{"*":{type:"string"}}};const qn=["type","source","source-layer","minzoom","maxzoom","filter","layout"];function Ki(a,r){const u={};for(const f in a)f!=="ref"&&(u[f]=a[f]);return qn.forEach(f=>{f in r&&(u[f]=r[f])}),u}function on(a,r){if(Array.isArray(a)){if(!Array.isArray(r)||a.length!==r.length)return!1;for(let u=0;u<a.length;u++)if(!on(a[u],r[u]))return!1;return!0}if(typeof a=="object"&&a!==null&&r!==null){if(typeof r!="object"||Object.keys(a).length!==Object.keys(r).length)return!1;for(const u in a)if(!on(a[u],r[u]))return!1;return!0}return a===r}function si(a,r){a.push(r)}function vr(a,r,u){si(u,{command:"addSource",args:[a,r[a]]})}function zr(a,r,u){si(r,{command:"removeSource",args:[a]}),u[a]=!0}function ua(a,r,u,f){zr(a,u,f),vr(a,r,u)}function da(a,r,u){let f;for(f in a[u])if(Object.prototype.hasOwnProperty.call(a[u],f)&&f!=="data"&&!on(a[u][f],r[u][f]))return!1;for(f in r[u])if(Object.prototype.hasOwnProperty.call(r[u],f)&&f!=="data"&&!on(a[u][f],r[u][f]))return!1;return!0}function Os(a,r,u,f,g,x){a=a||{},r=r||{};for(const w in a)Object.prototype.hasOwnProperty.call(a,w)&&(on(a[w],r[w])||u.push({command:x,args:[f,w,r[w],g]}));for(const w in r)Object.prototype.hasOwnProperty.call(r,w)&&!Object.prototype.hasOwnProperty.call(a,w)&&(on(a[w],r[w])||u.push({command:x,args:[f,w,r[w],g]}))}function ha(a){return a.id}function Fa(a,r){return a[r.id]=r,a}class at{constructor(r,u,f,g){this.message=(r?"".concat(r,": "):"")+f,g&&(this.identifier=g),u!=null&&u.__line__&&(this.line=u.__line__)}}function br(a,...r){for(const u of r)for(const f in u)a[f]=u[f];return a}class Ti extends Error{constructor(r,u){super(u),this.message=u,this.key=r}}class go{constructor(r,u=[]){this.parent=r,this.bindings={};for(const[f,g]of u)this.bindings[f]=g}concat(r){return new go(this,r)}get(r){if(this.bindings[r])return this.bindings[r];if(this.parent)return this.parent.get(r);throw new Error("".concat(r," not found in scope."))}has(r){return!!this.bindings[r]||!!this.parent&&this.parent.has(r)}}const Yr={kind:"null"},nt={kind:"number"},Ut={kind:"string"},Ht={kind:"boolean"},zi={kind:"color"},Lr={kind:"object"},Jt={kind:"value"},ss={kind:"collator"},Oo={kind:"formatted"},ae={kind:"padding"},U={kind:"resolvedImage"},W={kind:"variableAnchorOffsetCollection"};function Y(a,r){return{kind:"array",itemType:a,N:r}}function ie(a){if(a.kind==="array"){const r=ie(a.itemType);return typeof a.N=="number"?"array<".concat(r,", ").concat(a.N,">"):a.itemType.kind==="value"?"array":"array<".concat(r,">")}return a.kind}const ve=[Yr,nt,Ut,Ht,zi,Oo,Lr,Y(Jt),ae,U,W];function be(a,r){if(r.kind==="error")return null;if(a.kind==="array"){if(r.kind==="array"&&(r.N===0&&r.itemType.kind==="value"||!be(a.itemType,r.itemType))&&(typeof a.N!="number"||a.N===r.N))return null}else{if(a.kind===r.kind)return null;if(a.kind==="value"){for(const u of ve)if(!be(u,r))return null}}return"Expected ".concat(ie(a)," but found ").concat(ie(r)," instead.")}function ke(a,r){return r.some(u=>u.kind===a.kind)}function me(a,r){return r.some(u=>u==="null"?a===null:u==="array"?Array.isArray(a):u==="object"?a&&!Array.isArray(a)&&typeof a=="object":u===typeof a)}function Te(a,r){return a.kind==="array"&&r.kind==="array"?a.itemType.kind===r.itemType.kind&&typeof a.N=="number":a.kind===r.kind}const Ke=.96422,Ve=.82521,We=4/29,xt=6/29,Nt=3*xt*xt,Dt=xt*xt*xt,Wt=Math.PI/180,Zt=180/Math.PI;function Mn(a){return(a%=360)<0&&(a+=360),a}function In([a,r,u,f]){let g,x;const w=Qt((.2225045*(a=Kn(a))+.7168786*(r=Kn(r))+.0606169*(u=Kn(u)))/1);a===r&&r===u?g=x=w:(g=Qt((.4360747*a+.3850649*r+.1430804*u)/Ke),x=Qt((.0139322*a+.0971045*r+.7141733*u)/Ve));const C=116*w-16;return[C<0?0:C,500*(g-w),200*(w-x),f]}function Kn(a){return a<=.04045?a/12.92:Math.pow((a+.055)/1.055,2.4)}function Qt(a){return a>Dt?Math.pow(a,1/3):a/Nt+We}function Wn([a,r,u,f]){let g=(a+16)/116,x=isNaN(r)?g:g+r/500,w=isNaN(u)?g:g-u/200;return g=1*rr(g),x=Ke*rr(x),w=Ve*rr(w),[ai(3.1338561*x-1.6168667*g-.4906146*w),ai(-.9787684*x+1.9161415*g+.033454*w),ai(.0719453*x-.2289914*g+1.4052427*w),f]}function ai(a){return(a=a<=.00304?12.92*a:1.055*Math.pow(a,1/2.4)-.055)<0?0:a>1?1:a}function rr(a){return a>xt?a*a*a:Nt*(a-We)}function Vi(a){return parseInt(a.padEnd(2,a),16)/255}function Xi(a,r){return _r(r?a/100:a,0,1)}function _r(a,r,u){return Math.min(Math.max(r,a),u)}function su(a){return!a.some(Number.isNaN)}const Rf={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]};class xn{constructor(r,u,f,g=1,x=!0){this.r=r,this.g=u,this.b=f,this.a=g,x||(this.r*=g,this.g*=g,this.b*=g,g||this.overwriteGetter("rgb",[r,u,f,g]))}static parse(r){if(r instanceof xn)return r;if(typeof r!="string")return;const u=function(f){if((f=f.toLowerCase().trim())==="transparent")return[0,0,0,0];const g=Rf[f];if(g){const[w,C,P]=g;return[w/255,C/255,P/255,1]}if(f.startsWith("#")&&/^#(?:[0-9a-f]{3,4}|[0-9a-f]{6}|[0-9a-f]{8})$/.test(f)){const w=f.length<6?1:2;let C=1;return[Vi(f.slice(C,C+=w)),Vi(f.slice(C,C+=w)),Vi(f.slice(C,C+=w)),Vi(f.slice(C,C+w)||"ff")]}if(f.startsWith("rgb")){const w=f.match(/^rgba?\(\s*([\de.+-]+)(%)?(?:\s+|\s*(,)\s*)([\de.+-]+)(%)?(?:\s+|\s*(,)\s*)([\de.+-]+)(%)?(?:\s*([,\/])\s*([\de.+-]+)(%)?)?\s*\)$/);if(w){const[C,P,M,O,D,H,G,X,te,ue,pe,Ce]=w,ge=[O||" ",G||" ",ue].join("");if(ge==="  "||ge==="  /"||ge===",,"||ge===",,,"){const xe=[M,H,te].join(""),Ue=xe==="%%%"?100:xe===""?255:0;if(Ue){const Ge=[_r(+P/Ue,0,1),_r(+D/Ue,0,1),_r(+X/Ue,0,1),pe?Xi(+pe,Ce):1];if(su(Ge))return Ge}}return}}const x=f.match(/^hsla?\(\s*([\de.+-]+)(?:deg)?(?:\s+|\s*(,)\s*)([\de.+-]+)%(?:\s+|\s*(,)\s*)([\de.+-]+)%(?:\s*([,\/])\s*([\de.+-]+)(%)?)?\s*\)$/);if(x){const[w,C,P,M,O,D,H,G,X]=x,te=[P||" ",O||" ",H].join("");if(te==="  "||te==="  /"||te===",,"||te===",,,"){const ue=[+C,_r(+M,0,100),_r(+D,0,100),G?Xi(+G,X):1];if(su(ue))return function([pe,Ce,ge,xe]){function Ue(Ge){const mt=(Ge+pe/30)%12,Et=Ce*Math.min(ge,1-ge);return ge-Et*Math.max(-1,Math.min(mt-3,9-mt,1))}return pe=Mn(pe),Ce/=100,ge/=100,[Ue(0),Ue(8),Ue(4),xe]}(ue)}}}(r);return u?new xn(...u,!1):void 0}get rgb(){const{r,g:u,b:f,a:g}=this,x=g||1/0;return this.overwriteGetter("rgb",[r/x,u/x,f/x,g])}get hcl(){return this.overwriteGetter("hcl",function(r){const[u,f,g,x]=In(r),w=Math.sqrt(f*f+g*g);return[Math.round(1e4*w)?Mn(Math.atan2(g,f)*Zt):NaN,w,u,x]}(this.rgb))}get lab(){return this.overwriteGetter("lab",In(this.rgb))}overwriteGetter(r,u){return Object.defineProperty(this,r,{value:u}),u}toString(){const[r,u,f,g]=this.rgb;return"rgba(".concat([r,u,f].map(x=>Math.round(255*x)).join(","),",").concat(g,")")}}xn.black=new xn(0,0,0,1),xn.white=new xn(1,1,1,1),xn.transparent=new xn(0,0,0,0),xn.red=new xn(1,0,0,1);class xd{constructor(r,u,f){this.sensitivity=r?u?"variant":"case":u?"accent":"base",this.locale=f,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})}compare(r,u){return this.collator.compare(r,u)}resolvedLocale(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale}}class wd{constructor(r,u,f,g,x){this.text=r,this.image=u,this.scale=f,this.fontStack=g,this.textColor=x}}class Re{constructor(r){this.sections=r}static fromString(r){return new Re([new wd(r,null,null,null,null)])}isEmpty(){return this.sections.length===0||!this.sections.some(r=>r.text.length!==0||r.image&&r.image.name.length!==0)}static factory(r){return r instanceof Re?r:Re.fromString(r)}toString(){return this.sections.length===0?"":this.sections.map(r=>r.text).join("")}}class st{constructor(r){this.values=r.slice()}static parse(r){if(r instanceof st)return r;if(typeof r=="number")return new st([r,r,r,r]);if(Array.isArray(r)&&!(r.length<1||r.length>4)){for(const u of r)if(typeof u!="number")return;switch(r.length){case 1:r=[r[0],r[0],r[0],r[0]];break;case 2:r=[r[0],r[1],r[0],r[1]];break;case 3:r=[r[0],r[1],r[2],r[1]]}return new st(r)}}toString(){return JSON.stringify(this.values)}}const kt=new Set(["center","left","right","top","bottom","top-left","top-right","bottom-left","bottom-right"]);class sn{constructor(r){this.values=r.slice()}static parse(r){if(r instanceof sn)return r;if(Array.isArray(r)&&!(r.length<1)&&r.length%2==0){for(let u=0;u<r.length;u+=2){const f=r[u],g=r[u+1];if(typeof f!="string"||!kt.has(f)||!Array.isArray(g)||g.length!==2||typeof g[0]!="number"||typeof g[1]!="number")return}return new sn(r)}}toString(){return JSON.stringify(this.values)}}class wn{constructor(r){this.name=r.name,this.available=r.available}toString(){return this.name}static fromString(r){return r?new wn({name:r,available:!1}):null}}function xr(a,r,u,f){return typeof a=="number"&&a>=0&&a<=255&&typeof r=="number"&&r>=0&&r<=255&&typeof u=="number"&&u>=0&&u<=255?f===void 0||typeof f=="number"&&f>=0&&f<=1?null:"Invalid rgba value [".concat([a,r,u,f].join(", "),"]: 'a' must be between 0 and 1."):"Invalid rgba value [".concat((typeof f=="number"?[a,r,u,f]:[a,r,u]).join(", "),"]: 'r', 'g', and 'b' must be between 0 and 255.")}function or(a){if(a===null||typeof a=="string"||typeof a=="boolean"||typeof a=="number"||a instanceof xn||a instanceof xd||a instanceof Re||a instanceof st||a instanceof sn||a instanceof wn)return!0;if(Array.isArray(a)){for(const r of a)if(!or(r))return!1;return!0}if(typeof a=="object"){for(const r in a)if(!or(a[r]))return!1;return!0}return!1}function Ii(a){if(a===null)return Yr;if(typeof a=="string")return Ut;if(typeof a=="boolean")return Ht;if(typeof a=="number")return nt;if(a instanceof xn)return zi;if(a instanceof xd)return ss;if(a instanceof Re)return Oo;if(a instanceof st)return ae;if(a instanceof sn)return W;if(a instanceof wn)return U;if(Array.isArray(a)){const r=a.length;let u;for(const f of a){const g=Ii(f);if(u){if(u===g)continue;u=Jt;break}u=g}return Y(u||Jt,r)}return Lr}function au(a){const r=typeof a;return a===null?"":r==="string"||r==="number"||r==="boolean"?String(a):a instanceof xn||a instanceof Re||a instanceof st||a instanceof sn||a instanceof wn?a.toString():JSON.stringify(a)}class Na{constructor(r,u){this.type=r,this.value=u}static parse(r,u){if(r.length!==2)return u.error("'literal' expression requires exactly one argument, but found ".concat(r.length-1," instead."));if(!or(r[1]))return u.error("invalid value");const f=r[1];let g=Ii(f);const x=u.expectedType;return g.kind!=="array"||g.N!==0||!x||x.kind!=="array"||typeof x.N=="number"&&x.N!==0||(g=x),new Na(g,f)}evaluate(){return this.value}eachChild(){}outputDefined(){return!0}}class li{constructor(r){this.name="ExpressionEvaluationError",this.message=r}toJSON(){return this.message}}const ja={string:Ut,number:nt,boolean:Ht,object:Lr};class Do{constructor(r,u){this.type=r,this.args=u}static parse(r,u){if(r.length<2)return u.error("Expected at least one argument.");let f,g=1;const x=r[0];if(x==="array"){let C,P;if(r.length>2){const M=r[1];if(typeof M!="string"||!(M in ja)||M==="object")return u.error('The item type argument of "array" must be one of string, number, boolean',1);C=ja[M],g++}else C=Jt;if(r.length>3){if(r[2]!==null&&(typeof r[2]!="number"||r[2]<0||r[2]!==Math.floor(r[2])))return u.error('The length argument to "array" must be a positive integer literal',2);P=r[2],g++}f=Y(C,P)}else{if(!ja[x])throw new Error("Types doesn't contain name = ".concat(x));f=ja[x]}const w=[];for(;g<r.length;g++){const C=u.parse(r[g],g,Jt);if(!C)return null;w.push(C)}return new Do(f,w)}evaluate(r){for(let u=0;u<this.args.length;u++){const f=this.args[u].evaluate(r);if(!be(this.type,Ii(f)))return f;if(u===this.args.length-1)throw new li("Expected value to be of type ".concat(ie(this.type),", but found ").concat(ie(Ii(f))," instead."))}throw new Error}eachChild(r){this.args.forEach(r)}outputDefined(){return this.args.every(r=>r.outputDefined())}}const Sd={"to-boolean":Ht,"to-color":zi,"to-number":nt,"to-string":Ut};class as{constructor(r,u){this.type=r,this.args=u}static parse(r,u){if(r.length<2)return u.error("Expected at least one argument.");const f=r[0];if(!Sd[f])throw new Error("Can't parse ".concat(f," as it is not part of the known types"));if((f==="to-boolean"||f==="to-string")&&r.length!==2)return u.error("Expected one argument.");const g=Sd[f],x=[];for(let w=1;w<r.length;w++){const C=u.parse(r[w],w,Jt);if(!C)return null;x.push(C)}return new as(g,x)}evaluate(r){switch(this.type.kind){case"boolean":return!!this.args[0].evaluate(r);case"color":{let u,f;for(const g of this.args){if(u=g.evaluate(r),f=null,u instanceof xn)return u;if(typeof u=="string"){const x=r.parseColor(u);if(x)return x}else if(Array.isArray(u)&&(f=u.length<3||u.length>4?"Invalid rbga value ".concat(JSON.stringify(u),": expected an array containing either three or four numeric values."):xr(u[0],u[1],u[2],u[3]),!f))return new xn(u[0]/255,u[1]/255,u[2]/255,u[3])}throw new li(f||"Could not parse color from value '".concat(typeof u=="string"?u:JSON.stringify(u),"'"))}case"padding":{let u;for(const f of this.args){u=f.evaluate(r);const g=st.parse(u);if(g)return g}throw new li("Could not parse padding from value '".concat(typeof u=="string"?u:JSON.stringify(u),"'"))}case"variableAnchorOffsetCollection":{let u;for(const f of this.args){u=f.evaluate(r);const g=sn.parse(u);if(g)return g}throw new li("Could not parse variableAnchorOffsetCollection from value '".concat(typeof u=="string"?u:JSON.stringify(u),"'"))}case"number":{let u=null;for(const f of this.args){if(u=f.evaluate(r),u===null)return 0;const g=Number(u);if(!isNaN(g))return g}throw new li("Could not convert ".concat(JSON.stringify(u)," to number."))}case"formatted":return Re.fromString(au(this.args[0].evaluate(r)));case"resolvedImage":return wn.fromString(au(this.args[0].evaluate(r)));default:return au(this.args[0].evaluate(r))}}eachChild(r){this.args.forEach(r)}outputDefined(){return this.args.every(r=>r.outputDefined())}}const Mf=["Unknown","Point","LineString","Polygon"];class Ll{constructor(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null}id(){return this.feature&&"id"in this.feature?this.feature.id:null}geometryType(){return this.feature?typeof this.feature.type=="number"?Mf[this.feature.type]:this.feature.type:null}geometry(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null}canonicalID(){return this.canonical}properties(){return this.feature&&this.feature.properties||{}}parseColor(r){let u=this._parseColorCache[r];return u||(u=this._parseColorCache[r]=xn.parse(r)),u}}class Sn{constructor(r,u,f=[],g,x=new go,w=[]){this.registry=r,this.path=f,this.key=f.map(C=>"[".concat(C,"]")).join(""),this.scope=x,this.errors=w,this.expectedType=g,this._isConstant=u}parse(r,u,f,g,x={}){return u?this.concat(u,f,g)._parse(r,x):this._parse(r,x)}_parse(r,u){function f(g,x,w){return w==="assert"?new Do(x,[g]):w==="coerce"?new as(x,[g]):g}if(r!==null&&typeof r!="string"&&typeof r!="boolean"&&typeof r!="number"||(r=["literal",r]),Array.isArray(r)){if(r.length===0)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');const g=r[0];if(typeof g!="string")return this.error("Expression name must be a string, but found ".concat(typeof g,' instead. If you wanted a literal array, use ["literal", [...]].'),0),null;const x=this.registry[g];if(x){let w=x.parse(r,this);if(!w)return null;if(this.expectedType){const C=this.expectedType,P=w.type;if(C.kind!=="string"&&C.kind!=="number"&&C.kind!=="boolean"&&C.kind!=="object"&&C.kind!=="array"||P.kind!=="value")if(C.kind!=="color"&&C.kind!=="formatted"&&C.kind!=="resolvedImage"||P.kind!=="value"&&P.kind!=="string")if(C.kind!=="padding"||P.kind!=="value"&&P.kind!=="number"&&P.kind!=="array")if(C.kind!=="variableAnchorOffsetCollection"||P.kind!=="value"&&P.kind!=="array"){if(this.checkSubtype(C,P))return null}else w=f(w,C,u.typeAnnotation||"coerce");else w=f(w,C,u.typeAnnotation||"coerce");else w=f(w,C,u.typeAnnotation||"coerce");else w=f(w,C,u.typeAnnotation||"assert")}if(!(w instanceof Na)&&w.type.kind!=="resolvedImage"&&this._isConstant(w)){const C=new Ll;try{w=new Na(w.type,w.evaluate(C))}catch(P){return this.error(P.message),null}}return w}return this.error('Unknown expression "'.concat(g,'". If you wanted a literal array, use ["literal", [...]].'),0)}return this.error(r===void 0?"'undefined' value invalid. Use null instead.":typeof r=="object"?'Bare objects invalid. Use ["literal", {...}] instead.':"Expected an array, but found ".concat(typeof r," instead."))}concat(r,u,f){const g=typeof r=="number"?this.path.concat(r):this.path,x=f?this.scope.concat(f):this.scope;return new Sn(this.registry,this._isConstant,g,u||null,x,this.errors)}error(r,...u){const f="".concat(this.key).concat(u.map(g=>"[".concat(g,"]")).join(""));this.errors.push(new Ti(f,r))}checkSubtype(r,u){const f=be(r,u);return f&&this.error(f),f}}class kd{constructor(r,u,f){this.type=ss,this.locale=f,this.caseSensitive=r,this.diacriticSensitive=u}static parse(r,u){if(r.length!==2)return u.error("Expected one argument.");const f=r[1];if(typeof f!="object"||Array.isArray(f))return u.error("Collator options argument must be an object.");const g=u.parse(f["case-sensitive"]!==void 0&&f["case-sensitive"],1,Ht);if(!g)return null;const x=u.parse(f["diacritic-sensitive"]!==void 0&&f["diacritic-sensitive"],1,Ht);if(!x)return null;let w=null;return f.locale&&(w=u.parse(f.locale,1,Ut),!w)?null:new kd(g,x,w)}evaluate(r){return new xd(this.caseSensitive.evaluate(r),this.diacriticSensitive.evaluate(r),this.locale?this.locale.evaluate(r):null)}eachChild(r){r(this.caseSensitive),r(this.diacriticSensitive),this.locale&&r(this.locale)}outputDefined(){return!1}}const ls=8192;function zf(a,r){a[0]=Math.min(a[0],r[0]),a[1]=Math.min(a[1],r[1]),a[2]=Math.max(a[2],r[0]),a[3]=Math.max(a[3],r[1])}function lu(a,r){return!(a[0]<=r[0]||a[2]>=r[2]||a[1]<=r[1]||a[3]>=r[3])}function Wg(a,r){const u=(180+a[0])/360,f=(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+a[1]*Math.PI/360)))/360,g=Math.pow(2,r.z);return[Math.round(u*g*ls),Math.round(f*g*ls)]}function E_(a,r,u){const f=a[0]-r[0],g=a[1]-r[1],x=a[0]-u[0],w=a[1]-u[1];return f*w-x*g==0&&f*x<=0&&g*w<=0}function Ed(a,r){let u=!1;for(let w=0,C=r.length;w<C;w++){const P=r[w];for(let M=0,O=P.length;M<O-1;M++){if(E_(a,P[M],P[M+1]))return!1;(g=P[M])[1]>(f=a)[1]!=(x=P[M+1])[1]>f[1]&&f[0]<(x[0]-g[0])*(f[1]-g[1])/(x[1]-g[1])+g[0]&&(u=!u)}}var f,g,x;return u}function Zg(a,r){for(let u=0;u<r.length;u++)if(Ed(a,r[u]))return!0;return!1}function Gg(a,r,u,f){const g=f[0]-u[0],x=f[1]-u[1],w=(a[0]-u[0])*x-g*(a[1]-u[1]),C=(r[0]-u[0])*x-g*(r[1]-u[1]);return w>0&&C<0||w<0&&C>0}function C_(a,r,u){for(const M of u)for(let O=0;O<M.length-1;++O)if((C=[(w=M[O+1])[0]-(x=M[O])[0],w[1]-x[1]])[0]*(P=[(g=r)[0]-(f=a)[0],g[1]-f[1]])[1]-C[1]*P[0]!=0&&Gg(f,g,x,w)&&Gg(x,w,f,g))return!0;var f,g,x,w,C,P;return!1}function Kg(a,r){for(let u=0;u<a.length;++u)if(!Ed(a[u],r))return!1;for(let u=0;u<a.length-1;++u)if(C_(a[u],a[u+1],r))return!1;return!0}function T_(a,r){for(let u=0;u<r.length;u++)if(Kg(a,r[u]))return!0;return!1}function Cd(a,r,u){const f=[];for(let g=0;g<a.length;g++){const x=[];for(let w=0;w<a[g].length;w++){const C=Wg(a[g][w],u);zf(r,C),x.push(C)}f.push(x)}return f}function Lf(a,r,u){const f=[];for(let g=0;g<a.length;g++){const x=Cd(a[g],r,u);f.push(x)}return f}function Xg(a,r,u,f){if(a[0]<u[0]||a[0]>u[2]){const g=.5*f;let x=a[0]-u[0]>g?-f:u[0]-a[0]>g?f:0;x===0&&(x=a[0]-u[2]>g?-f:u[2]-a[0]>g?f:0),a[0]+=x}zf(r,a)}function Yg(a,r,u,f){const g=Math.pow(2,f.z)*ls,x=[f.x*ls,f.y*ls],w=[];for(const C of a)for(const P of C){const M=[P.x+x[0],P.y+x[1]];Xg(M,r,u,g),w.push(M)}return w}function Td(a,r,u,f){const g=Math.pow(2,f.z)*ls,x=[f.x*ls,f.y*ls],w=[];for(const P of a){const M=[];for(const O of P){const D=[O.x+x[0],O.y+x[1]];zf(r,D),M.push(D)}w.push(M)}if(r[2]-r[0]<=g/2){(C=r)[0]=C[1]=1/0,C[2]=C[3]=-1/0;for(const P of w)for(const M of P)Xg(M,r,u,g)}var C;return w}class Va{constructor(r,u){this.type=Ht,this.geojson=r,this.geometries=u}static parse(r,u){if(r.length!==2)return u.error("'within' expression requires exactly one argument, but found ".concat(r.length-1," instead."));if(or(r[1])){const f=r[1];if(f.type==="FeatureCollection"){const g=[];for(const x of f.features){const{type:w,coordinates:C}=x.geometry;w==="Polygon"&&g.push(C),w==="MultiPolygon"&&g.push(...C)}if(g.length)return new Va(f,{type:"MultiPolygon",coordinates:g})}else if(f.type==="Feature"){const g=f.geometry.type;if(g==="Polygon"||g==="MultiPolygon")return new Va(f,f.geometry)}else if(f.type==="Polygon"||f.type==="MultiPolygon")return new Va(f,f)}return u.error("'within' expression requires valid geojson object that contains polygon geometry type.")}evaluate(r){if(r.geometry()!=null&&r.canonicalID()!=null){if(r.geometryType()==="Point")return function(u,f){const g=[1/0,1/0,-1/0,-1/0],x=[1/0,1/0,-1/0,-1/0],w=u.canonicalID();if(f.type==="Polygon"){const C=Cd(f.coordinates,x,w),P=Yg(u.geometry(),g,x,w);if(!lu(g,x))return!1;for(const M of P)if(!Ed(M,C))return!1}if(f.type==="MultiPolygon"){const C=Lf(f.coordinates,x,w),P=Yg(u.geometry(),g,x,w);if(!lu(g,x))return!1;for(const M of P)if(!Zg(M,C))return!1}return!0}(r,this.geometries);if(r.geometryType()==="LineString")return function(u,f){const g=[1/0,1/0,-1/0,-1/0],x=[1/0,1/0,-1/0,-1/0],w=u.canonicalID();if(f.type==="Polygon"){const C=Cd(f.coordinates,x,w),P=Td(u.geometry(),g,x,w);if(!lu(g,x))return!1;for(const M of P)if(!Kg(M,C))return!1}if(f.type==="MultiPolygon"){const C=Lf(f.coordinates,x,w),P=Td(u.geometry(),g,x,w);if(!lu(g,x))return!1;for(const M of P)if(!T_(M,C))return!1}return!0}(r,this.geometries)}return!1}eachChild(){}outputDefined(){return!0}}class Id{constructor(r,u){this.type=u.type,this.name=r,this.boundExpression=u}static parse(r,u){if(r.length!==2||typeof r[1]!="string")return u.error("'var' expression requires exactly one string literal argument.");const f=r[1];return u.scope.has(f)?new Id(f,u.scope.get(f)):u.error('Unknown variable "'.concat(f,'". Make sure "').concat(f,'" has been bound in an enclosing "let" expression before using it.'),1)}evaluate(r){return this.boundExpression.evaluate(r)}eachChild(){}outputDefined(){return!1}}class yo{constructor(r,u,f,g){this.name=r,this.type=u,this._evaluate=f,this.args=g}evaluate(r){return this._evaluate(r,this.args)}eachChild(r){this.args.forEach(r)}outputDefined(){return!1}static parse(r,u){const f=r[0],g=yo.definitions[f];if(!g)return u.error('Unknown expression "'.concat(f,'". If you wanted a literal array, use ["literal", [...]].'),0);const x=Array.isArray(g)?g[0]:g.type,w=Array.isArray(g)?[[g[1],g[2]]]:g.overloads,C=w.filter(([M])=>!Array.isArray(M)||M.length===r.length-1);let P=null;for(const[M,O]of C){P=new Sn(u.registry,cu,u.path,null,u.scope);const D=[];let H=!1;for(let G=1;G<r.length;G++){const X=r[G],te=Array.isArray(M)?M[G-1]:M.type,ue=P.parse(X,1+D.length,te);if(!ue){H=!0;break}D.push(ue)}if(!H)if(Array.isArray(M)&&M.length!==D.length)P.error("Expected ".concat(M.length," arguments, but found ").concat(D.length," instead."));else{for(let G=0;G<D.length;G++){const X=Array.isArray(M)?M[G]:M.type,te=D[G];P.concat(G+1).checkSubtype(X,te.type)}if(P.errors.length===0)return new yo(f,x,O,D)}}if(C.length===1)u.errors.push(...P.errors);else{const M=(C.length?C:w).map(([D])=>{return H=D,Array.isArray(H)?"(".concat(H.map(ie).join(", "),")"):"(".concat(ie(H.type),"...)");var H}).join(" | "),O=[];for(let D=1;D<r.length;D++){const H=u.parse(r[D],1+O.length);if(!H)return null;O.push(ie(H.type))}u.error("Expected arguments of type ".concat(M,", but found (").concat(O.join(", "),") instead."))}return null}static register(r,u){yo.definitions=u;for(const f in u)r[f]=yo}}function cu(a){if(a instanceof Id)return cu(a.boundExpression);if(a instanceof yo&&a.name==="error"||a instanceof kd||a instanceof Va)return!1;const r=a instanceof as||a instanceof Do;let u=!0;return a.eachChild(f=>{u=r?u&&cu(f):u&&f instanceof Na}),!!u&&uu(a)&&Pd(a,["zoom","heatmap-density","line-progress","accumulated","is-supported-script"])}function uu(a){if(a instanceof yo&&(a.name==="get"&&a.args.length===1||a.name==="feature-state"||a.name==="has"&&a.args.length===1||a.name==="properties"||a.name==="geometry-type"||a.name==="id"||/^filter-/.test(a.name))||a instanceof Va)return!1;let r=!0;return a.eachChild(u=>{r&&!uu(u)&&(r=!1)}),r}function du(a){if(a instanceof yo&&a.name==="feature-state")return!1;let r=!0;return a.eachChild(u=>{r&&!du(u)&&(r=!1)}),r}function Pd(a,r){if(a instanceof yo&&r.indexOf(a.name)>=0)return!1;let u=!0;return a.eachChild(f=>{u&&!Pd(f,r)&&(u=!1)}),u}function hu(a,r){const u=a.length-1;let f,g,x=0,w=u,C=0;for(;x<=w;)if(C=Math.floor((x+w)/2),f=a[C],g=a[C+1],f<=r){if(C===u||r<g)return C;x=C+1}else{if(!(f>r))throw new li("Input is not a number.");w=C-1}return 0}class Ol{constructor(r,u,f){this.type=r,this.input=u,this.labels=[],this.outputs=[];for(const[g,x]of f)this.labels.push(g),this.outputs.push(x)}static parse(r,u){if(r.length-1<4)return u.error("Expected at least 4 arguments, but found only ".concat(r.length-1,"."));if((r.length-1)%2!=0)return u.error("Expected an even number of arguments.");const f=u.parse(r[1],1,nt);if(!f)return null;const g=[];let x=null;u.expectedType&&u.expectedType.kind!=="value"&&(x=u.expectedType);for(let w=1;w<r.length;w+=2){const C=w===1?-1/0:r[w],P=r[w+1],M=w,O=w+1;if(typeof C!="number")return u.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',M);if(g.length&&g[g.length-1][0]>=C)return u.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',M);const D=u.parse(P,O,x);if(!D)return null;x=x||D.type,g.push([C,D])}return new Ol(x,f,g)}evaluate(r){const u=this.labels,f=this.outputs;if(u.length===1)return f[0].evaluate(r);const g=this.input.evaluate(r);if(g<=u[0])return f[0].evaluate(r);const x=u.length;return g>=u[x-1]?f[x-1].evaluate(r):f[hu(u,g)].evaluate(r)}eachChild(r){r(this.input);for(const u of this.outputs)r(u)}outputDefined(){return this.outputs.every(r=>r.outputDefined())}}function I_(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}var P_=Jg;function Jg(a,r,u,f){this.cx=3*a,this.bx=3*(u-a)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*r,this.by=3*(f-r)-this.cy,this.ay=1-this.cy-this.by,this.p1x=a,this.p1y=r,this.p2x=u,this.p2y=f}Jg.prototype={sampleCurveX:function(a){return((this.ax*a+this.bx)*a+this.cx)*a},sampleCurveY:function(a){return((this.ay*a+this.by)*a+this.cy)*a},sampleCurveDerivativeX:function(a){return(3*this.ax*a+2*this.bx)*a+this.cx},solveCurveX:function(a,r){if(r===void 0&&(r=1e-6),a<0)return 0;if(a>1)return 1;for(var u=a,f=0;f<8;f++){var g=this.sampleCurveX(u)-a;if(Math.abs(g)<r)return u;var x=this.sampleCurveDerivativeX(u);if(Math.abs(x)<1e-6)break;u-=g/x}var w=0,C=1;for(u=a,f=0;f<20&&(g=this.sampleCurveX(u),!(Math.abs(g-a)<r));f++)a>g?w=u:C=u,u=.5*(C-w)+w;return u},solve:function(a,r){return this.sampleCurveY(this.solveCurveX(a,r))}};var A_=I_(P_);function Ua(a,r,u){return a+u*(r-a)}function Ad(a,r,u){return a.map((f,g)=>Ua(f,r[g],u))}const Jr={number:Ua,color:function(a,r,u,f="rgb"){switch(f){case"rgb":{const[g,x,w,C]=Ad(a.rgb,r.rgb,u);return new xn(g,x,w,C,!1)}case"hcl":{const[g,x,w,C]=a.hcl,[P,M,O,D]=r.hcl;let H,G;if(isNaN(g)||isNaN(P))isNaN(g)?isNaN(P)?H=NaN:(H=P,w!==1&&w!==0||(G=M)):(H=g,O!==1&&O!==0||(G=x));else{let Ce=P-g;P>g&&Ce>180?Ce-=360:P<g&&g-P>180&&(Ce+=360),H=g+u*Ce}const[X,te,ue,pe]=function([Ce,ge,xe,Ue]){return Ce=isNaN(Ce)?0:Ce*Wt,Wn([xe,Math.cos(Ce)*ge,Math.sin(Ce)*ge,Ue])}([H,G!=null?G:Ua(x,M,u),Ua(w,O,u),Ua(C,D,u)]);return new xn(X,te,ue,pe,!1)}case"lab":{const[g,x,w,C]=Wn(Ad(a.lab,r.lab,u));return new xn(g,x,w,C,!1)}}},array:Ad,padding:function(a,r,u){return new st(Ad(a.values,r.values,u))},variableAnchorOffsetCollection:function(a,r,u){const f=a.values,g=r.values;if(f.length!==g.length)throw new li("Cannot interpolate values of different length. from: ".concat(a.toString(),", to: ").concat(r.toString()));const x=[];for(let w=0;w<f.length;w+=2){if(f[w]!==g[w])throw new li("Cannot interpolate values containing mismatched anchors. from[".concat(w,"]: ").concat(f[w],", to[").concat(w,"]: ").concat(g[w]));x.push(f[w]);const[C,P]=f[w+1],[M,O]=g[w+1];x.push([Ua(C,M,u),Ua(P,O,u)])}return new sn(x)}};class wr{constructor(r,u,f,g,x){this.type=r,this.operator=u,this.interpolation=f,this.input=g,this.labels=[],this.outputs=[];for(const[w,C]of x)this.labels.push(w),this.outputs.push(C)}static interpolationFactor(r,u,f,g){let x=0;if(r.name==="exponential")x=Dl(u,r.base,f,g);else if(r.name==="linear")x=Dl(u,1,f,g);else if(r.name==="cubic-bezier"){const w=r.controlPoints;x=new A_(w[0],w[1],w[2],w[3]).solve(Dl(u,1,f,g))}return x}static parse(r,u){let[f,g,x,...w]=r;if(!Array.isArray(g)||g.length===0)return u.error("Expected an interpolation type expression.",1);if(g[0]==="linear")g={name:"linear"};else if(g[0]==="exponential"){const M=g[1];if(typeof M!="number")return u.error("Exponential interpolation requires a numeric base.",1,1);g={name:"exponential",base:M}}else{if(g[0]!=="cubic-bezier")return u.error("Unknown interpolation type ".concat(String(g[0])),1,0);{const M=g.slice(1);if(M.length!==4||M.some(O=>typeof O!="number"||O<0||O>1))return u.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);g={name:"cubic-bezier",controlPoints:M}}}if(r.length-1<4)return u.error("Expected at least 4 arguments, but found only ".concat(r.length-1,"."));if((r.length-1)%2!=0)return u.error("Expected an even number of arguments.");if(x=u.parse(x,2,nt),!x)return null;const C=[];let P=null;f==="interpolate-hcl"||f==="interpolate-lab"?P=zi:u.expectedType&&u.expectedType.kind!=="value"&&(P=u.expectedType);for(let M=0;M<w.length;M+=2){const O=w[M],D=w[M+1],H=M+3,G=M+4;if(typeof O!="number")return u.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',H);if(C.length&&C[C.length-1][0]>=O)return u.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',H);const X=u.parse(D,G,P);if(!X)return null;P=P||X.type,C.push([O,X])}return Te(P,nt)||Te(P,zi)||Te(P,ae)||Te(P,W)||Te(P,Y(nt))?new wr(P,f,g,x,C):u.error("Type ".concat(ie(P)," is not interpolatable."))}evaluate(r){const u=this.labels,f=this.outputs;if(u.length===1)return f[0].evaluate(r);const g=this.input.evaluate(r);if(g<=u[0])return f[0].evaluate(r);const x=u.length;if(g>=u[x-1])return f[x-1].evaluate(r);const w=hu(u,g),C=wr.interpolationFactor(this.interpolation,g,u[w],u[w+1]),P=f[w].evaluate(r),M=f[w+1].evaluate(r);switch(this.operator){case"interpolate":return Jr[this.type.kind](P,M,C);case"interpolate-hcl":return Jr.color(P,M,C,"hcl");case"interpolate-lab":return Jr.color(P,M,C,"lab")}}eachChild(r){r(this.input);for(const u of this.outputs)r(u)}outputDefined(){return this.outputs.every(r=>r.outputDefined())}}function Dl(a,r,u,f){const g=f-u,x=a-u;return g===0?0:r===1?x/g:(Math.pow(r,x)-1)/(Math.pow(r,g)-1)}class yn{constructor(r,u){this.type=r,this.args=u}static parse(r,u){if(r.length<2)return u.error("Expectected at least one argument.");let f=null;const g=u.expectedType;g&&g.kind!=="value"&&(f=g);const x=[];for(const C of r.slice(1)){const P=u.parse(C,1+x.length,f,void 0,{typeAnnotation:"omit"});if(!P)return null;f=f||P.type,x.push(P)}if(!f)throw new Error("No output type");const w=g&&x.some(C=>be(g,C.type));return new yn(w?Jt:f,x)}evaluate(r){let u,f=null,g=0;for(const x of this.args)if(g++,f=x.evaluate(r),f&&f instanceof wn&&!f.available&&(u||(u=f.name),f=null,g===this.args.length&&(f=u)),f!==null)break;return f}eachChild(r){this.args.forEach(r)}outputDefined(){return this.args.every(r=>r.outputDefined())}}class Rd{constructor(r,u){this.type=u.type,this.bindings=[].concat(r),this.result=u}evaluate(r){return this.result.evaluate(r)}eachChild(r){for(const u of this.bindings)r(u[1]);r(this.result)}static parse(r,u){if(r.length<4)return u.error("Expected at least 3 arguments, but found ".concat(r.length-1," instead."));const f=[];for(let x=1;x<r.length-1;x+=2){const w=r[x];if(typeof w!="string")return u.error("Expected string, but found ".concat(typeof w," instead."),x);if(/[^a-zA-Z0-9_]/.test(w))return u.error("Variable names must contain only alphanumeric characters or '_'.",x);const C=u.parse(r[x+1],x+1);if(!C)return null;f.push([w,C])}const g=u.parse(r[r.length-1],r.length-1,u.expectedType,f);return g?new Rd(f,g):null}outputDefined(){return this.result.outputDefined()}}class Of{constructor(r,u,f){this.type=r,this.index=u,this.input=f}static parse(r,u){if(r.length!==3)return u.error("Expected 2 arguments, but found ".concat(r.length-1," instead."));const f=u.parse(r[1],1,nt),g=u.parse(r[2],2,Y(u.expectedType||Jt));return f&&g?new Of(g.type.itemType,f,g):null}evaluate(r){const u=this.index.evaluate(r),f=this.input.evaluate(r);if(u<0)throw new li("Array index out of bounds: ".concat(u," < 0."));if(u>=f.length)throw new li("Array index out of bounds: ".concat(u," > ").concat(f.length-1,"."));if(u!==Math.floor(u))throw new li("Array index must be an integer, but found ".concat(u," instead."));return f[u]}eachChild(r){r(this.index),r(this.input)}outputDefined(){return!1}}class Df{constructor(r,u){this.type=Ht,this.needle=r,this.haystack=u}static parse(r,u){if(r.length!==3)return u.error("Expected 2 arguments, but found ".concat(r.length-1," instead."));const f=u.parse(r[1],1,Jt),g=u.parse(r[2],2,Jt);return f&&g?ke(f.type,[Ht,Ut,nt,Yr,Jt])?new Df(f,g):u.error("Expected first argument to be of type boolean, string, number or null, but found ".concat(ie(f.type)," instead")):null}evaluate(r){const u=this.needle.evaluate(r),f=this.haystack.evaluate(r);if(!f)return!1;if(!me(u,["boolean","string","number","null"]))throw new li("Expected first argument to be of type boolean, string, number or null, but found ".concat(ie(Ii(u))," instead."));if(!me(f,["string","array"]))throw new li("Expected second argument to be of type array or string, but found ".concat(ie(Ii(f))," instead."));return f.indexOf(u)>=0}eachChild(r){r(this.needle),r(this.haystack)}outputDefined(){return!0}}class Md{constructor(r,u,f){this.type=nt,this.needle=r,this.haystack=u,this.fromIndex=f}static parse(r,u){if(r.length<=2||r.length>=5)return u.error("Expected 3 or 4 arguments, but found ".concat(r.length-1," instead."));const f=u.parse(r[1],1,Jt),g=u.parse(r[2],2,Jt);if(!f||!g)return null;if(!ke(f.type,[Ht,Ut,nt,Yr,Jt]))return u.error("Expected first argument to be of type boolean, string, number or null, but found ".concat(ie(f.type)," instead"));if(r.length===4){const x=u.parse(r[3],3,nt);return x?new Md(f,g,x):null}return new Md(f,g)}evaluate(r){const u=this.needle.evaluate(r),f=this.haystack.evaluate(r);if(!me(u,["boolean","string","number","null"]))throw new li("Expected first argument to be of type boolean, string, number or null, but found ".concat(ie(Ii(u))," instead."));if(!me(f,["string","array"]))throw new li("Expected second argument to be of type array or string, but found ".concat(ie(Ii(f))," instead."));if(this.fromIndex){const g=this.fromIndex.evaluate(r);return f.indexOf(u,g)}return f.indexOf(u)}eachChild(r){r(this.needle),r(this.haystack),this.fromIndex&&r(this.fromIndex)}outputDefined(){return!1}}class $f{constructor(r,u,f,g,x,w){this.inputType=r,this.type=u,this.input=f,this.cases=g,this.outputs=x,this.otherwise=w}static parse(r,u){if(r.length<5)return u.error("Expected at least 4 arguments, but found only ".concat(r.length-1,"."));if(r.length%2!=1)return u.error("Expected an even number of arguments.");let f,g;u.expectedType&&u.expectedType.kind!=="value"&&(g=u.expectedType);const x={},w=[];for(let M=2;M<r.length-1;M+=2){let O=r[M];const D=r[M+1];Array.isArray(O)||(O=[O]);const H=u.concat(M);if(O.length===0)return H.error("Expected at least one branch label.");for(const X of O){if(typeof X!="number"&&typeof X!="string")return H.error("Branch labels must be numbers or strings.");if(typeof X=="number"&&Math.abs(X)>Number.MAX_SAFE_INTEGER)return H.error("Branch labels must be integers no larger than ".concat(Number.MAX_SAFE_INTEGER,"."));if(typeof X=="number"&&Math.floor(X)!==X)return H.error("Numeric branch labels must be integer values.");if(f){if(H.checkSubtype(f,Ii(X)))return null}else f=Ii(X);if(x[String(X)]!==void 0)return H.error("Branch labels must be unique.");x[String(X)]=w.length}const G=u.parse(D,M,g);if(!G)return null;g=g||G.type,w.push(G)}const C=u.parse(r[1],1,Jt);if(!C)return null;const P=u.parse(r[r.length-1],r.length-1,g);return P?C.type.kind!=="value"&&u.concat(1).checkSubtype(f,C.type)?null:new $f(f,g,C,x,w,P):null}evaluate(r){const u=this.input.evaluate(r);return(Ii(u)===this.inputType&&this.outputs[this.cases[u]]||this.otherwise).evaluate(r)}eachChild(r){r(this.input),this.outputs.forEach(r),r(this.otherwise)}outputDefined(){return this.outputs.every(r=>r.outputDefined())&&this.otherwise.outputDefined()}}class Bf{constructor(r,u,f){this.type=r,this.branches=u,this.otherwise=f}static parse(r,u){if(r.length<4)return u.error("Expected at least 3 arguments, but found only ".concat(r.length-1,"."));if(r.length%2!=0)return u.error("Expected an odd number of arguments.");let f;u.expectedType&&u.expectedType.kind!=="value"&&(f=u.expectedType);const g=[];for(let w=1;w<r.length-1;w+=2){const C=u.parse(r[w],w,Ht);if(!C)return null;const P=u.parse(r[w+1],w+1,f);if(!P)return null;g.push([C,P]),f=f||P.type}const x=u.parse(r[r.length-1],r.length-1,f);if(!x)return null;if(!f)throw new Error("Can't infer output type");return new Bf(f,g,x)}evaluate(r){for(const[u,f]of this.branches)if(u.evaluate(r))return f.evaluate(r);return this.otherwise.evaluate(r)}eachChild(r){for(const[u,f]of this.branches)r(u),r(f);r(this.otherwise)}outputDefined(){return this.branches.every(([r,u])=>u.outputDefined())&&this.otherwise.outputDefined()}}class zd{constructor(r,u,f,g){this.type=r,this.input=u,this.beginIndex=f,this.endIndex=g}static parse(r,u){if(r.length<=2||r.length>=5)return u.error("Expected 3 or 4 arguments, but found ".concat(r.length-1," instead."));const f=u.parse(r[1],1,Jt),g=u.parse(r[2],2,nt);if(!f||!g)return null;if(!ke(f.type,[Y(Jt),Ut,Jt]))return u.error("Expected first argument to be of type array or string, but found ".concat(ie(f.type)," instead"));if(r.length===4){const x=u.parse(r[3],3,nt);return x?new zd(f.type,f,g,x):null}return new zd(f.type,f,g)}evaluate(r){const u=this.input.evaluate(r),f=this.beginIndex.evaluate(r);if(!me(u,["string","array"]))throw new li("Expected first argument to be of type array or string, but found ".concat(ie(Ii(u))," instead."));if(this.endIndex){const g=this.endIndex.evaluate(r);return u.slice(f,g)}return u.slice(f)}eachChild(r){r(this.input),r(this.beginIndex),this.endIndex&&r(this.endIndex)}outputDefined(){return!1}}function Qg(a,r){return a==="=="||a==="!="?r.kind==="boolean"||r.kind==="string"||r.kind==="number"||r.kind==="null"||r.kind==="value":r.kind==="string"||r.kind==="number"||r.kind==="value"}function ey(a,r,u,f){return f.compare(r,u)===0}function $l(a,r,u){const f=a!=="=="&&a!=="!=";return class S5{constructor(x,w,C){this.type=Ht,this.lhs=x,this.rhs=w,this.collator=C,this.hasUntypedArgument=x.type.kind==="value"||w.type.kind==="value"}static parse(x,w){if(x.length!==3&&x.length!==4)return w.error("Expected two or three arguments.");const C=x[0];let P=w.parse(x[1],1,Jt);if(!P)return null;if(!Qg(C,P.type))return w.concat(1).error('"'.concat(C,"\" comparisons are not supported for type '").concat(ie(P.type),"'."));let M=w.parse(x[2],2,Jt);if(!M)return null;if(!Qg(C,M.type))return w.concat(2).error('"'.concat(C,"\" comparisons are not supported for type '").concat(ie(M.type),"'."));if(P.type.kind!==M.type.kind&&P.type.kind!=="value"&&M.type.kind!=="value")return w.error("Cannot compare types '".concat(ie(P.type),"' and '").concat(ie(M.type),"'."));f&&(P.type.kind==="value"&&M.type.kind!=="value"?P=new Do(M.type,[P]):P.type.kind!=="value"&&M.type.kind==="value"&&(M=new Do(P.type,[M])));let O=null;if(x.length===4){if(P.type.kind!=="string"&&M.type.kind!=="string"&&P.type.kind!=="value"&&M.type.kind!=="value")return w.error("Cannot use collator to compare non-string types.");if(O=w.parse(x[3],3,ss),!O)return null}return new S5(P,M,O)}evaluate(x){const w=this.lhs.evaluate(x),C=this.rhs.evaluate(x);if(f&&this.hasUntypedArgument){const P=Ii(w),M=Ii(C);if(P.kind!==M.kind||P.kind!=="string"&&P.kind!=="number")throw new li('Expected arguments for "'.concat(a,'" to be (string, string) or (number, number), but found (').concat(P.kind,", ").concat(M.kind,") instead."))}if(this.collator&&!f&&this.hasUntypedArgument){const P=Ii(w),M=Ii(C);if(P.kind!=="string"||M.kind!=="string")return r(x,w,C)}return this.collator?u(x,w,C,this.collator.evaluate(x)):r(x,w,C)}eachChild(x){x(this.lhs),x(this.rhs),this.collator&&x(this.collator)}outputDefined(){return!0}}}const R_=$l("==",function(a,r,u){return r===u},ey),M_=$l("!=",function(a,r,u){return r!==u},function(a,r,u,f){return!ey(0,r,u,f)}),z_=$l("<",function(a,r,u){return r<u},function(a,r,u,f){return f.compare(r,u)<0}),L_=$l(">",function(a,r,u){return r>u},function(a,r,u,f){return f.compare(r,u)>0}),O_=$l("<=",function(a,r,u){return r<=u},function(a,r,u,f){return f.compare(r,u)<=0}),D_=$l(">=",function(a,r,u){return r>=u},function(a,r,u,f){return f.compare(r,u)>=0});class Ff{constructor(r,u,f,g,x){this.type=Ut,this.number=r,this.locale=u,this.currency=f,this.minFractionDigits=g,this.maxFractionDigits=x}static parse(r,u){if(r.length!==3)return u.error("Expected two arguments.");const f=u.parse(r[1],1,nt);if(!f)return null;const g=r[2];if(typeof g!="object"||Array.isArray(g))return u.error("NumberFormat options argument must be an object.");let x=null;if(g.locale&&(x=u.parse(g.locale,1,Ut),!x))return null;let w=null;if(g.currency&&(w=u.parse(g.currency,1,Ut),!w))return null;let C=null;if(g["min-fraction-digits"]&&(C=u.parse(g["min-fraction-digits"],1,nt),!C))return null;let P=null;return g["max-fraction-digits"]&&(P=u.parse(g["max-fraction-digits"],1,nt),!P)?null:new Ff(f,x,w,C,P)}evaluate(r){return new Intl.NumberFormat(this.locale?this.locale.evaluate(r):[],{style:this.currency?"currency":"decimal",currency:this.currency?this.currency.evaluate(r):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(r):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(r):void 0}).format(this.number.evaluate(r))}eachChild(r){r(this.number),this.locale&&r(this.locale),this.currency&&r(this.currency),this.minFractionDigits&&r(this.minFractionDigits),this.maxFractionDigits&&r(this.maxFractionDigits)}outputDefined(){return!1}}class Ld{constructor(r){this.type=Oo,this.sections=r}static parse(r,u){if(r.length<2)return u.error("Expected at least one argument.");const f=r[1];if(!Array.isArray(f)&&typeof f=="object")return u.error("First argument must be an image or text section.");const g=[];let x=!1;for(let w=1;w<=r.length-1;++w){const C=r[w];if(x&&typeof C=="object"&&!Array.isArray(C)){x=!1;let P=null;if(C["font-scale"]&&(P=u.parse(C["font-scale"],1,nt),!P))return null;let M=null;if(C["text-font"]&&(M=u.parse(C["text-font"],1,Y(Ut)),!M))return null;let O=null;if(C["text-color"]&&(O=u.parse(C["text-color"],1,zi),!O))return null;const D=g[g.length-1];D.scale=P,D.font=M,D.textColor=O}else{const P=u.parse(r[w],1,Jt);if(!P)return null;const M=P.type.kind;if(M!=="string"&&M!=="value"&&M!=="null"&&M!=="resolvedImage")return u.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");x=!0,g.push({content:P,scale:null,font:null,textColor:null})}}return new Ld(g)}evaluate(r){return new Re(this.sections.map(u=>{const f=u.content.evaluate(r);return Ii(f)===U?new wd("",f,null,null,null):new wd(au(f),null,u.scale?u.scale.evaluate(r):null,u.font?u.font.evaluate(r).join(","):null,u.textColor?u.textColor.evaluate(r):null)}))}eachChild(r){for(const u of this.sections)r(u.content),u.scale&&r(u.scale),u.font&&r(u.font),u.textColor&&r(u.textColor)}outputDefined(){return!1}}class Nf{constructor(r){this.type=U,this.input=r}static parse(r,u){if(r.length!==2)return u.error("Expected two arguments.");const f=u.parse(r[1],1,Ut);return f?new Nf(f):u.error("No image name provided.")}evaluate(r){const u=this.input.evaluate(r),f=wn.fromString(u);return f&&r.availableImages&&(f.available=r.availableImages.indexOf(u)>-1),f}eachChild(r){r(this.input)}outputDefined(){return!1}}class jf{constructor(r){this.type=nt,this.input=r}static parse(r,u){if(r.length!==2)return u.error("Expected 1 argument, but found ".concat(r.length-1," instead."));const f=u.parse(r[1],1);return f?f.type.kind!=="array"&&f.type.kind!=="string"&&f.type.kind!=="value"?u.error("Expected argument of type string or array, but found ".concat(ie(f.type)," instead.")):new jf(f):null}evaluate(r){const u=this.input.evaluate(r);if(typeof u=="string"||Array.isArray(u))return u.length;throw new li("Expected value to be of type string or array, but found ".concat(ie(Ii(u))," instead."))}eachChild(r){r(this.input)}outputDefined(){return!1}}const Bl={"==":R_,"!=":M_,">":L_,"<":z_,">=":D_,"<=":O_,array:Do,at:Of,boolean:Do,case:Bf,coalesce:yn,collator:kd,format:Ld,image:Nf,in:Df,"index-of":Md,interpolate:wr,"interpolate-hcl":wr,"interpolate-lab":wr,length:jf,let:Rd,literal:Na,match:$f,number:Do,"number-format":Ff,object:Do,slice:zd,step:Ol,string:Do,"to-boolean":as,"to-color":as,"to-number":as,"to-string":as,var:Id,within:Va};function ty(a,[r,u,f,g]){r=r.evaluate(a),u=u.evaluate(a),f=f.evaluate(a);const x=g?g.evaluate(a):1,w=xr(r,u,f,x);if(w)throw new li(w);return new xn(r/255,u/255,f/255,x,!1)}function ny(a,r){return a in r}function Vf(a,r){const u=r[a];return u===void 0?null:u}function Ha(a){return{type:a}}function iy(a){return{result:"success",value:a}}function Fl(a){return{result:"error",value:a}}function Nl(a){return a["property-type"]==="data-driven"||a["property-type"]==="cross-faded-data-driven"}function ry(a){return!!a.expression&&a.expression.parameters.indexOf("zoom")>-1}function Uf(a){return!!a.expression&&a.expression.interpolated}function bn(a){return a instanceof Number?"number":a instanceof String?"string":a instanceof Boolean?"boolean":Array.isArray(a)?"array":a===null?"null":typeof a}function jl(a){return typeof a=="object"&&a!==null&&!Array.isArray(a)}function $_(a){return a}function oy(a,r){const u=r.type==="color",f=a.stops&&typeof a.stops[0][0]=="object",g=f||!(f||a.property!==void 0),x=a.type||(Uf(r)?"exponential":"interval");if(u||r.type==="padding"){const O=u?xn.parse:st.parse;(a=br({},a)).stops&&(a.stops=a.stops.map(D=>[D[0],O(D[1])])),a.default=O(a.default?a.default:r.default)}if(a.colorSpace&&(w=a.colorSpace)!=="rgb"&&w!=="hcl"&&w!=="lab")throw new Error('Unknown color space: "'.concat(a.colorSpace,'"'));var w;let C,P,M;if(x==="exponential")C=sy;else if(x==="interval")C=fi;else if(x==="categorical"){C=B_,P=Object.create(null);for(const O of a.stops)P[O[0]]=O[1];M=typeof a.stops[0][0]}else{if(x!=="identity")throw new Error('Unknown function type "'.concat(x,'"'));C=gn}if(f){const O={},D=[];for(let X=0;X<a.stops.length;X++){const te=a.stops[X],ue=te[0].zoom;O[ue]===void 0&&(O[ue]={zoom:ue,type:a.type,property:a.property,default:a.default,stops:[]},D.push(ue)),O[ue].stops.push([te[0].value,te[1]])}const H=[];for(const X of D)H.push([O[X].zoom,oy(O[X],r)]);const G={name:"linear"};return{kind:"composite",interpolationType:G,interpolationFactor:wr.interpolationFactor.bind(void 0,G),zoomStops:H.map(X=>X[0]),evaluate:({zoom:X},te)=>sy({stops:H,base:a.base},r,X).evaluate(X,te)}}if(g){const O=x==="exponential"?{name:"exponential",base:a.base!==void 0?a.base:1}:null;return{kind:"camera",interpolationType:O,interpolationFactor:wr.interpolationFactor.bind(void 0,O),zoomStops:a.stops.map(D=>D[0]),evaluate:({zoom:D})=>C(a,r,D,P,M)}}return{kind:"source",evaluate(O,D){const H=D&&D.properties?D.properties[a.property]:void 0;return H===void 0?fu(a.default,r.default):C(a,r,H,P,M)}}}function fu(a,r,u){return a!==void 0?a:r!==void 0?r:u!==void 0?u:void 0}function B_(a,r,u,f,g){return fu(typeof u===g?f[u]:void 0,a.default,r.default)}function fi(a,r,u){if(bn(u)!=="number")return fu(a.default,r.default);const f=a.stops.length;if(f===1||u<=a.stops[0][0])return a.stops[0][1];if(u>=a.stops[f-1][0])return a.stops[f-1][1];const g=hu(a.stops.map(x=>x[0]),u);return a.stops[g][1]}function sy(a,r,u){const f=a.base!==void 0?a.base:1;if(bn(u)!=="number")return fu(a.default,r.default);const g=a.stops.length;if(g===1||u<=a.stops[0][0])return a.stops[0][1];if(u>=a.stops[g-1][0])return a.stops[g-1][1];const x=hu(a.stops.map(O=>O[0]),u),w=function(O,D,H,G){const X=G-H,te=O-H;return X===0?0:D===1?te/X:(Math.pow(D,te)-1)/(Math.pow(D,X)-1)}(u,f,a.stops[x][0],a.stops[x+1][0]),C=a.stops[x][1],P=a.stops[x+1][1],M=Jr[r.type]||$_;return typeof C.evaluate=="function"?{evaluate(...O){const D=C.evaluate.apply(void 0,O),H=P.evaluate.apply(void 0,O);if(D!==void 0&&H!==void 0)return M(D,H,w,a.colorSpace)}}:M(C,P,w,a.colorSpace)}function gn(a,r,u){switch(r.type){case"color":u=xn.parse(u);break;case"formatted":u=Re.fromString(u.toString());break;case"resolvedImage":u=wn.fromString(u.toString());break;case"padding":u=st.parse(u);break;default:bn(u)===r.type||r.type==="enum"&&r.values[u]||(u=void 0)}return fu(u,a.default,r.default)}yo.register(Bl,{error:[{kind:"error"},[Ut],(a,[r])=>{throw new li(r.evaluate(a))}],typeof:[Ut,[Jt],(a,[r])=>ie(Ii(r.evaluate(a)))],"to-rgba":[Y(nt,4),[zi],(a,[r])=>{const[u,f,g,x]=r.evaluate(a).rgb;return[255*u,255*f,255*g,x]}],rgb:[zi,[nt,nt,nt],ty],rgba:[zi,[nt,nt,nt,nt],ty],has:{type:Ht,overloads:[[[Ut],(a,[r])=>ny(r.evaluate(a),a.properties())],[[Ut,Lr],(a,[r,u])=>ny(r.evaluate(a),u.evaluate(a))]]},get:{type:Jt,overloads:[[[Ut],(a,[r])=>Vf(r.evaluate(a),a.properties())],[[Ut,Lr],(a,[r,u])=>Vf(r.evaluate(a),u.evaluate(a))]]},"feature-state":[Jt,[Ut],(a,[r])=>Vf(r.evaluate(a),a.featureState||{})],properties:[Lr,[],a=>a.properties()],"geometry-type":[Ut,[],a=>a.geometryType()],id:[Jt,[],a=>a.id()],zoom:[nt,[],a=>a.globals.zoom],"heatmap-density":[nt,[],a=>a.globals.heatmapDensity||0],"line-progress":[nt,[],a=>a.globals.lineProgress||0],accumulated:[Jt,[],a=>a.globals.accumulated===void 0?null:a.globals.accumulated],"+":[nt,Ha(nt),(a,r)=>{let u=0;for(const f of r)u+=f.evaluate(a);return u}],"*":[nt,Ha(nt),(a,r)=>{let u=1;for(const f of r)u*=f.evaluate(a);return u}],"-":{type:nt,overloads:[[[nt,nt],(a,[r,u])=>r.evaluate(a)-u.evaluate(a)],[[nt],(a,[r])=>-r.evaluate(a)]]},"/":[nt,[nt,nt],(a,[r,u])=>r.evaluate(a)/u.evaluate(a)],"%":[nt,[nt,nt],(a,[r,u])=>r.evaluate(a)%u.evaluate(a)],ln2:[nt,[],()=>Math.LN2],pi:[nt,[],()=>Math.PI],e:[nt,[],()=>Math.E],"^":[nt,[nt,nt],(a,[r,u])=>Math.pow(r.evaluate(a),u.evaluate(a))],sqrt:[nt,[nt],(a,[r])=>Math.sqrt(r.evaluate(a))],log10:[nt,[nt],(a,[r])=>Math.log(r.evaluate(a))/Math.LN10],ln:[nt,[nt],(a,[r])=>Math.log(r.evaluate(a))],log2:[nt,[nt],(a,[r])=>Math.log(r.evaluate(a))/Math.LN2],sin:[nt,[nt],(a,[r])=>Math.sin(r.evaluate(a))],cos:[nt,[nt],(a,[r])=>Math.cos(r.evaluate(a))],tan:[nt,[nt],(a,[r])=>Math.tan(r.evaluate(a))],asin:[nt,[nt],(a,[r])=>Math.asin(r.evaluate(a))],acos:[nt,[nt],(a,[r])=>Math.acos(r.evaluate(a))],atan:[nt,[nt],(a,[r])=>Math.atan(r.evaluate(a))],min:[nt,Ha(nt),(a,r)=>Math.min(...r.map(u=>u.evaluate(a)))],max:[nt,Ha(nt),(a,r)=>Math.max(...r.map(u=>u.evaluate(a)))],abs:[nt,[nt],(a,[r])=>Math.abs(r.evaluate(a))],round:[nt,[nt],(a,[r])=>{const u=r.evaluate(a);return u<0?-Math.round(-u):Math.round(u)}],floor:[nt,[nt],(a,[r])=>Math.floor(r.evaluate(a))],ceil:[nt,[nt],(a,[r])=>Math.ceil(r.evaluate(a))],"filter-==":[Ht,[Ut,Jt],(a,[r,u])=>a.properties()[r.value]===u.value],"filter-id-==":[Ht,[Jt],(a,[r])=>a.id()===r.value],"filter-type-==":[Ht,[Ut],(a,[r])=>a.geometryType()===r.value],"filter-<":[Ht,[Ut,Jt],(a,[r,u])=>{const f=a.properties()[r.value],g=u.value;return typeof f==typeof g&&f<g}],"filter-id-<":[Ht,[Jt],(a,[r])=>{const u=a.id(),f=r.value;return typeof u==typeof f&&u<f}],"filter->":[Ht,[Ut,Jt],(a,[r,u])=>{const f=a.properties()[r.value],g=u.value;return typeof f==typeof g&&f>g}],"filter-id->":[Ht,[Jt],(a,[r])=>{const u=a.id(),f=r.value;return typeof u==typeof f&&u>f}],"filter-<=":[Ht,[Ut,Jt],(a,[r,u])=>{const f=a.properties()[r.value],g=u.value;return typeof f==typeof g&&f<=g}],"filter-id-<=":[Ht,[Jt],(a,[r])=>{const u=a.id(),f=r.value;return typeof u==typeof f&&u<=f}],"filter->=":[Ht,[Ut,Jt],(a,[r,u])=>{const f=a.properties()[r.value],g=u.value;return typeof f==typeof g&&f>=g}],"filter-id->=":[Ht,[Jt],(a,[r])=>{const u=a.id(),f=r.value;return typeof u==typeof f&&u>=f}],"filter-has":[Ht,[Jt],(a,[r])=>r.value in a.properties()],"filter-has-id":[Ht,[],a=>a.id()!==null&&a.id()!==void 0],"filter-type-in":[Ht,[Y(Ut)],(a,[r])=>r.value.indexOf(a.geometryType())>=0],"filter-id-in":[Ht,[Y(Jt)],(a,[r])=>r.value.indexOf(a.id())>=0],"filter-in-small":[Ht,[Ut,Y(Jt)],(a,[r,u])=>u.value.indexOf(a.properties()[r.value])>=0],"filter-in-large":[Ht,[Ut,Y(Jt)],(a,[r,u])=>function(f,g,x,w){for(;x<=w;){const C=x+w>>1;if(g[C]===f)return!0;g[C]>f?w=C-1:x=C+1}return!1}(a.properties()[r.value],u.value,0,u.value.length-1)],all:{type:Ht,overloads:[[[Ht,Ht],(a,[r,u])=>r.evaluate(a)&&u.evaluate(a)],[Ha(Ht),(a,r)=>{for(const u of r)if(!u.evaluate(a))return!1;return!0}]]},any:{type:Ht,overloads:[[[Ht,Ht],(a,[r,u])=>r.evaluate(a)||u.evaluate(a)],[Ha(Ht),(a,r)=>{for(const u of r)if(u.evaluate(a))return!0;return!1}]]},"!":[Ht,[Ht],(a,[r])=>!r.evaluate(a)],"is-supported-script":[Ht,[Ut],(a,[r])=>{const u=a.globals&&a.globals.isSupportedScript;return!u||u(r.evaluate(a))}],upcase:[Ut,[Ut],(a,[r])=>r.evaluate(a).toUpperCase()],downcase:[Ut,[Ut],(a,[r])=>r.evaluate(a).toLowerCase()],concat:[Ut,Ha(Jt),(a,r)=>r.map(u=>au(u.evaluate(a))).join("")],"resolved-locale":[Ut,[ss],(a,[r])=>r.evaluate(a).resolvedLocale()]});class pu{constructor(r,u){var f;this.expression=r,this._warningHistory={},this._evaluator=new Ll,this._defaultValue=u?(f=u).type==="color"&&jl(f.default)?new xn(0,0,0,0):f.type==="color"?xn.parse(f.default)||null:f.type==="padding"?st.parse(f.default)||null:f.type==="variableAnchorOffsetCollection"?sn.parse(f.default)||null:f.default===void 0?null:f.default:null,this._enumValues=u&&u.type==="enum"?u.values:null}evaluateWithoutErrorHandling(r,u,f,g,x,w){return this._evaluator.globals=r,this._evaluator.feature=u,this._evaluator.featureState=f,this._evaluator.canonical=g,this._evaluator.availableImages=x||null,this._evaluator.formattedSection=w,this.expression.evaluate(this._evaluator)}evaluate(r,u,f,g,x,w){this._evaluator.globals=r,this._evaluator.feature=u||null,this._evaluator.featureState=f||null,this._evaluator.canonical=g,this._evaluator.availableImages=x||null,this._evaluator.formattedSection=w||null;try{const C=this.expression.evaluate(this._evaluator);if(C==null||typeof C=="number"&&C!=C)return this._defaultValue;if(this._enumValues&&!(C in this._enumValues))throw new li("Expected value to be one of ".concat(Object.keys(this._enumValues).map(P=>JSON.stringify(P)).join(", "),", but found ").concat(JSON.stringify(C)," instead."));return C}catch(C){return this._warningHistory[C.message]||(this._warningHistory[C.message]=!0,typeof console<"u"&&console.warn(C.message)),this._defaultValue}}}function On(a){return Array.isArray(a)&&a.length>0&&typeof a[0]=="string"&&a[0]in Bl}function zn(a,r){const u=new Sn(Bl,cu,[],r?function(g){const x={color:zi,string:Ut,number:nt,enum:Ut,boolean:Ht,formatted:Oo,padding:ae,resolvedImage:U,variableAnchorOffsetCollection:W};return g.type==="array"?Y(x[g.value]||Jt,g.length):x[g.type]}(r):void 0),f=u.parse(a,void 0,void 0,void 0,r&&r.type==="string"?{typeAnnotation:"coerce"}:void 0);return f?iy(new pu(f,r)):Fl(u.errors)}class Vl{constructor(r,u){this.kind=r,this._styleExpression=u,this.isStateDependent=r!=="constant"&&!du(u.expression)}evaluateWithoutErrorHandling(r,u,f,g,x,w){return this._styleExpression.evaluateWithoutErrorHandling(r,u,f,g,x,w)}evaluate(r,u,f,g,x,w){return this._styleExpression.evaluate(r,u,f,g,x,w)}}class Od{constructor(r,u,f,g){this.kind=r,this.zoomStops=f,this._styleExpression=u,this.isStateDependent=r!=="camera"&&!du(u.expression),this.interpolationType=g}evaluateWithoutErrorHandling(r,u,f,g,x,w){return this._styleExpression.evaluateWithoutErrorHandling(r,u,f,g,x,w)}evaluate(r,u,f,g,x,w){return this._styleExpression.evaluate(r,u,f,g,x,w)}interpolationFactor(r,u,f){return this.interpolationType?wr.interpolationFactor(this.interpolationType,r,u,f):0}}function ay(a,r){const u=zn(a,r);if(u.result==="error")return u;const f=u.value.expression,g=uu(f);if(!g&&!Nl(r))return Fl([new Ti("","data expressions not supported")]);const x=Pd(f,["zoom"]);if(!x&&!ry(r))return Fl([new Ti("","zoom expressions not supported")]);const w=$d(f);return w||x?w instanceof Ti?Fl([w]):w instanceof wr&&!Uf(r)?Fl([new Ti("",'"interpolate" expressions cannot be used with this property')]):iy(w?new Od(g?"camera":"composite",u.value,w.labels,w instanceof wr?w.interpolation:void 0):new Vl(g?"constant":"source",u.value)):Fl([new Ti("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')])}class Dd{constructor(r,u){this._parameters=r,this._specification=u,br(this,oy(this._parameters,this._specification))}static deserialize(r){return new Dd(r._parameters,r._specification)}static serialize(r){return{_parameters:r._parameters,_specification:r._specification}}}function $d(a){let r=null;if(a instanceof Rd)r=$d(a.result);else if(a instanceof yn){for(const u of a.args)if(r=$d(u),r)break}else(a instanceof Ol||a instanceof wr)&&a.input instanceof yo&&a.input.name==="zoom"&&(r=a);return r instanceof Ti||a.eachChild(u=>{const f=$d(u);f instanceof Ti?r=f:!r&&f?r=new Ti("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):r&&f&&r!==f&&(r=new Ti("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))}),r}function Hf(a){if(a===!0||a===!1)return!0;if(!Array.isArray(a)||a.length===0)return!1;switch(a[0]){case"has":return a.length>=2&&a[1]!=="$id"&&a[1]!=="$type";case"in":return a.length>=3&&(typeof a[1]!="string"||Array.isArray(a[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return a.length!==3||Array.isArray(a[1])||Array.isArray(a[2]);case"any":case"all":for(const r of a.slice(1))if(!Hf(r)&&typeof r!="boolean")return!1;return!0;default:return!0}}const ly={type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}};function Bd(a){if(a==null)return{filter:()=>!0,needGeometry:!1};Hf(a)||(a=Ul(a));const r=zn(a,ly);if(r.result==="error")throw new Error(r.value.map(u=>"".concat(u.key,": ").concat(u.message)).join(", "));return{filter:(u,f,g)=>r.value.evaluate(u,f,{},g),needGeometry:qf(a)}}function cy(a,r){return a<r?-1:a>r?1:0}function qf(a){if(!Array.isArray(a))return!1;if(a[0]==="within")return!0;for(let r=1;r<a.length;r++)if(qf(a[r]))return!0;return!1}function Ul(a){if(!a)return!0;const r=a[0];return a.length<=1?r!=="any":r==="=="?Wf(a[1],a[2],"=="):r==="!="?Fd(Wf(a[1],a[2],"==")):r==="<"||r===">"||r==="<="||r===">="?Wf(a[1],a[2],r):r==="any"?(u=a.slice(1),["any"].concat(u.map(Ul))):r==="all"?["all"].concat(a.slice(1).map(Ul)):r==="none"?["all"].concat(a.slice(1).map(Ul).map(Fd)):r==="in"?uy(a[1],a.slice(2)):r==="!in"?Fd(uy(a[1],a.slice(2))):r==="has"?dy(a[1]):r==="!has"?Fd(dy(a[1])):r!=="within"||a;var u}function Wf(a,r,u){switch(a){case"$type":return["filter-type-".concat(u),r];case"$id":return["filter-id-".concat(u),r];default:return["filter-".concat(u),a,r]}}function uy(a,r){if(r.length===0)return!1;switch(a){case"$type":return["filter-type-in",["literal",r]];case"$id":return["filter-id-in",["literal",r]];default:return r.length>200&&!r.some(u=>typeof u!=typeof r[0])?["filter-in-large",a,["literal",r.sort(cy)]]:["filter-in-small",a,["literal",r]]}}function dy(a){switch(a){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",a]}}function Fd(a){return["!",a]}function Zf(a){const r=typeof a;if(r==="number"||r==="boolean"||r==="string"||a==null)return JSON.stringify(a);if(Array.isArray(a)){let g="[";for(const x of a)g+="".concat(Zf(x),",");return"".concat(g,"]")}const u=Object.keys(a).sort();let f="{";for(let g=0;g<u.length;g++)f+="".concat(JSON.stringify(u[g]),":").concat(Zf(a[u[g]]),",");return"".concat(f,"}")}function F_(a){let r="";for(const u of qn)r+="/".concat(Zf(a[u]));return r}function hy(a){const r=a.value;return r?[new at(a.key,r,"constants have been deprecated as of v8")]:[]}function ci(a){return a instanceof Number||a instanceof String||a instanceof Boolean?a.valueOf():a}function fa(a){if(Array.isArray(a))return a.map(fa);if(a instanceof Object&&!(a instanceof Number||a instanceof String||a instanceof Boolean)){const r={};for(const u in a)r[u]=fa(a[u]);return r}return ci(a)}function Qr(a){const r=a.key,u=a.value,f=a.valueSpec||{},g=a.objectElementValidators||{},x=a.style,w=a.styleSpec,C=a.validateSpec;let P=[];const M=bn(u);if(M!=="object")return[new at(r,u,"object expected, ".concat(M," found"))];for(const O in u){const D=O.split(".")[0],H=f[D]||f["*"];let G;if(g[D])G=g[D];else if(f[D])G=C;else if(g["*"])G=g["*"];else{if(!f["*"]){P.push(new at(r,u[O],'unknown property "'.concat(O,'"')));continue}G=C}P=P.concat(G({key:(r&&"".concat(r,"."))+O,value:u[O],valueSpec:H,style:x,styleSpec:w,object:u,objectKey:O,validateSpec:C},u))}for(const O in f)g[O]||f[O].required&&f[O].default===void 0&&u[O]===void 0&&P.push(new at(r,u,'missing required property "'.concat(O,'"')));return P}function Hl(a){const r=a.value,u=a.valueSpec,f=a.style,g=a.styleSpec,x=a.key,w=a.arrayElementValidator||a.validateSpec;if(bn(r)!=="array")return[new at(x,r,"array expected, ".concat(bn(r)," found"))];if(u.length&&r.length!==u.length)return[new at(x,r,"array length ".concat(u.length," expected, length ").concat(r.length," found"))];if(u["min-length"]&&r.length<u["min-length"])return[new at(x,r,"array length at least ".concat(u["min-length"]," expected, length ").concat(r.length," found"))];let C={type:u.value,values:u.values};g.$version<7&&(C.function=u.function),bn(u.value)==="object"&&(C=u.value);let P=[];for(let M=0;M<r.length;M++)P=P.concat(w({array:r,arrayIndex:M,value:r[M],valueSpec:C,validateSpec:a.validateSpec,style:f,styleSpec:g,key:"".concat(x,"[").concat(M,"]")}));return P}function Gf(a){const r=a.key,u=a.value,f=a.valueSpec;let g=bn(u);return g==="number"&&u!=u&&(g="NaN"),g!=="number"?[new at(r,u,"number expected, ".concat(g," found"))]:"minimum"in f&&u<f.minimum?[new at(r,u,"".concat(u," is less than the minimum value ").concat(f.minimum))]:"maximum"in f&&u>f.maximum?[new at(r,u,"".concat(u," is greater than the maximum value ").concat(f.maximum))]:[]}function Kf(a){const r=a.valueSpec,u=ci(a.value.type);let f,g,x,w={};const C=u!=="categorical"&&a.value.property===void 0,P=!C,M=bn(a.value.stops)==="array"&&bn(a.value.stops[0])==="array"&&bn(a.value.stops[0][0])==="object",O=Qr({key:a.key,value:a.value,valueSpec:a.styleSpec.function,validateSpec:a.validateSpec,style:a.style,styleSpec:a.styleSpec,objectElementValidators:{stops:function(G){if(u==="identity")return[new at(G.key,G.value,'identity function may not have a "stops" property')];let X=[];const te=G.value;return X=X.concat(Hl({key:G.key,value:te,valueSpec:G.valueSpec,validateSpec:G.validateSpec,style:G.style,styleSpec:G.styleSpec,arrayElementValidator:D})),bn(te)==="array"&&te.length===0&&X.push(new at(G.key,te,"array must have at least one stop")),X},default:function(G){return G.validateSpec({key:G.key,value:G.value,valueSpec:r,validateSpec:G.validateSpec,style:G.style,styleSpec:G.styleSpec})}}});return u==="identity"&&C&&O.push(new at(a.key,a.value,'missing required property "property"')),u==="identity"||a.value.stops||O.push(new at(a.key,a.value,'missing required property "stops"')),u==="exponential"&&a.valueSpec.expression&&!Uf(a.valueSpec)&&O.push(new at(a.key,a.value,"exponential functions not supported")),a.styleSpec.$version>=8&&(P&&!Nl(a.valueSpec)?O.push(new at(a.key,a.value,"property functions not supported")):C&&!ry(a.valueSpec)&&O.push(new at(a.key,a.value,"zoom functions not supported"))),u!=="categorical"&&!M||a.value.property!==void 0||O.push(new at(a.key,a.value,'"property" property is required')),O;function D(G){let X=[];const te=G.value,ue=G.key;if(bn(te)!=="array")return[new at(ue,te,"array expected, ".concat(bn(te)," found"))];if(te.length!==2)return[new at(ue,te,"array length 2 expected, length ".concat(te.length," found"))];if(M){if(bn(te[0])!=="object")return[new at(ue,te,"object expected, ".concat(bn(te[0])," found"))];if(te[0].zoom===void 0)return[new at(ue,te,"object stop key must have zoom")];if(te[0].value===void 0)return[new at(ue,te,"object stop key must have value")];if(x&&x>ci(te[0].zoom))return[new at(ue,te[0].zoom,"stop zoom values must appear in ascending order")];ci(te[0].zoom)!==x&&(x=ci(te[0].zoom),g=void 0,w={}),X=X.concat(Qr({key:"".concat(ue,"[0]"),value:te[0],valueSpec:{zoom:{}},validateSpec:G.validateSpec,style:G.style,styleSpec:G.styleSpec,objectElementValidators:{zoom:Gf,value:H}}))}else X=X.concat(H({key:"".concat(ue,"[0]"),value:te[0],valueSpec:{},validateSpec:G.validateSpec,style:G.style,styleSpec:G.styleSpec},te));return On(fa(te[1]))?X.concat([new at("".concat(ue,"[1]"),te[1],"expressions are not allowed in function stops.")]):X.concat(G.validateSpec({key:"".concat(ue,"[1]"),value:te[1],valueSpec:r,validateSpec:G.validateSpec,style:G.style,styleSpec:G.styleSpec}))}function H(G,X){const te=bn(G.value),ue=ci(G.value),pe=G.value!==null?G.value:X;if(f){if(te!==f)return[new at(G.key,pe,"".concat(te," stop domain type must match previous stop domain type ").concat(f))]}else f=te;if(te!=="number"&&te!=="string"&&te!=="boolean")return[new at(G.key,pe,"stop domain value must be a number, string, or boolean")];if(te!=="number"&&u!=="categorical"){let Ce="number expected, ".concat(te," found");return Nl(r)&&u===void 0&&(Ce+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new at(G.key,pe,Ce)]}return u!=="categorical"||te!=="number"||isFinite(ue)&&Math.floor(ue)===ue?u!=="categorical"&&te==="number"&&g!==void 0&&ue<g?[new at(G.key,pe,"stop domain values must appear in ascending order")]:(g=ue,u==="categorical"&&ue in w?[new at(G.key,pe,"stop domain values must be unique")]:(w[ue]=!0,[])):[new at(G.key,pe,"integer expected, found ".concat(ue))]}}function ql(a){const r=(a.expressionContext==="property"?ay:zn)(fa(a.value),a.valueSpec);if(r.result==="error")return r.value.map(f=>new at("".concat(a.key).concat(f.key),a.value,f.message));const u=r.value.expression||r.value._styleExpression.expression;if(a.expressionContext==="property"&&a.propertyKey==="text-font"&&!u.outputDefined())return[new at(a.key,a.value,'Invalid data expression for "'.concat(a.propertyKey,'". Output values must be contained as literals within the expression.'))];if(a.expressionContext==="property"&&a.propertyType==="layout"&&!du(u))return[new at(a.key,a.value,'"feature-state" data expressions are not supported with layout properties.')];if(a.expressionContext==="filter"&&!du(u))return[new at(a.key,a.value,'"feature-state" data expressions are not supported with filters.')];if(a.expressionContext&&a.expressionContext.indexOf("cluster")===0){if(!Pd(u,["zoom","feature-state"]))return[new at(a.key,a.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if(a.expressionContext==="cluster-initial"&&!uu(u))return[new at(a.key,a.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function qa(a){const r=a.key,u=a.value,f=a.valueSpec,g=[];return Array.isArray(f.values)?f.values.indexOf(ci(u))===-1&&g.push(new at(r,u,"expected one of [".concat(f.values.join(", "),"], ").concat(JSON.stringify(u)," found"))):Object.keys(f.values).indexOf(ci(u))===-1&&g.push(new at(r,u,"expected one of [".concat(Object.keys(f.values).join(", "),"], ").concat(JSON.stringify(u)," found"))),g}function Wl(a){return Hf(fa(a.value))?ql(br({},a,{expressionContext:"filter",valueSpec:{value:"boolean"}})):mu(a)}function mu(a){const r=a.value,u=a.key;if(bn(r)!=="array")return[new at(u,r,"array expected, ".concat(bn(r)," found"))];const f=a.styleSpec;let g,x=[];if(r.length<1)return[new at(u,r,"filter array must have at least 1 element")];switch(x=x.concat(qa({key:"".concat(u,"[0]"),value:r[0],valueSpec:f.filter_operator,style:a.style,styleSpec:a.styleSpec})),ci(r[0])){case"<":case"<=":case">":case">=":r.length>=2&&ci(r[1])==="$type"&&x.push(new at(u,r,'"$type" cannot be use with operator "'.concat(r[0],'"')));case"==":case"!=":r.length!==3&&x.push(new at(u,r,'filter array for operator "'.concat(r[0],'" must have 3 elements')));case"in":case"!in":r.length>=2&&(g=bn(r[1]),g!=="string"&&x.push(new at("".concat(u,"[1]"),r[1],"string expected, ".concat(g," found"))));for(let w=2;w<r.length;w++)g=bn(r[w]),ci(r[1])==="$type"?x=x.concat(qa({key:"".concat(u,"[").concat(w,"]"),value:r[w],valueSpec:f.geometry_type,style:a.style,styleSpec:a.styleSpec})):g!=="string"&&g!=="number"&&g!=="boolean"&&x.push(new at("".concat(u,"[").concat(w,"]"),r[w],"string, number, or boolean expected, ".concat(g," found")));break;case"any":case"all":case"none":for(let w=1;w<r.length;w++)x=x.concat(mu({key:"".concat(u,"[").concat(w,"]"),value:r[w],style:a.style,styleSpec:a.styleSpec}));break;case"has":case"!has":g=bn(r[1]),r.length!==2?x.push(new at(u,r,'filter array for "'.concat(r[0],'" operator must have 2 elements'))):g!=="string"&&x.push(new at("".concat(u,"[1]"),r[1],"string expected, ".concat(g," found")));break;case"within":g=bn(r[1]),r.length!==2?x.push(new at(u,r,'filter array for "'.concat(r[0],'" operator must have 2 elements'))):g!=="object"&&x.push(new at("".concat(u,"[1]"),r[1],"object expected, ".concat(g," found")))}return x}function Xf(a,r){const u=a.key,f=a.validateSpec,g=a.style,x=a.styleSpec,w=a.value,C=a.objectKey,P=x["".concat(r,"_").concat(a.layerType)];if(!P)return[];const M=C.match(/^(.*)-transition$/);if(r==="paint"&&M&&P[M[1]]&&P[M[1]].transition)return f({key:u,value:w,valueSpec:x.transition,style:g,styleSpec:x});const O=a.valueSpec||P[C];if(!O)return[new at(u,w,'unknown property "'.concat(C,'"'))];let D;if(bn(w)==="string"&&Nl(O)&&!O.tokens&&(D=/^{([^}]+)}$/.exec(w)))return[new at(u,w,'"'.concat(C,'" does not support interpolation syntax\nUse an identity property function instead: `{ "type": "identity", "property": ').concat(JSON.stringify(D[1])," }`."))];const H=[];return a.layerType==="symbol"&&(C==="text-field"&&g&&!g.glyphs&&H.push(new at(u,w,'use of "text-field" requires a style "glyphs" property')),C==="text-font"&&jl(fa(w))&&ci(w.type)==="identity"&&H.push(new at(u,w,'"text-font" does not support identity functions'))),H.concat(f({key:a.key,value:w,valueSpec:O,style:g,styleSpec:x,expressionContext:"property",propertyType:r,propertyKey:C}))}function Nd(a){return Xf(a,"paint")}function Yf(a){return Xf(a,"layout")}function Jf(a){let r=[];const u=a.value,f=a.key,g=a.style,x=a.styleSpec;u.type||u.ref||r.push(new at(f,u,'either "type" or "ref" is required'));let w=ci(u.type);const C=ci(u.ref);if(u.id){const P=ci(u.id);for(let M=0;M<a.arrayIndex;M++){const O=g.layers[M];ci(O.id)===P&&r.push(new at(f,u.id,'duplicate layer id "'.concat(u.id,'", previously used at line ').concat(O.id.__line__)))}}if("ref"in u){let P;["type","source","source-layer","filter","layout"].forEach(M=>{M in u&&r.push(new at(f,u[M],'"'.concat(M,'" is prohibited for ref layers')))}),g.layers.forEach(M=>{ci(M.id)===C&&(P=M)}),P?P.ref?r.push(new at(f,u.ref,"ref cannot reference another ref layer")):w=ci(P.type):r.push(new at(f,u.ref,'ref layer "'.concat(C,'" not found')))}else if(w!=="background")if(u.source){const P=g.sources&&g.sources[u.source],M=P&&ci(P.type);P?M==="vector"&&w==="raster"?r.push(new at(f,u.source,'layer "'.concat(u.id,'" requires a raster source'))):M!=="raster-dem"&&w==="hillshade"?r.push(new at(f,u.source,'layer "'.concat(u.id,'" requires a raster-dem source'))):M==="raster"&&w!=="raster"?r.push(new at(f,u.source,'layer "'.concat(u.id,'" requires a vector source'))):M!=="vector"||u["source-layer"]?M==="raster-dem"&&w!=="hillshade"?r.push(new at(f,u.source,"raster-dem source can only be used with layer type 'hillshade'.")):w!=="line"||!u.paint||!u.paint["line-gradient"]||M==="geojson"&&P.lineMetrics||r.push(new at(f,u,'layer "'.concat(u.id,'" specifies a line-gradient, which requires a GeoJSON source with `lineMetrics` enabled.'))):r.push(new at(f,u,'layer "'.concat(u.id,'" must specify a "source-layer"'))):r.push(new at(f,u.source,'source "'.concat(u.source,'" not found')))}else r.push(new at(f,u,'missing required property "source"'));return r=r.concat(Qr({key:f,value:u,valueSpec:x.layer,style:a.style,styleSpec:a.styleSpec,validateSpec:a.validateSpec,objectElementValidators:{"*":()=>[],type:()=>a.validateSpec({key:"".concat(f,".type"),value:u.type,valueSpec:x.layer.type,style:a.style,styleSpec:a.styleSpec,validateSpec:a.validateSpec,object:u,objectKey:"type"}),filter:Wl,layout:P=>Qr({layer:u,key:P.key,value:P.value,style:P.style,styleSpec:P.styleSpec,validateSpec:P.validateSpec,objectElementValidators:{"*":M=>Yf(br({layerType:w},M))}}),paint:P=>Qr({layer:u,key:P.key,value:P.value,style:P.style,styleSpec:P.styleSpec,validateSpec:P.validateSpec,objectElementValidators:{"*":M=>Nd(br({layerType:w},M))}})}})),r}function cs(a){const r=a.value,u=a.key,f=bn(r);return f!=="string"?[new at(u,r,"string expected, ".concat(f," found"))]:[]}const fy={promoteId:function({key:a,value:r}){if(bn(r)==="string")return cs({key:a,value:r});{const u=[];for(const f in r)u.push(...cs({key:"".concat(a,".").concat(f),value:r[f]}));return u}}};function py(a){const r=a.value,u=a.key,f=a.styleSpec,g=a.style,x=a.validateSpec;if(!r.type)return[new at(u,r,'"type" is required')];const w=ci(r.type);let C;switch(w){case"vector":case"raster":return C=Qr({key:u,value:r,valueSpec:f["source_".concat(w.replace("-","_"))],style:a.style,styleSpec:f,objectElementValidators:fy,validateSpec:x}),C;case"raster-dem":return C=function(P){var M;const O=(M=P.sourceName)!==null&&M!==void 0?M:"",D=P.value,H=P.styleSpec,G=H.source_raster_dem,X=P.style;let te=[];const ue=bn(D);if(D===void 0)return te;if(ue!=="object")return te.push(new at("source_raster_dem",D,"object expected, ".concat(ue," found"))),te;const pe=ci(D.encoding)==="custom",Ce=["redFactor","greenFactor","blueFactor","baseShift"],ge=P.value.encoding?'"'.concat(P.value.encoding,'"'):"Default";for(const xe in D)!pe&&Ce.includes(xe)?te.push(new at(xe,D[xe],'In "'.concat(O,'": "').concat(xe,'" is only valid when "encoding" is set to "custom". ').concat(ge," encoding found"))):G[xe]?te=te.concat(P.validateSpec({key:xe,value:D[xe],valueSpec:G[xe],validateSpec:P.validateSpec,style:X,styleSpec:H})):te.push(new at(xe,D[xe],'unknown property "'.concat(xe,'"')));return te}({sourceName:u,value:r,style:a.style,styleSpec:f,validateSpec:x}),C;case"geojson":if(C=Qr({key:u,value:r,valueSpec:f.source_geojson,style:g,styleSpec:f,validateSpec:x,objectElementValidators:fy}),r.cluster)for(const P in r.clusterProperties){const[M,O]=r.clusterProperties[P],D=typeof M=="string"?[M,["accumulated"],["get",P]]:M;C.push(...ql({key:"".concat(u,".").concat(P,".map"),value:O,validateSpec:x,expressionContext:"cluster-map"})),C.push(...ql({key:"".concat(u,".").concat(P,".reduce"),value:D,validateSpec:x,expressionContext:"cluster-reduce"}))}return C;case"video":return Qr({key:u,value:r,valueSpec:f.source_video,style:g,validateSpec:x,styleSpec:f});case"image":return Qr({key:u,value:r,valueSpec:f.source_image,style:g,validateSpec:x,styleSpec:f});case"canvas":return[new at(u,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return qa({key:"".concat(u,".type"),value:r.type,valueSpec:{values:["vector","raster","raster-dem","geojson","video","image"]},style:g,validateSpec:x,styleSpec:f})}}function my(a){const r=a.value,u=a.styleSpec,f=u.light,g=a.style;let x=[];const w=bn(r);if(r===void 0)return x;if(w!=="object")return x=x.concat([new at("light",r,"object expected, ".concat(w," found"))]),x;for(const C in r){const P=C.match(/^(.*)-transition$/);x=x.concat(P&&f[P[1]]&&f[P[1]].transition?a.validateSpec({key:C,value:r[C],valueSpec:u.transition,validateSpec:a.validateSpec,style:g,styleSpec:u}):f[C]?a.validateSpec({key:C,value:r[C],valueSpec:f[C],validateSpec:a.validateSpec,style:g,styleSpec:u}):[new at(C,r[C],'unknown property "'.concat(C,'"'))])}return x}function gy(a){const r=a.value,u=a.styleSpec,f=u.sky,g=a.style,x=bn(r);if(r===void 0)return[];if(x!=="object")return[new at("sky",r,"object expected, ".concat(x," found"))];let w=[];for(const C in r)w=w.concat(f[C]?Ui({key:C,value:r[C],valueSpec:f[C],style:g,styleSpec:u}):[new at(C,r[C],'unknown property "'.concat(C,'"'))]);return w}function yy(a){const r=a.value,u=a.styleSpec,f=u.terrain,g=a.style;let x=[];const w=bn(r);if(r===void 0)return x;if(w!=="object")return x=x.concat([new at("terrain",r,"object expected, ".concat(w," found"))]),x;for(const C in r)x=x.concat(f[C]?a.validateSpec({key:C,value:r[C],valueSpec:f[C],validateSpec:a.validateSpec,style:g,styleSpec:u}):[new at(C,r[C],'unknown property "'.concat(C,'"'))]);return x}function gu(a){let r=[];const u=a.value,f=a.key;if(Array.isArray(u)){const g=[],x=[];for(const w in u)u[w].id&&g.includes(u[w].id)&&r.push(new at(f,u,"all the sprites' ids must be unique, but ".concat(u[w].id," is duplicated"))),g.push(u[w].id),u[w].url&&x.includes(u[w].url)&&r.push(new at(f,u,"all the sprites' URLs must be unique, but ".concat(u[w].url," is duplicated"))),x.push(u[w].url),r=r.concat(Qr({key:"".concat(f,"[").concat(w,"]"),value:u[w],valueSpec:{id:{type:"string",required:!0},url:{type:"string",required:!0}},validateSpec:a.validateSpec}));return r}return cs({key:f,value:u})}const yu={"*":()=>[],array:Hl,boolean:function(a){const r=a.value,u=a.key,f=bn(r);return f!=="boolean"?[new at(u,r,"boolean expected, ".concat(f," found"))]:[]},number:Gf,color:function(a){const r=a.key,u=a.value,f=bn(u);return f!=="string"?[new at(r,u,"color expected, ".concat(f," found"))]:xn.parse(String(u))?[]:[new at(r,u,'color expected, "'.concat(u,'" found'))]},constants:hy,enum:qa,filter:Wl,function:Kf,layer:Jf,object:Qr,source:py,light:my,sky:gy,terrain:yy,string:cs,formatted:function(a){return cs(a).length===0?[]:ql(a)},resolvedImage:function(a){return cs(a).length===0?[]:ql(a)},padding:function(a){const r=a.key,u=a.value;if(bn(u)==="array"){if(u.length<1||u.length>4)return[new at(r,u,"padding requires 1 to 4 values; ".concat(u.length," values found"))];const f={type:"number"};let g=[];for(let x=0;x<u.length;x++)g=g.concat(a.validateSpec({key:"".concat(r,"[").concat(x,"]"),value:u[x],validateSpec:a.validateSpec,valueSpec:f}));return g}return Gf({key:r,value:u,valueSpec:{}})},variableAnchorOffsetCollection:function(a){const r=a.key,u=a.value,f=bn(u),g=a.styleSpec;if(f!=="array"||u.length<1||u.length%2!=0)return[new at(r,u,"variableAnchorOffsetCollection requires a non-empty array of even length")];let x=[];for(let w=0;w<u.length;w+=2)x=x.concat(qa({key:"".concat(r,"[").concat(w,"]"),value:u[w],valueSpec:g.layout_symbol["text-anchor"]})),x=x.concat(Hl({key:"".concat(r,"[").concat(w+1,"]"),value:u[w+1],valueSpec:{length:2,value:"number"},validateSpec:a.validateSpec,style:a.style,styleSpec:g}));return x},sprite:gu};function Ui(a){const r=a.value,u=a.valueSpec,f=a.styleSpec;return a.validateSpec=Ui,u.expression&&jl(ci(r))?Kf(a):u.expression&&On(fa(r))?ql(a):u.type&&yu[u.type]?yu[u.type](a):Qr(br({},a,{valueSpec:u.type?f[u.type]:u}))}function Zl(a){const r=a.value,u=a.key,f=cs(a);return f.length||(r.indexOf("{fontstack}")===-1&&f.push(new at(u,r,'"glyphs" url must include a "{fontstack}" token')),r.indexOf("{range}")===-1&&f.push(new at(u,r,'"glyphs" url must include a "{range}" token'))),f}function vo(a,r=Ne){let u=[];return u=u.concat(Ui({key:"",value:a,valueSpec:r.$root,styleSpec:r,style:a,validateSpec:Ui,objectElementValidators:{glyphs:Zl,"*":()=>[]}})),a.constants&&(u=u.concat(hy({key:"constants",value:a.constants,style:a,styleSpec:r,validateSpec:Ui}))),vy(u)}function us(a){return function(r){return a({...r,validateSpec:Ui})}}function vy(a){return[].concat(a).sort((r,u)=>r.line-u.line)}function Or(a){return function(...r){return vy(a.apply(this,r))}}vo.source=Or(us(py)),vo.sprite=Or(us(gu)),vo.glyphs=Or(us(Zl)),vo.light=Or(us(my)),vo.sky=Or(us(gy)),vo.terrain=Or(us(yy)),vo.layer=Or(us(Jf)),vo.filter=Or(us(Wl)),vo.paintProperty=Or(us(Nd)),vo.layoutProperty=Or(us(Yf));const Gl=vo,Qf=Gl.light,N_=Gl.paintProperty,ep=Gl.layoutProperty;function by(a,r){let u=!1;if(r&&r.length)for(const f of r)a.fire(new zt(new Error(f.message))),u=!0;return u}class Ds{constructor(r,u,f){const g=this.cells=[];if(r instanceof ArrayBuffer){this.arrayBuffer=r;const w=new Int32Array(this.arrayBuffer);r=w[0],this.d=(u=w[1])+2*(f=w[2]);for(let P=0;P<this.d*this.d;P++){const M=w[3+P],O=w[3+P+1];g.push(M===O?null:w.subarray(M,O))}const C=w[3+g.length+1];this.keys=w.subarray(w[3+g.length],C),this.bboxes=w.subarray(C),this.insert=this._insertReadonly}else{this.d=u+2*f;for(let w=0;w<this.d*this.d;w++)g.push([]);this.keys=[],this.bboxes=[]}this.n=u,this.extent=r,this.padding=f,this.scale=u/r,this.uid=0;const x=f/u*r;this.min=-x,this.max=r+x}insert(r,u,f,g,x){this._forEachCell(u,f,g,x,this._insertCell,this.uid++,void 0,void 0),this.keys.push(r),this.bboxes.push(u),this.bboxes.push(f),this.bboxes.push(g),this.bboxes.push(x)}_insertReadonly(){throw new Error("Cannot insert into a GridIndex created from an ArrayBuffer.")}_insertCell(r,u,f,g,x,w){this.cells[x].push(w)}query(r,u,f,g,x){const w=this.min,C=this.max;if(r<=w&&u<=w&&C<=f&&C<=g&&!x)return Array.prototype.slice.call(this.keys);{const P=[];return this._forEachCell(r,u,f,g,this._queryCell,P,{},x),P}}_queryCell(r,u,f,g,x,w,C,P){const M=this.cells[x];if(M!==null){const O=this.keys,D=this.bboxes;for(let H=0;H<M.length;H++){const G=M[H];if(C[G]===void 0){const X=4*G;(P?P(D[X+0],D[X+1],D[X+2],D[X+3]):r<=D[X+2]&&u<=D[X+3]&&f>=D[X+0]&&g>=D[X+1])?(C[G]=!0,w.push(O[G])):C[G]=!1}}}}_forEachCell(r,u,f,g,x,w,C,P){const M=this._convertToCellCoord(r),O=this._convertToCellCoord(u),D=this._convertToCellCoord(f),H=this._convertToCellCoord(g);for(let G=M;G<=D;G++)for(let X=O;X<=H;X++){const te=this.d*X+G;if((!P||P(this._convertFromCellCoord(G),this._convertFromCellCoord(X),this._convertFromCellCoord(G+1),this._convertFromCellCoord(X+1)))&&x.call(this,r,u,f,g,te,w,C,P))return}}_convertFromCellCoord(r){return(r-this.padding)/this.scale}_convertToCellCoord(r){return Math.max(0,Math.min(this.d-1,Math.floor(r*this.scale)+this.padding))}toArrayBuffer(){if(this.arrayBuffer)return this.arrayBuffer;const r=this.cells,u=3+this.cells.length+1+1;let f=0;for(let w=0;w<this.cells.length;w++)f+=this.cells[w].length;const g=new Int32Array(u+f+this.keys.length+this.bboxes.length);g[0]=this.extent,g[1]=this.n,g[2]=this.padding;let x=u;for(let w=0;w<r.length;w++){const C=r[w];g[3+w]=x,g.set(C,x),x+=C.length}return g[3+r.length]=x,g.set(this.keys,x),x+=this.keys.length,g[3+r.length+1]=x,g.set(this.bboxes,x),x+=this.bboxes.length,g.buffer}static serialize(r,u){const f=r.toArrayBuffer();return u&&u.push(f),{buffer:f}}static deserialize(r){return new Ds(r.buffer)}}const pa={};function bt(a,r,u={}){if(pa[a])throw new Error("".concat(a," is already registered."));Object.defineProperty(r,"_classRegistryKey",{value:a,writeable:!1}),pa[a]={klass:r,omit:u.omit||[],shallow:u.shallow||[]}}bt("Object",Object),bt("TransferableGridIndex",Ds),bt("Color",xn),bt("Error",Error),bt("AJAXError",vn),bt("ResolvedImage",wn),bt("StylePropertyFunction",Dd),bt("StyleExpression",pu,{omit:["_evaluator"]}),bt("ZoomDependentExpression",Od),bt("ZoomConstantExpression",Vl),bt("CompoundExpression",yo,{omit:["_evaluate"]});for(const a in Bl)Bl[a]._classRegistryKey||bt("Expression_".concat(a),Bl[a]);function tp(a){return a&&typeof ArrayBuffer<"u"&&(a instanceof ArrayBuffer||a.constructor&&a.constructor.name==="ArrayBuffer")}function Wa(a,r){if(a==null||typeof a=="boolean"||typeof a=="number"||typeof a=="string"||a instanceof Boolean||a instanceof Number||a instanceof String||a instanceof Date||a instanceof RegExp||a instanceof Blob||a instanceof Error)return a;if(tp(a)||we(a))return r&&r.push(a),a;if(ArrayBuffer.isView(a)){const u=a;return r&&r.push(u.buffer),u}if(a instanceof ImageData)return r&&r.push(a.data.buffer),a;if(Array.isArray(a)){const u=[];for(const f of a)u.push(Wa(f,r));return u}if(typeof a=="object"){const u=a.constructor,f=u._classRegistryKey;if(!f)throw new Error("can't serialize object of unregistered class ".concat(u.name));if(!pa[f])throw new Error("".concat(f," is not registered."));const g=u.serialize?u.serialize(a,r):{};if(u.serialize){if(r&&g===r[r.length-1])throw new Error("statically serialized object won't survive transfer of $name property")}else{for(const x in a){if(!a.hasOwnProperty(x)||pa[f].omit.indexOf(x)>=0)continue;const w=a[x];g[x]=pa[f].shallow.indexOf(x)>=0?w:Wa(w,r)}a instanceof Error&&(g.message=a.message)}if(g.$name)throw new Error("$name property is reserved for worker serialization logic.");return f!=="Object"&&(g.$name=f),g}throw new Error("can't serialize object of type "+typeof a)}function Kl(a){if(a==null||typeof a=="boolean"||typeof a=="number"||typeof a=="string"||a instanceof Boolean||a instanceof Number||a instanceof String||a instanceof Date||a instanceof RegExp||a instanceof Blob||a instanceof Error||tp(a)||we(a)||ArrayBuffer.isView(a)||a instanceof ImageData)return a;if(Array.isArray(a))return a.map(Kl);if(typeof a=="object"){const r=a.$name||"Object";if(!pa[r])throw new Error("can't deserialize unregistered class ".concat(r));const{klass:u}=pa[r];if(!u)throw new Error("can't deserialize unregistered class ".concat(r));if(u.deserialize)return u.deserialize(a);const f=Object.create(u.prototype);for(const g of Object.keys(a)){if(g==="$name")continue;const x=a[g];f[g]=pa[r].shallow.indexOf(g)>=0?x:Kl(x)}return f}throw new Error("can't deserialize object of type "+typeof a)}class np{constructor(){this.first=!0}update(r,u){const f=Math.floor(r);return this.first?(this.first=!1,this.lastIntegerZoom=f,this.lastIntegerZoomTime=0,this.lastZoom=r,this.lastFloorZoom=f,!0):(this.lastFloorZoom>f?(this.lastIntegerZoom=f+1,this.lastIntegerZoomTime=u):this.lastFloorZoom<f&&(this.lastIntegerZoom=f,this.lastIntegerZoomTime=u),r!==this.lastZoom&&(this.lastZoom=r,this.lastFloorZoom=f,!0))}}const gt={"Latin-1 Supplement":a=>a>=128&&a<=255,Arabic:a=>a>=1536&&a<=1791,"Arabic Supplement":a=>a>=1872&&a<=1919,"Arabic Extended-A":a=>a>=2208&&a<=2303,"Hangul Jamo":a=>a>=4352&&a<=4607,"Unified Canadian Aboriginal Syllabics":a=>a>=5120&&a<=5759,Khmer:a=>a>=6016&&a<=6143,"Unified Canadian Aboriginal Syllabics Extended":a=>a>=6320&&a<=6399,"General Punctuation":a=>a>=8192&&a<=8303,"Letterlike Symbols":a=>a>=8448&&a<=8527,"Number Forms":a=>a>=8528&&a<=8591,"Miscellaneous Technical":a=>a>=8960&&a<=9215,"Control Pictures":a=>a>=9216&&a<=9279,"Optical Character Recognition":a=>a>=9280&&a<=9311,"Enclosed Alphanumerics":a=>a>=9312&&a<=9471,"Geometric Shapes":a=>a>=9632&&a<=9727,"Miscellaneous Symbols":a=>a>=9728&&a<=9983,"Miscellaneous Symbols and Arrows":a=>a>=11008&&a<=11263,"CJK Radicals Supplement":a=>a>=11904&&a<=12031,"Kangxi Radicals":a=>a>=12032&&a<=12255,"Ideographic Description Characters":a=>a>=12272&&a<=12287,"CJK Symbols and Punctuation":a=>a>=12288&&a<=12351,Hiragana:a=>a>=12352&&a<=12447,Katakana:a=>a>=12448&&a<=12543,Bopomofo:a=>a>=12544&&a<=12591,"Hangul Compatibility Jamo":a=>a>=12592&&a<=12687,Kanbun:a=>a>=12688&&a<=12703,"Bopomofo Extended":a=>a>=12704&&a<=12735,"CJK Strokes":a=>a>=12736&&a<=12783,"Katakana Phonetic Extensions":a=>a>=12784&&a<=12799,"Enclosed CJK Letters and Months":a=>a>=12800&&a<=13055,"CJK Compatibility":a=>a>=13056&&a<=13311,"CJK Unified Ideographs Extension A":a=>a>=13312&&a<=19903,"Yijing Hexagram Symbols":a=>a>=19904&&a<=19967,"CJK Unified Ideographs":a=>a>=19968&&a<=40959,"Yi Syllables":a=>a>=40960&&a<=42127,"Yi Radicals":a=>a>=42128&&a<=42191,"Hangul Jamo Extended-A":a=>a>=43360&&a<=43391,"Hangul Syllables":a=>a>=44032&&a<=55215,"Hangul Jamo Extended-B":a=>a>=55216&&a<=55295,"Private Use Area":a=>a>=57344&&a<=63743,"CJK Compatibility Ideographs":a=>a>=63744&&a<=64255,"Arabic Presentation Forms-A":a=>a>=64336&&a<=65023,"Vertical Forms":a=>a>=65040&&a<=65055,"CJK Compatibility Forms":a=>a>=65072&&a<=65103,"Small Form Variants":a=>a>=65104&&a<=65135,"Arabic Presentation Forms-B":a=>a>=65136&&a<=65279,"Halfwidth and Fullwidth Forms":a=>a>=65280&&a<=65519};function vu(a){for(const r of a)if(Vd(r.charCodeAt(0)))return!0;return!1}function jd(a){for(const r of a)if(!_y(r.charCodeAt(0)))return!1;return!0}function _y(a){return!(gt.Arabic(a)||gt["Arabic Supplement"](a)||gt["Arabic Extended-A"](a)||gt["Arabic Presentation Forms-A"](a)||gt["Arabic Presentation Forms-B"](a))}function Vd(a){return!(a!==746&&a!==747&&(a<4352||!(gt["Bopomofo Extended"](a)||gt.Bopomofo(a)||gt["CJK Compatibility Forms"](a)&&!(a>=65097&&a<=65103)||gt["CJK Compatibility Ideographs"](a)||gt["CJK Compatibility"](a)||gt["CJK Radicals Supplement"](a)||gt["CJK Strokes"](a)||!(!gt["CJK Symbols and Punctuation"](a)||a>=12296&&a<=12305||a>=12308&&a<=12319||a===12336)||gt["CJK Unified Ideographs Extension A"](a)||gt["CJK Unified Ideographs"](a)||gt["Enclosed CJK Letters and Months"](a)||gt["Hangul Compatibility Jamo"](a)||gt["Hangul Jamo Extended-A"](a)||gt["Hangul Jamo Extended-B"](a)||gt["Hangul Jamo"](a)||gt["Hangul Syllables"](a)||gt.Hiragana(a)||gt["Ideographic Description Characters"](a)||gt.Kanbun(a)||gt["Kangxi Radicals"](a)||gt["Katakana Phonetic Extensions"](a)||gt.Katakana(a)&&a!==12540||!(!gt["Halfwidth and Fullwidth Forms"](a)||a===65288||a===65289||a===65293||a>=65306&&a<=65310||a===65339||a===65341||a===65343||a>=65371&&a<=65503||a===65507||a>=65512&&a<=65519)||!(!gt["Small Form Variants"](a)||a>=65112&&a<=65118||a>=65123&&a<=65126)||gt["Unified Canadian Aboriginal Syllabics"](a)||gt["Unified Canadian Aboriginal Syllabics Extended"](a)||gt["Vertical Forms"](a)||gt["Yijing Hexagram Symbols"](a)||gt["Yi Syllables"](a)||gt["Yi Radicals"](a))))}function ip(a){return!(Vd(a)||function(r){return!!(gt["Latin-1 Supplement"](r)&&(r===167||r===169||r===174||r===177||r===188||r===189||r===190||r===215||r===247)||gt["General Punctuation"](r)&&(r===8214||r===8224||r===8225||r===8240||r===8241||r===8251||r===8252||r===8258||r===8263||r===8264||r===8265||r===8273)||gt["Letterlike Symbols"](r)||gt["Number Forms"](r)||gt["Miscellaneous Technical"](r)&&(r>=8960&&r<=8967||r>=8972&&r<=8991||r>=8996&&r<=9e3||r===9003||r>=9085&&r<=9114||r>=9150&&r<=9165||r===9167||r>=9169&&r<=9179||r>=9186&&r<=9215)||gt["Control Pictures"](r)&&r!==9251||gt["Optical Character Recognition"](r)||gt["Enclosed Alphanumerics"](r)||gt["Geometric Shapes"](r)||gt["Miscellaneous Symbols"](r)&&!(r>=9754&&r<=9759)||gt["Miscellaneous Symbols and Arrows"](r)&&(r>=11026&&r<=11055||r>=11088&&r<=11097||r>=11192&&r<=11243)||gt["CJK Symbols and Punctuation"](r)||gt.Katakana(r)||gt["Private Use Area"](r)||gt["CJK Compatibility Forms"](r)||gt["Small Form Variants"](r)||gt["Halfwidth and Fullwidth Forms"](r)||r===8734||r===8756||r===8757||r>=9984&&r<=10087||r>=10102&&r<=10131||r===65532||r===65533)}(a))}function rp(a){return a>=1424&&a<=2303||gt["Arabic Presentation Forms-A"](a)||gt["Arabic Presentation Forms-B"](a)}function op(a,r){return!(!r&&rp(a)||a>=2304&&a<=3583||a>=3840&&a<=4255||gt.Khmer(a))}function xy(a){for(const r of a)if(rp(r.charCodeAt(0)))return!0;return!1}const Za=new class{constructor(){this.applyArabicShaping=null,this.processBidirectionalText=null,this.processStyledBidirectionalText=null,this.pluginStatus="unavailable",this.pluginURL=null}setState(a){this.pluginStatus=a.pluginStatus,this.pluginURL=a.pluginURL}getState(){return{pluginStatus:this.pluginStatus,pluginURL:this.pluginURL}}setMethods(a){this.applyArabicShaping=a.applyArabicShaping,this.processBidirectionalText=a.processBidirectionalText,this.processStyledBidirectionalText=a.processStyledBidirectionalText}isParsed(){return this.applyArabicShaping!=null&&this.processBidirectionalText!=null&&this.processStyledBidirectionalText!=null}getPluginURL(){return this.pluginURL}getRTLTextPluginStatus(){return this.pluginStatus}};class Nn{constructor(r,u){this.zoom=r,u?(this.now=u.now,this.fadeDuration=u.fadeDuration,this.zoomHistory=u.zoomHistory,this.transition=u.transition):(this.now=0,this.fadeDuration=0,this.zoomHistory=new np,this.transition={})}isSupportedScript(r){return function(u,f){for(const g of u)if(!op(g.charCodeAt(0),f))return!1;return!0}(r,Za.getRTLTextPluginStatus()==="loaded")}crossFadingFactor(){return this.fadeDuration===0?1:Math.min((this.now-this.zoomHistory.lastIntegerZoomTime)/this.fadeDuration,1)}getCrossfadeParameters(){const r=this.zoom,u=r-Math.floor(r),f=this.crossFadingFactor();return r>this.zoomHistory.lastIntegerZoom?{fromScale:2,toScale:1,t:u+(1-u)*f}:{fromScale:.5,toScale:1,t:1-(1-f)*u}}}class Ud{constructor(r,u){this.property=r,this.value=u,this.expression=function(f,g){if(jl(f))return new Dd(f,g);if(On(f)){const x=ay(f,g);if(x.result==="error")throw new Error(x.value.map(w=>"".concat(w.key,": ").concat(w.message)).join(", "));return x.value}{let x=f;return g.type==="color"&&typeof f=="string"?x=xn.parse(f):g.type!=="padding"||typeof f!="number"&&!Array.isArray(f)?g.type==="variableAnchorOffsetCollection"&&Array.isArray(f)&&(x=sn.parse(f)):x=st.parse(f),{kind:"constant",evaluate:()=>x}}}(u===void 0?r.specification.default:u,r.specification)}isDataDriven(){return this.expression.kind==="source"||this.expression.kind==="composite"}possiblyEvaluate(r,u,f){return this.property.possiblyEvaluate(this,r,u,f)}}class Hd{constructor(r){this.property=r,this.value=new Ud(r,void 0)}transitioned(r,u){return new ap(this.property,this.value,u,oe({},r.transition,this.transition),r.now)}untransitioned(){return new ap(this.property,this.value,null,{},0)}}class sp{constructor(r){this._properties=r,this._values=Object.create(r.defaultTransitionablePropertyValues)}getValue(r){return Fe(this._values[r].value.value)}setValue(r,u){Object.prototype.hasOwnProperty.call(this._values,r)||(this._values[r]=new Hd(this._values[r].property)),this._values[r].value=new Ud(this._values[r].property,u===null?void 0:Fe(u))}getTransition(r){return Fe(this._values[r].transition)}setTransition(r,u){Object.prototype.hasOwnProperty.call(this._values,r)||(this._values[r]=new Hd(this._values[r].property)),this._values[r].transition=Fe(u)||void 0}serialize(){const r={};for(const u of Object.keys(this._values)){const f=this.getValue(u);f!==void 0&&(r[u]=f);const g=this.getTransition(u);g!==void 0&&(r["".concat(u,"-transition")]=g)}return r}transitioned(r,u){const f=new wy(this._properties);for(const g of Object.keys(this._values))f._values[g]=this._values[g].transitioned(r,u._values[g]);return f}untransitioned(){const r=new wy(this._properties);for(const u of Object.keys(this._values))r._values[u]=this._values[u].untransitioned();return r}}class ap{constructor(r,u,f,g,x){this.property=r,this.value=u,this.begin=x+g.delay||0,this.end=this.begin+g.duration||0,r.specification.transition&&(g.delay||g.duration)&&(this.prior=f)}possiblyEvaluate(r,u,f){const g=r.now||0,x=this.value.possiblyEvaluate(r,u,f),w=this.prior;if(w){if(g>this.end)return this.prior=null,x;if(this.value.isDataDriven())return this.prior=null,x;if(g<this.begin)return w.possiblyEvaluate(r,u,f);{const C=(g-this.begin)/(this.end-this.begin);return this.property.interpolate(w.possiblyEvaluate(r,u,f),x,function(P){if(P<=0)return 0;if(P>=1)return 1;const M=P*P,O=M*P;return 4*(P<.5?O:3*(P-M)+O-.75)}(C))}}return x}}class wy{constructor(r){this._properties=r,this._values=Object.create(r.defaultTransitioningPropertyValues)}possiblyEvaluate(r,u,f){const g=new bu(this._properties);for(const x of Object.keys(this._values))g._values[x]=this._values[x].possiblyEvaluate(r,u,f);return g}hasTransition(){for(const r of Object.keys(this._values))if(this._values[r].prior)return!0;return!1}}class j_{constructor(r){this._properties=r,this._values=Object.create(r.defaultPropertyValues)}hasValue(r){return this._values[r].value!==void 0}getValue(r){return Fe(this._values[r].value)}setValue(r,u){this._values[r]=new Ud(this._values[r].property,u===null?void 0:Fe(u))}serialize(){const r={};for(const u of Object.keys(this._values)){const f=this.getValue(u);f!==void 0&&(r[u]=f)}return r}possiblyEvaluate(r,u,f){const g=new bu(this._properties);for(const x of Object.keys(this._values))g._values[x]=this._values[x].possiblyEvaluate(r,u,f);return g}}class $o{constructor(r,u,f){this.property=r,this.value=u,this.parameters=f}isConstant(){return this.value.kind==="constant"}constantOr(r){return this.value.kind==="constant"?this.value.value:r}evaluate(r,u,f,g){return this.property.evaluate(this.value,this.parameters,r,u,f,g)}}class bu{constructor(r){this._properties=r,this._values=Object.create(r.defaultPossiblyEvaluatedValues)}get(r){return this._values[r]}}class Pt{constructor(r){this.specification=r}possiblyEvaluate(r,u){if(r.isDataDriven())throw new Error("Value should not be data driven");return r.expression.evaluate(u)}interpolate(r,u,f){const g=Jr[this.specification.type];return g?g(r,u,f):r}}class Bt{constructor(r,u){this.specification=r,this.overrides=u}possiblyEvaluate(r,u,f,g){return new $o(this,r.expression.kind==="constant"||r.expression.kind==="camera"?{kind:"constant",value:r.expression.evaluate(u,null,{},f,g)}:r.expression,u)}interpolate(r,u,f){if(r.value.kind!=="constant"||u.value.kind!=="constant")return r;if(r.value.value===void 0||u.value.value===void 0)return new $o(this,{kind:"constant",value:void 0},r.parameters);const g=Jr[this.specification.type];if(g){const x=g(r.value.value,u.value.value,f);return new $o(this,{kind:"constant",value:x},r.parameters)}return r}evaluate(r,u,f,g,x,w){return r.kind==="constant"?r.value:r.evaluate(u,f,g,x,w)}}class Ga extends Bt{possiblyEvaluate(r,u,f,g){if(r.value===void 0)return new $o(this,{kind:"constant",value:void 0},u);if(r.expression.kind==="constant"){const x=r.expression.evaluate(u,null,{},f,g),w=r.property.specification.type==="resolvedImage"&&typeof x!="string"?x.name:x,C=this._calculate(w,w,w,u);return new $o(this,{kind:"constant",value:C},u)}if(r.expression.kind==="camera"){const x=this._calculate(r.expression.evaluate({zoom:u.zoom-1}),r.expression.evaluate({zoom:u.zoom}),r.expression.evaluate({zoom:u.zoom+1}),u);return new $o(this,{kind:"constant",value:x},u)}return new $o(this,r.expression,u)}evaluate(r,u,f,g,x,w){if(r.kind==="source"){const C=r.evaluate(u,f,g,x,w);return this._calculate(C,C,C,u)}return r.kind==="composite"?this._calculate(r.evaluate({zoom:Math.floor(u.zoom)-1},f,g),r.evaluate({zoom:Math.floor(u.zoom)},f,g),r.evaluate({zoom:Math.floor(u.zoom)+1},f,g),u):r.value}_calculate(r,u,f,g){return g.zoom>g.zoomHistory.lastIntegerZoom?{from:r,to:u}:{from:f,to:u}}interpolate(r){return r}}class lp{constructor(r){this.specification=r}possiblyEvaluate(r,u,f,g){if(r.value!==void 0){if(r.expression.kind==="constant"){const x=r.expression.evaluate(u,null,{},f,g);return this._calculate(x,x,x,u)}return this._calculate(r.expression.evaluate(new Nn(Math.floor(u.zoom-1),u)),r.expression.evaluate(new Nn(Math.floor(u.zoom),u)),r.expression.evaluate(new Nn(Math.floor(u.zoom+1),u)),u)}}_calculate(r,u,f,g){return g.zoom>g.zoomHistory.lastIntegerZoom?{from:r,to:u}:{from:f,to:u}}interpolate(r){return r}}class _u{constructor(r){this.specification=r}possiblyEvaluate(r,u,f,g){return!!r.expression.evaluate(u,null,{},f,g)}interpolate(){return!1}}class Dr{constructor(r){this.properties=r,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},this.overridableProperties=[];for(const u in r){const f=r[u];f.specification.overridable&&this.overridableProperties.push(u);const g=this.defaultPropertyValues[u]=new Ud(f,void 0),x=this.defaultTransitionablePropertyValues[u]=new Hd(f);this.defaultTransitioningPropertyValues[u]=x.untransitioned(),this.defaultPossiblyEvaluatedValues[u]=g.possiblyEvaluate({})}}}bt("DataDrivenProperty",Bt),bt("DataConstantProperty",Pt),bt("CrossFadedDataDrivenProperty",Ga),bt("CrossFadedProperty",lp),bt("ColorRampProperty",_u);const Sy="-transition";class Bo extends Rn{constructor(r,u){if(super(),this.id=r.id,this.type=r.type,this._featureFilter={filter:()=>!0,needGeometry:!1},r.type!=="custom"&&(this.metadata=r.metadata,this.minzoom=r.minzoom,this.maxzoom=r.maxzoom,r.type!=="background"&&(this.source=r.source,this.sourceLayer=r["source-layer"],this.filter=r.filter),u.layout&&(this._unevaluatedLayout=new j_(u.layout)),u.paint)){this._transitionablePaint=new sp(u.paint);for(const f in r.paint)this.setPaintProperty(f,r.paint[f],{validate:!1});for(const f in r.layout)this.setLayoutProperty(f,r.layout[f],{validate:!1});this._transitioningPaint=this._transitionablePaint.untransitioned(),this.paint=new bu(u.paint)}}getCrossfadeParameters(){return this._crossfadeParameters}getLayoutProperty(r){return r==="visibility"?this.visibility:this._unevaluatedLayout.getValue(r)}setLayoutProperty(r,u,f={}){u!=null&&this._validate(ep,"layers.".concat(this.id,".layout.").concat(r),r,u,f)||(r!=="visibility"?this._unevaluatedLayout.setValue(r,u):this.visibility=u)}getPaintProperty(r){return r.endsWith(Sy)?this._transitionablePaint.getTransition(r.slice(0,-11)):this._transitionablePaint.getValue(r)}setPaintProperty(r,u,f={}){if(u!=null&&this._validate(N_,"layers.".concat(this.id,".paint.").concat(r),r,u,f))return!1;if(r.endsWith(Sy))return this._transitionablePaint.setTransition(r.slice(0,-11),u||void 0),!1;{const g=this._transitionablePaint._values[r],x=g.property.specification["property-type"]==="cross-faded-data-driven",w=g.value.isDataDriven(),C=g.value;this._transitionablePaint.setValue(r,u),this._handleSpecialPaintPropertyUpdate(r);const P=this._transitionablePaint._values[r].value;return P.isDataDriven()||w||x||this._handleOverridablePaintPropertyUpdate(r,C,P)}}_handleSpecialPaintPropertyUpdate(r){}_handleOverridablePaintPropertyUpdate(r,u,f){return!1}isHidden(r){return!!(this.minzoom&&r<this.minzoom)||!!(this.maxzoom&&r>=this.maxzoom)||this.visibility==="none"}updateTransitions(r){this._transitioningPaint=this._transitionablePaint.transitioned(r,this._transitioningPaint)}hasTransition(){return this._transitioningPaint.hasTransition()}recalculate(r,u){r.getCrossfadeParameters&&(this._crossfadeParameters=r.getCrossfadeParameters()),this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(r,void 0,u)),this.paint=this._transitioningPaint.possiblyEvaluate(r,void 0,u)}serialize(){const r={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return this.visibility&&(r.layout=r.layout||{},r.layout.visibility=this.visibility),Le(r,(u,f)=>!(u===void 0||f==="layout"&&!Object.keys(u).length||f==="paint"&&!Object.keys(u).length))}_validate(r,u,f,g,x={}){return(!x||x.validate!==!1)&&by(this,r.call(Gl,{key:u,layerType:this.type,objectKey:f,value:g,styleSpec:Ne,style:{glyphs:!0,sprite:!0}}))}is3D(){return!1}isTileClipped(){return!1}hasOffscreenPass(){return!1}resize(){}isStateDependent(){for(const r in this.paint._values){const u=this.paint.get(r);if(u instanceof $o&&Nl(u.property.specification)&&(u.value.kind==="source"||u.value.kind==="composite")&&u.value.isStateDependent)return!0}return!1}}const ky={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array};class Xl{constructor(r,u){this._structArray=r,this._pos1=u*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8}}class ti{constructor(){this.isTransferred=!1,this.capacity=-1,this.resize(0)}static serialize(r,u){return r._trim(),u&&(r.isTransferred=!0,u.push(r.arrayBuffer)),{length:r.length,arrayBuffer:r.arrayBuffer}}static deserialize(r){const u=Object.create(this.prototype);return u.arrayBuffer=r.arrayBuffer,u.length=r.length,u.capacity=r.arrayBuffer.byteLength/u.bytesPerElement,u._refreshViews(),u}_trim(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())}clear(){this.length=0}resize(r){this.reserve(r),this.length=r}reserve(r){if(r>this.capacity){this.capacity=Math.max(r,Math.floor(5*this.capacity),128),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);const u=this.uint8;this._refreshViews(),u&&this.uint8.set(u)}}_refreshViews(){throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")}}function pi(a,r=1){let u=0,f=0;return{members:a.map(g=>{const x=ky[g.type].BYTES_PER_ELEMENT,w=u=Ey(u,Math.max(r,x)),C=g.components||1;return f=Math.max(f,x),u+=x*C,{name:g.name,type:g.type,components:C,offset:w}}),size:Ey(u,Math.max(f,r)),alignment:r}}function Ey(a,r){return Math.ceil(a/r)*r}class xu extends ti{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(r,u){const f=this.length;return this.resize(f+1),this.emplace(f,r,u)}emplace(r,u,f){const g=2*r;return this.int16[g+0]=u,this.int16[g+1]=f,r}}xu.prototype.bytesPerElement=4,bt("StructArrayLayout2i4",xu);class qd extends ti{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(r,u,f){const g=this.length;return this.resize(g+1),this.emplace(g,r,u,f)}emplace(r,u,f,g){const x=3*r;return this.int16[x+0]=u,this.int16[x+1]=f,this.int16[x+2]=g,r}}qd.prototype.bytesPerElement=6,bt("StructArrayLayout3i6",qd);class ma extends ti{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(r,u,f,g){const x=this.length;return this.resize(x+1),this.emplace(x,r,u,f,g)}emplace(r,u,f,g,x){const w=4*r;return this.int16[w+0]=u,this.int16[w+1]=f,this.int16[w+2]=g,this.int16[w+3]=x,r}}ma.prototype.bytesPerElement=8,bt("StructArrayLayout4i8",ma);class cp extends ti{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(r,u,f,g,x,w){const C=this.length;return this.resize(C+1),this.emplace(C,r,u,f,g,x,w)}emplace(r,u,f,g,x,w,C){const P=6*r;return this.int16[P+0]=u,this.int16[P+1]=f,this.int16[P+2]=g,this.int16[P+3]=x,this.int16[P+4]=w,this.int16[P+5]=C,r}}cp.prototype.bytesPerElement=12,bt("StructArrayLayout2i4i12",cp);class up extends ti{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(r,u,f,g,x,w){const C=this.length;return this.resize(C+1),this.emplace(C,r,u,f,g,x,w)}emplace(r,u,f,g,x,w,C){const P=4*r,M=8*r;return this.int16[P+0]=u,this.int16[P+1]=f,this.uint8[M+4]=g,this.uint8[M+5]=x,this.uint8[M+6]=w,this.uint8[M+7]=C,r}}up.prototype.bytesPerElement=8,bt("StructArrayLayout2i4ub8",up);class wu extends ti{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(r,u){const f=this.length;return this.resize(f+1),this.emplace(f,r,u)}emplace(r,u,f){const g=2*r;return this.float32[g+0]=u,this.float32[g+1]=f,r}}wu.prototype.bytesPerElement=8,bt("StructArrayLayout2f8",wu);class dp extends ti{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(r,u,f,g,x,w,C,P,M,O){const D=this.length;return this.resize(D+1),this.emplace(D,r,u,f,g,x,w,C,P,M,O)}emplace(r,u,f,g,x,w,C,P,M,O,D){const H=10*r;return this.uint16[H+0]=u,this.uint16[H+1]=f,this.uint16[H+2]=g,this.uint16[H+3]=x,this.uint16[H+4]=w,this.uint16[H+5]=C,this.uint16[H+6]=P,this.uint16[H+7]=M,this.uint16[H+8]=O,this.uint16[H+9]=D,r}}dp.prototype.bytesPerElement=20,bt("StructArrayLayout10ui20",dp);class Wd extends ti{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(r,u,f,g,x,w,C,P,M,O,D,H){const G=this.length;return this.resize(G+1),this.emplace(G,r,u,f,g,x,w,C,P,M,O,D,H)}emplace(r,u,f,g,x,w,C,P,M,O,D,H,G){const X=12*r;return this.int16[X+0]=u,this.int16[X+1]=f,this.int16[X+2]=g,this.int16[X+3]=x,this.uint16[X+4]=w,this.uint16[X+5]=C,this.uint16[X+6]=P,this.uint16[X+7]=M,this.int16[X+8]=O,this.int16[X+9]=D,this.int16[X+10]=H,this.int16[X+11]=G,r}}Wd.prototype.bytesPerElement=24,bt("StructArrayLayout4i4ui4i24",Wd);class hp extends ti{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(r,u,f){const g=this.length;return this.resize(g+1),this.emplace(g,r,u,f)}emplace(r,u,f,g){const x=3*r;return this.float32[x+0]=u,this.float32[x+1]=f,this.float32[x+2]=g,r}}hp.prototype.bytesPerElement=12,bt("StructArrayLayout3f12",hp);class fp extends ti{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}emplaceBack(r){const u=this.length;return this.resize(u+1),this.emplace(u,r)}emplace(r,u){return this.uint32[1*r+0]=u,r}}fp.prototype.bytesPerElement=4,bt("StructArrayLayout1ul4",fp);class $s extends ti{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(r,u,f,g,x,w,C,P,M){const O=this.length;return this.resize(O+1),this.emplace(O,r,u,f,g,x,w,C,P,M)}emplace(r,u,f,g,x,w,C,P,M,O){const D=10*r,H=5*r;return this.int16[D+0]=u,this.int16[D+1]=f,this.int16[D+2]=g,this.int16[D+3]=x,this.int16[D+4]=w,this.int16[D+5]=C,this.uint32[H+3]=P,this.uint16[D+8]=M,this.uint16[D+9]=O,r}}$s.prototype.bytesPerElement=20,bt("StructArrayLayout6i1ul2ui20",$s);class Zd extends ti{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(r,u,f,g,x,w){const C=this.length;return this.resize(C+1),this.emplace(C,r,u,f,g,x,w)}emplace(r,u,f,g,x,w,C){const P=6*r;return this.int16[P+0]=u,this.int16[P+1]=f,this.int16[P+2]=g,this.int16[P+3]=x,this.int16[P+4]=w,this.int16[P+5]=C,r}}Zd.prototype.bytesPerElement=12,bt("StructArrayLayout2i2i2i12",Zd);class Su extends ti{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(r,u,f,g,x){const w=this.length;return this.resize(w+1),this.emplace(w,r,u,f,g,x)}emplace(r,u,f,g,x,w){const C=4*r,P=8*r;return this.float32[C+0]=u,this.float32[C+1]=f,this.float32[C+2]=g,this.int16[P+6]=x,this.int16[P+7]=w,r}}Su.prototype.bytesPerElement=16,bt("StructArrayLayout2f1f2i16",Su);class Gd extends ti{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(r,u,f,g){const x=this.length;return this.resize(x+1),this.emplace(x,r,u,f,g)}emplace(r,u,f,g,x){const w=12*r,C=3*r;return this.uint8[w+0]=u,this.uint8[w+1]=f,this.float32[C+1]=g,this.float32[C+2]=x,r}}Gd.prototype.bytesPerElement=12,bt("StructArrayLayout2ub2f12",Gd);class Yl extends ti{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(r,u,f){const g=this.length;return this.resize(g+1),this.emplace(g,r,u,f)}emplace(r,u,f,g){const x=3*r;return this.uint16[x+0]=u,this.uint16[x+1]=f,this.uint16[x+2]=g,r}}Yl.prototype.bytesPerElement=6,bt("StructArrayLayout3ui6",Yl);class pp extends ti{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(r,u,f,g,x,w,C,P,M,O,D,H,G,X,te,ue,pe){const Ce=this.length;return this.resize(Ce+1),this.emplace(Ce,r,u,f,g,x,w,C,P,M,O,D,H,G,X,te,ue,pe)}emplace(r,u,f,g,x,w,C,P,M,O,D,H,G,X,te,ue,pe,Ce){const ge=24*r,xe=12*r,Ue=48*r;return this.int16[ge+0]=u,this.int16[ge+1]=f,this.uint16[ge+2]=g,this.uint16[ge+3]=x,this.uint32[xe+2]=w,this.uint32[xe+3]=C,this.uint32[xe+4]=P,this.uint16[ge+10]=M,this.uint16[ge+11]=O,this.uint16[ge+12]=D,this.float32[xe+7]=H,this.float32[xe+8]=G,this.uint8[Ue+36]=X,this.uint8[Ue+37]=te,this.uint8[Ue+38]=ue,this.uint32[xe+10]=pe,this.int16[ge+22]=Ce,r}}pp.prototype.bytesPerElement=48,bt("StructArrayLayout2i2ui3ul3ui2f3ub1ul1i48",pp);class Jl extends ti{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(r,u,f,g,x,w,C,P,M,O,D,H,G,X,te,ue,pe,Ce,ge,xe,Ue,Ge,mt,Et,pt,ht,lt,_t){const dt=this.length;return this.resize(dt+1),this.emplace(dt,r,u,f,g,x,w,C,P,M,O,D,H,G,X,te,ue,pe,Ce,ge,xe,Ue,Ge,mt,Et,pt,ht,lt,_t)}emplace(r,u,f,g,x,w,C,P,M,O,D,H,G,X,te,ue,pe,Ce,ge,xe,Ue,Ge,mt,Et,pt,ht,lt,_t,dt){const rt=32*r,Lt=16*r;return this.int16[rt+0]=u,this.int16[rt+1]=f,this.int16[rt+2]=g,this.int16[rt+3]=x,this.int16[rt+4]=w,this.int16[rt+5]=C,this.int16[rt+6]=P,this.int16[rt+7]=M,this.uint16[rt+8]=O,this.uint16[rt+9]=D,this.uint16[rt+10]=H,this.uint16[rt+11]=G,this.uint16[rt+12]=X,this.uint16[rt+13]=te,this.uint16[rt+14]=ue,this.uint16[rt+15]=pe,this.uint16[rt+16]=Ce,this.uint16[rt+17]=ge,this.uint16[rt+18]=xe,this.uint16[rt+19]=Ue,this.uint16[rt+20]=Ge,this.uint16[rt+21]=mt,this.uint16[rt+22]=Et,this.uint32[Lt+12]=pt,this.float32[Lt+13]=ht,this.float32[Lt+14]=lt,this.uint16[rt+30]=_t,this.uint16[rt+31]=dt,r}}Jl.prototype.bytesPerElement=64,bt("StructArrayLayout8i15ui1ul2f2ui64",Jl);class ga extends ti{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(r){const u=this.length;return this.resize(u+1),this.emplace(u,r)}emplace(r,u){return this.float32[1*r+0]=u,r}}ga.prototype.bytesPerElement=4,bt("StructArrayLayout1f4",ga);class mp extends ti{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(r,u,f){const g=this.length;return this.resize(g+1),this.emplace(g,r,u,f)}emplace(r,u,f,g){const x=3*r;return this.uint16[6*r+0]=u,this.float32[x+1]=f,this.float32[x+2]=g,r}}mp.prototype.bytesPerElement=12,bt("StructArrayLayout1ui2f12",mp);class Kd extends ti{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(r,u,f){const g=this.length;return this.resize(g+1),this.emplace(g,r,u,f)}emplace(r,u,f,g){const x=4*r;return this.uint32[2*r+0]=u,this.uint16[x+2]=f,this.uint16[x+3]=g,r}}Kd.prototype.bytesPerElement=8,bt("StructArrayLayout1ul2ui8",Kd);class Ka extends ti{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(r,u){const f=this.length;return this.resize(f+1),this.emplace(f,r,u)}emplace(r,u,f){const g=2*r;return this.uint16[g+0]=u,this.uint16[g+1]=f,r}}Ka.prototype.bytesPerElement=4,bt("StructArrayLayout2ui4",Ka);class gp extends ti{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(r){const u=this.length;return this.resize(u+1),this.emplace(u,r)}emplace(r,u){return this.uint16[1*r+0]=u,r}}gp.prototype.bytesPerElement=2,bt("StructArrayLayout1ui2",gp);class yp extends ti{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(r,u,f,g){const x=this.length;return this.resize(x+1),this.emplace(x,r,u,f,g)}emplace(r,u,f,g,x){const w=4*r;return this.float32[w+0]=u,this.float32[w+1]=f,this.float32[w+2]=g,this.float32[w+3]=x,r}}yp.prototype.bytesPerElement=16,bt("StructArrayLayout4f16",yp);class vp extends Xl{get anchorPointX(){return this._structArray.int16[this._pos2+0]}get anchorPointY(){return this._structArray.int16[this._pos2+1]}get x1(){return this._structArray.int16[this._pos2+2]}get y1(){return this._structArray.int16[this._pos2+3]}get x2(){return this._structArray.int16[this._pos2+4]}get y2(){return this._structArray.int16[this._pos2+5]}get featureIndex(){return this._structArray.uint32[this._pos4+3]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+8]}get bucketIndex(){return this._structArray.uint16[this._pos2+9]}get anchorPoint(){return new S(this.anchorPointX,this.anchorPointY)}}vp.prototype.size=20;class Cy extends $s{get(r){return new vp(this,r)}}bt("CollisionBoxArray",Cy);class v extends Xl{get anchorX(){return this._structArray.int16[this._pos2+0]}get anchorY(){return this._structArray.int16[this._pos2+1]}get glyphStartIndex(){return this._structArray.uint16[this._pos2+2]}get numGlyphs(){return this._structArray.uint16[this._pos2+3]}get vertexStartIndex(){return this._structArray.uint32[this._pos4+2]}get lineStartIndex(){return this._structArray.uint32[this._pos4+3]}get lineLength(){return this._structArray.uint32[this._pos4+4]}get segment(){return this._structArray.uint16[this._pos2+10]}get lowerSize(){return this._structArray.uint16[this._pos2+11]}get upperSize(){return this._structArray.uint16[this._pos2+12]}get lineOffsetX(){return this._structArray.float32[this._pos4+7]}get lineOffsetY(){return this._structArray.float32[this._pos4+8]}get writingMode(){return this._structArray.uint8[this._pos1+36]}get placedOrientation(){return this._structArray.uint8[this._pos1+37]}set placedOrientation(r){this._structArray.uint8[this._pos1+37]=r}get hidden(){return this._structArray.uint8[this._pos1+38]}set hidden(r){this._structArray.uint8[this._pos1+38]=r}get crossTileID(){return this._structArray.uint32[this._pos4+10]}set crossTileID(r){this._structArray.uint32[this._pos4+10]=r}get associatedIconIndex(){return this._structArray.int16[this._pos2+22]}}v.prototype.size=48;class o extends pp{get(r){return new v(this,r)}}bt("PlacedSymbolArray",o);class h extends Xl{get anchorX(){return this._structArray.int16[this._pos2+0]}get anchorY(){return this._structArray.int16[this._pos2+1]}get rightJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+2]}get centerJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+3]}get leftJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+4]}get verticalPlacedTextSymbolIndex(){return this._structArray.int16[this._pos2+5]}get placedIconSymbolIndex(){return this._structArray.int16[this._pos2+6]}get verticalPlacedIconSymbolIndex(){return this._structArray.int16[this._pos2+7]}get key(){return this._structArray.uint16[this._pos2+8]}get textBoxStartIndex(){return this._structArray.uint16[this._pos2+9]}get textBoxEndIndex(){return this._structArray.uint16[this._pos2+10]}get verticalTextBoxStartIndex(){return this._structArray.uint16[this._pos2+11]}get verticalTextBoxEndIndex(){return this._structArray.uint16[this._pos2+12]}get iconBoxStartIndex(){return this._structArray.uint16[this._pos2+13]}get iconBoxEndIndex(){return this._structArray.uint16[this._pos2+14]}get verticalIconBoxStartIndex(){return this._structArray.uint16[this._pos2+15]}get verticalIconBoxEndIndex(){return this._structArray.uint16[this._pos2+16]}get featureIndex(){return this._structArray.uint16[this._pos2+17]}get numHorizontalGlyphVertices(){return this._structArray.uint16[this._pos2+18]}get numVerticalGlyphVertices(){return this._structArray.uint16[this._pos2+19]}get numIconVertices(){return this._structArray.uint16[this._pos2+20]}get numVerticalIconVertices(){return this._structArray.uint16[this._pos2+21]}get useRuntimeCollisionCircles(){return this._structArray.uint16[this._pos2+22]}get crossTileID(){return this._structArray.uint32[this._pos4+12]}set crossTileID(r){this._structArray.uint32[this._pos4+12]=r}get textBoxScale(){return this._structArray.float32[this._pos4+13]}get collisionCircleDiameter(){return this._structArray.float32[this._pos4+14]}get textAnchorOffsetStartIndex(){return this._structArray.uint16[this._pos2+30]}get textAnchorOffsetEndIndex(){return this._structArray.uint16[this._pos2+31]}}h.prototype.size=64;class p extends Jl{get(r){return new h(this,r)}}bt("SymbolInstanceArray",p);class m extends ga{getoffsetX(r){return this.float32[1*r+0]}}bt("GlyphOffsetArray",m);class _ extends qd{getx(r){return this.int16[3*r+0]}gety(r){return this.int16[3*r+1]}gettileUnitDistanceFromAnchor(r){return this.int16[3*r+2]}}bt("SymbolLineVertexArray",_);class T extends Xl{get textAnchor(){return this._structArray.uint16[this._pos2+0]}get textOffset0(){return this._structArray.float32[this._pos4+1]}get textOffset1(){return this._structArray.float32[this._pos4+2]}}T.prototype.size=12;class I extends mp{get(r){return new T(this,r)}}bt("TextAnchorOffsetArray",I);class R extends Xl{get featureIndex(){return this._structArray.uint32[this._pos4+0]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+2]}get bucketIndex(){return this._structArray.uint16[this._pos2+3]}}R.prototype.size=8;class L extends Kd{get(r){return new R(this,r)}}bt("FeatureIndexArray",L);class B extends xu{}class j extends xu{}class K extends xu{}class le extends cp{}class se extends up{}class de extends wu{}class ee extends dp{}class ye extends Wd{}class Ae extends hp{}class he extends fp{}class Se extends Zd{}class Me extends Gd{}class ze extends Yl{}class je extends Ka{}const tt=pi([{name:"a_pos",components:2,type:"Int16"}],4),{members:Xe}=tt;class Je{constructor(r=[]){this.segments=r}prepareSegment(r,u,f,g){let x=this.segments[this.segments.length-1];return r>Je.MAX_VERTEX_ARRAY_LENGTH&&Pe("Max vertices per segment is ".concat(Je.MAX_VERTEX_ARRAY_LENGTH,": bucket requested ").concat(r)),(!x||x.vertexLength+r>Je.MAX_VERTEX_ARRAY_LENGTH||x.sortKey!==g)&&(x={vertexOffset:u.length,primitiveOffset:f.length,vertexLength:0,primitiveLength:0},g!==void 0&&(x.sortKey=g),this.segments.push(x)),x}get(){return this.segments}destroy(){for(const r of this.segments)for(const u in r.vaos)r.vaos[u].destroy()}static simpleSegment(r,u,f,g){return new Je([{vertexOffset:r,primitiveOffset:u,vertexLength:f,primitiveLength:g,vaos:{},sortKey:0}])}}function vt(a,r){return 256*(a=Q(Math.floor(a),0,255))+Q(Math.floor(r),0,255)}Je.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,bt("SegmentVector",Je);const Xt=pi([{name:"a_pattern_from",components:4,type:"Uint16"},{name:"a_pattern_to",components:4,type:"Uint16"},{name:"a_pixel_ratio_from",components:1,type:"Uint16"},{name:"a_pixel_ratio_to",components:1,type:"Uint16"}]);var ut={exports:{}},jt={exports:{}};jt.exports=function(a,r){var u,f,g,x,w,C,P,M;for(f=a.length-(u=3&a.length),g=r,w=3432918353,C=461845907,M=0;M<f;)P=255&a.charCodeAt(M)|(255&a.charCodeAt(++M))<<8|(255&a.charCodeAt(++M))<<16|(255&a.charCodeAt(++M))<<24,++M,g=27492+(65535&(x=5*(65535&(g=(g^=P=(65535&(P=(P=(65535&P)*w+(((P>>>16)*w&65535)<<16)&4294967295)<<15|P>>>17))*C+(((P>>>16)*C&65535)<<16)&4294967295)<<13|g>>>19))+((5*(g>>>16)&65535)<<16)&4294967295))+((58964+(x>>>16)&65535)<<16);switch(P=0,u){case 3:P^=(255&a.charCodeAt(M+2))<<16;case 2:P^=(255&a.charCodeAt(M+1))<<8;case 1:g^=P=(65535&(P=(P=(65535&(P^=255&a.charCodeAt(M)))*w+(((P>>>16)*w&65535)<<16)&4294967295)<<15|P>>>17))*C+(((P>>>16)*C&65535)<<16)&4294967295}return g^=a.length,g=2246822507*(65535&(g^=g>>>16))+((2246822507*(g>>>16)&65535)<<16)&4294967295,g=3266489909*(65535&(g^=g>>>13))+((3266489909*(g>>>16)&65535)<<16)&4294967295,(g^=g>>>16)>>>0};var tn=jt.exports,hn={exports:{}};hn.exports=function(a,r){for(var u,f=a.length,g=r^f,x=0;f>=4;)u=1540483477*(65535&(u=255&a.charCodeAt(x)|(255&a.charCodeAt(++x))<<8|(255&a.charCodeAt(++x))<<16|(255&a.charCodeAt(++x))<<24))+((1540483477*(u>>>16)&65535)<<16),g=1540483477*(65535&g)+((1540483477*(g>>>16)&65535)<<16)^(u=1540483477*(65535&(u^=u>>>24))+((1540483477*(u>>>16)&65535)<<16)),f-=4,++x;switch(f){case 3:g^=(255&a.charCodeAt(x+2))<<16;case 2:g^=(255&a.charCodeAt(x+1))<<8;case 1:g=1540483477*(65535&(g^=255&a.charCodeAt(x)))+((1540483477*(g>>>16)&65535)<<16)}return g=1540483477*(65535&(g^=g>>>13))+((1540483477*(g>>>16)&65535)<<16),(g^=g>>>15)>>>0};var qt=tn,nn=hn.exports;ut.exports=qt,ut.exports.murmur3=qt,ut.exports.murmur2=nn;var rn=y(ut.exports);class Xn{constructor(){this.ids=[],this.positions=[],this.indexed=!1}add(r,u,f,g){this.ids.push(Ln(r)),this.positions.push(u,f,g)}getPositions(r){if(!this.indexed)throw new Error("Trying to get index, but feature positions are not indexed");const u=Ln(r);let f=0,g=this.ids.length-1;for(;f<g;){const w=f+g>>1;this.ids[w]>=u?g=w:f=w+1}const x=[];for(;this.ids[f]===u;)x.push({index:this.positions[3*f],start:this.positions[3*f+1],end:this.positions[3*f+2]}),f++;return x}static serialize(r,u){const f=new Float64Array(r.ids),g=new Uint32Array(r.positions);return $r(f,g,0,f.length-1),u&&u.push(f.buffer,g.buffer),{ids:f,positions:g}}static deserialize(r){const u=new Xn;return u.ids=r.ids,u.positions=r.positions,u.indexed=!0,u}}function Ln(a){const r=+a;return!isNaN(r)&&r<=Number.MAX_SAFE_INTEGER?r:rn(String(a))}function $r(a,r,u,f){for(;u<f;){const g=a[u+f>>1];let x=u-1,w=f+1;for(;;){do x++;while(a[x]<g);do w--;while(a[w]>g);if(x>=w)break;Pi(a,x,w),Pi(r,3*x,3*w),Pi(r,3*x+1,3*w+1),Pi(r,3*x+2,3*w+2)}w-u<f-w?($r(a,r,u,w),u=w+1):($r(a,r,w+1,f),f=w)}}function Pi(a,r,u){const f=a[r];a[r]=a[u],a[u]=f}bt("FeaturePositionMap",Xn);class Dn{constructor(r,u){this.gl=r.gl,this.location=u}}class sr extends Dn{constructor(r,u){super(r,u),this.current=0}set(r){this.current!==r&&(this.current=r,this.gl.uniform1f(this.location,r))}}class Fo extends Dn{constructor(r,u){super(r,u),this.current=[0,0,0,0]}set(r){r[0]===this.current[0]&&r[1]===this.current[1]&&r[2]===this.current[2]&&r[3]===this.current[3]||(this.current=r,this.gl.uniform4f(this.location,r[0],r[1],r[2],r[3]))}}class ds extends Dn{constructor(r,u){super(r,u),this.current=xn.transparent}set(r){r.r===this.current.r&&r.g===this.current.g&&r.b===this.current.b&&r.a===this.current.a||(this.current=r,this.gl.uniform4f(this.location,r.r,r.g,r.b,r.a))}}const Xa=new Float32Array(16);function Ya(a){return[vt(255*a.r,255*a.g),vt(255*a.b,255*a.a)]}class hs{constructor(r,u,f){this.value=r,this.uniformNames=u.map(g=>"u_".concat(g)),this.type=f}setUniform(r,u,f){r.set(f.constantOr(this.value))}getBinding(r,u,f){return this.type==="color"?new ds(r,u):new sr(r,u)}}class No{constructor(r,u){this.uniformNames=u.map(f=>"u_".concat(f)),this.patternFrom=null,this.patternTo=null,this.pixelRatioFrom=1,this.pixelRatioTo=1}setConstantPatternPositions(r,u){this.pixelRatioFrom=u.pixelRatio,this.pixelRatioTo=r.pixelRatio,this.patternFrom=u.tlbr,this.patternTo=r.tlbr}setUniform(r,u,f,g){const x=g==="u_pattern_to"?this.patternTo:g==="u_pattern_from"?this.patternFrom:g==="u_pixel_ratio_to"?this.pixelRatioTo:g==="u_pixel_ratio_from"?this.pixelRatioFrom:null;x&&r.set(x)}getBinding(r,u,f){return f.substr(0,9)==="u_pattern"?new Fo(r,u):new sr(r,u)}}class ni{constructor(r,u,f,g){this.expression=r,this.type=f,this.maxValue=0,this.paintVertexAttributes=u.map(x=>({name:"a_".concat(x),type:"Float32",components:f==="color"?2:1,offset:0})),this.paintVertexArray=new g}populatePaintArray(r,u,f,g,x){const w=this.paintVertexArray.length,C=this.expression.evaluate(new Nn(0),u,{},g,[],x);this.paintVertexArray.resize(r),this._setPaintValue(w,r,C)}updatePaintArray(r,u,f,g){const x=this.expression.evaluate({zoom:0},f,g);this._setPaintValue(r,u,x)}_setPaintValue(r,u,f){if(this.type==="color"){const g=Ya(f);for(let x=r;x<u;x++)this.paintVertexArray.emplace(x,g[0],g[1])}else{for(let g=r;g<u;g++)this.paintVertexArray.emplace(g,f);this.maxValue=Math.max(this.maxValue,Math.abs(f))}}upload(r){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=r.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}}class jn{constructor(r,u,f,g,x,w){this.expression=r,this.uniformNames=u.map(C=>"u_".concat(C,"_t")),this.type=f,this.useIntegerZoom=g,this.zoom=x,this.maxValue=0,this.paintVertexAttributes=u.map(C=>({name:"a_".concat(C),type:"Float32",components:f==="color"?4:2,offset:0})),this.paintVertexArray=new w}populatePaintArray(r,u,f,g,x){const w=this.expression.evaluate(new Nn(this.zoom),u,{},g,[],x),C=this.expression.evaluate(new Nn(this.zoom+1),u,{},g,[],x),P=this.paintVertexArray.length;this.paintVertexArray.resize(r),this._setPaintValue(P,r,w,C)}updatePaintArray(r,u,f,g){const x=this.expression.evaluate({zoom:this.zoom},f,g),w=this.expression.evaluate({zoom:this.zoom+1},f,g);this._setPaintValue(r,u,x,w)}_setPaintValue(r,u,f,g){if(this.type==="color"){const x=Ya(f),w=Ya(g);for(let C=r;C<u;C++)this.paintVertexArray.emplace(C,x[0],x[1],w[0],w[1])}else{for(let x=r;x<u;x++)this.paintVertexArray.emplace(x,f,g);this.maxValue=Math.max(this.maxValue,Math.abs(f),Math.abs(g))}}upload(r){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=r.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}setUniform(r,u){const f=this.useIntegerZoom?Math.floor(u.zoom):u.zoom,g=Q(this.expression.interpolationFactor(f,this.zoom,this.zoom+1),0,1);r.set(g)}getBinding(r,u,f){return new sr(r,u)}}class ui{constructor(r,u,f,g,x,w){this.expression=r,this.type=u,this.useIntegerZoom=f,this.zoom=g,this.layerId=w,this.zoomInPaintVertexArray=new x,this.zoomOutPaintVertexArray=new x}populatePaintArray(r,u,f){const g=this.zoomInPaintVertexArray.length;this.zoomInPaintVertexArray.resize(r),this.zoomOutPaintVertexArray.resize(r),this._setPaintValues(g,r,u.patterns&&u.patterns[this.layerId],f)}updatePaintArray(r,u,f,g,x){this._setPaintValues(r,u,f.patterns&&f.patterns[this.layerId],x)}_setPaintValues(r,u,f,g){if(!g||!f)return;const{min:x,mid:w,max:C}=f,P=g[x],M=g[w],O=g[C];if(P&&M&&O)for(let D=r;D<u;D++)this.zoomInPaintVertexArray.emplace(D,M.tl[0],M.tl[1],M.br[0],M.br[1],P.tl[0],P.tl[1],P.br[0],P.br[1],M.pixelRatio,P.pixelRatio),this.zoomOutPaintVertexArray.emplace(D,M.tl[0],M.tl[1],M.br[0],M.br[1],O.tl[0],O.tl[1],O.br[0],O.br[1],M.pixelRatio,O.pixelRatio)}upload(r){this.zoomInPaintVertexArray&&this.zoomInPaintVertexArray.arrayBuffer&&this.zoomOutPaintVertexArray&&this.zoomOutPaintVertexArray.arrayBuffer&&(this.zoomInPaintVertexBuffer=r.createVertexBuffer(this.zoomInPaintVertexArray,Xt.members,this.expression.isStateDependent),this.zoomOutPaintVertexBuffer=r.createVertexBuffer(this.zoomOutPaintVertexArray,Xt.members,this.expression.isStateDependent))}destroy(){this.zoomOutPaintVertexBuffer&&this.zoomOutPaintVertexBuffer.destroy(),this.zoomInPaintVertexBuffer&&this.zoomInPaintVertexBuffer.destroy()}}class Ql{constructor(r,u,f){this.binders={},this._buffers=[];const g=[];for(const x in r.paint._values){if(!f(x))continue;const w=r.paint.get(x);if(!(w instanceof $o&&Nl(w.property.specification)))continue;const C=Hi(x,r.type),P=w.value,M=w.property.specification.type,O=w.property.useIntegerZoom,D=w.property.specification["property-type"],H=D==="cross-faded"||D==="cross-faded-data-driven";if(P.kind==="constant")this.binders[x]=H?new No(P.value,C):new hs(P.value,C,M),g.push("/u_".concat(x));else if(P.kind==="source"||H){const G=eo(x,M,"source");this.binders[x]=H?new ui(P,M,O,u,G,r.id):new ni(P,C,M,G),g.push("/a_".concat(x))}else{const G=eo(x,M,"composite");this.binders[x]=new jn(P,C,M,O,u,G),g.push("/z_".concat(x))}}this.cacheKey=g.sort().join("")}getMaxValue(r){const u=this.binders[r];return u instanceof ni||u instanceof jn?u.maxValue:0}populatePaintArrays(r,u,f,g,x){for(const w in this.binders){const C=this.binders[w];(C instanceof ni||C instanceof jn||C instanceof ui)&&C.populatePaintArray(r,u,f,g,x)}}setConstantPatternPositions(r,u){for(const f in this.binders){const g=this.binders[f];g instanceof No&&g.setConstantPatternPositions(r,u)}}updatePaintArrays(r,u,f,g,x){let w=!1;for(const C in r){const P=u.getPositions(C);for(const M of P){const O=f.feature(M.index);for(const D in this.binders){const H=this.binders[D];if((H instanceof ni||H instanceof jn||H instanceof ui)&&H.expression.isStateDependent===!0){const G=g.paint.get(D);H.expression=G.value,H.updatePaintArray(M.start,M.end,O,r[C],x),w=!0}}}}return w}defines(){const r=[];for(const u in this.binders){const f=this.binders[u];(f instanceof hs||f instanceof No)&&r.push(...f.uniformNames.map(g=>"#define HAS_UNIFORM_".concat(g)))}return r}getBinderAttributes(){const r=[];for(const u in this.binders){const f=this.binders[u];if(f instanceof ni||f instanceof jn)for(let g=0;g<f.paintVertexAttributes.length;g++)r.push(f.paintVertexAttributes[g].name);else if(f instanceof ui)for(let g=0;g<Xt.members.length;g++)r.push(Xt.members[g].name)}return r}getBinderUniforms(){const r=[];for(const u in this.binders){const f=this.binders[u];if(f instanceof hs||f instanceof No||f instanceof jn)for(const g of f.uniformNames)r.push(g)}return r}getPaintVertexBuffers(){return this._buffers}getUniforms(r,u){const f=[];for(const g in this.binders){const x=this.binders[g];if(x instanceof hs||x instanceof No||x instanceof jn){for(const w of x.uniformNames)if(u[w]){const C=x.getBinding(r,u[w],w);f.push({name:w,property:g,binding:C})}}}return f}setUniforms(r,u,f,g){for(const{name:x,property:w,binding:C}of u)this.binders[w].setUniform(C,g,f.get(w),x)}updatePaintBuffers(r){this._buffers=[];for(const u in this.binders){const f=this.binders[u];if(r&&f instanceof ui){const g=r.fromScale===2?f.zoomInPaintVertexBuffer:f.zoomOutPaintVertexBuffer;g&&this._buffers.push(g)}else(f instanceof ni||f instanceof jn)&&f.paintVertexBuffer&&this._buffers.push(f.paintVertexBuffer)}}upload(r){for(const u in this.binders){const f=this.binders[u];(f instanceof ni||f instanceof jn||f instanceof ui)&&f.upload(r)}this.updatePaintBuffers()}destroy(){for(const r in this.binders){const u=this.binders[r];(u instanceof ni||u instanceof jn||u instanceof ui)&&u.destroy()}}}class Zn{constructor(r,u,f=()=>!0){this.programConfigurations={};for(const g of r)this.programConfigurations[g.id]=new Ql(g,u,f);this.needsUpload=!1,this._featureMap=new Xn,this._bufferOffset=0}populatePaintArrays(r,u,f,g,x,w){for(const C in this.programConfigurations)this.programConfigurations[C].populatePaintArrays(r,u,g,x,w);u.id!==void 0&&this._featureMap.add(u.id,f,this._bufferOffset,r),this._bufferOffset=r,this.needsUpload=!0}updatePaintArrays(r,u,f,g){for(const x of f)this.needsUpload=this.programConfigurations[x.id].updatePaintArrays(r,this._featureMap,u,x,g)||this.needsUpload}get(r){return this.programConfigurations[r]}upload(r){if(this.needsUpload){for(const u in this.programConfigurations)this.programConfigurations[u].upload(r);this.needsUpload=!1}}destroy(){for(const r in this.programConfigurations)this.programConfigurations[r].destroy()}}function Hi(a,r){return{"text-opacity":["opacity"],"icon-opacity":["opacity"],"text-color":["fill_color"],"icon-color":["fill_color"],"text-halo-color":["halo_color"],"icon-halo-color":["halo_color"],"text-halo-blur":["halo_blur"],"icon-halo-blur":["halo_blur"],"text-halo-width":["halo_width"],"icon-halo-width":["halo_width"],"line-gap-width":["gapwidth"],"line-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-extrusion-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"]}[a]||[a.replace("".concat(r,"-"),"").replace(/-/g,"_")]}function eo(a,r,u){const f={color:{source:wu,composite:yp},number:{source:ga,composite:wu}},g=function(x){return{"line-pattern":{source:ee,composite:ee},"fill-pattern":{source:ee,composite:ee},"fill-extrusion-pattern":{source:ee,composite:ee}}[x]}(a);return g&&g[u]||f[r][u]}bt("ConstantBinder",hs),bt("CrossFadedConstantBinder",No),bt("SourceExpressionBinder",ni),bt("CrossFadedCompositeBinder",ui),bt("CompositeExpressionBinder",jn),bt("ProgramConfiguration",Ql,{omit:["_buffers"]}),bt("ProgramConfigurationSet",Zn);const un=8192,bp=Math.pow(2,14)-1,Ty=-bp-1;function Ja(a){const r=un/a.extent,u=a.loadGeometry();for(let f=0;f<u.length;f++){const g=u[f];for(let x=0;x<g.length;x++){const w=g[x],C=Math.round(w.x*r),P=Math.round(w.y*r);w.x=Q(C,Ty,bp),w.y=Q(P,Ty,bp),(C<w.x||C>w.x+1||P<w.y||P>w.y+1)&&Pe("Geometry exceeds allowed extent, reduce your vector tile buffer size")}}return u}function Qa(a,r){return{type:a.type,id:a.id,properties:a.properties,geometry:r?Ja(a):[]}}function Xd(a,r,u,f,g){a.emplaceBack(2*r+(f+1)/2,2*u+(g+1)/2)}class _p{constructor(r){this.zoom=r.zoom,this.overscaling=r.overscaling,this.layers=r.layers,this.layerIds=this.layers.map(u=>u.id),this.index=r.index,this.hasPattern=!1,this.layoutVertexArray=new j,this.indexArray=new ze,this.segments=new Je,this.programConfigurations=new Zn(r.layers,r.zoom),this.stateDependentLayerIds=this.layers.filter(u=>u.isStateDependent()).map(u=>u.id)}populate(r,u,f){const g=this.layers[0],x=[];let w=null,C=!1;g.type==="circle"&&(w=g.layout.get("circle-sort-key"),C=!w.isConstant());for(const{feature:P,id:M,index:O,sourceLayerIndex:D}of r){const H=this.layers[0]._featureFilter.needGeometry,G=Qa(P,H);if(!this.layers[0]._featureFilter.filter(new Nn(this.zoom),G,f))continue;const X=C?w.evaluate(G,{},f):void 0,te={id:M,properties:P.properties,type:P.type,sourceLayerIndex:D,index:O,geometry:H?G.geometry:Ja(P),patterns:{},sortKey:X};x.push(te)}C&&x.sort((P,M)=>P.sortKey-M.sortKey);for(const P of x){const{geometry:M,index:O,sourceLayerIndex:D}=P,H=r[O].feature;this.addFeature(P,M,O,f),u.featureIndex.insert(H,M,O,D,this.index)}}update(r,u,f){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(r,u,this.stateDependentLayers,f)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(r){this.uploaded||(this.layoutVertexBuffer=r.createVertexBuffer(this.layoutVertexArray,Xe),this.indexBuffer=r.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(r),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}addFeature(r,u,f,g){for(const x of u)for(const w of x){const C=w.x,P=w.y;if(C<0||C>=un||P<0||P>=un)continue;const M=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray,r.sortKey),O=M.vertexLength;Xd(this.layoutVertexArray,C,P,-1,-1),Xd(this.layoutVertexArray,C,P,1,-1),Xd(this.layoutVertexArray,C,P,1,1),Xd(this.layoutVertexArray,C,P,-1,1),this.indexArray.emplaceBack(O,O+1,O+2),this.indexArray.emplaceBack(O,O+3,O+2),M.vertexLength+=4,M.primitiveLength+=2}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,r,f,{},g)}}function el(a,r){for(let u=0;u<a.length;u++)if(Yd(r,a[u]))return!0;for(let u=0;u<r.length;u++)if(Yd(a,r[u]))return!0;return!!ku(a,r)}function Iy(a,r,u){return!!Yd(a,r)||!!Eu(r,a,u)}function xp(a,r){if(a.length===1)return qE(r,a[0]);for(let u=0;u<r.length;u++){const f=r[u];for(let g=0;g<f.length;g++)if(Yd(a,f[g]))return!0}for(let u=0;u<a.length;u++)if(qE(r,a[u]))return!0;for(let u=0;u<r.length;u++)if(ku(a,r[u]))return!0;return!1}function Py(a,r,u){if(a.length>1){if(ku(a,r))return!0;for(let f=0;f<r.length;f++)if(Eu(r[f],a,u))return!0}for(let f=0;f<a.length;f++)if(Eu(a[f],r,u))return!0;return!1}function ku(a,r){if(a.length===0||r.length===0)return!1;for(let u=0;u<a.length-1;u++){const f=a[u],g=a[u+1];for(let x=0;x<r.length-1;x++)if(Ay(f,g,r[x],r[x+1]))return!0}return!1}function Ay(a,r,u,f){return De(a,u,f)!==De(r,u,f)&&De(a,r,u)!==De(a,r,f)}function Eu(a,r,u){const f=u*u;if(r.length===1)return a.distSqr(r[0])<f;for(let g=1;g<r.length;g++)if(HE(a,r[g-1],r[g])<f)return!0;return!1}function HE(a,r,u){const f=r.distSqr(u);if(f===0)return a.distSqr(r);const g=((a.x-r.x)*(u.x-r.x)+(a.y-r.y)*(u.y-r.y))/f;return a.distSqr(g<0?r:g>1?u:u.sub(r)._mult(g)._add(r))}function qE(a,r){let u,f,g,x=!1;for(let w=0;w<a.length;w++){u=a[w];for(let C=0,P=u.length-1;C<u.length;P=C++)f=u[C],g=u[P],f.y>r.y!=g.y>r.y&&r.x<(g.x-f.x)*(r.y-f.y)/(g.y-f.y)+f.x&&(x=!x)}return x}function Yd(a,r){let u=!1;for(let f=0,g=a.length-1;f<a.length;g=f++){const x=a[f],w=a[g];x.y>r.y!=w.y>r.y&&r.x<(w.x-x.x)*(r.y-x.y)/(w.y-x.y)+x.x&&(u=!u)}return u}function H5(a,r,u){const f=u[0],g=u[2];if(a.x<f.x&&r.x<f.x||a.x>g.x&&r.x>g.x||a.y<f.y&&r.y<f.y||a.y>g.y&&r.y>g.y)return!1;const x=De(a,r,u[0]);return x!==De(a,r,u[1])||x!==De(a,r,u[2])||x!==De(a,r,u[3])}function wp(a,r,u){const f=r.paint.get(a).value;return f.kind==="constant"?f.value:u.programConfigurations.get(r.id).getMaxValue(a)}function Ry(a){return Math.sqrt(a[0]*a[0]+a[1]*a[1])}function My(a,r,u,f,g){if(!r[0]&&!r[1])return a;const x=S.convert(r)._mult(g);u==="viewport"&&x._rotate(-f);const w=[];for(let C=0;C<a.length;C++)w.push(a[C].sub(x));return w}let WE,ZE;bt("CircleBucket",_p,{omit:["layers"]});var q5={get paint(){return ZE=ZE||new Dr({"circle-radius":new Bt(Ne.paint_circle["circle-radius"]),"circle-color":new Bt(Ne.paint_circle["circle-color"]),"circle-blur":new Bt(Ne.paint_circle["circle-blur"]),"circle-opacity":new Bt(Ne.paint_circle["circle-opacity"]),"circle-translate":new Pt(Ne.paint_circle["circle-translate"]),"circle-translate-anchor":new Pt(Ne.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new Pt(Ne.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new Pt(Ne.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new Bt(Ne.paint_circle["circle-stroke-width"]),"circle-stroke-color":new Bt(Ne.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new Bt(Ne.paint_circle["circle-stroke-opacity"])})},get layout(){return WE=WE||new Dr({"circle-sort-key":new Bt(Ne.layout_circle["circle-sort-key"])})}},Br=1e-6,Jd=typeof Float32Array<"u"?Float32Array:Array;function V_(a){return a[0]=1,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=1,a[6]=0,a[7]=0,a[8]=0,a[9]=0,a[10]=1,a[11]=0,a[12]=0,a[13]=0,a[14]=0,a[15]=1,a}function GE(a,r,u){var f=r[0],g=r[1],x=r[2],w=r[3],C=r[4],P=r[5],M=r[6],O=r[7],D=r[8],H=r[9],G=r[10],X=r[11],te=r[12],ue=r[13],pe=r[14],Ce=r[15],ge=u[0],xe=u[1],Ue=u[2],Ge=u[3];return a[0]=ge*f+xe*C+Ue*D+Ge*te,a[1]=ge*g+xe*P+Ue*H+Ge*ue,a[2]=ge*x+xe*M+Ue*G+Ge*pe,a[3]=ge*w+xe*O+Ue*X+Ge*Ce,a[4]=(ge=u[4])*f+(xe=u[5])*C+(Ue=u[6])*D+(Ge=u[7])*te,a[5]=ge*g+xe*P+Ue*H+Ge*ue,a[6]=ge*x+xe*M+Ue*G+Ge*pe,a[7]=ge*w+xe*O+Ue*X+Ge*Ce,a[8]=(ge=u[8])*f+(xe=u[9])*C+(Ue=u[10])*D+(Ge=u[11])*te,a[9]=ge*g+xe*P+Ue*H+Ge*ue,a[10]=ge*x+xe*M+Ue*G+Ge*pe,a[11]=ge*w+xe*O+Ue*X+Ge*Ce,a[12]=(ge=u[12])*f+(xe=u[13])*C+(Ue=u[14])*D+(Ge=u[15])*te,a[13]=ge*g+xe*P+Ue*H+Ge*ue,a[14]=ge*x+xe*M+Ue*G+Ge*pe,a[15]=ge*w+xe*O+Ue*X+Ge*Ce,a}Math.hypot||(Math.hypot=function(){for(var a=0,r=arguments.length;r--;)a+=arguments[r]*arguments[r];return Math.sqrt(a)});var Sp,W5=GE;function zy(a,r,u){var f=r[0],g=r[1],x=r[2],w=r[3];return a[0]=u[0]*f+u[4]*g+u[8]*x+u[12]*w,a[1]=u[1]*f+u[5]*g+u[9]*x+u[13]*w,a[2]=u[2]*f+u[6]*g+u[10]*x+u[14]*w,a[3]=u[3]*f+u[7]*g+u[11]*x+u[15]*w,a}Sp=new Jd(4),Jd!=Float32Array&&(Sp[0]=0,Sp[1]=0,Sp[2]=0,Sp[3]=0);class Z5 extends Bo{constructor(r){super(r,q5)}createBucket(r){return new _p(r)}queryRadius(r){const u=r;return wp("circle-radius",this,u)+wp("circle-stroke-width",this,u)+Ry(this.paint.get("circle-translate"))}queryIntersectsFeature(r,u,f,g,x,w,C,P){const M=My(r,this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),w.angle,C),O=this.paint.get("circle-radius").evaluate(u,f)+this.paint.get("circle-stroke-width").evaluate(u,f),D=this.paint.get("circle-pitch-alignment")==="map",H=D?M:function(X,te){return X.map(ue=>KE(ue,te))}(M,P),G=D?O*C:O;for(const X of g)for(const te of X){const ue=D?te:KE(te,P);let pe=G;const Ce=zy([],[te.x,te.y,0,1],P);if(this.paint.get("circle-pitch-scale")==="viewport"&&this.paint.get("circle-pitch-alignment")==="map"?pe*=Ce[3]/w.cameraToCenterDistance:this.paint.get("circle-pitch-scale")==="map"&&this.paint.get("circle-pitch-alignment")==="viewport"&&(pe*=w.cameraToCenterDistance/Ce[3]),Iy(H,ue,pe))return!0}return!1}}function KE(a,r){const u=zy([],[a.x,a.y,0,1],r);return new S(u[0]/u[3],u[1]/u[3])}class XE extends _p{}let YE;bt("HeatmapBucket",XE,{omit:["layers"]});var G5={get paint(){return YE=YE||new Dr({"heatmap-radius":new Bt(Ne.paint_heatmap["heatmap-radius"]),"heatmap-weight":new Bt(Ne.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new Pt(Ne.paint_heatmap["heatmap-intensity"]),"heatmap-color":new _u(Ne.paint_heatmap["heatmap-color"]),"heatmap-opacity":new Pt(Ne.paint_heatmap["heatmap-opacity"])})}};function U_(a,{width:r,height:u},f,g){if(g){if(g instanceof Uint8ClampedArray)g=new Uint8Array(g.buffer);else if(g.length!==r*u*f)throw new RangeError("mismatched image size. expected: ".concat(g.length," but got: ").concat(r*u*f))}else g=new Uint8Array(r*u*f);return a.width=r,a.height=u,a.data=g,a}function JE(a,{width:r,height:u},f){if(r===a.width&&u===a.height)return;const g=U_({},{width:r,height:u},f);H_(a,g,{x:0,y:0},{x:0,y:0},{width:Math.min(a.width,r),height:Math.min(a.height,u)},f),a.width=r,a.height=u,a.data=g.data}function H_(a,r,u,f,g,x){if(g.width===0||g.height===0)return r;if(g.width>a.width||g.height>a.height||u.x>a.width-g.width||u.y>a.height-g.height)throw new RangeError("out of range source coordinates for image copy");if(g.width>r.width||g.height>r.height||f.x>r.width-g.width||f.y>r.height-g.height)throw new RangeError("out of range destination coordinates for image copy");const w=a.data,C=r.data;if(w===C)throw new Error("srcData equals dstData, so image is already copied");for(let P=0;P<g.height;P++){const M=((u.y+P)*a.width+u.x)*x,O=((f.y+P)*r.width+f.x)*x;for(let D=0;D<g.width*x;D++)C[O+D]=w[M+D]}return r}class kp{constructor(r,u){U_(this,r,1,u)}resize(r){JE(this,r,1)}clone(){return new kp({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(r,u,f,g,x){H_(r,u,f,g,x,1)}}class jo{constructor(r,u){U_(this,r,4,u)}resize(r){JE(this,r,4)}replace(r,u){u?this.data.set(r):this.data=r instanceof Uint8ClampedArray?new Uint8Array(r.buffer):r}clone(){return new jo({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(r,u,f,g,x){H_(r,u,f,g,x,4)}}function QE(a){const r={},u=a.resolution||256,f=a.clips?a.clips.length:1,g=a.image||new jo({width:u,height:f});if(Math.log(u)/Math.LN2%1!=0)throw new Error("width is not a power of 2 - ".concat(u));const x=(w,C,P)=>{r[a.evaluationKey]=P;const M=a.expression.evaluate(r);g.data[w+C+0]=Math.floor(255*M.r/M.a),g.data[w+C+1]=Math.floor(255*M.g/M.a),g.data[w+C+2]=Math.floor(255*M.b/M.a),g.data[w+C+3]=Math.floor(255*M.a)};if(a.clips)for(let w=0,C=0;w<f;++w,C+=4*u)for(let P=0,M=0;P<u;P++,M+=4){const O=P/(u-1),{start:D,end:H}=a.clips[w];x(C,M,D*(1-O)+H*O)}else for(let w=0,C=0;w<u;w++,C+=4)x(0,C,w/(u-1));return g}bt("AlphaImage",kp),bt("RGBAImage",jo);class K5 extends Bo{createBucket(r){return new XE(r)}constructor(r){super(r,G5),this._updateColorRamp()}_handleSpecialPaintPropertyUpdate(r){r==="heatmap-color"&&this._updateColorRamp()}_updateColorRamp(){this.colorRamp=QE({expression:this._transitionablePaint._values["heatmap-color"].value.expression,evaluationKey:"heatmapDensity",image:this.colorRamp}),this.colorRampTexture=null}resize(){this.heatmapFbo&&(this.heatmapFbo.destroy(),this.heatmapFbo=null)}queryRadius(){return 0}queryIntersectsFeature(){return!1}hasOffscreenPass(){return this.paint.get("heatmap-opacity")!==0&&this.visibility!=="none"}}let eC;var X5={get paint(){return eC=eC||new Dr({"hillshade-illumination-direction":new Pt(Ne.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-anchor":new Pt(Ne.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new Pt(Ne.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new Pt(Ne.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new Pt(Ne.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new Pt(Ne.paint_hillshade["hillshade-accent-color"])})}};class Y5 extends Bo{constructor(r){super(r,X5)}hasOffscreenPass(){return this.paint.get("hillshade-exaggeration")!==0&&this.visibility!=="none"}}const J5=pi([{name:"a_pos",components:2,type:"Int16"}],4),{members:Q5}=J5;var q_={exports:{}};function Ly(a,r,u){u=u||2;var f,g,x,w,C,P,M,O=r&&r.length,D=O?r[0]*u:a.length,H=tC(a,0,D,u,!0),G=[];if(!H||H.next===H.prev)return G;if(O&&(H=function(te,ue,pe,Ce){var ge,xe,Ue,Ge=[];for(ge=0,xe=ue.length;ge<xe;ge++)(Ue=tC(te,ue[ge]*Ce,ge<xe-1?ue[ge+1]*Ce:te.length,Ce,!1))===Ue.next&&(Ue.steiner=!0),Ge.push(aD(Ue));for(Ge.sort(rD),ge=0;ge<Ge.length;ge++)pe=oD(Ge[ge],pe);return pe}(a,r,H,u)),a.length>80*u){f=x=a[0],g=w=a[1];for(var X=u;X<D;X+=u)(C=a[X])<f&&(f=C),(P=a[X+1])<g&&(g=P),C>x&&(x=C),P>w&&(w=P);M=(M=Math.max(x-f,w-g))!==0?32767/M:0}return Ep(H,G,u,f,g,M,0),G}function tC(a,r,u,f,g){var x,w;if(g===G_(a,r,u,f)>0)for(x=r;x<u;x+=f)w=rC(x,a[x],a[x+1],w);else for(x=u-f;x>=r;x-=f)w=rC(x,a[x],a[x+1],w);return w&&Oy(w,w.next)&&(Tp(w),w=w.next),w}function Cu(a,r){if(!a)return a;r||(r=a);var u,f=a;do if(u=!1,f.steiner||!Oy(f,f.next)&&mi(f.prev,f,f.next)!==0)f=f.next;else{if(Tp(f),(f=r=f.prev)===f.next)break;u=!0}while(u||f!==r);return r}function Ep(a,r,u,f,g,x,w){if(a){!w&&x&&function(O,D,H,G){var X=O;do X.z===0&&(X.z=W_(X.x,X.y,D,H,G)),X.prevZ=X.prev,X.nextZ=X.next,X=X.next;while(X!==O);X.prevZ.nextZ=null,X.prevZ=null,function(te){var ue,pe,Ce,ge,xe,Ue,Ge,mt,Et=1;do{for(pe=te,te=null,xe=null,Ue=0;pe;){for(Ue++,Ce=pe,Ge=0,ue=0;ue<Et&&(Ge++,Ce=Ce.nextZ);ue++);for(mt=Et;Ge>0||mt>0&&Ce;)Ge!==0&&(mt===0||!Ce||pe.z<=Ce.z)?(ge=pe,pe=pe.nextZ,Ge--):(ge=Ce,Ce=Ce.nextZ,mt--),xe?xe.nextZ=ge:te=ge,ge.prevZ=xe,xe=ge;pe=Ce}xe.nextZ=null,Et*=2}while(Ue>1)}(X)}(a,f,g,x);for(var C,P,M=a;a.prev!==a.next;)if(C=a.prev,P=a.next,x?tD(a,f,g,x):eD(a))r.push(C.i/u|0),r.push(a.i/u|0),r.push(P.i/u|0),Tp(a),a=P.next,M=P.next;else if((a=P)===M){w?w===1?Ep(a=nD(Cu(a),r,u),r,u,f,g,x,2):w===2&&iD(a,r,u,f,g,x):Ep(Cu(a),r,u,f,g,x,1);break}}}function eD(a){var r=a.prev,u=a,f=a.next;if(mi(r,u,f)>=0)return!1;for(var g=r.x,x=u.x,w=f.x,C=r.y,P=u.y,M=f.y,O=g<x?g<w?g:w:x<w?x:w,D=C<P?C<M?C:M:P<M?P:M,H=g>x?g>w?g:w:x>w?x:w,G=C>P?C>M?C:M:P>M?P:M,X=f.next;X!==r;){if(X.x>=O&&X.x<=H&&X.y>=D&&X.y<=G&&Qd(g,C,x,P,w,M,X.x,X.y)&&mi(X.prev,X,X.next)>=0)return!1;X=X.next}return!0}function tD(a,r,u,f){var g=a.prev,x=a,w=a.next;if(mi(g,x,w)>=0)return!1;for(var C=g.x,P=x.x,M=w.x,O=g.y,D=x.y,H=w.y,G=C<P?C<M?C:M:P<M?P:M,X=O<D?O<H?O:H:D<H?D:H,te=C>P?C>M?C:M:P>M?P:M,ue=O>D?O>H?O:H:D>H?D:H,pe=W_(G,X,r,u,f),Ce=W_(te,ue,r,u,f),ge=a.prevZ,xe=a.nextZ;ge&&ge.z>=pe&&xe&&xe.z<=Ce;){if(ge.x>=G&&ge.x<=te&&ge.y>=X&&ge.y<=ue&&ge!==g&&ge!==w&&Qd(C,O,P,D,M,H,ge.x,ge.y)&&mi(ge.prev,ge,ge.next)>=0||(ge=ge.prevZ,xe.x>=G&&xe.x<=te&&xe.y>=X&&xe.y<=ue&&xe!==g&&xe!==w&&Qd(C,O,P,D,M,H,xe.x,xe.y)&&mi(xe.prev,xe,xe.next)>=0))return!1;xe=xe.nextZ}for(;ge&&ge.z>=pe;){if(ge.x>=G&&ge.x<=te&&ge.y>=X&&ge.y<=ue&&ge!==g&&ge!==w&&Qd(C,O,P,D,M,H,ge.x,ge.y)&&mi(ge.prev,ge,ge.next)>=0)return!1;ge=ge.prevZ}for(;xe&&xe.z<=Ce;){if(xe.x>=G&&xe.x<=te&&xe.y>=X&&xe.y<=ue&&xe!==g&&xe!==w&&Qd(C,O,P,D,M,H,xe.x,xe.y)&&mi(xe.prev,xe,xe.next)>=0)return!1;xe=xe.nextZ}return!0}function nD(a,r,u){var f=a;do{var g=f.prev,x=f.next.next;!Oy(g,x)&&nC(g,f,f.next,x)&&Cp(g,x)&&Cp(x,g)&&(r.push(g.i/u|0),r.push(f.i/u|0),r.push(x.i/u|0),Tp(f),Tp(f.next),f=a=x),f=f.next}while(f!==a);return Cu(f)}function iD(a,r,u,f,g,x){var w=a;do{for(var C=w.next.next;C!==w.prev;){if(w.i!==C.i&&lD(w,C)){var P=iC(w,C);return w=Cu(w,w.next),P=Cu(P,P.next),Ep(w,r,u,f,g,x,0),void Ep(P,r,u,f,g,x,0)}C=C.next}w=w.next}while(w!==a)}function rD(a,r){return a.x-r.x}function oD(a,r){var u=function(g,x){var w,C=x,P=g.x,M=g.y,O=-1/0;do{if(M<=C.y&&M>=C.next.y&&C.next.y!==C.y){var D=C.x+(M-C.y)*(C.next.x-C.x)/(C.next.y-C.y);if(D<=P&&D>O&&(O=D,w=C.x<C.next.x?C:C.next,D===P))return w}C=C.next}while(C!==x);if(!w)return null;var H,G=w,X=w.x,te=w.y,ue=1/0;C=w;do P>=C.x&&C.x>=X&&P!==C.x&&Qd(M<te?P:O,M,X,te,M<te?O:P,M,C.x,C.y)&&(H=Math.abs(M-C.y)/(P-C.x),Cp(C,g)&&(H<ue||H===ue&&(C.x>w.x||C.x===w.x&&sD(w,C)))&&(w=C,ue=H)),C=C.next;while(C!==G);return w}(a,r);if(!u)return r;var f=iC(u,a);return Cu(f,f.next),Cu(u,u.next)}function sD(a,r){return mi(a.prev,a,r.prev)<0&&mi(r.next,a,a.next)<0}function W_(a,r,u,f,g){return(a=1431655765&((a=858993459&((a=252645135&((a=16711935&((a=(a-u)*g|0)|a<<8))|a<<4))|a<<2))|a<<1))|(r=1431655765&((r=858993459&((r=252645135&((r=16711935&((r=(r-f)*g|0)|r<<8))|r<<4))|r<<2))|r<<1))<<1}function aD(a){var r=a,u=a;do(r.x<u.x||r.x===u.x&&r.y<u.y)&&(u=r),r=r.next;while(r!==a);return u}function Qd(a,r,u,f,g,x,w,C){return(g-w)*(r-C)>=(a-w)*(x-C)&&(a-w)*(f-C)>=(u-w)*(r-C)&&(u-w)*(x-C)>=(g-w)*(f-C)}function lD(a,r){return a.next.i!==r.i&&a.prev.i!==r.i&&!function(u,f){var g=u;do{if(g.i!==u.i&&g.next.i!==u.i&&g.i!==f.i&&g.next.i!==f.i&&nC(g,g.next,u,f))return!0;g=g.next}while(g!==u);return!1}(a,r)&&(Cp(a,r)&&Cp(r,a)&&function(u,f){var g=u,x=!1,w=(u.x+f.x)/2,C=(u.y+f.y)/2;do g.y>C!=g.next.y>C&&g.next.y!==g.y&&w<(g.next.x-g.x)*(C-g.y)/(g.next.y-g.y)+g.x&&(x=!x),g=g.next;while(g!==u);return x}(a,r)&&(mi(a.prev,a,r.prev)||mi(a,r.prev,r))||Oy(a,r)&&mi(a.prev,a,a.next)>0&&mi(r.prev,r,r.next)>0)}function mi(a,r,u){return(r.y-a.y)*(u.x-r.x)-(r.x-a.x)*(u.y-r.y)}function Oy(a,r){return a.x===r.x&&a.y===r.y}function nC(a,r,u,f){var g=$y(mi(a,r,u)),x=$y(mi(a,r,f)),w=$y(mi(u,f,a)),C=$y(mi(u,f,r));return g!==x&&w!==C||!(g!==0||!Dy(a,u,r))||!(x!==0||!Dy(a,f,r))||!(w!==0||!Dy(u,a,f))||!(C!==0||!Dy(u,r,f))}function Dy(a,r,u){return r.x<=Math.max(a.x,u.x)&&r.x>=Math.min(a.x,u.x)&&r.y<=Math.max(a.y,u.y)&&r.y>=Math.min(a.y,u.y)}function $y(a){return a>0?1:a<0?-1:0}function Cp(a,r){return mi(a.prev,a,a.next)<0?mi(a,r,a.next)>=0&&mi(a,a.prev,r)>=0:mi(a,r,a.prev)<0||mi(a,a.next,r)<0}function iC(a,r){var u=new Z_(a.i,a.x,a.y),f=new Z_(r.i,r.x,r.y),g=a.next,x=r.prev;return a.next=r,r.prev=a,u.next=g,g.prev=u,f.next=u,u.prev=f,x.next=f,f.prev=x,f}function rC(a,r,u,f){var g=new Z_(a,r,u);return f?(g.next=f.next,g.prev=f,f.next.prev=g,f.next=g):(g.prev=g,g.next=g),g}function Tp(a){a.next.prev=a.prev,a.prev.next=a.next,a.prevZ&&(a.prevZ.nextZ=a.nextZ),a.nextZ&&(a.nextZ.prevZ=a.prevZ)}function Z_(a,r,u){this.i=a,this.x=r,this.y=u,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function G_(a,r,u,f){for(var g=0,x=r,w=u-f;x<u;x+=f)g+=(a[w]-a[x])*(a[x+1]+a[w+1]),w=x;return g}q_.exports=Ly,q_.exports.default=Ly,Ly.deviation=function(a,r,u,f){var g=r&&r.length,x=Math.abs(G_(a,0,g?r[0]*u:a.length,u));if(g)for(var w=0,C=r.length;w<C;w++)x-=Math.abs(G_(a,r[w]*u,w<C-1?r[w+1]*u:a.length,u));var P=0;for(w=0;w<f.length;w+=3){var M=f[w]*u,O=f[w+1]*u,D=f[w+2]*u;P+=Math.abs((a[M]-a[D])*(a[O+1]-a[M+1])-(a[M]-a[O])*(a[D+1]-a[M+1]))}return x===0&&P===0?0:Math.abs((P-x)/x)},Ly.flatten=function(a){for(var r=a[0][0].length,u={vertices:[],holes:[],dimensions:r},f=0,g=0;g<a.length;g++){for(var x=0;x<a[g].length;x++)for(var w=0;w<r;w++)u.vertices.push(a[g][x][w]);g>0&&u.holes.push(f+=a[g-1].length)}return u};var oC=y(q_.exports);function cD(a,r,u,f,g){sC(a,r,u||0,f||a.length-1,g||uD)}function sC(a,r,u,f,g){for(;f>u;){if(f-u>600){var x=f-u+1,w=r-u+1,C=Math.log(x),P=.5*Math.exp(2*C/3),M=.5*Math.sqrt(C*P*(x-P)/x)*(w-x/2<0?-1:1);sC(a,r,Math.max(u,Math.floor(r-w*P/x+M)),Math.min(f,Math.floor(r+(x-w)*P/x+M)),g)}var O=a[r],D=u,H=f;for(Ip(a,u,r),g(a[f],O)>0&&Ip(a,u,f);D<H;){for(Ip(a,D,H),D++,H--;g(a[D],O)<0;)D++;for(;g(a[H],O)>0;)H--}g(a[u],O)===0?Ip(a,u,H):Ip(a,++H,f),H<=r&&(u=H+1),r<=H&&(f=H-1)}}function Ip(a,r,u){var f=a[r];a[r]=a[u],a[u]=f}function uD(a,r){return a<r?-1:a>r?1:0}function K_(a,r){const u=a.length;if(u<=1)return[a];const f=[];let g,x;for(let w=0;w<u;w++){const C=Oe(a[w]);C!==0&&(a[w].area=Math.abs(C),x===void 0&&(x=C<0),x===C<0?(g&&f.push(g),g=[a[w]]):g.push(a[w]))}if(g&&f.push(g),r>1)for(let w=0;w<f.length;w++)f[w].length<=r||(cD(f[w],r,1,f[w].length-1,dD),f[w]=f[w].slice(0,r));return f}function dD(a,r){return r.area-a.area}function X_(a,r,u){const f=u.patternDependencies;let g=!1;for(const x of r){const w=x.paint.get("".concat(a,"-pattern"));w.isConstant()||(g=!0);const C=w.constantOr(null);C&&(g=!0,f[C.to]=!0,f[C.from]=!0)}return g}function Y_(a,r,u,f,g){const x=g.patternDependencies;for(const w of r){const C=w.paint.get("".concat(a,"-pattern")).value;if(C.kind!=="constant"){let P=C.evaluate({zoom:f-1},u,{},g.availableImages),M=C.evaluate({zoom:f},u,{},g.availableImages),O=C.evaluate({zoom:f+1},u,{},g.availableImages);P=P&&P.name?P.name:P,M=M&&M.name?M.name:M,O=O&&O.name?O.name:O,x[P]=!0,x[M]=!0,x[O]=!0,u.patterns[w.id]={min:P,mid:M,max:O}}}return u}class J_{constructor(r){this.zoom=r.zoom,this.overscaling=r.overscaling,this.layers=r.layers,this.layerIds=this.layers.map(u=>u.id),this.index=r.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new K,this.indexArray=new ze,this.indexArray2=new je,this.programConfigurations=new Zn(r.layers,r.zoom),this.segments=new Je,this.segments2=new Je,this.stateDependentLayerIds=this.layers.filter(u=>u.isStateDependent()).map(u=>u.id)}populate(r,u,f){this.hasPattern=X_("fill",this.layers,u);const g=this.layers[0].layout.get("fill-sort-key"),x=!g.isConstant(),w=[];for(const{feature:C,id:P,index:M,sourceLayerIndex:O}of r){const D=this.layers[0]._featureFilter.needGeometry,H=Qa(C,D);if(!this.layers[0]._featureFilter.filter(new Nn(this.zoom),H,f))continue;const G=x?g.evaluate(H,{},f,u.availableImages):void 0,X={id:P,properties:C.properties,type:C.type,sourceLayerIndex:O,index:M,geometry:D?H.geometry:Ja(C),patterns:{},sortKey:G};w.push(X)}x&&w.sort((C,P)=>C.sortKey-P.sortKey);for(const C of w){const{geometry:P,index:M,sourceLayerIndex:O}=C;if(this.hasPattern){const D=Y_("fill",this.layers,C,this.zoom,u);this.patternFeatures.push(D)}else this.addFeature(C,P,M,f,{});u.featureIndex.insert(r[M].feature,P,M,O,this.index)}}update(r,u,f){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(r,u,this.stateDependentLayers,f)}addFeatures(r,u,f){for(const g of this.patternFeatures)this.addFeature(g,g.geometry,g.index,u,f)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(r){this.uploaded||(this.layoutVertexBuffer=r.createVertexBuffer(this.layoutVertexArray,Q5),this.indexBuffer=r.createIndexBuffer(this.indexArray),this.indexBuffer2=r.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(r),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())}addFeature(r,u,f,g,x){for(const w of K_(u,500)){let C=0;for(const G of w)C+=G.length;const P=this.segments.prepareSegment(C,this.layoutVertexArray,this.indexArray),M=P.vertexLength,O=[],D=[];for(const G of w){if(G.length===0)continue;G!==w[0]&&D.push(O.length/2);const X=this.segments2.prepareSegment(G.length,this.layoutVertexArray,this.indexArray2),te=X.vertexLength;this.layoutVertexArray.emplaceBack(G[0].x,G[0].y),this.indexArray2.emplaceBack(te+G.length-1,te),O.push(G[0].x),O.push(G[0].y);for(let ue=1;ue<G.length;ue++)this.layoutVertexArray.emplaceBack(G[ue].x,G[ue].y),this.indexArray2.emplaceBack(te+ue-1,te+ue),O.push(G[ue].x),O.push(G[ue].y);X.vertexLength+=G.length,X.primitiveLength+=G.length}const H=oC(O,D);for(let G=0;G<H.length;G+=3)this.indexArray.emplaceBack(M+H[G],M+H[G+1],M+H[G+2]);P.vertexLength+=C,P.primitiveLength+=H.length/3}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,r,f,x,g)}}let aC,lC;bt("FillBucket",J_,{omit:["layers","patternFeatures"]});var hD={get paint(){return lC=lC||new Dr({"fill-antialias":new Pt(Ne.paint_fill["fill-antialias"]),"fill-opacity":new Bt(Ne.paint_fill["fill-opacity"]),"fill-color":new Bt(Ne.paint_fill["fill-color"]),"fill-outline-color":new Bt(Ne.paint_fill["fill-outline-color"]),"fill-translate":new Pt(Ne.paint_fill["fill-translate"]),"fill-translate-anchor":new Pt(Ne.paint_fill["fill-translate-anchor"]),"fill-pattern":new Ga(Ne.paint_fill["fill-pattern"])})},get layout(){return aC=aC||new Dr({"fill-sort-key":new Bt(Ne.layout_fill["fill-sort-key"])})}};class fD extends Bo{constructor(r){super(r,hD)}recalculate(r,u){super.recalculate(r,u);const f=this.paint._values["fill-outline-color"];f.value.kind==="constant"&&f.value.value===void 0&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])}createBucket(r){return new J_(r)}queryRadius(){return Ry(this.paint.get("fill-translate"))}queryIntersectsFeature(r,u,f,g,x,w,C){return xp(My(r,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),w.angle,C),g)}isTileClipped(){return!0}}const pD=pi([{name:"a_pos",components:2,type:"Int16"},{name:"a_normal_ed",components:4,type:"Int16"}],4),mD=pi([{name:"a_centroid",components:2,type:"Int16"}],4),{members:gD}=pD;var ec={},yD=b,cC=eh;function eh(a,r,u,f,g){this.properties={},this.extent=u,this.type=0,this._pbf=a,this._geometry=-1,this._keys=f,this._values=g,a.readFields(vD,this,r)}function vD(a,r,u){a==1?r.id=u.readVarint():a==2?function(f,g){for(var x=f.readVarint()+f.pos;f.pos<x;){var w=g._keys[f.readVarint()],C=g._values[f.readVarint()];g.properties[w]=C}}(u,r):a==3?r.type=u.readVarint():a==4&&(r._geometry=u.pos)}function bD(a){for(var r,u,f=0,g=0,x=a.length,w=x-1;g<x;w=g++)f+=((u=a[w]).x-(r=a[g]).x)*(r.y+u.y);return f}eh.types=["Unknown","Point","LineString","Polygon"],eh.prototype.loadGeometry=function(){var a=this._pbf;a.pos=this._geometry;for(var r,u=a.readVarint()+a.pos,f=1,g=0,x=0,w=0,C=[];a.pos<u;){if(g<=0){var P=a.readVarint();f=7&P,g=P>>3}if(g--,f===1||f===2)x+=a.readSVarint(),w+=a.readSVarint(),f===1&&(r&&C.push(r),r=[]),r.push(new yD(x,w));else{if(f!==7)throw new Error("unknown command "+f);r&&r.push(r[0].clone())}}return r&&C.push(r),C},eh.prototype.bbox=function(){var a=this._pbf;a.pos=this._geometry;for(var r=a.readVarint()+a.pos,u=1,f=0,g=0,x=0,w=1/0,C=-1/0,P=1/0,M=-1/0;a.pos<r;){if(f<=0){var O=a.readVarint();u=7&O,f=O>>3}if(f--,u===1||u===2)(g+=a.readSVarint())<w&&(w=g),g>C&&(C=g),(x+=a.readSVarint())<P&&(P=x),x>M&&(M=x);else if(u!==7)throw new Error("unknown command "+u)}return[w,P,C,M]},eh.prototype.toGeoJSON=function(a,r,u){var f,g,x=this.extent*Math.pow(2,u),w=this.extent*a,C=this.extent*r,P=this.loadGeometry(),M=eh.types[this.type];function O(G){for(var X=0;X<G.length;X++){var te=G[X];G[X]=[360*(te.x+w)/x-180,360/Math.PI*Math.atan(Math.exp((180-360*(te.y+C)/x)*Math.PI/180))-90]}}switch(this.type){case 1:var D=[];for(f=0;f<P.length;f++)D[f]=P[f][0];O(P=D);break;case 2:for(f=0;f<P.length;f++)O(P[f]);break;case 3:for(P=function(G){var X=G.length;if(X<=1)return[G];for(var te,ue,pe=[],Ce=0;Ce<X;Ce++){var ge=bD(G[Ce]);ge!==0&&(ue===void 0&&(ue=ge<0),ue===ge<0?(te&&pe.push(te),te=[G[Ce]]):te.push(G[Ce]))}return te&&pe.push(te),pe}(P),f=0;f<P.length;f++)for(g=0;g<P[f].length;g++)O(P[f][g])}P.length===1?P=P[0]:M="Multi"+M;var H={type:"Feature",geometry:{type:M,coordinates:P},properties:this.properties};return"id"in this&&(H.id=this.id),H};var _D=cC,uC=dC;function dC(a,r){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=a,this._keys=[],this._values=[],this._features=[],a.readFields(xD,this,r),this.length=this._features.length}function xD(a,r,u){a===15?r.version=u.readVarint():a===1?r.name=u.readString():a===5?r.extent=u.readVarint():a===2?r._features.push(u.pos):a===3?r._keys.push(u.readString()):a===4&&r._values.push(function(f){for(var g=null,x=f.readVarint()+f.pos;f.pos<x;){var w=f.readVarint()>>3;g=w===1?f.readString():w===2?f.readFloat():w===3?f.readDouble():w===4?f.readVarint64():w===5?f.readVarint():w===6?f.readSVarint():w===7?f.readBoolean():null}return g}(u))}dC.prototype.feature=function(a){if(a<0||a>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[a];var r=this._pbf.readVarint()+this._pbf.pos;return new _D(this._pbf,r,this.extent,this._keys,this._values)};var wD=uC;function SD(a,r,u){if(a===3){var f=new wD(u,u.readVarint()+u.pos);f.length&&(r[f.name]=f)}}ec.VectorTile=function(a,r){this.layers=a.readFields(SD,{},r)},ec.VectorTileFeature=cC,ec.VectorTileLayer=uC;const kD=ec.VectorTileFeature.types,Q_=Math.pow(2,13);function Pp(a,r,u,f,g,x,w,C){a.emplaceBack(r,u,2*Math.floor(f*Q_)+w,g*Q_*2,x*Q_*2,Math.round(C))}class ex{constructor(r){this.zoom=r.zoom,this.overscaling=r.overscaling,this.layers=r.layers,this.layerIds=this.layers.map(u=>u.id),this.index=r.index,this.hasPattern=!1,this.layoutVertexArray=new le,this.centroidVertexArray=new B,this.indexArray=new ze,this.programConfigurations=new Zn(r.layers,r.zoom),this.segments=new Je,this.stateDependentLayerIds=this.layers.filter(u=>u.isStateDependent()).map(u=>u.id)}populate(r,u,f){this.features=[],this.hasPattern=X_("fill-extrusion",this.layers,u);for(const{feature:g,id:x,index:w,sourceLayerIndex:C}of r){const P=this.layers[0]._featureFilter.needGeometry,M=Qa(g,P);if(!this.layers[0]._featureFilter.filter(new Nn(this.zoom),M,f))continue;const O={id:x,sourceLayerIndex:C,index:w,geometry:P?M.geometry:Ja(g),properties:g.properties,type:g.type,patterns:{}};this.hasPattern?this.features.push(Y_("fill-extrusion",this.layers,O,this.zoom,u)):this.addFeature(O,O.geometry,w,f,{}),u.featureIndex.insert(g,O.geometry,w,C,this.index,!0)}}addFeatures(r,u,f){for(const g of this.features){const{geometry:x}=g;this.addFeature(g,x,g.index,u,f)}}update(r,u,f){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(r,u,this.stateDependentLayers,f)}isEmpty(){return this.layoutVertexArray.length===0&&this.centroidVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(r){this.uploaded||(this.layoutVertexBuffer=r.createVertexBuffer(this.layoutVertexArray,gD),this.centroidVertexBuffer=r.createVertexBuffer(this.centroidVertexArray,mD.members,!0),this.indexBuffer=r.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(r),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.centroidVertexBuffer.destroy())}addFeature(r,u,f,g,x){const w={x:0,y:0,vertexCount:0};for(const C of K_(u,500)){let P=0;for(const X of C)P+=X.length;let M=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray);for(const X of C){if(X.length===0||CD(X))continue;let te=0;for(let ue=0;ue<X.length;ue++){const pe=X[ue];if(ue>=1){const Ce=X[ue-1];if(!ED(pe,Ce)){M.vertexLength+4>Je.MAX_VERTEX_ARRAY_LENGTH&&(M=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray));const ge=pe.sub(Ce)._perp()._unit(),xe=Ce.dist(pe);te+xe>32768&&(te=0),Pp(this.layoutVertexArray,pe.x,pe.y,ge.x,ge.y,0,0,te),Pp(this.layoutVertexArray,pe.x,pe.y,ge.x,ge.y,0,1,te),w.x+=2*pe.x,w.y+=2*pe.y,w.vertexCount+=2,te+=xe,Pp(this.layoutVertexArray,Ce.x,Ce.y,ge.x,ge.y,0,0,te),Pp(this.layoutVertexArray,Ce.x,Ce.y,ge.x,ge.y,0,1,te),w.x+=2*Ce.x,w.y+=2*Ce.y,w.vertexCount+=2;const Ue=M.vertexLength;this.indexArray.emplaceBack(Ue,Ue+2,Ue+1),this.indexArray.emplaceBack(Ue+1,Ue+2,Ue+3),M.vertexLength+=4,M.primitiveLength+=2}}}}if(M.vertexLength+P>Je.MAX_VERTEX_ARRAY_LENGTH&&(M=this.segments.prepareSegment(P,this.layoutVertexArray,this.indexArray)),kD[r.type]!=="Polygon")continue;const O=[],D=[],H=M.vertexLength;for(const X of C)if(X.length!==0){X!==C[0]&&D.push(O.length/2);for(let te=0;te<X.length;te++){const ue=X[te];Pp(this.layoutVertexArray,ue.x,ue.y,0,0,1,1,0),w.x+=ue.x,w.y+=ue.y,w.vertexCount+=1,O.push(ue.x),O.push(ue.y)}}const G=oC(O,D);for(let X=0;X<G.length;X+=3)this.indexArray.emplaceBack(H+G[X],H+G[X+2],H+G[X+1]);M.primitiveLength+=G.length/3,M.vertexLength+=P}for(let C=0;C<w.vertexCount;C++)this.centroidVertexArray.emplaceBack(Math.floor(w.x/w.vertexCount),Math.floor(w.y/w.vertexCount));this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,r,f,x,g)}}function ED(a,r){return a.x===r.x&&(a.x<0||a.x>un)||a.y===r.y&&(a.y<0||a.y>un)}function CD(a){return a.every(r=>r.x<0)||a.every(r=>r.x>un)||a.every(r=>r.y<0)||a.every(r=>r.y>un)}let hC;bt("FillExtrusionBucket",ex,{omit:["layers","features"]});var TD={get paint(){return hC=hC||new Dr({"fill-extrusion-opacity":new Pt(Ne["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new Bt(Ne["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new Pt(Ne["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new Pt(Ne["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new Ga(Ne["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new Bt(Ne["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new Bt(Ne["paint_fill-extrusion"]["fill-extrusion-base"]),"fill-extrusion-vertical-gradient":new Pt(Ne["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"])})}};class ID extends Bo{constructor(r){super(r,TD)}createBucket(r){return new ex(r)}queryRadius(){return Ry(this.paint.get("fill-extrusion-translate"))}is3D(){return!0}queryIntersectsFeature(r,u,f,g,x,w,C,P){const M=My(r,this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),w.angle,C),O=this.paint.get("fill-extrusion-height").evaluate(u,f),D=this.paint.get("fill-extrusion-base").evaluate(u,f),H=function(X,te,ue,pe){const Ce=[];for(const ge of X){const xe=[ge.x,ge.y,0,1];zy(xe,xe,te),Ce.push(new S(xe[0]/xe[3],xe[1]/xe[3]))}return Ce}(M,P),G=function(X,te,ue,pe){const Ce=[],ge=[],xe=pe[8]*te,Ue=pe[9]*te,Ge=pe[10]*te,mt=pe[11]*te,Et=pe[8]*ue,pt=pe[9]*ue,ht=pe[10]*ue,lt=pe[11]*ue;for(const _t of X){const dt=[],rt=[];for(const Lt of _t){const Tt=Lt.x,an=Lt.y,Vn=pe[0]*Tt+pe[4]*an+pe[12],Gn=pe[1]*Tt+pe[5]*an+pe[13],Oi=pe[2]*Tt+pe[6]*an+pe[14],bo=pe[3]*Tt+pe[7]*an+pe[15],Fr=Oi+Ge,Ai=bo+mt,Yi=Vn+Et,lr=Gn+pt,Nr=Oi+ht,jr=bo+lt,Di=new S((Vn+xe)/Ai,(Gn+Ue)/Ai);Di.z=Fr/Ai,dt.push(Di);const $i=new S(Yi/jr,lr/jr);$i.z=Nr/jr,rt.push($i)}Ce.push(dt),ge.push(rt)}return[Ce,ge]}(g,D,O,P);return function(X,te,ue){let pe=1/0;xp(ue,te)&&(pe=fC(ue,te[0]));for(let Ce=0;Ce<te.length;Ce++){const ge=te[Ce],xe=X[Ce];for(let Ue=0;Ue<ge.length-1;Ue++){const Ge=ge[Ue],mt=[Ge,ge[Ue+1],xe[Ue+1],xe[Ue],Ge];el(ue,mt)&&(pe=Math.min(pe,fC(ue,mt)))}}return pe!==1/0&&pe}(G[0],G[1],H)}}function Ap(a,r){return a.x*r.x+a.y*r.y}function fC(a,r){if(a.length===1){let u=0;const f=r[u++];let g;for(;!g||f.equals(g);)if(g=r[u++],!g)return 1/0;for(;u<r.length;u++){const x=r[u],w=a[0],C=g.sub(f),P=x.sub(f),M=w.sub(f),O=Ap(C,C),D=Ap(C,P),H=Ap(P,P),G=Ap(M,C),X=Ap(M,P),te=O*H-D*D,ue=(H*G-D*X)/te,pe=(O*X-D*G)/te,Ce=f.z*(1-ue-pe)+g.z*ue+x.z*pe;if(isFinite(Ce))return Ce}return 1/0}{let u=1/0;for(const f of r)u=Math.min(u,f.z);return u}}const PD=pi([{name:"a_pos_normal",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"}],4),{members:AD}=PD,RD=pi([{name:"a_uv_x",components:1,type:"Float32"},{name:"a_split_index",components:1,type:"Float32"}]),{members:MD}=RD,zD=ec.VectorTileFeature.types,LD=Math.cos(Math.PI/180*37.5),pC=Math.pow(2,14)/.5;class tx{constructor(r){this.zoom=r.zoom,this.overscaling=r.overscaling,this.layers=r.layers,this.layerIds=this.layers.map(u=>u.id),this.index=r.index,this.hasPattern=!1,this.patternFeatures=[],this.lineClipsArray=[],this.gradients={},this.layers.forEach(u=>{this.gradients[u.id]={}}),this.layoutVertexArray=new se,this.layoutVertexArray2=new de,this.indexArray=new ze,this.programConfigurations=new Zn(r.layers,r.zoom),this.segments=new Je,this.maxLineLength=0,this.stateDependentLayerIds=this.layers.filter(u=>u.isStateDependent()).map(u=>u.id)}populate(r,u,f){this.hasPattern=X_("line",this.layers,u);const g=this.layers[0].layout.get("line-sort-key"),x=!g.isConstant(),w=[];for(const{feature:C,id:P,index:M,sourceLayerIndex:O}of r){const D=this.layers[0]._featureFilter.needGeometry,H=Qa(C,D);if(!this.layers[0]._featureFilter.filter(new Nn(this.zoom),H,f))continue;const G=x?g.evaluate(H,{},f):void 0,X={id:P,properties:C.properties,type:C.type,sourceLayerIndex:O,index:M,geometry:D?H.geometry:Ja(C),patterns:{},sortKey:G};w.push(X)}x&&w.sort((C,P)=>C.sortKey-P.sortKey);for(const C of w){const{geometry:P,index:M,sourceLayerIndex:O}=C;if(this.hasPattern){const D=Y_("line",this.layers,C,this.zoom,u);this.patternFeatures.push(D)}else this.addFeature(C,P,M,f,{});u.featureIndex.insert(r[M].feature,P,M,O,this.index)}}update(r,u,f){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(r,u,this.stateDependentLayers,f)}addFeatures(r,u,f){for(const g of this.patternFeatures)this.addFeature(g,g.geometry,g.index,u,f)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(r){this.uploaded||(this.layoutVertexArray2.length!==0&&(this.layoutVertexBuffer2=r.createVertexBuffer(this.layoutVertexArray2,MD)),this.layoutVertexBuffer=r.createVertexBuffer(this.layoutVertexArray,AD),this.indexBuffer=r.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(r),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}lineFeatureClips(r){if(r.properties&&Object.prototype.hasOwnProperty.call(r.properties,"mapbox_clip_start")&&Object.prototype.hasOwnProperty.call(r.properties,"mapbox_clip_end"))return{start:+r.properties.mapbox_clip_start,end:+r.properties.mapbox_clip_end}}addFeature(r,u,f,g,x){const w=this.layers[0].layout,C=w.get("line-join").evaluate(r,{}),P=w.get("line-cap"),M=w.get("line-miter-limit"),O=w.get("line-round-limit");this.lineClips=this.lineFeatureClips(r);for(const D of u)this.addLine(D,r,C,P,M,O);this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,r,f,x,g)}addLine(r,u,f,g,x,w){if(this.distance=0,this.scaledDistance=0,this.totalDistance=0,this.lineClips){this.lineClipsArray.push(this.lineClips);for(let pe=0;pe<r.length-1;pe++)this.totalDistance+=r[pe].dist(r[pe+1]);this.updateScaledDistance(),this.maxLineLength=Math.max(this.maxLineLength,this.totalDistance)}const C=zD[u.type]==="Polygon";let P=r.length;for(;P>=2&&r[P-1].equals(r[P-2]);)P--;let M=0;for(;M<P-1&&r[M].equals(r[M+1]);)M++;if(P<(C?3:2))return;f==="bevel"&&(x=1.05);const O=this.overscaling<=16?15*un/(512*this.overscaling):0,D=this.segments.prepareSegment(10*P,this.layoutVertexArray,this.indexArray);let H,G,X,te,ue;this.e1=this.e2=-1,C&&(H=r[P-2],ue=r[M].sub(H)._unit()._perp());for(let pe=M;pe<P;pe++){if(X=pe===P-1?C?r[M+1]:void 0:r[pe+1],X&&r[pe].equals(X))continue;ue&&(te=ue),H&&(G=H),H=r[pe],ue=X?X.sub(H)._unit()._perp():te,te=te||ue;let Ce=te.add(ue);Ce.x===0&&Ce.y===0||Ce._unit();const ge=te.x*ue.x+te.y*ue.y,xe=Ce.x*ue.x+Ce.y*ue.y,Ue=xe!==0?1/xe:1/0,Ge=2*Math.sqrt(2-2*xe),mt=xe<LD&&G&&X,Et=te.x*ue.y-te.y*ue.x>0;if(mt&&pe>M){const lt=H.dist(G);if(lt>2*O){const _t=H.sub(H.sub(G)._mult(O/lt)._round());this.updateDistance(G,_t),this.addCurrentVertex(_t,te,0,0,D),G=_t}}const pt=G&&X;let ht=pt?f:C?"butt":g;if(pt&&ht==="round"&&(Ue<w?ht="miter":Ue<=2&&(ht="fakeround")),ht==="miter"&&Ue>x&&(ht="bevel"),ht==="bevel"&&(Ue>2&&(ht="flipbevel"),Ue<x&&(ht="miter")),G&&this.updateDistance(G,H),ht==="miter")Ce._mult(Ue),this.addCurrentVertex(H,Ce,0,0,D);else if(ht==="flipbevel"){if(Ue>100)Ce=ue.mult(-1);else{const lt=Ue*te.add(ue).mag()/te.sub(ue).mag();Ce._perp()._mult(lt*(Et?-1:1))}this.addCurrentVertex(H,Ce,0,0,D),this.addCurrentVertex(H,Ce.mult(-1),0,0,D)}else if(ht==="bevel"||ht==="fakeround"){const lt=-Math.sqrt(Ue*Ue-1),_t=Et?lt:0,dt=Et?0:lt;if(G&&this.addCurrentVertex(H,te,_t,dt,D),ht==="fakeround"){const rt=Math.round(180*Ge/Math.PI/20);for(let Lt=1;Lt<rt;Lt++){let Tt=Lt/rt;if(Tt!==.5){const Vn=Tt-.5;Tt+=Tt*Vn*(Tt-1)*((1.0904+ge*(ge*(3.55645-1.43519*ge)-3.2452))*Vn*Vn+(.848013+ge*(.215638*ge-1.06021)))}const an=ue.sub(te)._mult(Tt)._add(te)._unit()._mult(Et?-1:1);this.addHalfVertex(H,an.x,an.y,!1,Et,0,D)}}X&&this.addCurrentVertex(H,ue,-_t,-dt,D)}else if(ht==="butt")this.addCurrentVertex(H,Ce,0,0,D);else if(ht==="square"){const lt=G?1:-1;this.addCurrentVertex(H,Ce,lt,lt,D)}else ht==="round"&&(G&&(this.addCurrentVertex(H,te,0,0,D),this.addCurrentVertex(H,te,1,1,D,!0)),X&&(this.addCurrentVertex(H,ue,-1,-1,D,!0),this.addCurrentVertex(H,ue,0,0,D)));if(mt&&pe<P-1){const lt=H.dist(X);if(lt>2*O){const _t=H.add(X.sub(H)._mult(O/lt)._round());this.updateDistance(H,_t),this.addCurrentVertex(_t,ue,0,0,D),H=_t}}}}addCurrentVertex(r,u,f,g,x,w=!1){const C=u.y*g-u.x,P=-u.y-u.x*g;this.addHalfVertex(r,u.x+u.y*f,u.y-u.x*f,w,!1,f,x),this.addHalfVertex(r,C,P,w,!0,-g,x),this.distance>pC/2&&this.totalDistance===0&&(this.distance=0,this.updateScaledDistance(),this.addCurrentVertex(r,u,f,g,x,w))}addHalfVertex({x:r,y:u},f,g,x,w,C,P){const M=.5*(this.lineClips?this.scaledDistance*(pC-1):this.scaledDistance);this.layoutVertexArray.emplaceBack((r<<1)+(x?1:0),(u<<1)+(w?1:0),Math.round(63*f)+128,Math.round(63*g)+128,1+(C===0?0:C<0?-1:1)|(63&M)<<2,M>>6),this.lineClips&&this.layoutVertexArray2.emplaceBack((this.scaledDistance-this.lineClips.start)/(this.lineClips.end-this.lineClips.start),this.lineClipsArray.length);const O=P.vertexLength++;this.e1>=0&&this.e2>=0&&(this.indexArray.emplaceBack(this.e1,this.e2,O),P.primitiveLength++),w?this.e2=O:this.e1=O}updateScaledDistance(){this.scaledDistance=this.lineClips?this.lineClips.start+(this.lineClips.end-this.lineClips.start)*this.distance/this.totalDistance:this.distance}updateDistance(r,u){this.distance+=r.dist(u),this.updateScaledDistance()}}let mC,gC;bt("LineBucket",tx,{omit:["layers","patternFeatures"]});var yC={get paint(){return gC=gC||new Dr({"line-opacity":new Bt(Ne.paint_line["line-opacity"]),"line-color":new Bt(Ne.paint_line["line-color"]),"line-translate":new Pt(Ne.paint_line["line-translate"]),"line-translate-anchor":new Pt(Ne.paint_line["line-translate-anchor"]),"line-width":new Bt(Ne.paint_line["line-width"]),"line-gap-width":new Bt(Ne.paint_line["line-gap-width"]),"line-offset":new Bt(Ne.paint_line["line-offset"]),"line-blur":new Bt(Ne.paint_line["line-blur"]),"line-dasharray":new lp(Ne.paint_line["line-dasharray"]),"line-pattern":new Ga(Ne.paint_line["line-pattern"]),"line-gradient":new _u(Ne.paint_line["line-gradient"])})},get layout(){return mC=mC||new Dr({"line-cap":new Pt(Ne.layout_line["line-cap"]),"line-join":new Bt(Ne.layout_line["line-join"]),"line-miter-limit":new Pt(Ne.layout_line["line-miter-limit"]),"line-round-limit":new Pt(Ne.layout_line["line-round-limit"]),"line-sort-key":new Bt(Ne.layout_line["line-sort-key"])})}};class OD extends Bt{possiblyEvaluate(r,u){return u=new Nn(Math.floor(u.zoom),{now:u.now,fadeDuration:u.fadeDuration,zoomHistory:u.zoomHistory,transition:u.transition}),super.possiblyEvaluate(r,u)}evaluate(r,u,f,g){return u=oe({},u,{zoom:Math.floor(u.zoom)}),super.evaluate(r,u,f,g)}}let By;class DD extends Bo{constructor(r){super(r,yC),this.gradientVersion=0,By||(By=new OD(yC.paint.properties["line-width"].specification),By.useIntegerZoom=!0)}_handleSpecialPaintPropertyUpdate(r){if(r==="line-gradient"){const u=this.gradientExpression();this.stepInterpolant=!!function(f){return f._styleExpression!==void 0}(u)&&u._styleExpression.expression instanceof Ol,this.gradientVersion=(this.gradientVersion+1)%Number.MAX_SAFE_INTEGER}}gradientExpression(){return this._transitionablePaint._values["line-gradient"].value.expression}recalculate(r,u){super.recalculate(r,u),this.paint._values["line-floorwidth"]=By.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,r)}createBucket(r){return new tx(r)}queryRadius(r){const u=r,f=vC(wp("line-width",this,u),wp("line-gap-width",this,u)),g=wp("line-offset",this,u);return f/2+Math.abs(g)+Ry(this.paint.get("line-translate"))}queryIntersectsFeature(r,u,f,g,x,w,C){const P=My(r,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),w.angle,C),M=C/2*vC(this.paint.get("line-width").evaluate(u,f),this.paint.get("line-gap-width").evaluate(u,f)),O=this.paint.get("line-offset").evaluate(u,f);return O&&(g=function(D,H){const G=[];for(let X=0;X<D.length;X++){const te=D[X],ue=[];for(let pe=0;pe<te.length;pe++){const Ce=te[pe-1],ge=te[pe],xe=te[pe+1],Ue=pe===0?new S(0,0):ge.sub(Ce)._unit()._perp(),Ge=pe===te.length-1?new S(0,0):xe.sub(ge)._unit()._perp(),mt=Ue._add(Ge)._unit(),Et=mt.x*Ge.x+mt.y*Ge.y;Et!==0&&mt._mult(1/Et),ue.push(mt._mult(H)._add(ge))}G.push(ue)}return G}(g,O*C)),function(D,H,G){for(let X=0;X<H.length;X++){const te=H[X];if(D.length>=3){for(let ue=0;ue<te.length;ue++)if(Yd(D,te[ue]))return!0}if(Py(D,te,G))return!0}return!1}(P,g,M)}isTileClipped(){return!0}}function vC(a,r){return r>0?r+2*a:a}const $D=pi([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_data",components:4,type:"Uint16"},{name:"a_pixeloffset",components:4,type:"Int16"}],4),BD=pi([{name:"a_projected_pos",components:3,type:"Float32"}],4);pi([{name:"a_fade_opacity",components:1,type:"Uint32"}],4);const FD=pi([{name:"a_placed",components:2,type:"Uint8"},{name:"a_shift",components:2,type:"Float32"}]);pi([{type:"Int16",name:"anchorPointX"},{type:"Int16",name:"anchorPointY"},{type:"Int16",name:"x1"},{type:"Int16",name:"y1"},{type:"Int16",name:"x2"},{type:"Int16",name:"y2"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"}]);const bC=pi([{name:"a_pos",components:2,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4),ND=pi([{name:"a_pos",components:2,type:"Float32"},{name:"a_radius",components:1,type:"Float32"},{name:"a_flags",components:2,type:"Int16"}],4);function jD(a,r,u){return a.sections.forEach(f=>{f.text=function(g,x,w){const C=x.layout.get("text-transform").evaluate(w,{});return C==="uppercase"?g=g.toLocaleUpperCase():C==="lowercase"&&(g=g.toLocaleLowerCase()),Za.applyArabicShaping&&(g=Za.applyArabicShaping(g)),g}(f.text,r,u)}),a}pi([{name:"triangle",components:3,type:"Uint16"}]),pi([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"placedOrientation"},{type:"Uint8",name:"hidden"},{type:"Uint32",name:"crossTileID"},{type:"Int16",name:"associatedIconIndex"}]),pi([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Int16",name:"rightJustifiedTextSymbolIndex"},{type:"Int16",name:"centerJustifiedTextSymbolIndex"},{type:"Int16",name:"leftJustifiedTextSymbolIndex"},{type:"Int16",name:"verticalPlacedTextSymbolIndex"},{type:"Int16",name:"placedIconSymbolIndex"},{type:"Int16",name:"verticalPlacedIconSymbolIndex"},{type:"Uint16",name:"key"},{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"verticalTextBoxStartIndex"},{type:"Uint16",name:"verticalTextBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"verticalIconBoxStartIndex"},{type:"Uint16",name:"verticalIconBoxEndIndex"},{type:"Uint16",name:"featureIndex"},{type:"Uint16",name:"numHorizontalGlyphVertices"},{type:"Uint16",name:"numVerticalGlyphVertices"},{type:"Uint16",name:"numIconVertices"},{type:"Uint16",name:"numVerticalIconVertices"},{type:"Uint16",name:"useRuntimeCollisionCircles"},{type:"Uint32",name:"crossTileID"},{type:"Float32",name:"textBoxScale"},{type:"Float32",name:"collisionCircleDiameter"},{type:"Uint16",name:"textAnchorOffsetStartIndex"},{type:"Uint16",name:"textAnchorOffsetEndIndex"}]),pi([{type:"Float32",name:"offsetX"}]),pi([{type:"Int16",name:"x"},{type:"Int16",name:"y"},{type:"Int16",name:"tileUnitDistanceFromAnchor"}]),pi([{type:"Uint16",name:"textAnchor"},{type:"Float32",components:2,name:"textOffset"}]);const Rp={"!":"︕","#":"＃",$:"＄","%":"％","&":"＆","(":"︵",")":"︶","*":"＊","+":"＋",",":"︐","-":"︲",".":"・","/":"／",":":"︓",";":"︔","<":"︿","=":"＝",">":"﹀","?":"︖","@":"＠","[":"﹇","\\":"＼","]":"﹈","^":"＾",_:"︳","`":"｀","{":"︷","|":"―","}":"︸","~":"～","¢":"￠","£":"￡","¥":"￥","¦":"￤","¬":"￢","¯":"￣","–":"︲","—":"︱","‘":"﹃","’":"﹄","“":"﹁","”":"﹂","…":"︙","‧":"・","₩":"￦","、":"︑","。":"︒","〈":"︿","〉":"﹀","《":"︽","》":"︾","「":"﹁","」":"﹂","『":"﹃","』":"﹄","【":"︻","】":"︼","〔":"︹","〕":"︺","〖":"︗","〗":"︘","！":"︕","（":"︵","）":"︶","，":"︐","－":"︲","．":"・","：":"︓","；":"︔","＜":"︿","＞":"﹀","？":"︖","［":"﹇","］":"﹈","＿":"︳","｛":"︷","｜":"―","｝":"︸","｟":"︵","｠":"︶","｡":"︒","｢":"﹁","｣":"﹂"};var Li=24,_C=An,xC=function(a,r,u,f,g){var x,w,C=8*g-f-1,P=(1<<C)-1,M=P>>1,O=-7,D=u?g-1:0,H=u?-1:1,G=a[r+D];for(D+=H,x=G&(1<<-O)-1,G>>=-O,O+=C;O>0;x=256*x+a[r+D],D+=H,O-=8);for(w=x&(1<<-O)-1,x>>=-O,O+=f;O>0;w=256*w+a[r+D],D+=H,O-=8);if(x===0)x=1-M;else{if(x===P)return w?NaN:1/0*(G?-1:1);w+=Math.pow(2,f),x-=M}return(G?-1:1)*w*Math.pow(2,x-f)},wC=function(a,r,u,f,g,x){var w,C,P,M=8*x-g-1,O=(1<<M)-1,D=O>>1,H=g===23?Math.pow(2,-24)-Math.pow(2,-77):0,G=f?0:x-1,X=f?1:-1,te=r<0||r===0&&1/r<0?1:0;for(r=Math.abs(r),isNaN(r)||r===1/0?(C=isNaN(r)?1:0,w=O):(w=Math.floor(Math.log(r)/Math.LN2),r*(P=Math.pow(2,-w))<1&&(w--,P*=2),(r+=w+D>=1?H/P:H*Math.pow(2,1-D))*P>=2&&(w++,P/=2),w+D>=O?(C=0,w=O):w+D>=1?(C=(r*P-1)*Math.pow(2,g),w+=D):(C=r*Math.pow(2,D-1)*Math.pow(2,g),w=0));g>=8;a[u+G]=255&C,G+=X,C/=256,g-=8);for(w=w<<g|C,M+=g;M>0;a[u+G]=255&w,G+=X,w/=256,M-=8);a[u+G-X]|=128*te};function An(a){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(a)?a:new Uint8Array(a||0),this.pos=0,this.type=0,this.length=this.buf.length}An.Varint=0,An.Fixed64=1,An.Bytes=2,An.Fixed32=5;var nx=4294967296,SC=1/nx,kC=typeof TextDecoder>"u"?null:new TextDecoder("utf8");function tl(a){return a.type===An.Bytes?a.readVarint()+a.pos:a.pos+1}function th(a,r,u){return u?4294967296*r+(a>>>0):4294967296*(r>>>0)+(a>>>0)}function EC(a,r,u){var f=r<=16383?1:r<=2097151?2:r<=268435455?3:Math.floor(Math.log(r)/(7*Math.LN2));u.realloc(f);for(var g=u.pos-1;g>=a;g--)u.buf[g+f]=u.buf[g]}function VD(a,r){for(var u=0;u<a.length;u++)r.writeVarint(a[u])}function UD(a,r){for(var u=0;u<a.length;u++)r.writeSVarint(a[u])}function HD(a,r){for(var u=0;u<a.length;u++)r.writeFloat(a[u])}function qD(a,r){for(var u=0;u<a.length;u++)r.writeDouble(a[u])}function WD(a,r){for(var u=0;u<a.length;u++)r.writeBoolean(a[u])}function ZD(a,r){for(var u=0;u<a.length;u++)r.writeFixed32(a[u])}function GD(a,r){for(var u=0;u<a.length;u++)r.writeSFixed32(a[u])}function KD(a,r){for(var u=0;u<a.length;u++)r.writeFixed64(a[u])}function XD(a,r){for(var u=0;u<a.length;u++)r.writeSFixed64(a[u])}function Fy(a,r){return(a[r]|a[r+1]<<8|a[r+2]<<16)+16777216*a[r+3]}function nh(a,r,u){a[u]=r,a[u+1]=r>>>8,a[u+2]=r>>>16,a[u+3]=r>>>24}function CC(a,r){return(a[r]|a[r+1]<<8|a[r+2]<<16)+(a[r+3]<<24)}An.prototype={destroy:function(){this.buf=null},readFields:function(a,r,u){for(u=u||this.length;this.pos<u;){var f=this.readVarint(),g=f>>3,x=this.pos;this.type=7&f,a(g,r,this),this.pos===x&&this.skip(f)}return r},readMessage:function(a,r){return this.readFields(a,r,this.readVarint()+this.pos)},readFixed32:function(){var a=Fy(this.buf,this.pos);return this.pos+=4,a},readSFixed32:function(){var a=CC(this.buf,this.pos);return this.pos+=4,a},readFixed64:function(){var a=Fy(this.buf,this.pos)+Fy(this.buf,this.pos+4)*nx;return this.pos+=8,a},readSFixed64:function(){var a=Fy(this.buf,this.pos)+CC(this.buf,this.pos+4)*nx;return this.pos+=8,a},readFloat:function(){var a=xC(this.buf,this.pos,!0,23,4);return this.pos+=4,a},readDouble:function(){var a=xC(this.buf,this.pos,!0,52,8);return this.pos+=8,a},readVarint:function(a){var r,u,f=this.buf;return r=127&(u=f[this.pos++]),u<128?r:(r|=(127&(u=f[this.pos++]))<<7,u<128?r:(r|=(127&(u=f[this.pos++]))<<14,u<128?r:(r|=(127&(u=f[this.pos++]))<<21,u<128?r:function(g,x,w){var C,P,M=w.buf;if(C=(112&(P=M[w.pos++]))>>4,P<128||(C|=(127&(P=M[w.pos++]))<<3,P<128)||(C|=(127&(P=M[w.pos++]))<<10,P<128)||(C|=(127&(P=M[w.pos++]))<<17,P<128)||(C|=(127&(P=M[w.pos++]))<<24,P<128)||(C|=(1&(P=M[w.pos++]))<<31,P<128))return th(g,C,x);throw new Error("Expected varint not more than 10 bytes")}(r|=(15&(u=f[this.pos]))<<28,a,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var a=this.readVarint();return a%2==1?(a+1)/-2:a/2},readBoolean:function(){return!!this.readVarint()},readString:function(){var a=this.readVarint()+this.pos,r=this.pos;return this.pos=a,a-r>=12&&kC?function(u,f,g){return kC.decode(u.subarray(f,g))}(this.buf,r,a):function(u,f,g){for(var x="",w=f;w<g;){var C,P,M,O=u[w],D=null,H=O>239?4:O>223?3:O>191?2:1;if(w+H>g)break;H===1?O<128&&(D=O):H===2?(192&(C=u[w+1]))==128&&(D=(31&O)<<6|63&C)<=127&&(D=null):H===3?(P=u[w+2],(192&(C=u[w+1]))==128&&(192&P)==128&&((D=(15&O)<<12|(63&C)<<6|63&P)<=2047||D>=55296&&D<=57343)&&(D=null)):H===4&&(P=u[w+2],M=u[w+3],(192&(C=u[w+1]))==128&&(192&P)==128&&(192&M)==128&&((D=(15&O)<<18|(63&C)<<12|(63&P)<<6|63&M)<=65535||D>=1114112)&&(D=null)),D===null?(D=65533,H=1):D>65535&&(D-=65536,x+=String.fromCharCode(D>>>10&1023|55296),D=56320|1023&D),x+=String.fromCharCode(D),w+=H}return x}(this.buf,r,a)},readBytes:function(){var a=this.readVarint()+this.pos,r=this.buf.subarray(this.pos,a);return this.pos=a,r},readPackedVarint:function(a,r){if(this.type!==An.Bytes)return a.push(this.readVarint(r));var u=tl(this);for(a=a||[];this.pos<u;)a.push(this.readVarint(r));return a},readPackedSVarint:function(a){if(this.type!==An.Bytes)return a.push(this.readSVarint());var r=tl(this);for(a=a||[];this.pos<r;)a.push(this.readSVarint());return a},readPackedBoolean:function(a){if(this.type!==An.Bytes)return a.push(this.readBoolean());var r=tl(this);for(a=a||[];this.pos<r;)a.push(this.readBoolean());return a},readPackedFloat:function(a){if(this.type!==An.Bytes)return a.push(this.readFloat());var r=tl(this);for(a=a||[];this.pos<r;)a.push(this.readFloat());return a},readPackedDouble:function(a){if(this.type!==An.Bytes)return a.push(this.readDouble());var r=tl(this);for(a=a||[];this.pos<r;)a.push(this.readDouble());return a},readPackedFixed32:function(a){if(this.type!==An.Bytes)return a.push(this.readFixed32());var r=tl(this);for(a=a||[];this.pos<r;)a.push(this.readFixed32());return a},readPackedSFixed32:function(a){if(this.type!==An.Bytes)return a.push(this.readSFixed32());var r=tl(this);for(a=a||[];this.pos<r;)a.push(this.readSFixed32());return a},readPackedFixed64:function(a){if(this.type!==An.Bytes)return a.push(this.readFixed64());var r=tl(this);for(a=a||[];this.pos<r;)a.push(this.readFixed64());return a},readPackedSFixed64:function(a){if(this.type!==An.Bytes)return a.push(this.readSFixed64());var r=tl(this);for(a=a||[];this.pos<r;)a.push(this.readSFixed64());return a},skip:function(a){var r=7&a;if(r===An.Varint)for(;this.buf[this.pos++]>127;);else if(r===An.Bytes)this.pos=this.readVarint()+this.pos;else if(r===An.Fixed32)this.pos+=4;else{if(r!==An.Fixed64)throw new Error("Unimplemented type: "+r);this.pos+=8}},writeTag:function(a,r){this.writeVarint(a<<3|r)},realloc:function(a){for(var r=this.length||16;r<this.pos+a;)r*=2;if(r!==this.length){var u=new Uint8Array(r);u.set(this.buf),this.buf=u,this.length=r}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(a){this.realloc(4),nh(this.buf,a,this.pos),this.pos+=4},writeSFixed32:function(a){this.realloc(4),nh(this.buf,a,this.pos),this.pos+=4},writeFixed64:function(a){this.realloc(8),nh(this.buf,-1&a,this.pos),nh(this.buf,Math.floor(a*SC),this.pos+4),this.pos+=8},writeSFixed64:function(a){this.realloc(8),nh(this.buf,-1&a,this.pos),nh(this.buf,Math.floor(a*SC),this.pos+4),this.pos+=8},writeVarint:function(a){(a=+a||0)>268435455||a<0?function(r,u){var f,g;if(r>=0?(f=r%4294967296|0,g=r/4294967296|0):(g=~(-r/4294967296),4294967295^(f=~(-r%4294967296))?f=f+1|0:(f=0,g=g+1|0)),r>=18446744073709552e3||r<-18446744073709552e3)throw new Error("Given varint doesn't fit into 10 bytes");u.realloc(10),function(x,w,C){C.buf[C.pos++]=127&x|128,x>>>=7,C.buf[C.pos++]=127&x|128,x>>>=7,C.buf[C.pos++]=127&x|128,x>>>=7,C.buf[C.pos++]=127&x|128,C.buf[C.pos]=127&(x>>>=7)}(f,0,u),function(x,w){var C=(7&x)<<4;w.buf[w.pos++]|=C|((x>>>=3)?128:0),x&&(w.buf[w.pos++]=127&x|((x>>>=7)?128:0),x&&(w.buf[w.pos++]=127&x|((x>>>=7)?128:0),x&&(w.buf[w.pos++]=127&x|((x>>>=7)?128:0),x&&(w.buf[w.pos++]=127&x|((x>>>=7)?128:0),x&&(w.buf[w.pos++]=127&x)))))}(g,u)}(a,this):(this.realloc(4),this.buf[this.pos++]=127&a|(a>127?128:0),a<=127||(this.buf[this.pos++]=127&(a>>>=7)|(a>127?128:0),a<=127||(this.buf[this.pos++]=127&(a>>>=7)|(a>127?128:0),a<=127||(this.buf[this.pos++]=a>>>7&127))))},writeSVarint:function(a){this.writeVarint(a<0?2*-a-1:2*a)},writeBoolean:function(a){this.writeVarint(!!a)},writeString:function(a){a=String(a),this.realloc(4*a.length),this.pos++;var r=this.pos;this.pos=function(f,g,x){for(var w,C,P=0;P<g.length;P++){if((w=g.charCodeAt(P))>55295&&w<57344){if(!C){w>56319||P+1===g.length?(f[x++]=239,f[x++]=191,f[x++]=189):C=w;continue}if(w<56320){f[x++]=239,f[x++]=191,f[x++]=189,C=w;continue}w=C-55296<<10|w-56320|65536,C=null}else C&&(f[x++]=239,f[x++]=191,f[x++]=189,C=null);w<128?f[x++]=w:(w<2048?f[x++]=w>>6|192:(w<65536?f[x++]=w>>12|224:(f[x++]=w>>18|240,f[x++]=w>>12&63|128),f[x++]=w>>6&63|128),f[x++]=63&w|128)}return x}(this.buf,a,this.pos);var u=this.pos-r;u>=128&&EC(r,u,this),this.pos=r-1,this.writeVarint(u),this.pos+=u},writeFloat:function(a){this.realloc(4),wC(this.buf,a,this.pos,!0,23,4),this.pos+=4},writeDouble:function(a){this.realloc(8),wC(this.buf,a,this.pos,!0,52,8),this.pos+=8},writeBytes:function(a){var r=a.length;this.writeVarint(r),this.realloc(r);for(var u=0;u<r;u++)this.buf[this.pos++]=a[u]},writeRawMessage:function(a,r){this.pos++;var u=this.pos;a(r,this);var f=this.pos-u;f>=128&&EC(u,f,this),this.pos=u-1,this.writeVarint(f),this.pos+=f},writeMessage:function(a,r,u){this.writeTag(a,An.Bytes),this.writeRawMessage(r,u)},writePackedVarint:function(a,r){r.length&&this.writeMessage(a,VD,r)},writePackedSVarint:function(a,r){r.length&&this.writeMessage(a,UD,r)},writePackedBoolean:function(a,r){r.length&&this.writeMessage(a,WD,r)},writePackedFloat:function(a,r){r.length&&this.writeMessage(a,HD,r)},writePackedDouble:function(a,r){r.length&&this.writeMessage(a,qD,r)},writePackedFixed32:function(a,r){r.length&&this.writeMessage(a,ZD,r)},writePackedSFixed32:function(a,r){r.length&&this.writeMessage(a,GD,r)},writePackedFixed64:function(a,r){r.length&&this.writeMessage(a,KD,r)},writePackedSFixed64:function(a,r){r.length&&this.writeMessage(a,XD,r)},writeBytesField:function(a,r){this.writeTag(a,An.Bytes),this.writeBytes(r)},writeFixed32Field:function(a,r){this.writeTag(a,An.Fixed32),this.writeFixed32(r)},writeSFixed32Field:function(a,r){this.writeTag(a,An.Fixed32),this.writeSFixed32(r)},writeFixed64Field:function(a,r){this.writeTag(a,An.Fixed64),this.writeFixed64(r)},writeSFixed64Field:function(a,r){this.writeTag(a,An.Fixed64),this.writeSFixed64(r)},writeVarintField:function(a,r){this.writeTag(a,An.Varint),this.writeVarint(r)},writeSVarintField:function(a,r){this.writeTag(a,An.Varint),this.writeSVarint(r)},writeStringField:function(a,r){this.writeTag(a,An.Bytes),this.writeString(r)},writeFloatField:function(a,r){this.writeTag(a,An.Fixed32),this.writeFloat(r)},writeDoubleField:function(a,r){this.writeTag(a,An.Fixed64),this.writeDouble(r)},writeBooleanField:function(a,r){this.writeVarintField(a,!!r)}};var ix=y(_C);const rx=3;function YD(a,r,u){a===1&&u.readMessage(JD,r)}function JD(a,r,u){if(a===3){const{id:f,bitmap:g,width:x,height:w,left:C,top:P,advance:M}=u.readMessage(QD,{});r.push({id:f,bitmap:new kp({width:x+2*rx,height:w+2*rx},g),metrics:{width:x,height:w,left:C,top:P,advance:M}})}}function QD(a,r,u){a===1?r.id=u.readVarint():a===2?r.bitmap=u.readBytes():a===3?r.width=u.readVarint():a===4?r.height=u.readVarint():a===5?r.left=u.readSVarint():a===6?r.top=u.readSVarint():a===7&&(r.advance=u.readVarint())}const TC=rx;function IC(a){let r=0,u=0;for(const w of a)r+=w.w*w.h,u=Math.max(u,w.w);a.sort((w,C)=>C.h-w.h);const f=[{x:0,y:0,w:Math.max(Math.ceil(Math.sqrt(r/.95)),u),h:1/0}];let g=0,x=0;for(const w of a)for(let C=f.length-1;C>=0;C--){const P=f[C];if(!(w.w>P.w||w.h>P.h)){if(w.x=P.x,w.y=P.y,x=Math.max(x,w.y+w.h),g=Math.max(g,w.x+w.w),w.w===P.w&&w.h===P.h){const M=f.pop();C<f.length&&(f[C]=M)}else w.h===P.h?(P.x+=w.w,P.w-=w.w):w.w===P.w?(P.y+=w.h,P.h-=w.h):(f.push({x:P.x+w.w,y:P.y,w:P.w-w.w,h:w.h}),P.y+=w.h,P.h-=w.h);break}}return{w:g,h:x,fill:r/(g*x)||0}}const to=1;class ox{constructor(r,{pixelRatio:u,version:f,stretchX:g,stretchY:x,content:w}){this.paddedRect=r,this.pixelRatio=u,this.stretchX=g,this.stretchY=x,this.content=w,this.version=f}get tl(){return[this.paddedRect.x+to,this.paddedRect.y+to]}get br(){return[this.paddedRect.x+this.paddedRect.w-to,this.paddedRect.y+this.paddedRect.h-to]}get tlbr(){return this.tl.concat(this.br)}get displaySize(){return[(this.paddedRect.w-2*to)/this.pixelRatio,(this.paddedRect.h-2*to)/this.pixelRatio]}}class PC{constructor(r,u){const f={},g={};this.haveRenderCallbacks=[];const x=[];this.addImages(r,f,x),this.addImages(u,g,x);const{w,h:C}=IC(x),P=new jo({width:w||1,height:C||1});for(const M in r){const O=r[M],D=f[M].paddedRect;jo.copy(O.data,P,{x:0,y:0},{x:D.x+to,y:D.y+to},O.data)}for(const M in u){const O=u[M],D=g[M].paddedRect,H=D.x+to,G=D.y+to,X=O.data.width,te=O.data.height;jo.copy(O.data,P,{x:0,y:0},{x:H,y:G},O.data),jo.copy(O.data,P,{x:0,y:te-1},{x:H,y:G-1},{width:X,height:1}),jo.copy(O.data,P,{x:0,y:0},{x:H,y:G+te},{width:X,height:1}),jo.copy(O.data,P,{x:X-1,y:0},{x:H-1,y:G},{width:1,height:te}),jo.copy(O.data,P,{x:0,y:0},{x:H+X,y:G},{width:1,height:te})}this.image=P,this.iconPositions=f,this.patternPositions=g}addImages(r,u,f){for(const g in r){const x=r[g],w={x:0,y:0,w:x.data.width+2*to,h:x.data.height+2*to};f.push(w),u[g]=new ox(w,x),x.hasRenderCallback&&this.haveRenderCallbacks.push(g)}}patchUpdatedImages(r,u){r.dispatchRenderCallbacks(this.haveRenderCallbacks);for(const f in r.updatedImages)this.patchUpdatedImage(this.iconPositions[f],r.getImage(f),u),this.patchUpdatedImage(this.patternPositions[f],r.getImage(f),u)}patchUpdatedImage(r,u,f){if(!r||!u||r.version===u.version)return;r.version=u.version;const[g,x]=r.tl;f.update(u.data,void 0,{x:g,y:x})}}var tc;bt("ImagePosition",ox),bt("ImageAtlas",PC),d.ah=void 0,(tc=d.ah||(d.ah={}))[tc.none=0]="none",tc[tc.horizontal=1]="horizontal",tc[tc.vertical=2]="vertical",tc[tc.horizontalOnly=3]="horizontalOnly";const Mp=-17;class zp{constructor(){this.scale=1,this.fontStack="",this.imageName=null}static forText(r,u){const f=new zp;return f.scale=r||1,f.fontStack=u,f}static forImage(r){const u=new zp;return u.imageName=r,u}}class ih{constructor(){this.text="",this.sectionIndex=[],this.sections=[],this.imageSectionID=null}static fromFeature(r,u){const f=new ih;for(let g=0;g<r.sections.length;g++){const x=r.sections[g];x.image?f.addImageSection(x):f.addTextSection(x,u)}return f}length(){return this.text.length}getSection(r){return this.sections[this.sectionIndex[r]]}getSectionIndex(r){return this.sectionIndex[r]}getCharCode(r){return this.text.charCodeAt(r)}verticalizePunctuation(){this.text=function(r){let u="";for(let f=0;f<r.length;f++){const g=r.charCodeAt(f+1)||null,x=r.charCodeAt(f-1)||null;u+=g&&ip(g)&&!Rp[r[f+1]]||x&&ip(x)&&!Rp[r[f-1]]||!Rp[r[f]]?r[f]:Rp[r[f]]}return u}(this.text)}trim(){let r=0;for(let f=0;f<this.text.length&&jy[this.text.charCodeAt(f)];f++)r++;let u=this.text.length;for(let f=this.text.length-1;f>=0&&f>=r&&jy[this.text.charCodeAt(f)];f--)u--;this.text=this.text.substring(r,u),this.sectionIndex=this.sectionIndex.slice(r,u)}substring(r,u){const f=new ih;return f.text=this.text.substring(r,u),f.sectionIndex=this.sectionIndex.slice(r,u),f.sections=this.sections,f}toString(){return this.text}getMaxScale(){return this.sectionIndex.reduce((r,u)=>Math.max(r,this.sections[u].scale),0)}addTextSection(r,u){this.text+=r.text,this.sections.push(zp.forText(r.scale,r.fontStack||u));const f=this.sections.length-1;for(let g=0;g<r.text.length;++g)this.sectionIndex.push(f)}addImageSection(r){const u=r.image?r.image.name:"";if(u.length===0)return void Pe("Can't add FormattedSection with an empty image.");const f=this.getNextImageSectionCharCode();f?(this.text+=String.fromCharCode(f),this.sections.push(zp.forImage(u)),this.sectionIndex.push(this.sections.length-1)):Pe("Reached maximum number of images 6401")}getNextImageSectionCharCode(){return this.imageSectionID?this.imageSectionID>=63743?null:++this.imageSectionID:(this.imageSectionID=57344,this.imageSectionID)}}function Ny(a,r,u,f,g,x,w,C,P,M,O,D,H,G,X,te){const ue=ih.fromFeature(a,g);let pe;D===d.ah.vertical&&ue.verticalizePunctuation();const{processBidirectionalText:Ce,processStyledBidirectionalText:ge}=Za;if(Ce&&ue.sections.length===1){pe=[];const Ge=Ce(ue.toString(),sx(ue,M,x,r,f,G,X));for(const mt of Ge){const Et=new ih;Et.text=mt,Et.sections=ue.sections;for(let pt=0;pt<mt.length;pt++)Et.sectionIndex.push(0);pe.push(Et)}}else if(ge){pe=[];const Ge=ge(ue.text,ue.sectionIndex,sx(ue,M,x,r,f,G,X));for(const mt of Ge){const Et=new ih;Et.text=mt[0],Et.sectionIndex=mt[1],Et.sections=ue.sections,pe.push(Et)}}else pe=function(Ge,mt){const Et=[],pt=Ge.text;let ht=0;for(const lt of mt)Et.push(Ge.substring(ht,lt)),ht=lt;return ht<pt.length&&Et.push(Ge.substring(ht,pt.length)),Et}(ue,sx(ue,M,x,r,f,G,X));const xe=[],Ue={positionedLines:xe,text:ue.toString(),top:O[1],bottom:O[1],left:O[0],right:O[0],writingMode:D,iconsInText:!1,verticalizable:!1};return function(Ge,mt,Et,pt,ht,lt,_t,dt,rt,Lt,Tt,an){let Vn=0,Gn=Mp,Oi=0,bo=0;const Fr=dt==="right"?1:dt==="left"?0:.5;let Ai=0;for(const Di of ht){Di.trim();const $i=Di.getMaxScale(),Sr=($i-1)*Li,Vr={positionedGlyphs:[],lineOffset:0};Ge.positionedLines[Ai]=Vr;const kr=Vr.positionedGlyphs;let no=0;if(!Di.length()){Gn+=lt,++Ai;continue}for(let Bi=0;Bi<Di.length();Bi++){const fn=Di.getSection(Bi),Er=Di.getSectionIndex(Bi),cr=Di.getCharCode(Bi);let Fi=0,fs=null,Bs=null,Fs=null,nl=Li;const ps=!(rt===d.ah.horizontal||!Tt&&!Vd(cr)||Tt&&(jy[cr]||(Yi=cr,gt.Arabic(Yi)||gt["Arabic Supplement"](Yi)||gt["Arabic Extended-A"](Yi)||gt["Arabic Presentation Forms-A"](Yi)||gt["Arabic Presentation Forms-B"](Yi))));if(fn.imageName){const Uo=pt[fn.imageName];if(!Uo)continue;Fs=fn.imageName,Ge.iconsInText=Ge.iconsInText||!0,Bs=Uo.paddedRect;const ro=Uo.displaySize;fn.scale=fn.scale*Li/an,fs={width:ro[0],height:ro[1],left:to,top:-TC,advance:ps?ro[1]:ro[0]},Fi=Sr+(Li-ro[1]*fn.scale),nl=fs.advance;const il=ps?ro[0]*fn.scale-Li*$i:ro[1]*fn.scale-Li*$i;il>0&&il>no&&(no=il)}else{const Uo=Et[fn.fontStack],ro=Uo&&Uo[cr];if(ro&&ro.rect)Bs=ro.rect,fs=ro.metrics;else{const il=mt[fn.fontStack],Bp=il&&il[cr];if(!Bp)continue;fs=Bp.metrics}Fi=($i-fn.scale)*Li}ps?(Ge.verticalizable=!0,kr.push({glyph:cr,imageName:Fs,x:Vn,y:Gn+Fi,vertical:ps,scale:fn.scale,fontStack:fn.fontStack,sectionIndex:Er,metrics:fs,rect:Bs}),Vn+=nl*fn.scale+Lt):(kr.push({glyph:cr,imageName:Fs,x:Vn,y:Gn+Fi,vertical:ps,scale:fn.scale,fontStack:fn.fontStack,sectionIndex:Er,metrics:fs,rect:Bs}),Vn+=fs.advance*fn.scale+Lt)}kr.length!==0&&(Oi=Math.max(Vn-Lt,Oi),n$(kr,0,kr.length-1,Fr,no)),Vn=0;const io=lt*$i+no;Vr.lineOffset=Math.max(no,Sr),Gn+=io,bo=Math.max(io,bo),++Ai}var Yi;const lr=Gn-Mp,{horizontalAlign:Nr,verticalAlign:jr}=ax(_t);(function(Di,$i,Sr,Vr,kr,no,io,Bi,fn){const Er=($i-Sr)*kr;let cr=0;cr=no!==io?-Bi*Vr-Mp:(-Vr*fn+.5)*io;for(const Fi of Di)for(const fs of Fi.positionedGlyphs)fs.x+=Er,fs.y+=cr})(Ge.positionedLines,Fr,Nr,jr,Oi,bo,lt,lr,ht.length),Ge.top+=-jr*lr,Ge.bottom=Ge.top+lr,Ge.left+=-Nr*Oi,Ge.right=Ge.left+Oi}(Ue,r,u,f,pe,w,C,P,D,M,H,te),!function(Ge){for(const mt of Ge)if(mt.positionedGlyphs.length!==0)return!1;return!0}(xe)&&Ue}const jy={9:!0,10:!0,11:!0,12:!0,13:!0,32:!0},e$={10:!0,32:!0,38:!0,40:!0,41:!0,43:!0,45:!0,47:!0,173:!0,183:!0,8203:!0,8208:!0,8211:!0,8231:!0};function AC(a,r,u,f,g,x){if(r.imageName){const w=f[r.imageName];return w?w.displaySize[0]*r.scale*Li/x+g:0}{const w=u[r.fontStack],C=w&&w[a];return C?C.metrics.advance*r.scale+g:0}}function RC(a,r,u,f){const g=Math.pow(a-r,2);return f?a<r?g/2:2*g:g+Math.abs(u)*u}function t$(a,r,u){let f=0;return a===10&&(f-=1e4),u&&(f+=150),a!==40&&a!==65288||(f+=50),r!==41&&r!==65289||(f+=50),f}function MC(a,r,u,f,g,x){let w=null,C=RC(r,u,g,x);for(const P of f){const M=RC(r-P.x,u,g,x)+P.badness;M<=C&&(w=P,C=M)}return{index:a,x:r,priorBreak:w,badness:C}}function zC(a){return a?zC(a.priorBreak).concat(a.index):[]}function sx(a,r,u,f,g,x,w){if(x!=="point")return[];if(!a)return[];const C=[],P=function(H,G,X,te,ue,pe){let Ce=0;for(let ge=0;ge<H.length();ge++){const xe=H.getSection(ge);Ce+=AC(H.getCharCode(ge),xe,te,ue,G,pe)}return Ce/Math.max(1,Math.ceil(Ce/X))}(a,r,u,f,g,w),M=a.text.indexOf("​")>=0;let O=0;for(let H=0;H<a.length();H++){const G=a.getSection(H),X=a.getCharCode(H);if(jy[X]||(O+=AC(X,G,f,g,r,w)),H<a.length()-1){const te=!((D=X)<11904||!(gt["Bopomofo Extended"](D)||gt.Bopomofo(D)||gt["CJK Compatibility Forms"](D)||gt["CJK Compatibility Ideographs"](D)||gt["CJK Compatibility"](D)||gt["CJK Radicals Supplement"](D)||gt["CJK Strokes"](D)||gt["CJK Symbols and Punctuation"](D)||gt["CJK Unified Ideographs Extension A"](D)||gt["CJK Unified Ideographs"](D)||gt["Enclosed CJK Letters and Months"](D)||gt["Halfwidth and Fullwidth Forms"](D)||gt.Hiragana(D)||gt["Ideographic Description Characters"](D)||gt["Kangxi Radicals"](D)||gt["Katakana Phonetic Extensions"](D)||gt.Katakana(D)||gt["Vertical Forms"](D)||gt["Yi Radicals"](D)||gt["Yi Syllables"](D)));(e$[X]||te||G.imageName)&&C.push(MC(H+1,O,P,C,t$(X,a.getCharCode(H+1),te&&M),!1))}}var D;return zC(MC(a.length(),O,P,C,0,!0))}function ax(a){let r=.5,u=.5;switch(a){case"right":case"top-right":case"bottom-right":r=1;break;case"left":case"top-left":case"bottom-left":r=0}switch(a){case"bottom":case"bottom-right":case"bottom-left":u=1;break;case"top":case"top-right":case"top-left":u=0}return{horizontalAlign:r,verticalAlign:u}}function n$(a,r,u,f,g){if(!f&&!g)return;const x=a[u],w=(a[u].x+x.metrics.advance*x.scale)*f;for(let C=r;C<=u;C++)a[C].x-=w,a[C].y+=g}function i$(a,r,u){const{horizontalAlign:f,verticalAlign:g}=ax(u),x=r[0]-a.displaySize[0]*f,w=r[1]-a.displaySize[1]*g;return{image:a,top:w,bottom:w+a.displaySize[1],left:x,right:x+a.displaySize[0]}}function LC(a,r,u,f,g,x){const w=a.image;let C;if(w.content){const ue=w.content,pe=w.pixelRatio||1;C=[ue[0]/pe,ue[1]/pe,w.displaySize[0]-ue[2]/pe,w.displaySize[1]-ue[3]/pe]}const P=r.left*x,M=r.right*x;let O,D,H,G;u==="width"||u==="both"?(G=g[0]+P-f[3],D=g[0]+M+f[1]):(G=g[0]+(P+M-w.displaySize[0])/2,D=G+w.displaySize[0]);const X=r.top*x,te=r.bottom*x;return u==="height"||u==="both"?(O=g[1]+X-f[0],H=g[1]+te+f[2]):(O=g[1]+(X+te-w.displaySize[1])/2,H=O+w.displaySize[1]),{image:w,top:O,right:D,bottom:H,left:G,collisionPadding:C}}const Lp=255,ya=128,nc=Lp*ya;function OC(a,r){const{expression:u}=r;if(u.kind==="constant")return{kind:"constant",layoutSize:u.evaluate(new Nn(a+1))};if(u.kind==="source")return{kind:"source"};{const{zoomStops:f,interpolationType:g}=u;let x=0;for(;x<f.length&&f[x]<=a;)x++;x=Math.max(0,x-1);let w=x;for(;w<f.length&&f[w]<a+1;)w++;w=Math.min(f.length-1,w);const C=f[x],P=f[w];return u.kind==="composite"?{kind:"composite",minZoom:C,maxZoom:P,interpolationType:g}:{kind:"camera",minZoom:C,maxZoom:P,minSize:u.evaluate(new Nn(C)),maxSize:u.evaluate(new Nn(P)),interpolationType:g}}}function lx(a,r,u){let f="never";const g=a.get(r);return g?f=g:a.get(u)&&(f="always"),f}const r$=ec.VectorTileFeature.types,o$=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}];function Vy(a,r,u,f,g,x,w,C,P,M,O,D,H){const G=C?Math.min(nc,Math.round(C[0])):0,X=C?Math.min(nc,Math.round(C[1])):0;a.emplaceBack(r,u,Math.round(32*f),Math.round(32*g),x,w,(G<<1)+(P?1:0),X,16*M,16*O,256*D,256*H)}function cx(a,r,u){a.emplaceBack(r.x,r.y,u),a.emplaceBack(r.x,r.y,u),a.emplaceBack(r.x,r.y,u),a.emplaceBack(r.x,r.y,u)}function s$(a){for(const r of a.sections)if(xy(r.text))return!0;return!1}class ux{constructor(r){this.layoutVertexArray=new ye,this.indexArray=new ze,this.programConfigurations=r,this.segments=new Je,this.dynamicLayoutVertexArray=new Ae,this.opacityVertexArray=new he,this.hasVisibleVertices=!1,this.placedSymbolArray=new o}isEmpty(){return this.layoutVertexArray.length===0&&this.indexArray.length===0&&this.dynamicLayoutVertexArray.length===0&&this.opacityVertexArray.length===0}upload(r,u,f,g){this.isEmpty()||(f&&(this.layoutVertexBuffer=r.createVertexBuffer(this.layoutVertexArray,$D.members),this.indexBuffer=r.createIndexBuffer(this.indexArray,u),this.dynamicLayoutVertexBuffer=r.createVertexBuffer(this.dynamicLayoutVertexArray,BD.members,!0),this.opacityVertexBuffer=r.createVertexBuffer(this.opacityVertexArray,o$,!0),this.opacityVertexBuffer.itemSize=1),(f||g)&&this.programConfigurations.upload(r))}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy())}}bt("SymbolBuffers",ux);class dx{constructor(r,u,f){this.layoutVertexArray=new r,this.layoutAttributes=u,this.indexArray=new f,this.segments=new Je,this.collisionVertexArray=new Me}upload(r){this.layoutVertexBuffer=r.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=r.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=r.createVertexBuffer(this.collisionVertexArray,FD.members,!0)}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy())}}bt("CollisionBuffers",dx);class rh{constructor(r){this.collisionBoxArray=r.collisionBoxArray,this.zoom=r.zoom,this.overscaling=r.overscaling,this.layers=r.layers,this.layerIds=this.layers.map(w=>w.id),this.index=r.index,this.pixelRatio=r.pixelRatio,this.sourceLayerIndex=r.sourceLayerIndex,this.hasPattern=!1,this.hasRTLText=!1,this.sortKeyRanges=[],this.collisionCircleArray=[],this.placementInvProjMatrix=V_([]),this.placementViewportMatrix=V_([]);const u=this.layers[0]._unevaluatedLayout._values;this.textSizeData=OC(this.zoom,u["text-size"]),this.iconSizeData=OC(this.zoom,u["icon-size"]);const f=this.layers[0].layout,g=f.get("symbol-sort-key"),x=f.get("symbol-z-order");this.canOverlap=lx(f,"text-overlap","text-allow-overlap")!=="never"||lx(f,"icon-overlap","icon-allow-overlap")!=="never"||f.get("text-ignore-placement")||f.get("icon-ignore-placement"),this.sortFeaturesByKey=x!=="viewport-y"&&!g.isConstant(),this.sortFeaturesByY=(x==="viewport-y"||x==="auto"&&!this.sortFeaturesByKey)&&this.canOverlap,f.get("symbol-placement")==="point"&&(this.writingModes=f.get("text-writing-mode").map(w=>d.ah[w])),this.stateDependentLayerIds=this.layers.filter(w=>w.isStateDependent()).map(w=>w.id),this.sourceID=r.sourceID}createArrays(){this.text=new ux(new Zn(this.layers,this.zoom,r=>/^text/.test(r))),this.icon=new ux(new Zn(this.layers,this.zoom,r=>/^icon/.test(r))),this.glyphOffsetArray=new m,this.lineVertexArray=new _,this.symbolInstances=new p,this.textAnchorOffsets=new I}calculateGlyphDependencies(r,u,f,g,x){for(let w=0;w<r.length;w++)if(u[r.charCodeAt(w)]=!0,(f||g)&&x){const C=Rp[r.charAt(w)];C&&(u[C.charCodeAt(0)]=!0)}}populate(r,u,f){const g=this.layers[0],x=g.layout,w=x.get("text-font"),C=x.get("text-field"),P=x.get("icon-image"),M=(C.value.kind!=="constant"||C.value.value instanceof Re&&!C.value.value.isEmpty()||C.value.value.toString().length>0)&&(w.value.kind!=="constant"||w.value.value.length>0),O=P.value.kind!=="constant"||!!P.value.value||Object.keys(P.parameters).length>0,D=x.get("symbol-sort-key");if(this.features=[],!M&&!O)return;const H=u.iconDependencies,G=u.glyphDependencies,X=u.availableImages,te=new Nn(this.zoom);for(const{feature:ue,id:pe,index:Ce,sourceLayerIndex:ge}of r){const xe=g._featureFilter.needGeometry,Ue=Qa(ue,xe);if(!g._featureFilter.filter(te,Ue,f))continue;let Ge,mt;if(xe||(Ue.geometry=Ja(ue)),M){const pt=g.getValueAndResolveTokens("text-field",Ue,f,X),ht=Re.factory(pt),lt=this.hasRTLText=this.hasRTLText||s$(ht);(!lt||Za.getRTLTextPluginStatus()==="unavailable"||lt&&Za.isParsed())&&(Ge=jD(ht,g,Ue))}if(O){const pt=g.getValueAndResolveTokens("icon-image",Ue,f,X);mt=pt instanceof wn?pt:wn.fromString(pt)}if(!Ge&&!mt)continue;const Et=this.sortFeaturesByKey?D.evaluate(Ue,{},f):void 0;if(this.features.push({id:pe,text:Ge,icon:mt,index:Ce,sourceLayerIndex:ge,geometry:Ue.geometry,properties:ue.properties,type:r$[ue.type],sortKey:Et}),mt&&(H[mt.name]=!0),Ge){const pt=w.evaluate(Ue,{},f).join(","),ht=x.get("text-rotation-alignment")!=="viewport"&&x.get("symbol-placement")!=="point";this.allowVerticalPlacement=this.writingModes&&this.writingModes.indexOf(d.ah.vertical)>=0;for(const lt of Ge.sections)if(lt.image)H[lt.image.name]=!0;else{const _t=vu(Ge.toString()),dt=lt.fontStack||pt,rt=G[dt]=G[dt]||{};this.calculateGlyphDependencies(lt.text,rt,ht,this.allowVerticalPlacement,_t)}}}x.get("symbol-placement")==="line"&&(this.features=function(ue){const pe={},Ce={},ge=[];let xe=0;function Ue(pt){ge.push(ue[pt]),xe++}function Ge(pt,ht,lt){const _t=Ce[pt];return delete Ce[pt],Ce[ht]=_t,ge[_t].geometry[0].pop(),ge[_t].geometry[0]=ge[_t].geometry[0].concat(lt[0]),_t}function mt(pt,ht,lt){const _t=pe[ht];return delete pe[ht],pe[pt]=_t,ge[_t].geometry[0].shift(),ge[_t].geometry[0]=lt[0].concat(ge[_t].geometry[0]),_t}function Et(pt,ht,lt){const _t=lt?ht[0][ht[0].length-1]:ht[0][0];return"".concat(pt,":").concat(_t.x,":").concat(_t.y)}for(let pt=0;pt<ue.length;pt++){const ht=ue[pt],lt=ht.geometry,_t=ht.text?ht.text.toString():null;if(!_t){Ue(pt);continue}const dt=Et(_t,lt),rt=Et(_t,lt,!0);if(dt in Ce&&rt in pe&&Ce[dt]!==pe[rt]){const Lt=mt(dt,rt,lt),Tt=Ge(dt,rt,ge[Lt].geometry);delete pe[dt],delete Ce[rt],Ce[Et(_t,ge[Tt].geometry,!0)]=Tt,ge[Lt].geometry=null}else dt in Ce?Ge(dt,rt,lt):rt in pe?mt(dt,rt,lt):(Ue(pt),pe[dt]=xe-1,Ce[rt]=xe-1)}return ge.filter(pt=>pt.geometry)}(this.features)),this.sortFeaturesByKey&&this.features.sort((ue,pe)=>ue.sortKey-pe.sortKey)}update(r,u,f){this.stateDependentLayers.length&&(this.text.programConfigurations.updatePaintArrays(r,u,this.layers,f),this.icon.programConfigurations.updatePaintArrays(r,u,this.layers,f))}isEmpty(){return this.symbolInstances.length===0&&!this.hasRTLText}uploadPending(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload}upload(r){!this.uploaded&&this.hasDebugData()&&(this.textCollisionBox.upload(r),this.iconCollisionBox.upload(r)),this.text.upload(r,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload),this.icon.upload(r,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload),this.uploaded=!0}destroyDebugData(){this.textCollisionBox.destroy(),this.iconCollisionBox.destroy()}destroy(){this.text.destroy(),this.icon.destroy(),this.hasDebugData()&&this.destroyDebugData()}addToLineVertexArray(r,u){const f=this.lineVertexArray.length;if(r.segment!==void 0){let g=r.dist(u[r.segment+1]),x=r.dist(u[r.segment]);const w={};for(let C=r.segment+1;C<u.length;C++)w[C]={x:u[C].x,y:u[C].y,tileUnitDistanceFromAnchor:g},C<u.length-1&&(g+=u[C+1].dist(u[C]));for(let C=r.segment||0;C>=0;C--)w[C]={x:u[C].x,y:u[C].y,tileUnitDistanceFromAnchor:x},C>0&&(x+=u[C-1].dist(u[C]));for(let C=0;C<u.length;C++){const P=w[C];this.lineVertexArray.emplaceBack(P.x,P.y,P.tileUnitDistanceFromAnchor)}}return{lineStartIndex:f,lineLength:this.lineVertexArray.length-f}}addSymbols(r,u,f,g,x,w,C,P,M,O,D,H){const G=r.indexArray,X=r.layoutVertexArray,te=r.segments.prepareSegment(4*u.length,X,G,this.canOverlap?w.sortKey:void 0),ue=this.glyphOffsetArray.length,pe=te.vertexLength,Ce=this.allowVerticalPlacement&&C===d.ah.vertical?Math.PI/2:0,ge=w.text&&w.text.sections;for(let xe=0;xe<u.length;xe++){const{tl:Ue,tr:Ge,bl:mt,br:Et,tex:pt,pixelOffsetTL:ht,pixelOffsetBR:lt,minFontScaleX:_t,minFontScaleY:dt,glyphOffset:rt,isSDF:Lt,sectionIndex:Tt}=u[xe],an=te.vertexLength,Vn=rt[1];Vy(X,P.x,P.y,Ue.x,Vn+Ue.y,pt.x,pt.y,f,Lt,ht.x,ht.y,_t,dt),Vy(X,P.x,P.y,Ge.x,Vn+Ge.y,pt.x+pt.w,pt.y,f,Lt,lt.x,ht.y,_t,dt),Vy(X,P.x,P.y,mt.x,Vn+mt.y,pt.x,pt.y+pt.h,f,Lt,ht.x,lt.y,_t,dt),Vy(X,P.x,P.y,Et.x,Vn+Et.y,pt.x+pt.w,pt.y+pt.h,f,Lt,lt.x,lt.y,_t,dt),cx(r.dynamicLayoutVertexArray,P,Ce),G.emplaceBack(an,an+1,an+2),G.emplaceBack(an+1,an+2,an+3),te.vertexLength+=4,te.primitiveLength+=2,this.glyphOffsetArray.emplaceBack(rt[0]),xe!==u.length-1&&Tt===u[xe+1].sectionIndex||r.programConfigurations.populatePaintArrays(X.length,w,w.index,{},H,ge&&ge[Tt])}r.placedSymbolArray.emplaceBack(P.x,P.y,ue,this.glyphOffsetArray.length-ue,pe,M,O,P.segment,f?f[0]:0,f?f[1]:0,g[0],g[1],C,0,!1,0,D)}_addCollisionDebugVertex(r,u,f,g,x,w){return u.emplaceBack(0,0),r.emplaceBack(f.x,f.y,g,x,Math.round(w.x),Math.round(w.y))}addCollisionDebugVertices(r,u,f,g,x,w,C){const P=x.segments.prepareSegment(4,x.layoutVertexArray,x.indexArray),M=P.vertexLength,O=x.layoutVertexArray,D=x.collisionVertexArray,H=C.anchorX,G=C.anchorY;this._addCollisionDebugVertex(O,D,w,H,G,new S(r,u)),this._addCollisionDebugVertex(O,D,w,H,G,new S(f,u)),this._addCollisionDebugVertex(O,D,w,H,G,new S(f,g)),this._addCollisionDebugVertex(O,D,w,H,G,new S(r,g)),P.vertexLength+=4;const X=x.indexArray;X.emplaceBack(M,M+1),X.emplaceBack(M+1,M+2),X.emplaceBack(M+2,M+3),X.emplaceBack(M+3,M),P.primitiveLength+=4}addDebugCollisionBoxes(r,u,f,g){for(let x=r;x<u;x++){const w=this.collisionBoxArray.get(x);this.addCollisionDebugVertices(w.x1,w.y1,w.x2,w.y2,g?this.textCollisionBox:this.iconCollisionBox,w.anchorPoint,f)}}generateCollisionDebugBuffers(){this.hasDebugData()&&this.destroyDebugData(),this.textCollisionBox=new dx(Se,bC.members,je),this.iconCollisionBox=new dx(Se,bC.members,je);for(let r=0;r<this.symbolInstances.length;r++){const u=this.symbolInstances.get(r);this.addDebugCollisionBoxes(u.textBoxStartIndex,u.textBoxEndIndex,u,!0),this.addDebugCollisionBoxes(u.verticalTextBoxStartIndex,u.verticalTextBoxEndIndex,u,!0),this.addDebugCollisionBoxes(u.iconBoxStartIndex,u.iconBoxEndIndex,u,!1),this.addDebugCollisionBoxes(u.verticalIconBoxStartIndex,u.verticalIconBoxEndIndex,u,!1)}}_deserializeCollisionBoxesForSymbol(r,u,f,g,x,w,C,P,M){const O={};for(let D=u;D<f;D++){const H=r.get(D);O.textBox={x1:H.x1,y1:H.y1,x2:H.x2,y2:H.y2,anchorPointX:H.anchorPointX,anchorPointY:H.anchorPointY},O.textFeatureIndex=H.featureIndex;break}for(let D=g;D<x;D++){const H=r.get(D);O.verticalTextBox={x1:H.x1,y1:H.y1,x2:H.x2,y2:H.y2,anchorPointX:H.anchorPointX,anchorPointY:H.anchorPointY},O.verticalTextFeatureIndex=H.featureIndex;break}for(let D=w;D<C;D++){const H=r.get(D);O.iconBox={x1:H.x1,y1:H.y1,x2:H.x2,y2:H.y2,anchorPointX:H.anchorPointX,anchorPointY:H.anchorPointY},O.iconFeatureIndex=H.featureIndex;break}for(let D=P;D<M;D++){const H=r.get(D);O.verticalIconBox={x1:H.x1,y1:H.y1,x2:H.x2,y2:H.y2,anchorPointX:H.anchorPointX,anchorPointY:H.anchorPointY},O.verticalIconFeatureIndex=H.featureIndex;break}return O}deserializeCollisionBoxes(r){this.collisionArrays=[];for(let u=0;u<this.symbolInstances.length;u++){const f=this.symbolInstances.get(u);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(r,f.textBoxStartIndex,f.textBoxEndIndex,f.verticalTextBoxStartIndex,f.verticalTextBoxEndIndex,f.iconBoxStartIndex,f.iconBoxEndIndex,f.verticalIconBoxStartIndex,f.verticalIconBoxEndIndex))}}hasTextData(){return this.text.segments.get().length>0}hasIconData(){return this.icon.segments.get().length>0}hasDebugData(){return this.textCollisionBox&&this.iconCollisionBox}hasTextCollisionBoxData(){return this.hasDebugData()&&this.textCollisionBox.segments.get().length>0}hasIconCollisionBoxData(){return this.hasDebugData()&&this.iconCollisionBox.segments.get().length>0}addIndicesForPlacedSymbol(r,u){const f=r.placedSymbolArray.get(u),g=f.vertexStartIndex+4*f.numGlyphs;for(let x=f.vertexStartIndex;x<g;x+=4)r.indexArray.emplaceBack(x,x+1,x+2),r.indexArray.emplaceBack(x+1,x+2,x+3)}getSortedSymbolIndexes(r){if(this.sortedAngle===r&&this.symbolInstanceIndexes!==void 0)return this.symbolInstanceIndexes;const u=Math.sin(r),f=Math.cos(r),g=[],x=[],w=[];for(let C=0;C<this.symbolInstances.length;++C){w.push(C);const P=this.symbolInstances.get(C);g.push(0|Math.round(u*P.anchorX+f*P.anchorY)),x.push(P.featureIndex)}return w.sort((C,P)=>g[C]-g[P]||x[P]-x[C]),w}addToSortKeyRanges(r,u){const f=this.sortKeyRanges[this.sortKeyRanges.length-1];f&&f.sortKey===u?f.symbolInstanceEnd=r+1:this.sortKeyRanges.push({sortKey:u,symbolInstanceStart:r,symbolInstanceEnd:r+1})}sortFeatures(r){if(this.sortFeaturesByY&&this.sortedAngle!==r&&!(this.text.segments.get().length>1||this.icon.segments.get().length>1)){this.symbolInstanceIndexes=this.getSortedSymbolIndexes(r),this.sortedAngle=r,this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(const u of this.symbolInstanceIndexes){const f=this.symbolInstances.get(u);this.featureSortOrder.push(f.featureIndex),[f.rightJustifiedTextSymbolIndex,f.centerJustifiedTextSymbolIndex,f.leftJustifiedTextSymbolIndex].forEach((g,x,w)=>{g>=0&&w.indexOf(g)===x&&this.addIndicesForPlacedSymbol(this.text,g)}),f.verticalPlacedTextSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.text,f.verticalPlacedTextSymbolIndex),f.placedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,f.placedIconSymbolIndex),f.verticalPlacedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,f.verticalPlacedIconSymbolIndex)}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}}}let DC,$C;bt("SymbolBucket",rh,{omit:["layers","collisionBoxArray","features","compareText"]}),rh.MAX_GLYPHS=65535,rh.addDynamicAttributes=cx;var hx={get paint(){return $C=$C||new Dr({"icon-opacity":new Bt(Ne.paint_symbol["icon-opacity"]),"icon-color":new Bt(Ne.paint_symbol["icon-color"]),"icon-halo-color":new Bt(Ne.paint_symbol["icon-halo-color"]),"icon-halo-width":new Bt(Ne.paint_symbol["icon-halo-width"]),"icon-halo-blur":new Bt(Ne.paint_symbol["icon-halo-blur"]),"icon-translate":new Pt(Ne.paint_symbol["icon-translate"]),"icon-translate-anchor":new Pt(Ne.paint_symbol["icon-translate-anchor"]),"text-opacity":new Bt(Ne.paint_symbol["text-opacity"]),"text-color":new Bt(Ne.paint_symbol["text-color"],{runtimeType:zi,getOverride:a=>a.textColor,hasOverride:a=>!!a.textColor}),"text-halo-color":new Bt(Ne.paint_symbol["text-halo-color"]),"text-halo-width":new Bt(Ne.paint_symbol["text-halo-width"]),"text-halo-blur":new Bt(Ne.paint_symbol["text-halo-blur"]),"text-translate":new Pt(Ne.paint_symbol["text-translate"]),"text-translate-anchor":new Pt(Ne.paint_symbol["text-translate-anchor"])})},get layout(){return DC=DC||new Dr({"symbol-placement":new Pt(Ne.layout_symbol["symbol-placement"]),"symbol-spacing":new Pt(Ne.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new Pt(Ne.layout_symbol["symbol-avoid-edges"]),"symbol-sort-key":new Bt(Ne.layout_symbol["symbol-sort-key"]),"symbol-z-order":new Pt(Ne.layout_symbol["symbol-z-order"]),"icon-allow-overlap":new Pt(Ne.layout_symbol["icon-allow-overlap"]),"icon-overlap":new Pt(Ne.layout_symbol["icon-overlap"]),"icon-ignore-placement":new Pt(Ne.layout_symbol["icon-ignore-placement"]),"icon-optional":new Pt(Ne.layout_symbol["icon-optional"]),"icon-rotation-alignment":new Pt(Ne.layout_symbol["icon-rotation-alignment"]),"icon-size":new Bt(Ne.layout_symbol["icon-size"]),"icon-text-fit":new Pt(Ne.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new Pt(Ne.layout_symbol["icon-text-fit-padding"]),"icon-image":new Bt(Ne.layout_symbol["icon-image"]),"icon-rotate":new Bt(Ne.layout_symbol["icon-rotate"]),"icon-padding":new Bt(Ne.layout_symbol["icon-padding"]),"icon-keep-upright":new Pt(Ne.layout_symbol["icon-keep-upright"]),"icon-offset":new Bt(Ne.layout_symbol["icon-offset"]),"icon-anchor":new Bt(Ne.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new Pt(Ne.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new Pt(Ne.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new Pt(Ne.layout_symbol["text-rotation-alignment"]),"text-field":new Bt(Ne.layout_symbol["text-field"]),"text-font":new Bt(Ne.layout_symbol["text-font"]),"text-size":new Bt(Ne.layout_symbol["text-size"]),"text-max-width":new Bt(Ne.layout_symbol["text-max-width"]),"text-line-height":new Pt(Ne.layout_symbol["text-line-height"]),"text-letter-spacing":new Bt(Ne.layout_symbol["text-letter-spacing"]),"text-justify":new Bt(Ne.layout_symbol["text-justify"]),"text-radial-offset":new Bt(Ne.layout_symbol["text-radial-offset"]),"text-variable-anchor":new Pt(Ne.layout_symbol["text-variable-anchor"]),"text-variable-anchor-offset":new Bt(Ne.layout_symbol["text-variable-anchor-offset"]),"text-anchor":new Bt(Ne.layout_symbol["text-anchor"]),"text-max-angle":new Pt(Ne.layout_symbol["text-max-angle"]),"text-writing-mode":new Pt(Ne.layout_symbol["text-writing-mode"]),"text-rotate":new Bt(Ne.layout_symbol["text-rotate"]),"text-padding":new Pt(Ne.layout_symbol["text-padding"]),"text-keep-upright":new Pt(Ne.layout_symbol["text-keep-upright"]),"text-transform":new Bt(Ne.layout_symbol["text-transform"]),"text-offset":new Bt(Ne.layout_symbol["text-offset"]),"text-allow-overlap":new Pt(Ne.layout_symbol["text-allow-overlap"]),"text-overlap":new Pt(Ne.layout_symbol["text-overlap"]),"text-ignore-placement":new Pt(Ne.layout_symbol["text-ignore-placement"]),"text-optional":new Pt(Ne.layout_symbol["text-optional"])})}};class BC{constructor(r){if(r.property.overrides===void 0)throw new Error("overrides must be provided to instantiate FormatSectionOverride class");this.type=r.property.overrides?r.property.overrides.runtimeType:Yr,this.defaultValue=r}evaluate(r){if(r.formattedSection){const u=this.defaultValue.property.overrides;if(u&&u.hasOverride(r.formattedSection))return u.getOverride(r.formattedSection)}return r.feature&&r.featureState?this.defaultValue.evaluate(r.feature,r.featureState):this.defaultValue.property.specification.default}eachChild(r){this.defaultValue.isConstant()||r(this.defaultValue.value._styleExpression.expression)}outputDefined(){return!1}serialize(){return null}}bt("FormatSectionOverride",BC,{omit:["defaultValue"]});class Uy extends Bo{constructor(r){super(r,hx)}recalculate(r,u){if(super.recalculate(r,u),this.layout.get("icon-rotation-alignment")==="auto"&&(this.layout._values["icon-rotation-alignment"]=this.layout.get("symbol-placement")!=="point"?"map":"viewport"),this.layout.get("text-rotation-alignment")==="auto"&&(this.layout._values["text-rotation-alignment"]=this.layout.get("symbol-placement")!=="point"?"map":"viewport"),this.layout.get("text-pitch-alignment")==="auto"&&(this.layout._values["text-pitch-alignment"]=this.layout.get("text-rotation-alignment")==="map"?"map":"viewport"),this.layout.get("icon-pitch-alignment")==="auto"&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment")),this.layout.get("symbol-placement")==="point"){const f=this.layout.get("text-writing-mode");if(f){const g=[];for(const x of f)g.indexOf(x)<0&&g.push(x);this.layout._values["text-writing-mode"]=g}else this.layout._values["text-writing-mode"]=["horizontal"]}this._setPaintOverrides()}getValueAndResolveTokens(r,u,f,g){const x=this.layout.get(r).evaluate(u,{},f,g),w=this._unevaluatedLayout._values[r];return w.isDataDriven()||On(w.value)||!x?x:function(C,P){return P.replace(/{([^{}]+)}/g,(M,O)=>C&&O in C?String(C[O]):"")}(u.properties,x)}createBucket(r){return new rh(r)}queryRadius(){return 0}queryIntersectsFeature(){throw new Error("Should take a different path in FeatureIndex")}_setPaintOverrides(){for(const r of hx.paint.overridableProperties){if(!Uy.hasPaintOverride(this.layout,r))continue;const u=this.paint.get(r),f=new BC(u),g=new pu(f,u.property.specification);let x=null;x=u.value.kind==="constant"||u.value.kind==="source"?new Vl("source",g):new Od("composite",g,u.value.zoomStops),this.paint._values[r]=new $o(u.property,x,u.parameters)}}_handleOverridablePaintPropertyUpdate(r,u,f){return!(!this.layout||u.isDataDriven()||f.isDataDriven())&&Uy.hasPaintOverride(this.layout,r)}static hasPaintOverride(r,u){const f=r.get("text-field"),g=hx.paint.properties[u];let x=!1;const w=C=>{for(const P of C)if(g.overrides&&g.overrides.hasOverride(P))return void(x=!0)};if(f.value.kind==="constant"&&f.value.value instanceof Re)w(f.value.value.sections);else if(f.value.kind==="source"){const C=M=>{x||(M instanceof Na&&Ii(M.value)===Oo?w(M.value.sections):M instanceof Ld?w(M.sections):M.eachChild(C))},P=f.value;P._styleExpression&&C(P._styleExpression.expression)}return x}}let FC;var a$={get paint(){return FC=FC||new Dr({"background-color":new Pt(Ne.paint_background["background-color"]),"background-pattern":new lp(Ne.paint_background["background-pattern"]),"background-opacity":new Pt(Ne.paint_background["background-opacity"])})}};class l$ extends Bo{constructor(r){super(r,a$)}}let NC;var c$={get paint(){return NC=NC||new Dr({"raster-opacity":new Pt(Ne.paint_raster["raster-opacity"]),"raster-hue-rotate":new Pt(Ne.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new Pt(Ne.paint_raster["raster-brightness-min"]),"raster-brightness-max":new Pt(Ne.paint_raster["raster-brightness-max"]),"raster-saturation":new Pt(Ne.paint_raster["raster-saturation"]),"raster-contrast":new Pt(Ne.paint_raster["raster-contrast"]),"raster-resampling":new Pt(Ne.paint_raster["raster-resampling"]),"raster-fade-duration":new Pt(Ne.paint_raster["raster-fade-duration"])})}};class u$ extends Bo{constructor(r){super(r,c$)}}class d$ extends Bo{constructor(r){super(r,{}),this.onAdd=u=>{this.implementation.onAdd&&this.implementation.onAdd(u,u.painter.context.gl)},this.onRemove=u=>{this.implementation.onRemove&&this.implementation.onRemove(u,u.painter.context.gl)},this.implementation=r}is3D(){return this.implementation.renderingMode==="3d"}hasOffscreenPass(){return this.implementation.prerender!==void 0}recalculate(){}updateTransitions(){}hasTransition(){return!1}serialize(){throw new Error("Custom layers cannot be serialized")}}class h${constructor(r){this._methodToThrottle=r,this._triggered=!1,typeof MessageChannel<"u"&&(this._channel=new MessageChannel,this._channel.port2.onmessage=()=>{this._triggered=!1,this._methodToThrottle()})}trigger(){this._triggered||(this._triggered=!0,this._channel?this._channel.port1.postMessage(!0):setTimeout(()=>{this._triggered=!1,this._methodToThrottle()},0))}remove(){delete this._channel,this._methodToThrottle=()=>{}}}const fx=63710088e-1;class ic{constructor(r,u){if(isNaN(r)||isNaN(u))throw new Error("Invalid LngLat object: (".concat(r,", ").concat(u,")"));if(this.lng=+r,this.lat=+u,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")}wrap(){return new ic(fe(this.lng,-180,180),this.lat)}toArray(){return[this.lng,this.lat]}toString(){return"LngLat(".concat(this.lng,", ").concat(this.lat,")")}distanceTo(r){const u=Math.PI/180,f=this.lat*u,g=r.lat*u,x=Math.sin(f)*Math.sin(g)+Math.cos(f)*Math.cos(g)*Math.cos((r.lng-this.lng)*u);return fx*Math.acos(Math.min(x,1))}static convert(r){if(r instanceof ic)return r;if(Array.isArray(r)&&(r.length===2||r.length===3))return new ic(Number(r[0]),Number(r[1]));if(!Array.isArray(r)&&typeof r=="object"&&r!==null)return new ic(Number("lng"in r?r.lng:r.lon),Number(r.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")}}const jC=2*Math.PI*fx;function VC(a){return jC*Math.cos(a*Math.PI/180)}function UC(a){return(180+a)/360}function HC(a){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+a*Math.PI/360)))/360}function qC(a,r){return a/VC(r)}function px(a){return 360/Math.PI*Math.atan(Math.exp((180-360*a)*Math.PI/180))-90}class Hy{constructor(r,u,f=0){this.x=+r,this.y=+u,this.z=+f}static fromLngLat(r,u=0){const f=ic.convert(r);return new Hy(UC(f.lng),HC(f.lat),qC(u,f.lat))}toLngLat(){return new ic(360*this.x-180,px(this.y))}toAltitude(){return this.z*VC(px(this.y))}meterInMercatorCoordinateUnits(){return 1/jC*(r=px(this.y),1/Math.cos(r*Math.PI/180));var r}}function WC(a,r,u){var f=2*Math.PI*6378137/256/Math.pow(2,u);return[a*f-2*Math.PI*6378137/2,r*f-2*Math.PI*6378137/2]}class mx{constructor(r,u,f){if(r<0||r>25||f<0||f>=Math.pow(2,r)||u<0||u>=Math.pow(2,r))throw new Error("x=".concat(u,", y=").concat(f,", z=").concat(r," outside of bounds. 0<=x<").concat(Math.pow(2,r),", 0<=y<").concat(Math.pow(2,r)," 0<=z<=25 "));this.z=r,this.x=u,this.y=f,this.key=Op(0,r,r,u,f)}equals(r){return this.z===r.z&&this.x===r.x&&this.y===r.y}url(r,u,f){const g=(w=this.y,C=this.z,P=WC(256*(x=this.x),256*(w=Math.pow(2,C)-w-1),C),M=WC(256*(x+1),256*(w+1),C),P[0]+","+P[1]+","+M[0]+","+M[1]);var x,w,C,P,M;const O=function(D,H,G){let X,te="";for(let ue=D;ue>0;ue--)X=1<<ue-1,te+=(H&X?1:0)+(G&X?2:0);return te}(this.z,this.x,this.y);return r[(this.x+this.y)%r.length].replace(/{prefix}/g,(this.x%16).toString(16)+(this.y%16).toString(16)).replace(/{z}/g,String(this.z)).replace(/{x}/g,String(this.x)).replace(/{y}/g,String(f==="tms"?Math.pow(2,this.z)-this.y-1:this.y)).replace(/{ratio}/g,u>1?"@2x":"").replace(/{quadkey}/g,O).replace(/{bbox-epsg-3857}/g,g)}isChildOf(r){const u=this.z-r.z;return u>0&&r.x===this.x>>u&&r.y===this.y>>u}getTilePoint(r){const u=Math.pow(2,this.z);return new S((r.x*u-this.x)*un,(r.y*u-this.y)*un)}toString(){return"".concat(this.z,"/").concat(this.x,"/").concat(this.y)}}class ZC{constructor(r,u){this.wrap=r,this.canonical=u,this.key=Op(r,u.z,u.z,u.x,u.y)}}class Vo{constructor(r,u,f,g,x){if(r<f)throw new Error("overscaledZ should be >= z; overscaledZ = ".concat(r,"; z = ").concat(f));this.overscaledZ=r,this.wrap=u,this.canonical=new mx(f,+g,+x),this.key=Op(u,r,f,g,x)}clone(){return new Vo(this.overscaledZ,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)}equals(r){return this.overscaledZ===r.overscaledZ&&this.wrap===r.wrap&&this.canonical.equals(r.canonical)}scaledTo(r){if(r>this.overscaledZ)throw new Error("targetZ > this.overscaledZ; targetZ = ".concat(r,"; overscaledZ = ").concat(this.overscaledZ));const u=this.canonical.z-r;return r>this.canonical.z?new Vo(r,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new Vo(r,this.wrap,r,this.canonical.x>>u,this.canonical.y>>u)}calculateScaledKey(r,u){if(r>this.overscaledZ)throw new Error("targetZ > this.overscaledZ; targetZ = ".concat(r,"; overscaledZ = ").concat(this.overscaledZ));const f=this.canonical.z-r;return r>this.canonical.z?Op(this.wrap*+u,r,this.canonical.z,this.canonical.x,this.canonical.y):Op(this.wrap*+u,r,r,this.canonical.x>>f,this.canonical.y>>f)}isChildOf(r){if(r.wrap!==this.wrap)return!1;const u=this.canonical.z-r.canonical.z;return r.overscaledZ===0||r.overscaledZ<this.overscaledZ&&r.canonical.x===this.canonical.x>>u&&r.canonical.y===this.canonical.y>>u}children(r){if(this.overscaledZ>=r)return[new Vo(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];const u=this.canonical.z+1,f=2*this.canonical.x,g=2*this.canonical.y;return[new Vo(u,this.wrap,u,f,g),new Vo(u,this.wrap,u,f+1,g),new Vo(u,this.wrap,u,f,g+1),new Vo(u,this.wrap,u,f+1,g+1)]}isLessThan(r){return this.wrap<r.wrap||!(this.wrap>r.wrap)&&(this.overscaledZ<r.overscaledZ||!(this.overscaledZ>r.overscaledZ)&&(this.canonical.x<r.canonical.x||!(this.canonical.x>r.canonical.x)&&this.canonical.y<r.canonical.y))}wrapped(){return new Vo(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)}unwrapTo(r){return new Vo(this.overscaledZ,r,this.canonical.z,this.canonical.x,this.canonical.y)}overscaleFactor(){return Math.pow(2,this.overscaledZ-this.canonical.z)}toUnwrapped(){return new ZC(this.wrap,this.canonical)}toString(){return"".concat(this.overscaledZ,"/").concat(this.canonical.x,"/").concat(this.canonical.y)}getTilePoint(r){return this.canonical.getTilePoint(new Hy(r.x-this.wrap,r.y))}}function Op(a,r,u,f,g){(a*=2)<0&&(a=-1*a-1);const x=1<<u;return(x*x*a+x*g+f).toString(36)+u.toString(36)+r.toString(36)}bt("CanonicalTileID",mx),bt("OverscaledTileID",Vo,{omit:["posMatrix"]});class GC{constructor(r,u,f,g=1,x=1,w=1,C=0){if(this.uid=r,u.height!==u.width)throw new RangeError("DEM tiles must be square");if(f&&!["mapbox","terrarium","custom"].includes(f))return void Pe('"'.concat(f,'" is not a valid encoding type. Valid types include "mapbox", "terrarium" and "custom".'));this.stride=u.height;const P=this.dim=u.height-2;switch(this.data=new Uint32Array(u.data.buffer),f){case"terrarium":this.redFactor=256,this.greenFactor=1,this.blueFactor=1/256,this.baseShift=32768;break;case"custom":this.redFactor=g,this.greenFactor=x,this.blueFactor=w,this.baseShift=C;break;default:this.redFactor=6553.6,this.greenFactor=25.6,this.blueFactor=.1,this.baseShift=1e4}for(let M=0;M<P;M++)this.data[this._idx(-1,M)]=this.data[this._idx(0,M)],this.data[this._idx(P,M)]=this.data[this._idx(P-1,M)],this.data[this._idx(M,-1)]=this.data[this._idx(M,0)],this.data[this._idx(M,P)]=this.data[this._idx(M,P-1)];this.data[this._idx(-1,-1)]=this.data[this._idx(0,0)],this.data[this._idx(P,-1)]=this.data[this._idx(P-1,0)],this.data[this._idx(-1,P)]=this.data[this._idx(0,P-1)],this.data[this._idx(P,P)]=this.data[this._idx(P-1,P-1)],this.min=Number.MAX_SAFE_INTEGER,this.max=Number.MIN_SAFE_INTEGER;for(let M=0;M<P;M++)for(let O=0;O<P;O++){const D=this.get(M,O);D>this.max&&(this.max=D),D<this.min&&(this.min=D)}}get(r,u){const f=new Uint8Array(this.data.buffer),g=4*this._idx(r,u);return this.unpack(f[g],f[g+1],f[g+2])}getUnpackVector(){return[this.redFactor,this.greenFactor,this.blueFactor,this.baseShift]}_idx(r,u){if(r<-1||r>=this.dim+1||u<-1||u>=this.dim+1)throw new RangeError("out of range source coordinates for DEM data");return(u+1)*this.stride+(r+1)}unpack(r,u,f){return r*this.redFactor+u*this.greenFactor+f*this.blueFactor-this.baseShift}getPixels(){return new jo({width:this.stride,height:this.stride},new Uint8Array(this.data.buffer))}backfillBorder(r,u,f){if(this.dim!==r.dim)throw new Error("dem dimension mismatch");let g=u*this.dim,x=u*this.dim+this.dim,w=f*this.dim,C=f*this.dim+this.dim;switch(u){case-1:g=x-1;break;case 1:x=g+1}switch(f){case-1:w=C-1;break;case 1:C=w+1}const P=-u*this.dim,M=-f*this.dim;for(let O=w;O<C;O++)for(let D=g;D<x;D++)this.data[this._idx(D,O)]=r.data[this._idx(D+P,O+M)]}}bt("DEMData",GC);class KC{constructor(r){this._stringToNumber={},this._numberToString=[];for(let u=0;u<r.length;u++){const f=r[u];this._stringToNumber[f]=u,this._numberToString[u]=f}}encode(r){return this._stringToNumber[r]}decode(r){if(r>=this._numberToString.length)throw new Error("Out of bounds. Index requested n=".concat(r," can't be >= this._numberToString.length ").concat(this._numberToString.length));return this._numberToString[r]}}class XC{constructor(r,u,f,g,x){this.type="Feature",this._vectorTileFeature=r,r._z=u,r._x=f,r._y=g,this.properties=r.properties,this.id=x}get geometry(){return this._geometry===void 0&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._vectorTileFeature._x,this._vectorTileFeature._y,this._vectorTileFeature._z).geometry),this._geometry}set geometry(r){this._geometry=r}toJSON(){const r={geometry:this.geometry};for(const u in this)u!=="_geometry"&&u!=="_vectorTileFeature"&&(r[u]=this[u]);return r}}class YC{constructor(r,u){this.tileID=r,this.x=r.canonical.x,this.y=r.canonical.y,this.z=r.canonical.z,this.grid=new Ds(un,16,0),this.grid3D=new Ds(un,16,0),this.featureIndexArray=new L,this.promoteId=u}insert(r,u,f,g,x,w){const C=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(f,g,x);const P=w?this.grid3D:this.grid;for(let M=0;M<u.length;M++){const O=u[M],D=[1/0,1/0,-1/0,-1/0];for(let H=0;H<O.length;H++){const G=O[H];D[0]=Math.min(D[0],G.x),D[1]=Math.min(D[1],G.y),D[2]=Math.max(D[2],G.x),D[3]=Math.max(D[3],G.y)}D[0]<un&&D[1]<un&&D[2]>=0&&D[3]>=0&&P.insert(C,D[0],D[1],D[2],D[3])}}loadVTLayers(){return this.vtLayers||(this.vtLayers=new ec.VectorTile(new ix(this.rawTileData)).layers,this.sourceLayerCoder=new KC(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"])),this.vtLayers}query(r,u,f,g){this.loadVTLayers();const x=r.params||{},w=un/r.tileSize/r.scale,C=Bd(x.filter),P=r.queryGeometry,M=r.queryPadding*w,O=QC(P),D=this.grid.query(O.minX-M,O.minY-M,O.maxX+M,O.maxY+M),H=QC(r.cameraQueryGeometry),G=this.grid3D.query(H.minX-M,H.minY-M,H.maxX+M,H.maxY+M,(ue,pe,Ce,ge)=>function(xe,Ue,Ge,mt,Et){for(const ht of xe)if(Ue<=ht.x&&Ge<=ht.y&&mt>=ht.x&&Et>=ht.y)return!0;const pt=[new S(Ue,Ge),new S(Ue,Et),new S(mt,Et),new S(mt,Ge)];if(xe.length>2){for(const ht of pt)if(Yd(xe,ht))return!0}for(let ht=0;ht<xe.length-1;ht++)if(H5(xe[ht],xe[ht+1],pt))return!0;return!1}(r.cameraQueryGeometry,ue-M,pe-M,Ce+M,ge+M));for(const ue of G)D.push(ue);D.sort(f$);const X={};let te;for(let ue=0;ue<D.length;ue++){const pe=D[ue];if(pe===te)continue;te=pe;const Ce=this.featureIndexArray.get(pe);let ge=null;this.loadMatchingFeature(X,Ce.bucketIndex,Ce.sourceLayerIndex,Ce.featureIndex,C,x.layers,x.availableImages,u,f,g,(xe,Ue,Ge)=>(ge||(ge=Ja(xe)),Ue.queryIntersectsFeature(P,xe,Ge,ge,this.z,r.transform,w,r.pixelPosMatrix)))}return X}loadMatchingFeature(r,u,f,g,x,w,C,P,M,O,D){const H=this.bucketLayerIDs[u];if(w&&!function(ue,pe){for(let Ce=0;Ce<ue.length;Ce++)if(pe.indexOf(ue[Ce])>=0)return!0;return!1}(w,H))return;const G=this.sourceLayerCoder.decode(f),X=this.vtLayers[G].feature(g);if(x.needGeometry){const ue=Qa(X,!0);if(!x.filter(new Nn(this.tileID.overscaledZ),ue,this.tileID.canonical))return}else if(!x.filter(new Nn(this.tileID.overscaledZ),X))return;const te=this.getId(X,G);for(let ue=0;ue<H.length;ue++){const pe=H[ue];if(w&&w.indexOf(pe)<0)continue;const Ce=P[pe];if(!Ce)continue;let ge={};te&&O&&(ge=O.getState(Ce.sourceLayer||"_geojsonTileLayer",te));const xe=oe({},M[pe]);xe.paint=JC(xe.paint,Ce.paint,X,ge,C),xe.layout=JC(xe.layout,Ce.layout,X,ge,C);const Ue=!D||D(X,Ce,ge);if(!Ue)continue;const Ge=new XC(X,this.z,this.x,this.y,te);Ge.layer=xe;let mt=r[pe];mt===void 0&&(mt=r[pe]=[]),mt.push({featureIndex:g,feature:Ge,intersectionZ:Ue})}}lookupSymbolFeatures(r,u,f,g,x,w,C,P){const M={};this.loadVTLayers();const O=Bd(x);for(const D of r)this.loadMatchingFeature(M,f,g,D,O,w,C,P,u);return M}hasLayer(r){for(const u of this.bucketLayerIDs)for(const f of u)if(r===f)return!0;return!1}getId(r,u){let f=r.id;return this.promoteId&&(f=r.properties[typeof this.promoteId=="string"?this.promoteId:this.promoteId[u]],typeof f=="boolean"&&(f=Number(f))),f}}function JC(a,r,u,f,g){return Be(a,(x,w)=>{const C=r instanceof bu?r.get(w):null;return C&&C.evaluate?C.evaluate(u,f,g):C})}function QC(a){let r=1/0,u=1/0,f=-1/0,g=-1/0;for(const x of a)r=Math.min(r,x.x),u=Math.min(u,x.y),f=Math.max(f,x.x),g=Math.max(g,x.y);return{minX:r,minY:u,maxX:f,maxY:g}}function f$(a,r){return r-a}function eT(a,r,u,f,g){const x=[];for(let w=0;w<a.length;w++){const C=a[w];let P;for(let M=0;M<C.length-1;M++){let O=C[M],D=C[M+1];O.x<r&&D.x<r||(O.x<r?O=new S(r,O.y+(r-O.x)/(D.x-O.x)*(D.y-O.y))._round():D.x<r&&(D=new S(r,O.y+(r-O.x)/(D.x-O.x)*(D.y-O.y))._round()),O.y<u&&D.y<u||(O.y<u?O=new S(O.x+(u-O.y)/(D.y-O.y)*(D.x-O.x),u)._round():D.y<u&&(D=new S(O.x+(u-O.y)/(D.y-O.y)*(D.x-O.x),u)._round()),O.x>=f&&D.x>=f||(O.x>=f?O=new S(f,O.y+(f-O.x)/(D.x-O.x)*(D.y-O.y))._round():D.x>=f&&(D=new S(f,O.y+(f-O.x)/(D.x-O.x)*(D.y-O.y))._round()),O.y>=g&&D.y>=g||(O.y>=g?O=new S(O.x+(g-O.y)/(D.y-O.y)*(D.x-O.x),g)._round():D.y>=g&&(D=new S(O.x+(g-O.y)/(D.y-O.y)*(D.x-O.x),g)._round()),P&&O.equals(P[P.length-1])||(P=[O],x.push(P)),P.push(D)))))}}return x}bt("FeatureIndex",YC,{omit:["rawTileData","sourceLayerCoder"]});class rc extends S{constructor(r,u,f,g){super(r,u),this.angle=f,g!==void 0&&(this.segment=g)}clone(){return new rc(this.x,this.y,this.angle,this.segment)}}function tT(a,r,u,f,g){if(r.segment===void 0||u===0)return!0;let x=r,w=r.segment+1,C=0;for(;C>-u/2;){if(w--,w<0)return!1;C-=a[w].dist(x),x=a[w]}C+=a[w].dist(a[w+1]),w++;const P=[];let M=0;for(;C<u/2;){const O=a[w],D=a[w+1];if(!D)return!1;let H=a[w-1].angleTo(O)-O.angleTo(D);for(H=Math.abs((H+3*Math.PI)%(2*Math.PI)-Math.PI),P.push({distance:C,angleDelta:H}),M+=H;C-P[0].distance>f;)M-=P.shift().angleDelta;if(M>g)return!1;w++,C+=O.dist(D)}return!0}function nT(a){let r=0;for(let u=0;u<a.length-1;u++)r+=a[u].dist(a[u+1]);return r}function iT(a,r,u){return a?.6*r*u:0}function rT(a,r){return Math.max(a?a.right-a.left:0,r?r.right-r.left:0)}function p$(a,r,u,f,g,x){const w=iT(u,g,x),C=rT(u,f)*x;let P=0;const M=nT(a)/2;for(let O=0;O<a.length-1;O++){const D=a[O],H=a[O+1],G=D.dist(H);if(P+G>M){const X=(M-P)/G,te=Jr.number(D.x,H.x,X),ue=Jr.number(D.y,H.y,X),pe=new rc(te,ue,H.angleTo(D),O);return pe._round(),!w||tT(a,pe,C,w,r)?pe:void 0}P+=G}}function m$(a,r,u,f,g,x,w,C,P){const M=iT(f,x,w),O=rT(f,g),D=O*w,H=a[0].x===0||a[0].x===P||a[0].y===0||a[0].y===P;return r-D<r/4&&(r=D+r/4),oT(a,H?r/2*C%r:(O/2+2*x)*w*C%r,r,M,u,D,H,!1,P)}function oT(a,r,u,f,g,x,w,C,P){const M=x/2,O=nT(a);let D=0,H=r-u,G=[];for(let X=0;X<a.length-1;X++){const te=a[X],ue=a[X+1],pe=te.dist(ue),Ce=ue.angleTo(te);for(;H+u<D+pe;){H+=u;const ge=(H-D)/pe,xe=Jr.number(te.x,ue.x,ge),Ue=Jr.number(te.y,ue.y,ge);if(xe>=0&&xe<P&&Ue>=0&&Ue<P&&H-M>=0&&H+M<=O){const Ge=new rc(xe,Ue,Ce,X);Ge._round(),f&&!tT(a,Ge,x,f,g)||G.push(Ge)}}D+=pe}return C||G.length||w||(G=oT(a,D/2,u,f,g,x,w,!0,P)),G}bt("Anchor",rc);const oh=to;function sT(a,r,u,f){const g=[],x=a.image,w=x.pixelRatio,C=x.paddedRect.w-2*oh,P=x.paddedRect.h-2*oh,M=a.right-a.left,O=a.bottom-a.top,D=x.stretchX||[[0,C]],H=x.stretchY||[[0,P]],G=(lt,_t)=>lt+_t[1]-_t[0],X=D.reduce(G,0),te=H.reduce(G,0),ue=C-X,pe=P-te;let Ce=0,ge=X,xe=0,Ue=te,Ge=0,mt=ue,Et=0,pt=pe;if(x.content&&f){const lt=x.content;Ce=qy(D,0,lt[0]),xe=qy(H,0,lt[1]),ge=qy(D,lt[0],lt[2]),Ue=qy(H,lt[1],lt[3]),Ge=lt[0]-Ce,Et=lt[1]-xe,mt=lt[2]-lt[0]-ge,pt=lt[3]-lt[1]-Ue}const ht=(lt,_t,dt,rt)=>{const Lt=Wy(lt.stretch-Ce,ge,M,a.left),Tt=Zy(lt.fixed-Ge,mt,lt.stretch,X),an=Wy(_t.stretch-xe,Ue,O,a.top),Vn=Zy(_t.fixed-Et,pt,_t.stretch,te),Gn=Wy(dt.stretch-Ce,ge,M,a.left),Oi=Zy(dt.fixed-Ge,mt,dt.stretch,X),bo=Wy(rt.stretch-xe,Ue,O,a.top),Fr=Zy(rt.fixed-Et,pt,rt.stretch,te),Ai=new S(Lt,an),Yi=new S(Gn,an),lr=new S(Gn,bo),Nr=new S(Lt,bo),jr=new S(Tt/w,Vn/w),Di=new S(Oi/w,Fr/w),$i=r*Math.PI/180;if($i){const kr=Math.sin($i),no=Math.cos($i),io=[no,-kr,kr,no];Ai._matMult(io),Yi._matMult(io),Nr._matMult(io),lr._matMult(io)}const Sr=lt.stretch+lt.fixed,Vr=_t.stretch+_t.fixed;return{tl:Ai,tr:Yi,bl:Nr,br:lr,tex:{x:x.paddedRect.x+oh+Sr,y:x.paddedRect.y+oh+Vr,w:dt.stretch+dt.fixed-Sr,h:rt.stretch+rt.fixed-Vr},writingMode:void 0,glyphOffset:[0,0],sectionIndex:0,pixelOffsetTL:jr,pixelOffsetBR:Di,minFontScaleX:mt/w/M,minFontScaleY:pt/w/O,isSDF:u}};if(f&&(x.stretchX||x.stretchY)){const lt=aT(D,ue,X),_t=aT(H,pe,te);for(let dt=0;dt<lt.length-1;dt++){const rt=lt[dt],Lt=lt[dt+1];for(let Tt=0;Tt<_t.length-1;Tt++)g.push(ht(rt,_t[Tt],Lt,_t[Tt+1]))}}else g.push(ht({fixed:0,stretch:-1},{fixed:0,stretch:-1},{fixed:0,stretch:C+1},{fixed:0,stretch:P+1}));return g}function qy(a,r,u){let f=0;for(const g of a)f+=Math.max(r,Math.min(u,g[1]))-Math.max(r,Math.min(u,g[0]));return f}function aT(a,r,u){const f=[{fixed:-oh,stretch:0}];for(const[g,x]of a){const w=f[f.length-1];f.push({fixed:g-w.stretch,stretch:w.stretch}),f.push({fixed:g-w.stretch,stretch:w.stretch+(x-g)})}return f.push({fixed:r+oh,stretch:u}),f}function Wy(a,r,u,f){return a/r*u+f}function Zy(a,r,u,f){return a-r*u/f}class Gy{constructor(r,u,f,g,x,w,C,P,M,O){if(this.boxStartIndex=r.length,M){let D=w.top,H=w.bottom;const G=w.collisionPadding;G&&(D-=G[1],H+=G[3]);let X=H-D;X>0&&(X=Math.max(10,X),this.circleDiameter=X)}else{let D=w.top*C-P[0],H=w.bottom*C+P[2],G=w.left*C-P[3],X=w.right*C+P[1];const te=w.collisionPadding;if(te&&(G-=te[0]*C,D-=te[1]*C,X+=te[2]*C,H+=te[3]*C),O){const ue=new S(G,D),pe=new S(X,D),Ce=new S(G,H),ge=new S(X,H),xe=O*Math.PI/180;ue._rotate(xe),pe._rotate(xe),Ce._rotate(xe),ge._rotate(xe),G=Math.min(ue.x,pe.x,Ce.x,ge.x),X=Math.max(ue.x,pe.x,Ce.x,ge.x),D=Math.min(ue.y,pe.y,Ce.y,ge.y),H=Math.max(ue.y,pe.y,Ce.y,ge.y)}r.emplaceBack(u.x,u.y,G,D,X,H,f,g,x)}this.boxEndIndex=r.length}}class g${constructor(r=[],u=y$){if(this.data=r,this.length=this.data.length,this.compare=u,this.length>0)for(let f=(this.length>>1)-1;f>=0;f--)this._down(f)}push(r){this.data.push(r),this.length++,this._up(this.length-1)}pop(){if(this.length===0)return;const r=this.data[0],u=this.data.pop();return this.length--,this.length>0&&(this.data[0]=u,this._down(0)),r}peek(){return this.data[0]}_up(r){const{data:u,compare:f}=this,g=u[r];for(;r>0;){const x=r-1>>1,w=u[x];if(f(g,w)>=0)break;u[r]=w,r=x}u[r]=g}_down(r){const{data:u,compare:f}=this,g=this.length>>1,x=u[r];for(;r<g;){let w=1+(r<<1),C=u[w];const P=w+1;if(P<this.length&&f(u[P],C)<0&&(w=P,C=u[P]),f(C,x)>=0)break;u[r]=C,r=w}u[r]=x}}function y$(a,r){return a<r?-1:a>r?1:0}function v$(a,r=1,u=!1){let f=1/0,g=1/0,x=-1/0,w=-1/0;const C=a[0];for(let G=0;G<C.length;G++){const X=C[G];(!G||X.x<f)&&(f=X.x),(!G||X.y<g)&&(g=X.y),(!G||X.x>x)&&(x=X.x),(!G||X.y>w)&&(w=X.y)}const P=Math.min(x-f,w-g);let M=P/2;const O=new g$([],b$);if(P===0)return new S(f,g);for(let G=f;G<x;G+=P)for(let X=g;X<w;X+=P)O.push(new sh(G+M,X+M,M,a));let D=function(G){let X=0,te=0,ue=0;const pe=G[0];for(let Ce=0,ge=pe.length,xe=ge-1;Ce<ge;xe=Ce++){const Ue=pe[Ce],Ge=pe[xe],mt=Ue.x*Ge.y-Ge.x*Ue.y;te+=(Ue.x+Ge.x)*mt,ue+=(Ue.y+Ge.y)*mt,X+=3*mt}return new sh(te/X,ue/X,0,G)}(a),H=O.length;for(;O.length;){const G=O.pop();(G.d>D.d||!D.d)&&(D=G,u&&console.log("found best %d after %d probes",Math.round(1e4*G.d)/1e4,H)),G.max-D.d<=r||(M=G.h/2,O.push(new sh(G.p.x-M,G.p.y-M,M,a)),O.push(new sh(G.p.x+M,G.p.y-M,M,a)),O.push(new sh(G.p.x-M,G.p.y+M,M,a)),O.push(new sh(G.p.x+M,G.p.y+M,M,a)),H+=4)}return u&&(console.log("num probes: ".concat(H)),console.log("best distance: ".concat(D.d))),D.p}function b$(a,r){return r.max-a.max}function sh(a,r,u,f){this.p=new S(a,r),this.h=u,this.d=function(g,x){let w=!1,C=1/0;for(let P=0;P<x.length;P++){const M=x[P];for(let O=0,D=M.length,H=D-1;O<D;H=O++){const G=M[O],X=M[H];G.y>g.y!=X.y>g.y&&g.x<(X.x-G.x)*(g.y-G.y)/(X.y-G.y)+G.x&&(w=!w),C=Math.min(C,HE(g,G,X))}}return(w?1:-1)*Math.sqrt(C)}(this.p,f),this.max=this.d+this.h*Math.SQRT2}var ar;d.ap=void 0,(ar=d.ap||(d.ap={}))[ar.center=1]="center",ar[ar.left=2]="left",ar[ar.right=3]="right",ar[ar.top=4]="top",ar[ar.bottom=5]="bottom",ar[ar["top-left"]=6]="top-left",ar[ar["top-right"]=7]="top-right",ar[ar["bottom-left"]=8]="bottom-left",ar[ar["bottom-right"]=9]="bottom-right";const oc=7,gx=Number.POSITIVE_INFINITY;function lT(a,r){return r[1]!==gx?function(u,f,g){let x=0,w=0;switch(f=Math.abs(f),g=Math.abs(g),u){case"top-right":case"top-left":case"top":w=g-oc;break;case"bottom-right":case"bottom-left":case"bottom":w=-g+oc}switch(u){case"top-right":case"bottom-right":case"right":x=-f;break;case"top-left":case"bottom-left":case"left":x=f}return[x,w]}(a,r[0],r[1]):function(u,f){let g=0,x=0;f<0&&(f=0);const w=f/Math.SQRT2;switch(u){case"top-right":case"top-left":x=w-oc;break;case"bottom-right":case"bottom-left":x=-w+oc;break;case"bottom":x=-f+oc;break;case"top":x=f-oc}switch(u){case"top-right":case"bottom-right":g=-w;break;case"top-left":case"bottom-left":g=w;break;case"left":g=f;break;case"right":g=-f}return[g,x]}(a,r[0])}function cT(a,r,u){var f;const g=a.layout,x=(f=g.get("text-variable-anchor-offset"))===null||f===void 0?void 0:f.evaluate(r,{},u);if(x){const C=x.values,P=[];for(let M=0;M<C.length;M+=2){const O=P[M]=C[M],D=C[M+1].map(H=>H*Li);O.startsWith("top")?D[1]-=oc:O.startsWith("bottom")&&(D[1]+=oc),P[M+1]=D}return new sn(P)}const w=g.get("text-variable-anchor");if(w){let C;C=a._unevaluatedLayout.getValue("text-radial-offset")!==void 0?[g.get("text-radial-offset").evaluate(r,{},u)*Li,gx]:g.get("text-offset").evaluate(r,{},u).map(M=>M*Li);const P=[];for(const M of w)P.push(M,lT(M,C));return new sn(P)}return null}function yx(a){switch(a){case"right":case"top-right":case"bottom-right":return"right";case"left":case"top-left":case"bottom-left":return"left"}return"center"}function _$(a,r,u,f,g,x,w,C,P,M,O){let D=x.textMaxSize.evaluate(r,{});D===void 0&&(D=w);const H=a.layers[0].layout,G=H.get("icon-offset").evaluate(r,{},O),X=dT(u.horizontal),te=w/24,ue=a.tilePixelRatio*te,pe=a.tilePixelRatio*D/24,Ce=a.tilePixelRatio*C,ge=a.tilePixelRatio*H.get("symbol-spacing"),xe=H.get("text-padding")*a.tilePixelRatio,Ue=function(rt,Lt,Tt,an=1){const Vn=rt.get("icon-padding").evaluate(Lt,{},Tt),Gn=Vn&&Vn.values;return[Gn[0]*an,Gn[1]*an,Gn[2]*an,Gn[3]*an]}(H,r,O,a.tilePixelRatio),Ge=H.get("text-max-angle")/180*Math.PI,mt=H.get("text-rotation-alignment")!=="viewport"&&H.get("symbol-placement")!=="point",Et=H.get("icon-rotation-alignment")==="map"&&H.get("symbol-placement")!=="point",pt=H.get("symbol-placement"),ht=ge/2,lt=H.get("icon-text-fit");let _t;f&&lt!=="none"&&(a.allowVerticalPlacement&&u.vertical&&(_t=LC(f,u.vertical,lt,H.get("icon-text-fit-padding"),G,te)),X&&(f=LC(f,X,lt,H.get("icon-text-fit-padding"),G,te)));const dt=(rt,Lt)=>{Lt.x<0||Lt.x>=un||Lt.y<0||Lt.y>=un||function(Tt,an,Vn,Gn,Oi,bo,Fr,Ai,Yi,lr,Nr,jr,Di,$i,Sr,Vr,kr,no,io,Bi,fn,Er,cr,Fi,fs){const Bs=Tt.addToLineVertexArray(an,Vn);let Fs,nl,ps,Uo,ro=0,il=0,Bp=0,mT=0,Ex=-1,Cx=-1;const rl={};let gT=rn("");if(Tt.allowVerticalPlacement&&Gn.vertical){const Cr=Ai.layout.get("text-rotate").evaluate(fn,{},Fi)+90;ps=new Gy(Yi,an,lr,Nr,jr,Gn.vertical,Di,$i,Sr,Cr),Fr&&(Uo=new Gy(Yi,an,lr,Nr,jr,Fr,kr,no,Sr,Cr))}if(Oi){const Cr=Ai.layout.get("icon-rotate").evaluate(fn,{}),Ho=Ai.layout.get("icon-text-fit")!=="none",Tu=sT(Oi,Cr,cr,Ho),js=Fr?sT(Fr,Cr,cr,Ho):void 0;nl=new Gy(Yi,an,lr,Nr,jr,Oi,kr,no,!1,Cr),ro=4*Tu.length;const Iu=Tt.iconSizeData;let va=null;Iu.kind==="source"?(va=[ya*Ai.layout.get("icon-size").evaluate(fn,{})],va[0]>nc&&Pe("".concat(Tt.layerIds[0],': Value for "icon-size" is >= ').concat(Lp,'. Reduce your "icon-size".'))):Iu.kind==="composite"&&(va=[ya*Er.compositeIconSizes[0].evaluate(fn,{},Fi),ya*Er.compositeIconSizes[1].evaluate(fn,{},Fi)],(va[0]>nc||va[1]>nc)&&Pe("".concat(Tt.layerIds[0],': Value for "icon-size" is >= ').concat(Lp,'. Reduce your "icon-size".'))),Tt.addSymbols(Tt.icon,Tu,va,Bi,io,fn,d.ah.none,an,Bs.lineStartIndex,Bs.lineLength,-1,Fi),Ex=Tt.icon.placedSymbolArray.length-1,js&&(il=4*js.length,Tt.addSymbols(Tt.icon,js,va,Bi,io,fn,d.ah.vertical,an,Bs.lineStartIndex,Bs.lineLength,-1,Fi),Cx=Tt.icon.placedSymbolArray.length-1)}const yT=Object.keys(Gn.horizontal);for(const Cr of yT){const Ho=Gn.horizontal[Cr];if(!Fs){gT=rn(Ho.text);const js=Ai.layout.get("text-rotate").evaluate(fn,{},Fi);Fs=new Gy(Yi,an,lr,Nr,jr,Ho,Di,$i,Sr,js)}const Tu=Ho.positionedLines.length===1;if(Bp+=uT(Tt,an,Ho,bo,Ai,Sr,fn,Vr,Bs,Gn.vertical?d.ah.horizontal:d.ah.horizontalOnly,Tu?yT:[Cr],rl,Ex,Er,Fi),Tu)break}Gn.vertical&&(mT+=uT(Tt,an,Gn.vertical,bo,Ai,Sr,fn,Vr,Bs,d.ah.vertical,["vertical"],rl,Cx,Er,Fi));const S$=Fs?Fs.boxStartIndex:Tt.collisionBoxArray.length,k$=Fs?Fs.boxEndIndex:Tt.collisionBoxArray.length,E$=ps?ps.boxStartIndex:Tt.collisionBoxArray.length,C$=ps?ps.boxEndIndex:Tt.collisionBoxArray.length,T$=nl?nl.boxStartIndex:Tt.collisionBoxArray.length,I$=nl?nl.boxEndIndex:Tt.collisionBoxArray.length,P$=Uo?Uo.boxStartIndex:Tt.collisionBoxArray.length,A$=Uo?Uo.boxEndIndex:Tt.collisionBoxArray.length;let Ns=-1;const Xy=(Cr,Ho)=>Cr&&Cr.circleDiameter?Math.max(Cr.circleDiameter,Ho):Ho;Ns=Xy(Fs,Ns),Ns=Xy(ps,Ns),Ns=Xy(nl,Ns),Ns=Xy(Uo,Ns);const vT=Ns>-1?1:0;vT&&(Ns*=fs/Li),Tt.glyphOffsetArray.length>=rh.MAX_GLYPHS&&Pe("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),fn.sortKey!==void 0&&Tt.addToSortKeyRanges(Tt.symbolInstances.length,fn.sortKey);const R$=cT(Ai,fn,Fi),[M$,z$]=function(Cr,Ho){const Tu=Cr.length,js=Ho==null?void 0:Ho.values;if((js==null?void 0:js.length)>0)for(let Iu=0;Iu<js.length;Iu+=2){const va=js[Iu+1];Cr.emplaceBack(d.ap[js[Iu]],va[0],va[1])}return[Tu,Cr.length]}(Tt.textAnchorOffsets,R$);Tt.symbolInstances.emplaceBack(an.x,an.y,rl.right>=0?rl.right:-1,rl.center>=0?rl.center:-1,rl.left>=0?rl.left:-1,rl.vertical||-1,Ex,Cx,gT,S$,k$,E$,C$,T$,I$,P$,A$,lr,Bp,mT,ro,il,vT,0,Di,Ns,M$,z$)}(a,Lt,rt,u,f,g,_t,a.layers[0],a.collisionBoxArray,r.index,r.sourceLayerIndex,a.index,ue,[xe,xe,xe,xe],mt,P,Ce,Ue,Et,G,r,x,M,O,w)};if(pt==="line")for(const rt of eT(r.geometry,0,0,un,un)){const Lt=m$(rt,ge,Ge,u.vertical||X,f,24,pe,a.overscaling,un);for(const Tt of Lt)X&&x$(a,X.text,ht,Tt)||dt(rt,Tt)}else if(pt==="line-center"){for(const rt of r.geometry)if(rt.length>1){const Lt=p$(rt,Ge,u.vertical||X,f,24,pe);Lt&&dt(rt,Lt)}}else if(r.type==="Polygon")for(const rt of K_(r.geometry,0)){const Lt=v$(rt,16);dt(rt[0],new rc(Lt.x,Lt.y,0))}else if(r.type==="LineString")for(const rt of r.geometry)dt(rt,new rc(rt[0].x,rt[0].y,0));else if(r.type==="Point")for(const rt of r.geometry)for(const Lt of rt)dt([Lt],new rc(Lt.x,Lt.y,0))}function uT(a,r,u,f,g,x,w,C,P,M,O,D,H,G,X){const te=function(Ce,ge,xe,Ue,Ge,mt,Et,pt){const ht=Ue.layout.get("text-rotate").evaluate(mt,{})*Math.PI/180,lt=[];for(const _t of ge.positionedLines)for(const dt of _t.positionedGlyphs){if(!dt.rect)continue;const rt=dt.rect||{};let Lt=TC+1,Tt=!0,an=1,Vn=0;const Gn=(Ge||pt)&&dt.vertical,Oi=dt.metrics.advance*dt.scale/2;if(pt&&ge.verticalizable&&(Vn=_t.lineOffset/2-(dt.imageName?-(Li-dt.metrics.width*dt.scale)/2:(dt.scale-1)*Li)),dt.imageName){const Bi=Et[dt.imageName];Tt=Bi.sdf,an=Bi.pixelRatio,Lt=to/an}const bo=Ge?[dt.x+Oi,dt.y]:[0,0];let Fr=Ge?[0,0]:[dt.x+Oi+xe[0],dt.y+xe[1]-Vn],Ai=[0,0];Gn&&(Ai=Fr,Fr=[0,0]);const Yi=dt.metrics.isDoubleResolution?2:1,lr=(dt.metrics.left-Lt)*dt.scale-Oi+Fr[0],Nr=(-dt.metrics.top-Lt)*dt.scale+Fr[1],jr=lr+rt.w/Yi*dt.scale/an,Di=Nr+rt.h/Yi*dt.scale/an,$i=new S(lr,Nr),Sr=new S(jr,Nr),Vr=new S(lr,Di),kr=new S(jr,Di);if(Gn){const Bi=new S(-Oi,Oi-Mp),fn=-Math.PI/2,Er=Li/2-Oi,cr=new S(5-Mp-Er,-(dt.imageName?Er:0)),Fi=new S(...Ai);$i._rotateAround(fn,Bi)._add(cr)._add(Fi),Sr._rotateAround(fn,Bi)._add(cr)._add(Fi),Vr._rotateAround(fn,Bi)._add(cr)._add(Fi),kr._rotateAround(fn,Bi)._add(cr)._add(Fi)}if(ht){const Bi=Math.sin(ht),fn=Math.cos(ht),Er=[fn,-Bi,Bi,fn];$i._matMult(Er),Sr._matMult(Er),Vr._matMult(Er),kr._matMult(Er)}const no=new S(0,0),io=new S(0,0);lt.push({tl:$i,tr:Sr,bl:Vr,br:kr,tex:rt,writingMode:ge.writingMode,glyphOffset:bo,sectionIndex:dt.sectionIndex,isSDF:Tt,pixelOffsetTL:no,pixelOffsetBR:io,minFontScaleX:0,minFontScaleY:0})}return lt}(0,u,C,g,x,w,f,a.allowVerticalPlacement),ue=a.textSizeData;let pe=null;ue.kind==="source"?(pe=[ya*g.layout.get("text-size").evaluate(w,{})],pe[0]>nc&&Pe("".concat(a.layerIds[0],': Value for "text-size" is >= ').concat(Lp,'. Reduce your "text-size".'))):ue.kind==="composite"&&(pe=[ya*G.compositeTextSizes[0].evaluate(w,{},X),ya*G.compositeTextSizes[1].evaluate(w,{},X)],(pe[0]>nc||pe[1]>nc)&&Pe("".concat(a.layerIds[0],': Value for "text-size" is >= ').concat(Lp,'. Reduce your "text-size".'))),a.addSymbols(a.text,te,pe,C,x,w,M,r,P.lineStartIndex,P.lineLength,H,X);for(const Ce of O)D[Ce]=a.text.placedSymbolArray.length-1;return 4*te.length}function dT(a){for(const r in a)return a[r];return null}function x$(a,r,u,f){const g=a.compareText;if(r in g){const x=g[r];for(let w=x.length-1;w>=0;w--)if(f.dist(x[w])<u)return!0}else g[r]=[];return g[r].push(f),!1}const hT=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array];class vx{static from(r){if(!(r instanceof ArrayBuffer))throw new Error("Data must be an instance of ArrayBuffer.");const[u,f]=new Uint8Array(r,0,2);if(u!==219)throw new Error("Data does not appear to be in a KDBush format.");const g=f>>4;if(g!==1)throw new Error("Got v".concat(g," data when expected v1."));const x=hT[15&f];if(!x)throw new Error("Unrecognized array type.");const[w]=new Uint16Array(r,2,1),[C]=new Uint32Array(r,4,1);return new vx(C,w,x,r)}constructor(r,u=64,f=Float64Array,g){if(isNaN(r)||r<0)throw new Error("Unpexpected numItems value: ".concat(r,"."));this.numItems=+r,this.nodeSize=Math.min(Math.max(+u,2),65535),this.ArrayType=f,this.IndexArrayType=r<65536?Uint16Array:Uint32Array;const x=hT.indexOf(this.ArrayType),w=2*r*this.ArrayType.BYTES_PER_ELEMENT,C=r*this.IndexArrayType.BYTES_PER_ELEMENT,P=(8-C%8)%8;if(x<0)throw new Error("Unexpected typed array class: ".concat(f,"."));g&&g instanceof ArrayBuffer?(this.data=g,this.ids=new this.IndexArrayType(this.data,8,r),this.coords=new this.ArrayType(this.data,8+C+P,2*r),this._pos=2*r,this._finished=!0):(this.data=new ArrayBuffer(8+w+C+P),this.ids=new this.IndexArrayType(this.data,8,r),this.coords=new this.ArrayType(this.data,8+C+P,2*r),this._pos=0,this._finished=!1,new Uint8Array(this.data,0,2).set([219,16+x]),new Uint16Array(this.data,2,1)[0]=u,new Uint32Array(this.data,4,1)[0]=r)}add(r,u){const f=this._pos>>1;return this.ids[f]=f,this.coords[this._pos++]=r,this.coords[this._pos++]=u,f}finish(){const r=this._pos>>1;if(r!==this.numItems)throw new Error("Added ".concat(r," items when expected ").concat(this.numItems,"."));return bx(this.ids,this.coords,this.nodeSize,0,this.numItems-1,0),this._finished=!0,this}range(r,u,f,g){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:x,coords:w,nodeSize:C}=this,P=[0,x.length-1,0],M=[];for(;P.length;){const O=P.pop()||0,D=P.pop()||0,H=P.pop()||0;if(D-H<=C){for(let ue=H;ue<=D;ue++){const pe=w[2*ue],Ce=w[2*ue+1];pe>=r&&pe<=f&&Ce>=u&&Ce<=g&&M.push(x[ue])}continue}const G=H+D>>1,X=w[2*G],te=w[2*G+1];X>=r&&X<=f&&te>=u&&te<=g&&M.push(x[G]),(O===0?r<=X:u<=te)&&(P.push(H),P.push(G-1),P.push(1-O)),(O===0?f>=X:g>=te)&&(P.push(G+1),P.push(D),P.push(1-O))}return M}within(r,u,f){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:g,coords:x,nodeSize:w}=this,C=[0,g.length-1,0],P=[],M=f*f;for(;C.length;){const O=C.pop()||0,D=C.pop()||0,H=C.pop()||0;if(D-H<=w){for(let ue=H;ue<=D;ue++)pT(x[2*ue],x[2*ue+1],r,u)<=M&&P.push(g[ue]);continue}const G=H+D>>1,X=x[2*G],te=x[2*G+1];pT(X,te,r,u)<=M&&P.push(g[G]),(O===0?r-f<=X:u-f<=te)&&(C.push(H),C.push(G-1),C.push(1-O)),(O===0?r+f>=X:u+f>=te)&&(C.push(G+1),C.push(D),C.push(1-O))}return P}}function bx(a,r,u,f,g,x){if(g-f<=u)return;const w=f+g>>1;fT(a,r,w,f,g,x),bx(a,r,u,f,w-1,1-x),bx(a,r,u,w+1,g,1-x)}function fT(a,r,u,f,g,x){for(;g>f;){if(g-f>600){const M=g-f+1,O=u-f+1,D=Math.log(M),H=.5*Math.exp(2*D/3),G=.5*Math.sqrt(D*H*(M-H)/M)*(O-M/2<0?-1:1);fT(a,r,u,Math.max(f,Math.floor(u-O*H/M+G)),Math.min(g,Math.floor(u+(M-O)*H/M+G)),x)}const w=r[2*u+x];let C=f,P=g;for(Dp(a,r,f,u),r[2*g+x]>w&&Dp(a,r,f,g);C<P;){for(Dp(a,r,C,P),C++,P--;r[2*C+x]<w;)C++;for(;r[2*P+x]>w;)P--}r[2*f+x]===w?Dp(a,r,f,P):(P++,Dp(a,r,P,g)),P<=u&&(f=P+1),u<=P&&(g=P-1)}}function Dp(a,r,u,f){_x(a,u,f),_x(r,2*u,2*f),_x(r,2*u+1,2*f+1)}function _x(a,r,u){const f=a[r];a[r]=a[u],a[u]=f}function pT(a,r,u,f){const g=a-u,x=r-f;return g*g+x*x}var xx;d.bd=void 0,(xx=d.bd||(d.bd={})).create="create",xx.load="load",xx.fullLoad="fullLoad";let Ky=null,$p=[];const wx=1e3/60,Sx="loadTime",kx="fullLoadTime",w$={mark(a){performance.mark(a)},frame(a){const r=a;Ky!=null&&$p.push(r-Ky),Ky=r},clearMetrics(){Ky=null,$p=[],performance.clearMeasures(Sx),performance.clearMeasures(kx);for(const a in d.bd)performance.clearMarks(d.bd[a])},getPerformanceMetrics(){performance.measure(Sx,d.bd.create,d.bd.load),performance.measure(kx,d.bd.create,d.bd.fullLoad);const a=performance.getEntriesByName(Sx)[0].duration,r=performance.getEntriesByName(kx)[0].duration,u=$p.length,f=1/($p.reduce((x,w)=>x+w,0)/u/1e3),g=$p.filter(x=>x>wx).reduce((x,w)=>x+(w-wx)/wx,0);return{loadTime:a,fullLoadTime:r,fps:f,percentDroppedFrames:g/(u+g)*100,totalFrames:u}}};d.$=Je,d.A=Jd,d.B=function(a){if(He==null){const r=a.navigator?a.navigator.userAgent:null;He=!!a.safari||!(!r||!(/\b(iPad|iPhone|iPod)\b/.test(r)||r.match("Safari")&&!r.match("Chrome")))}return He},d.C=class{constructor(a,r){this.target=a,this.mapId=r,this.resolveRejects={},this.tasks={},this.taskQueue=[],this.abortControllers={},this.messageHandlers={},this.invoker=new h$(()=>this.process()),this.subscription=function(u,f,g,x){return u.addEventListener(f,g,!1),{unsubscribe:()=>{u.removeEventListener(f,g,!1)}}}(this.target,"message",u=>this.receive(u)),this.globalScope=$e(self)?a:window}registerMessageHandler(a,r){this.messageHandlers[a]=r}sendAsync(a,r){return new Promise((u,f)=>{const g=Math.round(1e18*Math.random()).toString(36).substring(0,10);this.resolveRejects[g]={resolve:u,reject:f},r&&r.signal.addEventListener("abort",()=>{delete this.resolveRejects[g];const C={id:g,type:"<cancel>",origin:location.origin,targetMapId:a.targetMapId,sourceMapId:this.mapId};this.target.postMessage(C)},{once:!0});const x=[],w=Object.assign(Object.assign({},a),{id:g,sourceMapId:this.mapId,origin:location.origin,data:Wa(a.data,x)});this.target.postMessage(w,{transfer:x})})}receive(a){const r=a.data,u=r.id;if(!(r.origin!=="file://"&&location.origin!=="file://"&&r.origin!==location.origin||r.targetMapId&&this.mapId!==r.targetMapId)){if(r.type==="<cancel>"){delete this.tasks[u];const f=this.abortControllers[u];return delete this.abortControllers[u],void(f&&f.abort())}if($e(self)||r.mustQueue)return this.tasks[u]=r,this.taskQueue.push(u),void this.invoker.trigger();this.processTask(u,r)}}process(){if(this.taskQueue.length===0)return;const a=this.taskQueue.shift(),r=this.tasks[a];delete this.tasks[a],this.taskQueue.length>0&&this.invoker.trigger(),r&&this.processTask(a,r)}processTask(a,r){return c(this,void 0,void 0,function*(){if(r.type==="<response>"){const g=this.resolveRejects[a];return delete this.resolveRejects[a],g?void(r.error?g.reject(Kl(r.error)):g.resolve(Kl(r.data))):void 0}if(!this.messageHandlers[r.type])return void this.completeTask(a,new Error("Could not find a registered handler for ".concat(r.type,", map ID: ").concat(this.mapId,", available handlers: ").concat(Object.keys(this.messageHandlers).join(", "))));const u=Kl(r.data),f=new AbortController;this.abortControllers[a]=f;try{const g=yield this.messageHandlers[r.type](r.sourceMapId,u,f);this.completeTask(a,null,g)}catch(g){this.completeTask(a,g)}})}completeTask(a,r,u){const f=[];delete this.abortControllers[a];const g={id:a,type:"<response>",sourceMapId:this.mapId,origin:location.origin,error:r?Wa(r):null,data:Wa(u,f)};this.target.postMessage(g,{transfer:f})}remove(){this.invoker.remove(),this.subscription.unsubscribe()}},d.D=Pt,d.E=Rn,d.F=function(){var a=new Jd(16);return Jd!=Float32Array&&(a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[6]=0,a[7]=0,a[8]=0,a[9]=0,a[11]=0,a[12]=0,a[13]=0,a[14]=0),a[0]=1,a[5]=1,a[10]=1,a[15]=1,a},d.G=Yt,d.H=function(a,r,u){var f,g,x,w,C,P,M,O,D,H,G,X,te=u[0],ue=u[1],pe=u[2];return r===a?(a[12]=r[0]*te+r[4]*ue+r[8]*pe+r[12],a[13]=r[1]*te+r[5]*ue+r[9]*pe+r[13],a[14]=r[2]*te+r[6]*ue+r[10]*pe+r[14],a[15]=r[3]*te+r[7]*ue+r[11]*pe+r[15]):(g=r[1],x=r[2],w=r[3],C=r[4],P=r[5],M=r[6],O=r[7],D=r[8],H=r[9],G=r[10],X=r[11],a[0]=f=r[0],a[1]=g,a[2]=x,a[3]=w,a[4]=C,a[5]=P,a[6]=M,a[7]=O,a[8]=D,a[9]=H,a[10]=G,a[11]=X,a[12]=f*te+C*ue+D*pe+r[12],a[13]=g*te+P*ue+H*pe+r[13],a[14]=x*te+M*ue+G*pe+r[14],a[15]=w*te+O*ue+X*pe+r[15]),a},d.I=ox,d.J=function(a,r,u){var f=u[0],g=u[1],x=u[2];return a[0]=r[0]*f,a[1]=r[1]*f,a[2]=r[2]*f,a[3]=r[3]*f,a[4]=r[4]*g,a[5]=r[5]*g,a[6]=r[6]*g,a[7]=r[7]*g,a[8]=r[8]*x,a[9]=r[9]*x,a[10]=r[10]*x,a[11]=r[11]*x,a[12]=r[12],a[13]=r[13],a[14]=r[14],a[15]=r[15],a},d.K=GE,d.L=function(a,r){const u={};for(let f=0;f<r.length;f++){const g=r[f];g in a&&(u[g]=a[g])}return u},d.M=ic,d.N=UC,d.O=HC,d.P=S,d.Q=Vo,d.R=jo,d.S=F,d.T=sp,d.U=$,d.V=Ie,d.W=un,d.X=pi,d.Y=Hy,d.Z=class extends ma{},d._=c,d.a=Mt,d.a$=function(a,r,u){return a[0]=r[0]*u[0],a[1]=r[1]*u[1],a[2]=r[2]*u[2],a[3]=r[3]*u[3],a},d.a0=mx,d.a1=at,d.a2=a=>{const r=window.document.createElement("video");return r.muted=!0,new Promise(u=>{r.onloadstart=()=>{u(r)};for(const f of a){const g=window.document.createElement("source");ir(f)||(r.crossOrigin="Anonymous"),g.src=f,r.appendChild(g)}})},d.a3=function(){return re++},d.a4=Cy,d.a5=rh,d.a6=Bd,d.a7=Qa,d.a8=Nn,d.a9=XC,d.aA=Fe,d.aB=function(a,r){if(!a)return[{command:"setStyle",args:[r]}];let u=[];try{if(!on(a.version,r.version))return[{command:"setStyle",args:[r]}];on(a.center,r.center)||u.push({command:"setCenter",args:[r.center]}),on(a.zoom,r.zoom)||u.push({command:"setZoom",args:[r.zoom]}),on(a.bearing,r.bearing)||u.push({command:"setBearing",args:[r.bearing]}),on(a.pitch,r.pitch)||u.push({command:"setPitch",args:[r.pitch]}),on(a.sprite,r.sprite)||u.push({command:"setSprite",args:[r.sprite]}),on(a.glyphs,r.glyphs)||u.push({command:"setGlyphs",args:[r.glyphs]}),on(a.transition,r.transition)||u.push({command:"setTransition",args:[r.transition]}),on(a.light,r.light)||u.push({command:"setLight",args:[r.light]}),on(a.terrain,r.terrain)||u.push({command:"setTerrain",args:[r.terrain]}),on(a.sky,r.sky)||u.push({command:"setSky",args:[r.sky]});const f={},g=[];(function(w,C,P,M){let O;for(O in C=C||{},w=w||{})Object.prototype.hasOwnProperty.call(w,O)&&(Object.prototype.hasOwnProperty.call(C,O)||zr(O,P,M));for(O in C)Object.prototype.hasOwnProperty.call(C,O)&&(Object.prototype.hasOwnProperty.call(w,O)?on(w[O],C[O])||(w[O].type==="geojson"&&C[O].type==="geojson"&&da(w,C,O)?si(P,{command:"setGeoJSONSourceData",args:[O,C[O].data]}):ua(O,C,P,M)):vr(O,C,P))})(a.sources,r.sources,g,f);const x=[];a.layers&&a.layers.forEach(w=>{"source"in w&&f[w.source]?u.push({command:"removeLayer",args:[w.id]}):x.push(w)}),u=u.concat(g),function(w,C,P){C=C||[];const M=(w=w||[]).map(ha),O=C.map(ha),D=w.reduce(Fa,{}),H=C.reduce(Fa,{}),G=M.slice(),X=Object.create(null);let te,ue,pe,Ce,ge;for(let xe=0,Ue=0;xe<M.length;xe++)te=M[xe],Object.prototype.hasOwnProperty.call(H,te)?Ue++:(si(P,{command:"removeLayer",args:[te]}),G.splice(G.indexOf(te,Ue),1));for(let xe=0,Ue=0;xe<O.length;xe++)te=O[O.length-1-xe],G[G.length-1-xe]!==te&&(Object.prototype.hasOwnProperty.call(D,te)?(si(P,{command:"removeLayer",args:[te]}),G.splice(G.lastIndexOf(te,G.length-Ue),1)):Ue++,Ce=G[G.length-xe],si(P,{command:"addLayer",args:[H[te],Ce]}),G.splice(G.length-xe,0,te),X[te]=!0);for(let xe=0;xe<O.length;xe++)if(te=O[xe],ue=D[te],pe=H[te],!X[te]&&!on(ue,pe))if(on(ue.source,pe.source)&&on(ue["source-layer"],pe["source-layer"])&&on(ue.type,pe.type)){for(ge in Os(ue.layout,pe.layout,P,te,null,"setLayoutProperty"),Os(ue.paint,pe.paint,P,te,null,"setPaintProperty"),on(ue.filter,pe.filter)||si(P,{command:"setFilter",args:[te,pe.filter]}),on(ue.minzoom,pe.minzoom)&&on(ue.maxzoom,pe.maxzoom)||si(P,{command:"setLayerZoomRange",args:[te,pe.minzoom,pe.maxzoom]}),ue)Object.prototype.hasOwnProperty.call(ue,ge)&&ge!=="layout"&&ge!=="paint"&&ge!=="filter"&&ge!=="metadata"&&ge!=="minzoom"&&ge!=="maxzoom"&&(ge.indexOf("paint.")===0?Os(ue[ge],pe[ge],P,te,ge.slice(6),"setPaintProperty"):on(ue[ge],pe[ge])||si(P,{command:"setLayerProperty",args:[te,ge,pe[ge]]}));for(ge in pe)Object.prototype.hasOwnProperty.call(pe,ge)&&!Object.prototype.hasOwnProperty.call(ue,ge)&&ge!=="layout"&&ge!=="paint"&&ge!=="filter"&&ge!=="metadata"&&ge!=="minzoom"&&ge!=="maxzoom"&&(ge.indexOf("paint.")===0?Os(ue[ge],pe[ge],P,te,ge.slice(6),"setPaintProperty"):on(ue[ge],pe[ge])||si(P,{command:"setLayerProperty",args:[te,ge,pe[ge]]}))}else si(P,{command:"removeLayer",args:[te]}),Ce=G[G.lastIndexOf(te)+1],si(P,{command:"addLayer",args:[pe,Ce]})}(x,r.layers,u)}catch(f){console.warn("Unable to compute style diff:",f),u=[{command:"setStyle",args:[r]}]}return u},d.aC=function(a){const r=[],u=a.id;return u===void 0&&r.push({message:"layers.".concat(u,': missing required property "id"')}),a.render===void 0&&r.push({message:"layers.".concat(u,': missing required method "render"')}),a.renderingMode&&a.renderingMode!=="2d"&&a.renderingMode!=="3d"&&r.push({message:"layers.".concat(u,': property "renderingMode" must be either "2d" or "3d"')}),r},d.aD=function a(r,u){if(Array.isArray(r)){if(!Array.isArray(u)||r.length!==u.length)return!1;for(let f=0;f<r.length;f++)if(!a(r[f],u[f]))return!1;return!0}if(typeof r=="object"&&r!==null&&u!==null){if(typeof u!="object"||Object.keys(r).length!==Object.keys(u).length)return!1;for(const f in r)if(!a(r[f],u[f]))return!1;return!0}return r===u},d.aE=Be,d.aF=Le,d.aG=class extends Dn{constructor(a,r){super(a,r),this.current=0}set(a){this.current!==a&&(this.current=a,this.gl.uniform1i(this.location,a))}},d.aH=sr,d.aI=class extends Dn{constructor(a,r){super(a,r),this.current=Xa}set(a){if(a[12]!==this.current[12]||a[0]!==this.current[0])return this.current=a,void this.gl.uniformMatrix4fv(this.location,!1,a);for(let r=1;r<16;r++)if(a[r]!==this.current[r]){this.current=a,this.gl.uniformMatrix4fv(this.location,!1,a);break}}},d.aJ=Fo,d.aK=class extends Dn{constructor(a,r){super(a,r),this.current=[0,0,0]}set(a){a[0]===this.current[0]&&a[1]===this.current[1]&&a[2]===this.current[2]||(this.current=a,this.gl.uniform3f(this.location,a[0],a[1],a[2]))}},d.aL=class extends Dn{constructor(a,r){super(a,r),this.current=[0,0]}set(a){a[0]===this.current[0]&&a[1]===this.current[1]||(this.current=a,this.gl.uniform2f(this.location,a[0],a[1]))}},d.aM=ds,d.aN=function(a,r,u,f,g,x,w){var C=1/(r-u),P=1/(f-g),M=1/(x-w);return a[0]=-2*C,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=-2*P,a[6]=0,a[7]=0,a[8]=0,a[9]=0,a[10]=2*M,a[11]=0,a[12]=(r+u)*C,a[13]=(g+f)*P,a[14]=(w+x)*M,a[15]=1,a},d.aO=xn,d.aP=W5,d.aQ=class extends Su{},d.aR=ND,d.aS=class extends Yl{},d.aT=function(a){return a<=1?1:Math.pow(2,Math.ceil(Math.log(a)/Math.LN2))},d.aU=QE,d.aV=B,d.aW=class extends gp{},d.aX=ze,d.aY=function(a,r){return a[0]===r[0]&&a[1]===r[1]&&a[2]===r[2]&&a[3]===r[3]&&a[4]===r[4]&&a[5]===r[5]&&a[6]===r[6]&&a[7]===r[7]&&a[8]===r[8]&&a[9]===r[9]&&a[10]===r[10]&&a[11]===r[11]&&a[12]===r[12]&&a[13]===r[13]&&a[14]===r[14]&&a[15]===r[15]},d.aZ=function(a,r){var u=a[0],f=a[1],g=a[2],x=a[3],w=a[4],C=a[5],P=a[6],M=a[7],O=a[8],D=a[9],H=a[10],G=a[11],X=a[12],te=a[13],ue=a[14],pe=a[15],Ce=r[0],ge=r[1],xe=r[2],Ue=r[3],Ge=r[4],mt=r[5],Et=r[6],pt=r[7],ht=r[8],lt=r[9],_t=r[10],dt=r[11],rt=r[12],Lt=r[13],Tt=r[14],an=r[15];return Math.abs(u-Ce)<=Br*Math.max(1,Math.abs(u),Math.abs(Ce))&&Math.abs(f-ge)<=Br*Math.max(1,Math.abs(f),Math.abs(ge))&&Math.abs(g-xe)<=Br*Math.max(1,Math.abs(g),Math.abs(xe))&&Math.abs(x-Ue)<=Br*Math.max(1,Math.abs(x),Math.abs(Ue))&&Math.abs(w-Ge)<=Br*Math.max(1,Math.abs(w),Math.abs(Ge))&&Math.abs(C-mt)<=Br*Math.max(1,Math.abs(C),Math.abs(mt))&&Math.abs(P-Et)<=Br*Math.max(1,Math.abs(P),Math.abs(Et))&&Math.abs(M-pt)<=Br*Math.max(1,Math.abs(M),Math.abs(pt))&&Math.abs(O-ht)<=Br*Math.max(1,Math.abs(O),Math.abs(ht))&&Math.abs(D-lt)<=Br*Math.max(1,Math.abs(D),Math.abs(lt))&&Math.abs(H-_t)<=Br*Math.max(1,Math.abs(H),Math.abs(_t))&&Math.abs(G-dt)<=Br*Math.max(1,Math.abs(G),Math.abs(dt))&&Math.abs(X-rt)<=Br*Math.max(1,Math.abs(X),Math.abs(rt))&&Math.abs(te-Lt)<=Br*Math.max(1,Math.abs(te),Math.abs(Lt))&&Math.abs(ue-Tt)<=Br*Math.max(1,Math.abs(ue),Math.abs(Tt))&&Math.abs(pe-an)<=Br*Math.max(1,Math.abs(pe),Math.abs(an))},d.a_=function(a,r){return a[0]=r[0],a[1]=r[1],a[2]=r[2],a[3]=r[3],a[4]=r[4],a[5]=r[5],a[6]=r[6],a[7]=r[7],a[8]=r[8],a[9]=r[9],a[10]=r[10],a[11]=r[11],a[12]=r[12],a[13]=r[13],a[14]=r[14],a[15]=r[15],a},d.aa=function(a){const r={};if(a.replace(/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,(u,f,g,x)=>{const w=g||x;return r[f]=!w||w.toLowerCase(),""}),r["max-age"]){const u=parseInt(r["max-age"],10);isNaN(u)?delete r["max-age"]:r["max-age"]=u}return r},d.ab=function(a,r){const u=[];for(const f in a)f in r||u.push(f);return u},d.ac=Q,d.ad=function(a,r,u){var f=Math.sin(u),g=Math.cos(u),x=r[0],w=r[1],C=r[2],P=r[3],M=r[4],O=r[5],D=r[6],H=r[7];return r!==a&&(a[8]=r[8],a[9]=r[9],a[10]=r[10],a[11]=r[11],a[12]=r[12],a[13]=r[13],a[14]=r[14],a[15]=r[15]),a[0]=x*g+M*f,a[1]=w*g+O*f,a[2]=C*g+D*f,a[3]=P*g+H*f,a[4]=M*g-x*f,a[5]=O*g-w*f,a[6]=D*g-C*f,a[7]=H*g-P*f,a},d.ae=function(a){var r=new Jd(16);return r[0]=a[0],r[1]=a[1],r[2]=a[2],r[3]=a[3],r[4]=a[4],r[5]=a[5],r[6]=a[6],r[7]=a[7],r[8]=a[8],r[9]=a[9],r[10]=a[10],r[11]=a[11],r[12]=a[12],r[13]=a[13],r[14]=a[14],r[15]=a[15],r},d.af=zy,d.ag=function(a,r){let u=0,f=0;if(a.kind==="constant")f=a.layoutSize;else if(a.kind!=="source"){const{interpolationType:g,minZoom:x,maxZoom:w}=a,C=g?Q(wr.interpolationFactor(g,r,x,w),0,1):0;a.kind==="camera"?f=Jr.number(a.minSize,a.maxSize,C):u=C}return{uSizeT:u,uSize:f}},d.ai=function(a,{uSize:r,uSizeT:u},{lowerSize:f,upperSize:g}){return a.kind==="source"?f/ya:a.kind==="composite"?Jr.number(f/ya,g/ya,u):r},d.aj=cx,d.ak=function(a,r,u,f){const g=r.y-a.y,x=r.x-a.x,w=f.y-u.y,C=f.x-u.x,P=w*x-C*g;if(P===0)return null;const M=(C*(a.y-u.y)-w*(a.x-u.x))/P;return new S(a.x+M*x,a.y+M*g)},d.al=eT,d.am=el,d.an=V_,d.ao=Li,d.aq=lx,d.ar=function(a,r){var u=r[0],f=r[1],g=r[2],x=r[3],w=r[4],C=r[5],P=r[6],M=r[7],O=r[8],D=r[9],H=r[10],G=r[11],X=r[12],te=r[13],ue=r[14],pe=r[15],Ce=u*C-f*w,ge=u*P-g*w,xe=u*M-x*w,Ue=f*P-g*C,Ge=f*M-x*C,mt=g*M-x*P,Et=O*te-D*X,pt=O*ue-H*X,ht=O*pe-G*X,lt=D*ue-H*te,_t=D*pe-G*te,dt=H*pe-G*ue,rt=Ce*dt-ge*_t+xe*lt+Ue*ht-Ge*pt+mt*Et;return rt?(a[0]=(C*dt-P*_t+M*lt)*(rt=1/rt),a[1]=(g*_t-f*dt-x*lt)*rt,a[2]=(te*mt-ue*Ge+pe*Ue)*rt,a[3]=(H*Ge-D*mt-G*Ue)*rt,a[4]=(P*ht-w*dt-M*pt)*rt,a[5]=(u*dt-g*ht+x*pt)*rt,a[6]=(ue*xe-X*mt-pe*ge)*rt,a[7]=(O*mt-H*xe+G*ge)*rt,a[8]=(w*_t-C*ht+M*Et)*rt,a[9]=(f*ht-u*_t-x*Et)*rt,a[10]=(X*Ge-te*xe+pe*Ce)*rt,a[11]=(D*xe-O*Ge-G*Ce)*rt,a[12]=(C*pt-w*lt-P*Et)*rt,a[13]=(u*lt-f*pt+g*Et)*rt,a[14]=(te*ge-X*Ue-ue*Ce)*rt,a[15]=(O*Ue-D*ge+H*Ce)*rt,a):null},d.as=yx,d.at=ax,d.au=vx,d.av=function(){const a={},r=Ne.$version;for(const u in Ne.$root){const f=Ne.$root[u];if(f.required){let g=null;g=u==="version"?r:f.type==="array"?[]:{},g!=null&&(a[u]=g)}}return a},d.aw=np,d.ax=ei,d.ay=function(a){a=a.slice();const r=Object.create(null);for(let u=0;u<a.length;u++)r[a[u].id]=a[u];for(let u=0;u<a.length;u++)"ref"in a[u]&&(a[u]=Ki(a[u],r[a[u].ref]));return a},d.az=function(a){if(a.type==="custom")return new d$(a);switch(a.type){case"background":return new l$(a);case"circle":return new Z5(a);case"fill":return new fD(a);case"fill-extrusion":return new ID(a);case"heatmap":return new K5(a);case"hillshade":return new Y5(a);case"line":return new DD(a);case"raster":return new u$(a);case"symbol":return new Uy(a)}},d.b=we,d.b0=function(a,r){return a[0]*r[0]+a[1]*r[1]+a[2]*r[2]+a[3]*r[3]},d.b1=fe,d.b2=ZC,d.b3=qC,d.b4=function(a,r,u,f,g){var x,w=1/Math.tan(r/2);return a[0]=w/u,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=w,a[6]=0,a[7]=0,a[8]=0,a[9]=0,a[11]=-1,a[12]=0,a[13]=0,a[15]=0,g!=null&&g!==1/0?(a[10]=(g+f)*(x=1/(f-g)),a[14]=2*g*f*x):(a[10]=-1,a[14]=-2*f),a},d.b5=function(a,r,u){var f=Math.sin(u),g=Math.cos(u),x=r[4],w=r[5],C=r[6],P=r[7],M=r[8],O=r[9],D=r[10],H=r[11];return r!==a&&(a[0]=r[0],a[1]=r[1],a[2]=r[2],a[3]=r[3],a[12]=r[12],a[13]=r[13],a[14]=r[14],a[15]=r[15]),a[4]=x*g+M*f,a[5]=w*g+O*f,a[6]=C*g+D*f,a[7]=P*g+H*f,a[8]=M*g-x*f,a[9]=O*g-w*f,a[10]=D*g-C*f,a[11]=H*g-P*f,a},d.b6=V,d.b7=Z,d.b8=function(a){return a*Math.PI/180},d.b9=function(a,r){return a[0]=r[0],a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=r[1],a[6]=0,a[7]=0,a[8]=0,a[9]=0,a[10]=r[2],a[11]=0,a[12]=0,a[13]=0,a[14]=0,a[15]=1,a},d.bA=Za,d.ba=class extends qd{},d.bb=fx,d.bc=w$,d.be=vn,d.bf=function(a,r){Mt.REGISTERED_PROTOCOLS[a]=r},d.bg=function(a){delete Mt.REGISTERED_PROTOCOLS[a]},d.bh=function(a,r){const u={};for(let g=0;g<a.length;g++){const x=r&&r[a[g].id]||F_(a[g]);r&&(r[a[g].id]=x);let w=u[x];w||(w=u[x]=[]),w.push(a[g])}const f=[];for(const g in u)f.push(u[g]);return f},d.bi=bt,d.bj=KC,d.bk=YC,d.bl=PC,d.bm=function(a){a.bucket.createArrays(),a.bucket.tilePixelRatio=un/(512*a.bucket.overscaling),a.bucket.compareText={},a.bucket.iconsNeedLinear=!1;const r=a.bucket.layers[0],u=r.layout,f=r._unevaluatedLayout._values,g={layoutIconSize:f["icon-size"].possiblyEvaluate(new Nn(a.bucket.zoom+1),a.canonical),layoutTextSize:f["text-size"].possiblyEvaluate(new Nn(a.bucket.zoom+1),a.canonical),textMaxSize:f["text-size"].possiblyEvaluate(new Nn(18))};if(a.bucket.textSizeData.kind==="composite"){const{minZoom:M,maxZoom:O}=a.bucket.textSizeData;g.compositeTextSizes=[f["text-size"].possiblyEvaluate(new Nn(M),a.canonical),f["text-size"].possiblyEvaluate(new Nn(O),a.canonical)]}if(a.bucket.iconSizeData.kind==="composite"){const{minZoom:M,maxZoom:O}=a.bucket.iconSizeData;g.compositeIconSizes=[f["icon-size"].possiblyEvaluate(new Nn(M),a.canonical),f["icon-size"].possiblyEvaluate(new Nn(O),a.canonical)]}const x=u.get("text-line-height")*Li,w=u.get("text-rotation-alignment")!=="viewport"&&u.get("symbol-placement")!=="point",C=u.get("text-keep-upright"),P=u.get("text-size");for(const M of a.bucket.features){const O=u.get("text-font").evaluate(M,{},a.canonical).join(","),D=P.evaluate(M,{},a.canonical),H=g.layoutTextSize.evaluate(M,{},a.canonical),G=g.layoutIconSize.evaluate(M,{},a.canonical),X={horizontal:{},vertical:void 0},te=M.text;let ue,pe=[0,0];if(te){const xe=te.toString(),Ue=u.get("text-letter-spacing").evaluate(M,{},a.canonical)*Li,Ge=jd(xe)?Ue:0,mt=u.get("text-anchor").evaluate(M,{},a.canonical),Et=cT(r,M,a.canonical);if(!Et){const dt=u.get("text-radial-offset").evaluate(M,{},a.canonical);pe=dt?lT(mt,[dt*Li,gx]):u.get("text-offset").evaluate(M,{},a.canonical).map(rt=>rt*Li)}let pt=w?"center":u.get("text-justify").evaluate(M,{},a.canonical);const ht=u.get("symbol-placement"),lt=ht==="point"?u.get("text-max-width").evaluate(M,{},a.canonical)*Li:0,_t=()=>{a.bucket.allowVerticalPlacement&&vu(xe)&&(X.vertical=Ny(te,a.glyphMap,a.glyphPositions,a.imagePositions,O,lt,x,mt,"left",Ge,pe,d.ah.vertical,!0,ht,H,D))};if(!w&&Et){const dt=new Set;if(pt==="auto")for(let Lt=0;Lt<Et.values.length;Lt+=2)dt.add(yx(Et.values[Lt]));else dt.add(pt);let rt=!1;for(const Lt of dt)if(!X.horizontal[Lt])if(rt)X.horizontal[Lt]=X.horizontal[0];else{const Tt=Ny(te,a.glyphMap,a.glyphPositions,a.imagePositions,O,lt,x,"center",Lt,Ge,pe,d.ah.horizontal,!1,ht,H,D);Tt&&(X.horizontal[Lt]=Tt,rt=Tt.positionedLines.length===1)}_t()}else{pt==="auto"&&(pt=yx(mt));const dt=Ny(te,a.glyphMap,a.glyphPositions,a.imagePositions,O,lt,x,mt,pt,Ge,pe,d.ah.horizontal,!1,ht,H,D);dt&&(X.horizontal[pt]=dt),_t(),vu(xe)&&w&&C&&(X.vertical=Ny(te,a.glyphMap,a.glyphPositions,a.imagePositions,O,lt,x,mt,pt,Ge,pe,d.ah.vertical,!1,ht,H,D))}}let Ce=!1;if(M.icon&&M.icon.name){const xe=a.imageMap[M.icon.name];xe&&(ue=i$(a.imagePositions[M.icon.name],u.get("icon-offset").evaluate(M,{},a.canonical),u.get("icon-anchor").evaluate(M,{},a.canonical)),Ce=!!xe.sdf,a.bucket.sdfIcons===void 0?a.bucket.sdfIcons=Ce:a.bucket.sdfIcons!==Ce&&Pe("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),(xe.pixelRatio!==a.bucket.pixelRatio||u.get("icon-rotate").constantOr(1)!==0)&&(a.bucket.iconsNeedLinear=!0))}const ge=dT(X.horizontal)||X.vertical;a.bucket.iconsInText=!!ge&&ge.iconsInText,(ge||ue)&&_$(a.bucket,M,X,ue,a.imageMap,g,H,G,pe,Ce,a.canonical)}a.showCollisionBoxes&&a.bucket.generateCollisionDebugBuffers()},d.bn=tx,d.bo=J_,d.bp=ex,d.bq=ec,d.br=ix,d.bs=class{constructor(a){this._marks={start:[a.url,"start"].join("#"),end:[a.url,"end"].join("#"),measure:a.url.toString()},performance.mark(this._marks.start)}finish(){performance.mark(this._marks.end);let a=performance.getEntriesByName(this._marks.measure);return a.length===0&&(performance.measure(this._marks.measure,this._marks.start,this._marks.end),a=performance.getEntriesByName(this._marks.measure),performance.clearMarks(this._marks.start),performance.clearMarks(this._marks.end),performance.clearMeasures(this._marks.measure)),a}},d.bt=function(a,r,u,f,g){return c(this,void 0,void 0,function*(){if($())try{return yield Ie(a,r,u,f,g)}catch(x){}return function(x,w,C,P,M){const O=x.width,D=x.height;qe&&Ye||(qe=new OffscreenCanvas(O,D),Ye=qe.getContext("2d",{willReadFrequently:!0})),qe.width=O,qe.height=D,Ye.drawImage(x,0,0,O,D);const H=Ye.getImageData(w,C,P,M);return Ye.clearRect(0,0,O,D),H.data}(a,r,u,f,g)})},d.bu=GC,d.bv=y,d.bw=b,d.bx=_C,d.by=zn,d.bz=function(a){return a.message===yt},d.c=wt,d.d=a=>c(void 0,void 0,void 0,function*(){if(a.byteLength===0)return createImageBitmap(new ImageData(1,1));const r=new Blob([new Uint8Array(a)],{type:"image/png"});try{return createImageBitmap(r)}catch(u){throw new Error("Could not load image because of ".concat(u.message,". Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."))}}),d.e=oe,d.f=a=>new Promise((r,u)=>{const f=new Image;f.onload=()=>{r(f),URL.revokeObjectURL(f.src),f.onload=null,window.requestAnimationFrame(()=>{f.src=Ee})},f.onerror=()=>u(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."));const g=new Blob([new Uint8Array(a)],{type:"image/png"});f.src=a.byteLength?URL.createObjectURL(g):Ee}),d.g=Ft,d.h=(a,r)=>Mi(oe(a,{type:"json"}),r),d.i=$e,d.j=zt,d.k=Ct,d.l=(a,r)=>Mi(oe(a,{type:"arrayBuffer"}),r),d.m=Mi,d.n=function(a){return new ix(a).readFields(YD,[])},d.o=kp,d.p=IC,d.q=Dr,d.r=Qf,d.s=ir,d.t=by,d.u=gt,d.v=Ne,d.w=Pe,d.x=Gl,d.y=function([a,r,u]){return r+=90,r*=Math.PI/180,u*=Math.PI/180,{x:a*Math.cos(r)*Math.sin(u),y:a*Math.sin(r)*Math.sin(u),z:a*Math.cos(u)}},d.z=Jr}),s("worker",["./shared"],function(d){class c{constructor(U){this.keyCache={},U&&this.replace(U)}replace(U){this._layerConfigs={},this._layers={},this.update(U,[])}update(U,W){for(const ie of U){this._layerConfigs[ie.id]=ie;const ve=this._layers[ie.id]=d.az(ie);ve._featureFilter=d.a6(ve.filter),this.keyCache[ie.id]&&delete this.keyCache[ie.id]}for(const ie of W)delete this.keyCache[ie],delete this._layerConfigs[ie],delete this._layers[ie];this.familiesBySource={};const Y=d.bh(Object.values(this._layerConfigs),this.keyCache);for(const ie of Y){const ve=ie.map(Ve=>this._layers[Ve.id]),be=ve[0];if(be.visibility==="none")continue;const ke=be.source||"";let me=this.familiesBySource[ke];me||(me=this.familiesBySource[ke]={});const Te=be.sourceLayer||"_geojsonTileLayer";let Ke=me[Te];Ke||(Ke=me[Te]=[]),Ke.push(ve)}}}class y{constructor(U){const W={},Y=[];for(const ke in U){const me=U[ke],Te=W[ke]={};for(const Ke in me){const Ve=me[+Ke];if(!Ve||Ve.bitmap.width===0||Ve.bitmap.height===0)continue;const We={x:0,y:0,w:Ve.bitmap.width+2,h:Ve.bitmap.height+2};Y.push(We),Te[Ke]={rect:We,metrics:Ve.metrics}}}const{w:ie,h:ve}=d.p(Y),be=new d.o({width:ie||1,height:ve||1});for(const ke in U){const me=U[ke];for(const Te in me){const Ke=me[+Te];if(!Ke||Ke.bitmap.width===0||Ke.bitmap.height===0)continue;const Ve=W[ke][Te].rect;d.o.copy(Ke.bitmap,be,{x:0,y:0},{x:Ve.x+1,y:Ve.y+1},Ke.bitmap)}}this.image=be,this.positions=W}}d.bi("GlyphAtlas",y);class b{constructor(U){this.tileID=new d.Q(U.tileID.overscaledZ,U.tileID.wrap,U.tileID.canonical.z,U.tileID.canonical.x,U.tileID.canonical.y),this.uid=U.uid,this.zoom=U.zoom,this.pixelRatio=U.pixelRatio,this.tileSize=U.tileSize,this.source=U.source,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=U.showCollisionBoxes,this.collectResourceTiming=!!U.collectResourceTiming,this.returnDependencies=!!U.returnDependencies,this.promoteId=U.promoteId,this.inFlightDependencies=[]}parse(U,W,Y,ie){return d._(this,void 0,void 0,function*(){this.status="parsing",this.data=U,this.collisionBoxArray=new d.a4;const ve=new d.bj(Object.keys(U.layers).sort()),be=new d.bk(this.tileID,this.promoteId);be.bucketLayerIDs=[];const ke={},me={featureIndex:be,iconDependencies:{},patternDependencies:{},glyphDependencies:{},availableImages:Y},Te=W.familiesBySource[this.source];for(const Qt in Te){const Wn=U.layers[Qt];if(!Wn)continue;Wn.version===1&&d.w('Vector tile source "'.concat(this.source,'" layer "').concat(Qt,'" does not use vector tile spec v2 and therefore may have some rendering errors.'));const ai=ve.encode(Qt),rr=[];for(let Vi=0;Vi<Wn.length;Vi++){const Xi=Wn.feature(Vi),_r=be.getId(Xi,Qt);rr.push({feature:Xi,id:_r,index:Vi,sourceLayerIndex:ai})}for(const Vi of Te[Qt]){const Xi=Vi[0];Xi.source!==this.source&&d.w("layer.source = ".concat(Xi.source," does not equal this.source = ").concat(this.source)),Xi.minzoom&&this.zoom<Math.floor(Xi.minzoom)||Xi.maxzoom&&this.zoom>=Xi.maxzoom||Xi.visibility!=="none"&&(k(Vi,this.zoom,Y),(ke[Xi.id]=Xi.createBucket({index:be.bucketLayerIDs.length,layers:Vi,zoom:this.zoom,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:ai,sourceID:this.source})).populate(rr,me,this.tileID.canonical),be.bucketLayerIDs.push(Vi.map(_r=>_r.id)))}}const Ke=d.aE(me.glyphDependencies,Qt=>Object.keys(Qt).map(Number));this.inFlightDependencies.forEach(Qt=>Qt==null?void 0:Qt.abort()),this.inFlightDependencies=[];let Ve=Promise.resolve({});if(Object.keys(Ke).length){const Qt=new AbortController;this.inFlightDependencies.push(Qt),Ve=ie.sendAsync({type:"getGlyphs",data:{stacks:Ke,source:this.source,tileID:this.tileID,type:"glyphs"}},Qt)}const We=Object.keys(me.iconDependencies);let xt=Promise.resolve({});if(We.length){const Qt=new AbortController;this.inFlightDependencies.push(Qt),xt=ie.sendAsync({type:"getImages",data:{icons:We,source:this.source,tileID:this.tileID,type:"icons"}},Qt)}const Nt=Object.keys(me.patternDependencies);let Dt=Promise.resolve({});if(Nt.length){const Qt=new AbortController;this.inFlightDependencies.push(Qt),Dt=ie.sendAsync({type:"getImages",data:{icons:Nt,source:this.source,tileID:this.tileID,type:"patterns"}},Qt)}const[Wt,Zt,Mn]=yield Promise.all([Ve,xt,Dt]),In=new y(Wt),Kn=new d.bl(Zt,Mn);for(const Qt in ke){const Wn=ke[Qt];Wn instanceof d.a5?(k(Wn.layers,this.zoom,Y),d.bm({bucket:Wn,glyphMap:Wt,glyphPositions:In.positions,imageMap:Zt,imagePositions:Kn.iconPositions,showCollisionBoxes:this.showCollisionBoxes,canonical:this.tileID.canonical})):Wn.hasPattern&&(Wn instanceof d.bn||Wn instanceof d.bo||Wn instanceof d.bp)&&(k(Wn.layers,this.zoom,Y),Wn.addFeatures(me,this.tileID.canonical,Kn.patternPositions))}return this.status="done",{buckets:Object.values(ke).filter(Qt=>!Qt.isEmpty()),featureIndex:be,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:In.image,imageAtlas:Kn,glyphMap:this.returnDependencies?Wt:null,iconMap:this.returnDependencies?Zt:null,glyphPositions:this.returnDependencies?In.positions:null}})}}function k(ae,U,W){const Y=new d.a8(U);for(const ie of ae)ie.recalculate(Y,W)}class S{constructor(U,W,Y){this.actor=U,this.layerIndex=W,this.availableImages=Y,this.fetching={},this.loading={},this.loaded={}}loadVectorTile(U,W){return d._(this,void 0,void 0,function*(){const Y=yield d.l(U.request,W);try{return{vectorTile:new d.bq.VectorTile(new d.br(Y.data)),rawData:Y.data,cacheControl:Y.cacheControl,expires:Y.expires}}catch(ie){const ve=new Uint8Array(Y.data);let be="Unable to parse the tile at ".concat(U.request.url,", ");throw be+=ve[0]===31&&ve[1]===139?"please make sure the data is not gzipped and that you have configured the relevant header in the server":"got error: ".concat(ie.messge),new Error(be)}})}loadTile(U){return d._(this,void 0,void 0,function*(){const W=U.uid,Y=!!(U&&U.request&&U.request.collectResourceTiming)&&new d.bs(U.request),ie=new b(U);this.loading[W]=ie;const ve=new AbortController;ie.abort=ve;try{const be=yield this.loadVectorTile(U,ve);if(delete this.loading[W],!be)return null;const ke=be.rawData,me={};be.expires&&(me.expires=be.expires),be.cacheControl&&(me.cacheControl=be.cacheControl);const Te={};if(Y){const Ve=Y.finish();Ve&&(Te.resourceTiming=JSON.parse(JSON.stringify(Ve)))}ie.vectorTile=be.vectorTile;const Ke=ie.parse(be.vectorTile,this.layerIndex,this.availableImages,this.actor);this.loaded[W]=ie,this.fetching[W]={rawTileData:ke,cacheControl:me,resourceTiming:Te};try{const Ve=yield Ke;return d.e({rawTileData:ke.slice(0)},Ve,me,Te)}finally{delete this.fetching[W]}}catch(be){throw delete this.loading[W],ie.status="done",this.loaded[W]=ie,be}})}reloadTile(U){return d._(this,void 0,void 0,function*(){const W=U.uid;if(!this.loaded||!this.loaded[W])throw new Error("Should not be trying to reload a tile that was never loaded or has been removed");const Y=this.loaded[W];if(Y.showCollisionBoxes=U.showCollisionBoxes,Y.status==="parsing"){const ie=yield Y.parse(Y.vectorTile,this.layerIndex,this.availableImages,this.actor);let ve;if(this.fetching[W]){const{rawTileData:be,cacheControl:ke,resourceTiming:me}=this.fetching[W];delete this.fetching[W],ve=d.e({rawTileData:be.slice(0)},ie,ke,me)}else ve=ie;return ve}if(Y.status==="done"&&Y.vectorTile)return Y.parse(Y.vectorTile,this.layerIndex,this.availableImages,this.actor)})}abortTile(U){return d._(this,void 0,void 0,function*(){const W=this.loading,Y=U.uid;W&&W[Y]&&W[Y].abort&&(W[Y].abort.abort(),delete W[Y])})}removeTile(U){return d._(this,void 0,void 0,function*(){this.loaded&&this.loaded[U.uid]&&delete this.loaded[U.uid]})}}class E{constructor(){this.loaded={}}loadTile(U){return d._(this,void 0,void 0,function*(){const{uid:W,encoding:Y,rawImageData:ie,redFactor:ve,greenFactor:be,blueFactor:ke,baseShift:me}=U,Te=ie.width+2,Ke=ie.height+2,Ve=d.b(ie)?new d.R({width:Te,height:Ke},yield d.bt(ie,-1,-1,Te,Ke)):ie,We=new d.bu(W,Ve,Y,ve,be,ke,me);return this.loaded=this.loaded||{},this.loaded[W]=We,We})}removeTile(U){const W=this.loaded,Y=U.uid;W&&W[Y]&&delete W[Y]}}function A(ae,U){if(ae.length!==0){z(ae[0],U);for(var W=1;W<ae.length;W++)z(ae[W],!U)}}function z(ae,U){for(var W=0,Y=0,ie=0,ve=ae.length,be=ve-1;ie<ve;be=ie++){var ke=(ae[ie][0]-ae[be][0])*(ae[be][1]+ae[ie][1]),me=W+ke;Y+=Math.abs(W)>=Math.abs(ke)?W-me+ke:ke-me+W,W=me}W+Y>=0!=!!U&&ae.reverse()}var N=d.bv(function ae(U,W){var Y,ie=U&&U.type;if(ie==="FeatureCollection")for(Y=0;Y<U.features.length;Y++)ae(U.features[Y],W);else if(ie==="GeometryCollection")for(Y=0;Y<U.geometries.length;Y++)ae(U.geometries[Y],W);else if(ie==="Feature")ae(U.geometry,W);else if(ie==="Polygon")A(U.coordinates,W);else if(ie==="MultiPolygon")for(Y=0;Y<U.coordinates.length;Y++)A(U.coordinates[Y],W);return U});const q=d.bq.VectorTileFeature.prototype.toGeoJSON;var F={exports:{}},$=d.bw,V=d.bq.VectorTileFeature,Z=Q;function Q(ae,U){this.options=U||{},this.features=ae,this.length=ae.length}function fe(ae,U){this.id=typeof ae.id=="number"?ae.id:void 0,this.type=ae.type,this.rawGeometry=ae.type===1?[ae.geometry]:ae.geometry,this.properties=ae.tags,this.extent=U||4096}Q.prototype.feature=function(ae){return new fe(this.features[ae],this.options.extent)},fe.prototype.loadGeometry=function(){var ae=this.rawGeometry;this.geometry=[];for(var U=0;U<ae.length;U++){for(var W=ae[U],Y=[],ie=0;ie<W.length;ie++)Y.push(new $(W[ie][0],W[ie][1]));this.geometry.push(Y)}return this.geometry},fe.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var ae=this.geometry,U=1/0,W=-1/0,Y=1/0,ie=-1/0,ve=0;ve<ae.length;ve++)for(var be=ae[ve],ke=0;ke<be.length;ke++){var me=be[ke];U=Math.min(U,me.x),W=Math.max(W,me.x),Y=Math.min(Y,me.y),ie=Math.max(ie,me.y)}return[U,Y,W,ie]},fe.prototype.toGeoJSON=V.prototype.toGeoJSON;var oe=d.bx,re=Z;function Be(ae){var U=new oe;return function(W,Y){for(var ie in W.layers)Y.writeMessage(3,Le,W.layers[ie])}(ae,U),U.finish()}function Le(ae,U){var W;U.writeVarintField(15,ae.version||1),U.writeStringField(1,ae.name||""),U.writeVarintField(5,ae.extent||4096);var Y={keys:[],values:[],keycache:{},valuecache:{}};for(W=0;W<ae.length;W++)Y.feature=ae.feature(W),U.writeMessage(2,Fe,Y);var ie=Y.keys;for(W=0;W<ie.length;W++)U.writeStringField(3,ie[W]);var ve=Y.values;for(W=0;W<ve.length;W++)U.writeMessage(4,$e,ve[W])}function Fe(ae,U){var W=ae.feature;W.id!==void 0&&U.writeVarintField(1,W.id),U.writeMessage(2,Ze,ae),U.writeVarintField(3,W.type),U.writeMessage(4,Oe,W)}function Ze(ae,U){var W=ae.feature,Y=ae.keys,ie=ae.values,ve=ae.keycache,be=ae.valuecache;for(var ke in W.properties){var me=W.properties[ke],Te=ve[ke];if(me!==null){Te===void 0&&(Y.push(ke),ve[ke]=Te=Y.length-1),U.writeVarint(Te);var Ke=typeof me;Ke!=="string"&&Ke!=="boolean"&&Ke!=="number"&&(me=JSON.stringify(me));var Ve=Ke+":"+me,We=be[Ve];We===void 0&&(ie.push(me),be[Ve]=We=ie.length-1),U.writeVarint(We)}}}function Pe(ae,U){return(U<<3)+(7&ae)}function De(ae){return ae<<1^ae>>31}function Oe(ae,U){for(var W=ae.loadGeometry(),Y=ae.type,ie=0,ve=0,be=W.length,ke=0;ke<be;ke++){var me=W[ke],Te=1;Y===1&&(Te=me.length),U.writeVarint(Pe(1,Te));for(var Ke=Y===3?me.length-1:me.length,Ve=0;Ve<Ke;Ve++){Ve===1&&Y!==1&&U.writeVarint(Pe(2,Ke-1));var We=me[Ve].x-ie,xt=me[Ve].y-ve;U.writeVarint(De(We)),U.writeVarint(De(xt)),ie+=We,ve+=xt}Y===3&&U.writeVarint(Pe(7,1))}}function $e(ae,U){var W=typeof ae;W==="string"?U.writeStringField(1,ae):W==="boolean"?U.writeBooleanField(7,ae):W==="number"&&(ae%1!=0?U.writeDoubleField(3,ae):ae<0?U.writeSVarintField(6,ae):U.writeVarintField(5,ae))}F.exports=Be,F.exports.fromVectorTileJs=Be,F.exports.fromGeojsonVt=function(ae,U){U=U||{};var W={};for(var Y in ae)W[Y]=new re(ae[Y].features,U),W[Y].name=Y,W[Y].version=U.version,W[Y].extent=U.extent;return Be({layers:W})},F.exports.GeoJSONWrapper=re;var He=d.bv(F.exports);const we={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:ae=>ae},Ee=Math.fround||(Ie=new Float32Array(1),ae=>(Ie[0]=+ae,Ie[0]));var Ie;const qe=3,Ye=5,yt=6;class wt{constructor(U){this.options=Object.assign(Object.create(we),U),this.trees=new Array(this.options.maxZoom+1),this.stride=this.options.reduce?7:6,this.clusterProps=[]}load(U){const{log:W,minZoom:Y,maxZoom:ie}=this.options;W&&console.time("total time");const ve="prepare ".concat(U.length," points");W&&console.time(ve),this.points=U;const be=[];for(let me=0;me<U.length;me++){const Te=U[me];if(!Te.geometry)continue;const[Ke,Ve]=Te.geometry.coordinates,We=Ee(Yt(Ke)),xt=Ee(vn(Ve));be.push(We,xt,1/0,me,-1,1),this.options.reduce&&be.push(0)}let ke=this.trees[ie+1]=this._createTree(be);W&&console.timeEnd(ve);for(let me=ie;me>=Y;me--){const Te=+Date.now();ke=this.trees[me]=this._createTree(this._cluster(ke,me)),W&&console.log("z%d: %d clusters in %dms",me,ke.numItems,+Date.now()-Te)}return W&&console.timeEnd("total time"),this}getClusters(U,W){let Y=((U[0]+180)%360+360)%360-180;const ie=Math.max(-90,Math.min(90,U[1]));let ve=U[2]===180?180:((U[2]+180)%360+360)%360-180;const be=Math.max(-90,Math.min(90,U[3]));if(U[2]-U[0]>=360)Y=-180,ve=180;else if(Y>ve){const Ve=this.getClusters([Y,ie,180,be],W),We=this.getClusters([-180,ie,ve,be],W);return Ve.concat(We)}const ke=this.trees[this._limitZoom(W)],me=ke.range(Yt(Y),vn(be),Yt(ve),vn(ie)),Te=ke.data,Ke=[];for(const Ve of me){const We=this.stride*Ve;Ke.push(Te[We+Ye]>1?Mt(Te,We,this.clusterProps):this.points[Te[We+qe]])}return Ke}getChildren(U){const W=this._getOriginId(U),Y=this._getOriginZoom(U),ie="No cluster with the specified id.",ve=this.trees[Y];if(!ve)throw new Error(ie);const be=ve.data;if(W*this.stride>=be.length)throw new Error(ie);const ke=this.options.radius/(this.options.extent*Math.pow(2,Y-1)),me=ve.within(be[W*this.stride],be[W*this.stride+1],ke),Te=[];for(const Ke of me){const Ve=Ke*this.stride;be[Ve+4]===U&&Te.push(be[Ve+Ye]>1?Mt(be,Ve,this.clusterProps):this.points[be[Ve+qe]])}if(Te.length===0)throw new Error(ie);return Te}getLeaves(U,W,Y){const ie=[];return this._appendLeaves(ie,U,W=W||10,Y=Y||0,0),ie}getTile(U,W,Y){const ie=this.trees[this._limitZoom(U)],ve=Math.pow(2,U),{extent:be,radius:ke}=this.options,me=ke/be,Te=(Y-me)/ve,Ke=(Y+1+me)/ve,Ve={features:[]};return this._addTileFeatures(ie.range((W-me)/ve,Te,(W+1+me)/ve,Ke),ie.data,W,Y,ve,Ve),W===0&&this._addTileFeatures(ie.range(1-me/ve,Te,1,Ke),ie.data,ve,Y,ve,Ve),W===ve-1&&this._addTileFeatures(ie.range(0,Te,me/ve,Ke),ie.data,-1,Y,ve,Ve),Ve.features.length?Ve:null}getClusterExpansionZoom(U){let W=this._getOriginZoom(U)-1;for(;W<=this.options.maxZoom;){const Y=this.getChildren(U);if(W++,Y.length!==1)break;U=Y[0].properties.cluster_id}return W}_appendLeaves(U,W,Y,ie,ve){const be=this.getChildren(W);for(const ke of be){const me=ke.properties;if(me&&me.cluster?ve+me.point_count<=ie?ve+=me.point_count:ve=this._appendLeaves(U,me.cluster_id,Y,ie,ve):ve<ie?ve++:U.push(ke),U.length===Y)break}return ve}_createTree(U){const W=new d.au(U.length/this.stride|0,this.options.nodeSize,Float32Array);for(let Y=0;Y<U.length;Y+=this.stride)W.add(U[Y],U[Y+1]);return W.finish(),W.data=U,W}_addTileFeatures(U,W,Y,ie,ve,be){for(const ke of U){const me=ke*this.stride,Te=W[me+Ye]>1;let Ke,Ve,We;if(Te)Ke=Ft(W,me,this.clusterProps),Ve=W[me],We=W[me+1];else{const Dt=this.points[W[me+qe]];Ke=Dt.properties;const[Wt,Zt]=Dt.geometry.coordinates;Ve=Yt(Wt),We=vn(Zt)}const xt={type:1,geometry:[[Math.round(this.options.extent*(Ve*ve-Y)),Math.round(this.options.extent*(We*ve-ie))]],tags:Ke};let Nt;Nt=Te||this.options.generateId?W[me+qe]:this.points[W[me+qe]].id,Nt!==void 0&&(xt.id=Nt),be.features.push(xt)}}_limitZoom(U){return Math.max(this.options.minZoom,Math.min(Math.floor(+U),this.options.maxZoom+1))}_cluster(U,W){const{radius:Y,extent:ie,reduce:ve,minPoints:be}=this.options,ke=Y/(ie*Math.pow(2,W)),me=U.data,Te=[],Ke=this.stride;for(let Ve=0;Ve<me.length;Ve+=Ke){if(me[Ve+2]<=W)continue;me[Ve+2]=W;const We=me[Ve],xt=me[Ve+1],Nt=U.within(me[Ve],me[Ve+1],ke),Dt=me[Ve+Ye];let Wt=Dt;for(const Zt of Nt){const Mn=Zt*Ke;me[Mn+2]>W&&(Wt+=me[Mn+Ye])}if(Wt>Dt&&Wt>=be){let Zt,Mn=We*Dt,In=xt*Dt,Kn=-1;const Qt=((Ve/Ke|0)<<5)+(W+1)+this.points.length;for(const Wn of Nt){const ai=Wn*Ke;if(me[ai+2]<=W)continue;me[ai+2]=W;const rr=me[ai+Ye];Mn+=me[ai]*rr,In+=me[ai+1]*rr,me[ai+4]=Qt,ve&&(Zt||(Zt=this._map(me,Ve,!0),Kn=this.clusterProps.length,this.clusterProps.push(Zt)),ve(Zt,this._map(me,ai)))}me[Ve+4]=Qt,Te.push(Mn/Wt,In/Wt,1/0,Qt,-1,Wt),ve&&Te.push(Kn)}else{for(let Zt=0;Zt<Ke;Zt++)Te.push(me[Ve+Zt]);if(Wt>1)for(const Zt of Nt){const Mn=Zt*Ke;if(!(me[Mn+2]<=W)){me[Mn+2]=W;for(let In=0;In<Ke;In++)Te.push(me[Mn+In])}}}}return Te}_getOriginId(U){return U-this.points.length>>5}_getOriginZoom(U){return(U-this.points.length)%32}_map(U,W,Y){if(U[W+Ye]>1){const be=this.clusterProps[U[W+yt]];return Y?Object.assign({},be):be}const ie=this.points[U[W+qe]].properties,ve=this.options.map(ie);return Y&&ve===ie?Object.assign({},ve):ve}}function Mt(ae,U,W){return{type:"Feature",id:ae[U+qe],properties:Ft(ae,U,W),geometry:{type:"Point",coordinates:[(Y=ae[U],360*(Y-.5)),ei(ae[U+1])]}};var Y}function Ft(ae,U,W){const Y=ae[U+Ye],ie=Y>=1e4?"".concat(Math.round(Y/1e3),"k"):Y>=1e3?Math.round(Y/100)/10+"k":Y,ve=ae[U+yt],be=ve===-1?{}:Object.assign({},W[ve]);return Object.assign(be,{cluster:!0,cluster_id:ae[U+qe],point_count:Y,point_count_abbreviated:ie})}function Yt(ae){return ae/360+.5}function vn(ae){const U=Math.sin(ae*Math.PI/180),W=.5-.25*Math.log((1+U)/(1-U))/Math.PI;return W<0?0:W>1?1:W}function ei(ae){const U=(180-360*ae)*Math.PI/180;return 360*Math.atan(Math.exp(U))/Math.PI-90}function Mi(ae,U,W,Y){for(var ie,ve=Y,be=W-U>>1,ke=W-U,me=ae[U],Te=ae[U+1],Ke=ae[W],Ve=ae[W+1],We=U+3;We<W;We+=3){var xt=ir(ae[We],ae[We+1],me,Te,Ke,Ve);if(xt>ve)ie=We,ve=xt;else if(xt===ve){var Nt=Math.abs(We-be);Nt<ke&&(ie=We,ke=Nt)}}ve>Y&&(ie-U>3&&Mi(ae,U,ie,Y),ae[ie+2]=ve,W-ie>3&&Mi(ae,ie,W,Y))}function ir(ae,U,W,Y,ie,ve){var be=ie-W,ke=ve-Y;if(be!==0||ke!==0){var me=((ae-W)*be+(U-Y)*ke)/(be*be+ke*ke);me>1?(W=ie,Y=ve):me>0&&(W+=be*me,Y+=ke*me)}return(be=ae-W)*be+(ke=U-Y)*ke}function ot(ae,U,W,Y){var ie={id:ae===void 0?null:ae,type:U,geometry:W,tags:Y,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};return function(ve){var be=ve.geometry,ke=ve.type;if(ke==="Point"||ke==="MultiPoint"||ke==="LineString")$t(ve,be);else if(ke==="Polygon"||ke==="MultiLineString")for(var me=0;me<be.length;me++)$t(ve,be[me]);else if(ke==="MultiPolygon")for(me=0;me<be.length;me++)for(var Te=0;Te<be[me].length;Te++)$t(ve,be[me][Te])}(ie),ie}function $t(ae,U){for(var W=0;W<U.length;W+=3)ae.minX=Math.min(ae.minX,U[W]),ae.minY=Math.min(ae.minY,U[W+1]),ae.maxX=Math.max(ae.maxX,U[W]),ae.maxY=Math.max(ae.maxY,U[W+1])}function Ct(ae,U,W,Y){if(U.geometry){var ie=U.geometry.coordinates,ve=U.geometry.type,be=Math.pow(W.tolerance/((1<<W.maxZoom)*W.extent),2),ke=[],me=U.id;if(W.promoteId?me=U.properties[W.promoteId]:W.generateId&&(me=Y||0),ve==="Point")zt(ie,ke);else if(ve==="MultiPoint")for(var Te=0;Te<ie.length;Te++)zt(ie[Te],ke);else if(ve==="LineString")Rn(ie,ke,be,!1);else if(ve==="MultiLineString"){if(W.lineMetrics){for(Te=0;Te<ie.length;Te++)Rn(ie[Te],ke=[],be,!1),ae.push(ot(me,"LineString",ke,U.properties));return}Ne(ie,ke,be,!1)}else if(ve==="Polygon")Ne(ie,ke,be,!0);else{if(ve!=="MultiPolygon"){if(ve==="GeometryCollection"){for(Te=0;Te<U.geometry.geometries.length;Te++)Ct(ae,{id:me,geometry:U.geometry.geometries[Te],properties:U.properties},W,Y);return}throw new Error("Input data is not a valid GeoJSON object.")}for(Te=0;Te<ie.length;Te++){var Ke=[];Ne(ie[Te],Ke,be,!0),ke.push(Ke)}}ae.push(ot(me,ve,ke,U.properties))}}function zt(ae,U){U.push(qn(ae[0])),U.push(Ki(ae[1])),U.push(0)}function Rn(ae,U,W,Y){for(var ie,ve,be=0,ke=0;ke<ae.length;ke++){var me=qn(ae[ke][0]),Te=Ki(ae[ke][1]);U.push(me),U.push(Te),U.push(0),ke>0&&(be+=Y?(ie*Te-me*ve)/2:Math.sqrt(Math.pow(me-ie,2)+Math.pow(Te-ve,2))),ie=me,ve=Te}var Ke=U.length-3;U[2]=1,Mi(U,0,Ke,W),U[Ke+2]=1,U.size=Math.abs(be),U.start=0,U.end=U.size}function Ne(ae,U,W,Y){for(var ie=0;ie<ae.length;ie++){var ve=[];Rn(ae[ie],ve,W,Y),U.push(ve)}}function qn(ae){return ae/360+.5}function Ki(ae){var U=Math.sin(ae*Math.PI/180),W=.5-.25*Math.log((1+U)/(1-U))/Math.PI;return W<0?0:W>1?1:W}function on(ae,U,W,Y,ie,ve,be,ke){if(Y/=U,ve>=(W/=U)&&be<Y)return ae;if(be<W||ve>=Y)return null;for(var me=[],Te=0;Te<ae.length;Te++){var Ke=ae[Te],Ve=Ke.geometry,We=Ke.type,xt=ie===0?Ke.minX:Ke.minY,Nt=ie===0?Ke.maxX:Ke.maxY;if(xt>=W&&Nt<Y)me.push(Ke);else if(!(Nt<W||xt>=Y)){var Dt=[];if(We==="Point"||We==="MultiPoint")si(Ve,Dt,W,Y,ie);else if(We==="LineString")vr(Ve,Dt,W,Y,ie,!1,ke.lineMetrics);else if(We==="MultiLineString")ua(Ve,Dt,W,Y,ie,!1);else if(We==="Polygon")ua(Ve,Dt,W,Y,ie,!0);else if(We==="MultiPolygon")for(var Wt=0;Wt<Ve.length;Wt++){var Zt=[];ua(Ve[Wt],Zt,W,Y,ie,!0),Zt.length&&Dt.push(Zt)}if(Dt.length){if(ke.lineMetrics&&We==="LineString"){for(Wt=0;Wt<Dt.length;Wt++)me.push(ot(Ke.id,We,Dt[Wt],Ke.tags));continue}We!=="LineString"&&We!=="MultiLineString"||(Dt.length===1?(We="LineString",Dt=Dt[0]):We="MultiLineString"),We!=="Point"&&We!=="MultiPoint"||(We=Dt.length===3?"Point":"MultiPoint"),me.push(ot(Ke.id,We,Dt,Ke.tags))}}}return me.length?me:null}function si(ae,U,W,Y,ie){for(var ve=0;ve<ae.length;ve+=3){var be=ae[ve+ie];be>=W&&be<=Y&&(U.push(ae[ve]),U.push(ae[ve+1]),U.push(ae[ve+2]))}}function vr(ae,U,W,Y,ie,ve,be){for(var ke,me,Te=zr(ae),Ke=ie===0?Os:ha,Ve=ae.start,We=0;We<ae.length-3;We+=3){var xt=ae[We],Nt=ae[We+1],Dt=ae[We+2],Wt=ae[We+3],Zt=ae[We+4],Mn=ie===0?xt:Nt,In=ie===0?Wt:Zt,Kn=!1;be&&(ke=Math.sqrt(Math.pow(xt-Wt,2)+Math.pow(Nt-Zt,2))),Mn<W?In>W&&(me=Ke(Te,xt,Nt,Wt,Zt,W),be&&(Te.start=Ve+ke*me)):Mn>Y?In<Y&&(me=Ke(Te,xt,Nt,Wt,Zt,Y),be&&(Te.start=Ve+ke*me)):da(Te,xt,Nt,Dt),In<W&&Mn>=W&&(me=Ke(Te,xt,Nt,Wt,Zt,W),Kn=!0),In>Y&&Mn<=Y&&(me=Ke(Te,xt,Nt,Wt,Zt,Y),Kn=!0),!ve&&Kn&&(be&&(Te.end=Ve+ke*me),U.push(Te),Te=zr(ae)),be&&(Ve+=ke)}var Qt=ae.length-3;xt=ae[Qt],Nt=ae[Qt+1],Dt=ae[Qt+2],(Mn=ie===0?xt:Nt)>=W&&Mn<=Y&&da(Te,xt,Nt,Dt),Qt=Te.length-3,ve&&Qt>=3&&(Te[Qt]!==Te[0]||Te[Qt+1]!==Te[1])&&da(Te,Te[0],Te[1],Te[2]),Te.length&&U.push(Te)}function zr(ae){var U=[];return U.size=ae.size,U.start=ae.start,U.end=ae.end,U}function ua(ae,U,W,Y,ie,ve){for(var be=0;be<ae.length;be++)vr(ae[be],U,W,Y,ie,ve,!1)}function da(ae,U,W,Y){ae.push(U),ae.push(W),ae.push(Y)}function Os(ae,U,W,Y,ie,ve){var be=(ve-U)/(Y-U);return ae.push(ve),ae.push(W+(ie-W)*be),ae.push(1),be}function ha(ae,U,W,Y,ie,ve){var be=(ve-W)/(ie-W);return ae.push(U+(Y-U)*be),ae.push(ve),ae.push(1),be}function Fa(ae,U){for(var W=[],Y=0;Y<ae.length;Y++){var ie,ve=ae[Y],be=ve.type;if(be==="Point"||be==="MultiPoint"||be==="LineString")ie=at(ve.geometry,U);else if(be==="MultiLineString"||be==="Polygon"){ie=[];for(var ke=0;ke<ve.geometry.length;ke++)ie.push(at(ve.geometry[ke],U))}else if(be==="MultiPolygon")for(ie=[],ke=0;ke<ve.geometry.length;ke++){for(var me=[],Te=0;Te<ve.geometry[ke].length;Te++)me.push(at(ve.geometry[ke][Te],U));ie.push(me)}W.push(ot(ve.id,be,ie,ve.tags))}return W}function at(ae,U){var W=[];W.size=ae.size,ae.start!==void 0&&(W.start=ae.start,W.end=ae.end);for(var Y=0;Y<ae.length;Y+=3)W.push(ae[Y]+U,ae[Y+1],ae[Y+2]);return W}function br(ae,U){if(ae.transformed)return ae;var W,Y,ie,ve=1<<ae.z,be=ae.x,ke=ae.y;for(W=0;W<ae.features.length;W++){var me=ae.features[W],Te=me.geometry,Ke=me.type;if(me.geometry=[],Ke===1)for(Y=0;Y<Te.length;Y+=2)me.geometry.push(Ti(Te[Y],Te[Y+1],U,ve,be,ke));else for(Y=0;Y<Te.length;Y++){var Ve=[];for(ie=0;ie<Te[Y].length;ie+=2)Ve.push(Ti(Te[Y][ie],Te[Y][ie+1],U,ve,be,ke));me.geometry.push(Ve)}}return ae.transformed=!0,ae}function Ti(ae,U,W,Y,ie,ve){return[Math.round(W*(ae*Y-ie)),Math.round(W*(U*Y-ve))]}function go(ae,U,W,Y,ie){for(var ve=U===ie.maxZoom?0:ie.tolerance/((1<<U)*ie.extent),be={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:W,y:Y,z:U,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0},ke=0;ke<ae.length;ke++){be.numFeatures++,Yr(be,ae[ke],ve,ie);var me=ae[ke].minX,Te=ae[ke].minY,Ke=ae[ke].maxX,Ve=ae[ke].maxY;me<be.minX&&(be.minX=me),Te<be.minY&&(be.minY=Te),Ke>be.maxX&&(be.maxX=Ke),Ve>be.maxY&&(be.maxY=Ve)}return be}function Yr(ae,U,W,Y){var ie=U.geometry,ve=U.type,be=[];if(ve==="Point"||ve==="MultiPoint")for(var ke=0;ke<ie.length;ke+=3)be.push(ie[ke]),be.push(ie[ke+1]),ae.numPoints++,ae.numSimplified++;else if(ve==="LineString")nt(be,ie,ae,W,!1,!1);else if(ve==="MultiLineString"||ve==="Polygon")for(ke=0;ke<ie.length;ke++)nt(be,ie[ke],ae,W,ve==="Polygon",ke===0);else if(ve==="MultiPolygon")for(var me=0;me<ie.length;me++){var Te=ie[me];for(ke=0;ke<Te.length;ke++)nt(be,Te[ke],ae,W,!0,ke===0)}if(be.length){var Ke=U.tags||null;if(ve==="LineString"&&Y.lineMetrics){for(var Ve in Ke={},U.tags)Ke[Ve]=U.tags[Ve];Ke.mapbox_clip_start=ie.start/ie.size,Ke.mapbox_clip_end=ie.end/ie.size}var We={geometry:be,type:ve==="Polygon"||ve==="MultiPolygon"?3:ve==="LineString"||ve==="MultiLineString"?2:1,tags:Ke};U.id!==null&&(We.id=U.id),ae.features.push(We)}}function nt(ae,U,W,Y,ie,ve){var be=Y*Y;if(Y>0&&U.size<(ie?be:Y))W.numPoints+=U.length/3;else{for(var ke=[],me=0;me<U.length;me+=3)(Y===0||U[me+2]>be)&&(W.numSimplified++,ke.push(U[me]),ke.push(U[me+1])),W.numPoints++;ie&&function(Te,Ke){for(var Ve=0,We=0,xt=Te.length,Nt=xt-2;We<xt;Nt=We,We+=2)Ve+=(Te[We]-Te[Nt])*(Te[We+1]+Te[Nt+1]);if(Ve>0===Ke)for(We=0,xt=Te.length;We<xt/2;We+=2){var Dt=Te[We],Wt=Te[We+1];Te[We]=Te[xt-2-We],Te[We+1]=Te[xt-1-We],Te[xt-2-We]=Dt,Te[xt-1-We]=Wt}}(ke,ve),ae.push(ke)}}function Ut(ae,U){var W=(U=this.options=function(ie,ve){for(var be in ve)ie[be]=ve[be];return ie}(Object.create(this.options),U)).debug;if(W&&console.time("preprocess data"),U.maxZoom<0||U.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if(U.promoteId&&U.generateId)throw new Error("promoteId and generateId cannot be used together.");var Y=function(ie,ve){var be=[];if(ie.type==="FeatureCollection")for(var ke=0;ke<ie.features.length;ke++)Ct(be,ie.features[ke],ve,ke);else Ct(be,ie.type==="Feature"?ie:{geometry:ie},ve);return be}(ae,U);this.tiles={},this.tileCoords=[],W&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",U.indexMaxZoom,U.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),Y=function(ie,ve){var be=ve.buffer/ve.extent,ke=ie,me=on(ie,1,-1-be,be,0,-1,2,ve),Te=on(ie,1,1-be,2+be,0,-1,2,ve);return(me||Te)&&(ke=on(ie,1,-be,1+be,0,-1,2,ve)||[],me&&(ke=Fa(me,1).concat(ke)),Te&&(ke=ke.concat(Fa(Te,-1)))),ke}(Y,U),Y.length&&this.splitTile(Y,0,0,0),W&&(Y.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}function Ht(ae,U,W){return 32*((1<<ae)*W+U)+ae}function zi(ae,U){return U?ae.properties[U]:ae.id}function Lr(ae,U){if(ae==null)return!0;if(ae.type==="Feature")return zi(ae,U)!=null;if(ae.type==="FeatureCollection"){const W=new Set;for(const Y of ae.features){const ie=zi(Y,U);if(ie==null||W.has(ie))return!1;W.add(ie)}return!0}return!1}function Jt(ae,U){const W=new Map;if(ae!=null)if(ae.type==="Feature")W.set(zi(ae,U),ae);else for(const Y of ae.features)W.set(zi(Y,U),Y);return W}Ut.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0},Ut.prototype.splitTile=function(ae,U,W,Y,ie,ve,be){for(var ke=[ae,U,W,Y],me=this.options,Te=me.debug;ke.length;){Y=ke.pop(),W=ke.pop(),U=ke.pop(),ae=ke.pop();var Ke=1<<U,Ve=Ht(U,W,Y),We=this.tiles[Ve];if(!We&&(Te>1&&console.time("creation"),We=this.tiles[Ve]=go(ae,U,W,Y,me),this.tileCoords.push({z:U,x:W,y:Y}),Te)){Te>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",U,W,Y,We.numFeatures,We.numPoints,We.numSimplified),console.timeEnd("creation"));var xt="z"+U;this.stats[xt]=(this.stats[xt]||0)+1,this.total++}if(We.source=ae,ie){if(U===me.maxZoom||U===ie)continue;var Nt=1<<ie-U;if(W!==Math.floor(ve/Nt)||Y!==Math.floor(be/Nt))continue}else if(U===me.indexMaxZoom||We.numPoints<=me.indexMaxPoints)continue;if(We.source=null,ae.length!==0){Te>1&&console.time("clipping");var Dt,Wt,Zt,Mn,In,Kn,Qt=.5*me.buffer/me.extent,Wn=.5-Qt,ai=.5+Qt,rr=1+Qt;Dt=Wt=Zt=Mn=null,In=on(ae,Ke,W-Qt,W+ai,0,We.minX,We.maxX,me),Kn=on(ae,Ke,W+Wn,W+rr,0,We.minX,We.maxX,me),ae=null,In&&(Dt=on(In,Ke,Y-Qt,Y+ai,1,We.minY,We.maxY,me),Wt=on(In,Ke,Y+Wn,Y+rr,1,We.minY,We.maxY,me),In=null),Kn&&(Zt=on(Kn,Ke,Y-Qt,Y+ai,1,We.minY,We.maxY,me),Mn=on(Kn,Ke,Y+Wn,Y+rr,1,We.minY,We.maxY,me),Kn=null),Te>1&&console.timeEnd("clipping"),ke.push(Dt||[],U+1,2*W,2*Y),ke.push(Wt||[],U+1,2*W,2*Y+1),ke.push(Zt||[],U+1,2*W+1,2*Y),ke.push(Mn||[],U+1,2*W+1,2*Y+1)}}},Ut.prototype.getTile=function(ae,U,W){var Y=this.options,ie=Y.extent,ve=Y.debug;if(ae<0||ae>24)return null;var be=1<<ae,ke=Ht(ae,U=(U%be+be)%be,W);if(this.tiles[ke])return br(this.tiles[ke],ie);ve>1&&console.log("drilling down to z%d-%d-%d",ae,U,W);for(var me,Te=ae,Ke=U,Ve=W;!me&&Te>0;)Te--,Ke=Math.floor(Ke/2),Ve=Math.floor(Ve/2),me=this.tiles[Ht(Te,Ke,Ve)];return me&&me.source?(ve>1&&console.log("found parent tile z%d-%d-%d",Te,Ke,Ve),ve>1&&console.time("drilling down"),this.splitTile(me.source,Te,Ke,Ve,ae,U,W),ve>1&&console.timeEnd("drilling down"),this.tiles[ke]?br(this.tiles[ke],ie):null):null};class ss extends S{constructor(){super(...arguments),this._dataUpdateable=new Map}loadVectorTile(U,W){return d._(this,void 0,void 0,function*(){const Y=U.tileID.canonical;if(!this._geoJSONIndex)throw new Error("Unable to parse the data into a cluster or geojson");const ie=this._geoJSONIndex.getTile(Y.z,Y.x,Y.y);if(!ie)return null;const ve=new class{constructor(ke){this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.extent=d.W,this.length=ke.length,this._features=ke}feature(ke){return new class{constructor(me){this._feature=me,this.extent=d.W,this.type=me.type,this.properties=me.tags,"id"in me&&!isNaN(me.id)&&(this.id=parseInt(me.id,10))}loadGeometry(){if(this._feature.type===1){const me=[];for(const Te of this._feature.geometry)me.push([new d.P(Te[0],Te[1])]);return me}{const me=[];for(const Te of this._feature.geometry){const Ke=[];for(const Ve of Te)Ke.push(new d.P(Ve[0],Ve[1]));me.push(Ke)}return me}}toGeoJSON(me,Te,Ke){return q.call(this,me,Te,Ke)}}(this._features[ke])}}(ie.features);let be=He(ve);return be.byteOffset===0&&be.byteLength===be.buffer.byteLength||(be=new Uint8Array(be)),{vectorTile:ve,rawData:be.buffer}})}loadData(U){return d._(this,void 0,void 0,function*(){var W;(W=this._pendingRequest)===null||W===void 0||W.abort();const Y=!!(U&&U.request&&U.request.collectResourceTiming)&&new d.bs(U.request);this._pendingRequest=new AbortController;try{let ie=yield this.loadGeoJSON(U,this._pendingRequest);if(delete this._pendingRequest,typeof ie!="object")throw new Error("Input data given to '".concat(U.source,"' is not a valid GeoJSON object."));if(N(ie,!0),U.filter){const be=d.by(U.filter,{type:"boolean","property-type":"data-driven",overridable:!1,transition:!1});if(be.result==="error")throw new Error(be.value.map(me=>"".concat(me.key,": ").concat(me.message)).join(", "));ie={type:"FeatureCollection",features:ie.features.filter(me=>be.value.evaluate({zoom:0},me))}}this._geoJSONIndex=U.cluster?new wt(function({superclusterOptions:be,clusterProperties:ke}){if(!ke||!be)return be;const me={},Te={},Ke={accumulated:null,zoom:0},Ve={properties:null},We=Object.keys(ke);for(const xt of We){const[Nt,Dt]=ke[xt],Wt=d.by(Dt),Zt=d.by(typeof Nt=="string"?[Nt,["accumulated"],["get",xt]]:Nt);me[xt]=Wt.value,Te[xt]=Zt.value}return be.map=xt=>{Ve.properties=xt;const Nt={};for(const Dt of We)Nt[Dt]=me[Dt].evaluate(Ke,Ve);return Nt},be.reduce=(xt,Nt)=>{Ve.properties=Nt;for(const Dt of We)Ke.accumulated=xt[Dt],xt[Dt]=Te[Dt].evaluate(Ke,Ve)},be}(U)).load(ie.features):function(be,ke){return new Ut(be,ke)}(ie,U.geojsonVtOptions),this.loaded={};const ve={};if(Y){const be=Y.finish();be&&(ve.resourceTiming={},ve.resourceTiming[U.source]=JSON.parse(JSON.stringify(be)))}return ve}catch(ie){if(delete this._pendingRequest,d.bz(ie))return{abandoned:!0};throw ie}})}reloadTile(U){const W=this.loaded;return W&&W[U.uid]?super.reloadTile(U):this.loadTile(U)}loadGeoJSON(U,W){return d._(this,void 0,void 0,function*(){const{promoteId:Y}=U;if(U.request){const ie=yield d.h(U.request,W);return this._dataUpdateable=Lr(ie.data,Y)?Jt(ie.data,Y):void 0,ie.data}if(typeof U.data=="string")try{const ie=JSON.parse(U.data);return this._dataUpdateable=Lr(ie,Y)?Jt(ie,Y):void 0,ie}catch(ie){throw new Error("Input data given to '".concat(U.source,"' is not a valid GeoJSON object."))}if(!U.dataDiff)throw new Error("Input data given to '".concat(U.source,"' is not a valid GeoJSON object."));if(!this._dataUpdateable)throw new Error("Cannot update existing geojson data in ".concat(U.source));return function(ie,ve,be){var ke,me,Te,Ke;if(ve.removeAll&&ie.clear(),ve.remove)for(const Ve of ve.remove)ie.delete(Ve);if(ve.add)for(const Ve of ve.add){const We=zi(Ve,be);We!=null&&ie.set(We,Ve)}if(ve.update)for(const Ve of ve.update){let We=ie.get(Ve.id);if(We==null)continue;const xt=!Ve.removeAllProperties&&(((ke=Ve.removeProperties)===null||ke===void 0?void 0:ke.length)>0||((me=Ve.addOrUpdateProperties)===null||me===void 0?void 0:me.length)>0);if((Ve.newGeometry||Ve.removeAllProperties||xt)&&(We=Object.assign({},We),ie.set(Ve.id,We),xt&&(We.properties=Object.assign({},We.properties))),Ve.newGeometry&&(We.geometry=Ve.newGeometry),Ve.removeAllProperties)We.properties={};else if(((Te=Ve.removeProperties)===null||Te===void 0?void 0:Te.length)>0)for(const Nt of Ve.removeProperties)Object.prototype.hasOwnProperty.call(We.properties,Nt)&&delete We.properties[Nt];if(((Ke=Ve.addOrUpdateProperties)===null||Ke===void 0?void 0:Ke.length)>0)for(const{key:Nt,value:Dt}of Ve.addOrUpdateProperties)We.properties[Nt]=Dt}}(this._dataUpdateable,U.dataDiff,Y),{type:"FeatureCollection",features:Array.from(this._dataUpdateable.values())}})}removeSource(U){return d._(this,void 0,void 0,function*(){this._pendingRequest&&this._pendingRequest.abort()})}getClusterExpansionZoom(U){return this._geoJSONIndex.getClusterExpansionZoom(U.clusterId)}getClusterChildren(U){return this._geoJSONIndex.getChildren(U.clusterId)}getClusterLeaves(U){return this._geoJSONIndex.getLeaves(U.clusterId,U.limit,U.offset)}}class Oo{constructor(U){this.self=U,this.actor=new d.C(U),this.layerIndexes={},this.availableImages={},this.workerSources={},this.demWorkerSources={},this.externalWorkerSourceTypes={},this.self.registerWorkerSource=(W,Y)=>{if(this.externalWorkerSourceTypes[W])throw new Error('Worker source with name "'.concat(W,'" already registered.'));this.externalWorkerSourceTypes[W]=Y},this.self.addProtocol=d.bf,this.self.removeProtocol=d.bg,this.self.registerRTLTextPlugin=W=>{if(d.bA.isParsed())throw new Error("RTL text plugin already registered.");d.bA.setMethods(W)},this.actor.registerMessageHandler("loadDEMTile",(W,Y)=>this._getDEMWorkerSource(W,Y.source).loadTile(Y)),this.actor.registerMessageHandler("removeDEMTile",(W,Y)=>d._(this,void 0,void 0,function*(){this._getDEMWorkerSource(W,Y.source).removeTile(Y)})),this.actor.registerMessageHandler("getClusterExpansionZoom",(W,Y)=>d._(this,void 0,void 0,function*(){return this._getWorkerSource(W,Y.type,Y.source).getClusterExpansionZoom(Y)})),this.actor.registerMessageHandler("getClusterChildren",(W,Y)=>d._(this,void 0,void 0,function*(){return this._getWorkerSource(W,Y.type,Y.source).getClusterChildren(Y)})),this.actor.registerMessageHandler("getClusterLeaves",(W,Y)=>d._(this,void 0,void 0,function*(){return this._getWorkerSource(W,Y.type,Y.source).getClusterLeaves(Y)})),this.actor.registerMessageHandler("loadData",(W,Y)=>this._getWorkerSource(W,Y.type,Y.source).loadData(Y)),this.actor.registerMessageHandler("loadTile",(W,Y)=>this._getWorkerSource(W,Y.type,Y.source).loadTile(Y)),this.actor.registerMessageHandler("reloadTile",(W,Y)=>this._getWorkerSource(W,Y.type,Y.source).reloadTile(Y)),this.actor.registerMessageHandler("abortTile",(W,Y)=>this._getWorkerSource(W,Y.type,Y.source).abortTile(Y)),this.actor.registerMessageHandler("removeTile",(W,Y)=>this._getWorkerSource(W,Y.type,Y.source).removeTile(Y)),this.actor.registerMessageHandler("removeSource",(W,Y)=>d._(this,void 0,void 0,function*(){if(!this.workerSources[W]||!this.workerSources[W][Y.type]||!this.workerSources[W][Y.type][Y.source])return;const ie=this.workerSources[W][Y.type][Y.source];delete this.workerSources[W][Y.type][Y.source],ie.removeSource!==void 0&&ie.removeSource(Y)})),this.actor.registerMessageHandler("removeMap",W=>d._(this,void 0,void 0,function*(){delete this.layerIndexes[W],delete this.availableImages[W],delete this.workerSources[W],delete this.demWorkerSources[W]})),this.actor.registerMessageHandler("setReferrer",(W,Y)=>d._(this,void 0,void 0,function*(){this.referrer=Y})),this.actor.registerMessageHandler("syncRTLPluginState",(W,Y)=>this._syncRTLPluginState(W,Y)),this.actor.registerMessageHandler("importScript",(W,Y)=>d._(this,void 0,void 0,function*(){this.self.importScripts(Y)})),this.actor.registerMessageHandler("setImages",(W,Y)=>this._setImages(W,Y)),this.actor.registerMessageHandler("updateLayers",(W,Y)=>d._(this,void 0,void 0,function*(){this._getLayerIndex(W).update(Y.layers,Y.removedIds)})),this.actor.registerMessageHandler("setLayers",(W,Y)=>d._(this,void 0,void 0,function*(){this._getLayerIndex(W).replace(Y)}))}_setImages(U,W){return d._(this,void 0,void 0,function*(){this.availableImages[U]=W;for(const Y in this.workerSources[U]){const ie=this.workerSources[U][Y];for(const ve in ie)ie[ve].availableImages=W}})}_syncRTLPluginState(U,W){return d._(this,void 0,void 0,function*(){if(d.bA.isParsed())return d.bA.getState();if(W.pluginStatus!=="loading")return d.bA.setState(W),W;const Y=W.pluginURL;if(this.self.importScripts(Y),d.bA.isParsed()){const ie={pluginStatus:"loaded",pluginURL:Y};return d.bA.setState(ie),ie}throw d.bA.setState({pluginStatus:"error",pluginURL:""}),new Error("RTL Text Plugin failed to import scripts from ".concat(Y))})}_getAvailableImages(U){let W=this.availableImages[U];return W||(W=[]),W}_getLayerIndex(U){let W=this.layerIndexes[U];return W||(W=this.layerIndexes[U]=new c),W}_getWorkerSource(U,W,Y){if(this.workerSources[U]||(this.workerSources[U]={}),this.workerSources[U][W]||(this.workerSources[U][W]={}),!this.workerSources[U][W][Y]){const ie={sendAsync:(ve,be)=>(ve.targetMapId=U,this.actor.sendAsync(ve,be))};switch(W){case"vector":this.workerSources[U][W][Y]=new S(ie,this._getLayerIndex(U),this._getAvailableImages(U));break;case"geojson":this.workerSources[U][W][Y]=new ss(ie,this._getLayerIndex(U),this._getAvailableImages(U));break;default:this.workerSources[U][W][Y]=new this.externalWorkerSourceTypes[W](ie,this._getLayerIndex(U),this._getAvailableImages(U))}}return this.workerSources[U][W][Y]}_getDEMWorkerSource(U,W){return this.demWorkerSources[U]||(this.demWorkerSources[U]={}),this.demWorkerSources[U][W]||(this.demWorkerSources[U][W]=new E),this.demWorkerSources[U][W]}}return d.i(self)&&(self.worker=new Oo(self)),Oo}),s("index",["exports","./shared"],function(d,c){var y="4.1.2";let b,k;const S={now:typeof performance<"u"&&performance&&performance.now?performance.now.bind(performance):Date.now.bind(Date),frameAsync:v=>new Promise((o,h)=>{const p=requestAnimationFrame(o);v.signal.addEventListener("abort",()=>{cancelAnimationFrame(p),h(c.c())})}),getImageData(v,o=0){return this.getImageCanvasContext(v).getImageData(-o,-o,v.width+2*o,v.height+2*o)},getImageCanvasContext(v){const o=window.document.createElement("canvas"),h=o.getContext("2d",{willReadFrequently:!0});if(!h)throw new Error("failed to create canvas 2d context");return o.width=v.width,o.height=v.height,h.drawImage(v,0,0,v.width,v.height),h},resolveURL:v=>(b||(b=document.createElement("a")),b.href=v,b.href),hardwareConcurrency:typeof navigator<"u"&&navigator.hardwareConcurrency||4,get prefersReducedMotion(){return!!matchMedia&&(k==null&&(k=matchMedia("(prefers-reduced-motion: reduce)")),k.matches)}};class E{static testProp(o){if(!E.docStyle)return o[0];for(let h=0;h<o.length;h++)if(o[h]in E.docStyle)return o[h];return o[0]}static create(o,h,p){const m=window.document.createElement(o);return h!==void 0&&(m.className=h),p&&p.appendChild(m),m}static createNS(o,h){return window.document.createElementNS(o,h)}static disableDrag(){E.docStyle&&E.selectProp&&(E.userSelect=E.docStyle[E.selectProp],E.docStyle[E.selectProp]="none")}static enableDrag(){E.docStyle&&E.selectProp&&(E.docStyle[E.selectProp]=E.userSelect)}static setTransform(o,h){o.style[E.transformProp]=h}static addEventListener(o,h,p,m={}){o.addEventListener(h,p,"passive"in m?m:m.capture)}static removeEventListener(o,h,p,m={}){o.removeEventListener(h,p,"passive"in m?m:m.capture)}static suppressClickInternal(o){o.preventDefault(),o.stopPropagation(),window.removeEventListener("click",E.suppressClickInternal,!0)}static suppressClick(){window.addEventListener("click",E.suppressClickInternal,!0),window.setTimeout(()=>{window.removeEventListener("click",E.suppressClickInternal,!0)},0)}static getScale(o){const h=o.getBoundingClientRect();return{x:h.width/o.offsetWidth||1,y:h.height/o.offsetHeight||1,boundingClientRect:h}}static getPoint(o,h,p){const m=h.boundingClientRect;return new c.P((p.clientX-m.left)/h.x-o.clientLeft,(p.clientY-m.top)/h.y-o.clientTop)}static mousePos(o,h){const p=E.getScale(o);return E.getPoint(o,p,h)}static touchPos(o,h){const p=[],m=E.getScale(o);for(let _=0;_<h.length;_++)p.push(E.getPoint(o,m,h[_]));return p}static mouseButton(o){return o.button}static remove(o){o.parentNode&&o.parentNode.removeChild(o)}}E.docStyle=typeof window<"u"&&window.document&&window.document.documentElement.style,E.selectProp=E.testProp(["userSelect","MozUserSelect","WebkitUserSelect","msUserSelect"]),E.transformProp=E.testProp(["transform","WebkitTransform"]);const A={supported:!1,testSupport:function(v){!q&&N&&(F?$(v):z=v)}};let z,N,q=!1,F=!1;function $(v){const o=v.createTexture();v.bindTexture(v.TEXTURE_2D,o);try{if(v.texImage2D(v.TEXTURE_2D,0,v.RGBA,v.RGBA,v.UNSIGNED_BYTE,N),v.isContextLost())return;A.supported=!0}catch(h){}v.deleteTexture(o),q=!0}var V,Z;typeof document<"u"&&(N=document.createElement("img"),N.onload=function(){z&&$(z),z=null,F=!0},N.onerror=function(){q=!0,z=null},N.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA="),function(v){let o,h,p,m;v.resetRequestQueue=()=>{o=[],h=0,p=0,m={}},v.addThrottleControl=R=>{const L=p++;return m[L]=R,L},v.removeThrottleControl=R=>{delete m[R],T()},v.getImage=(R,L,B=!0)=>new Promise((j,K)=>{A.supported&&(R.headers||(R.headers={}),R.headers.accept="image/webp,*/*"),c.e(R,{type:"image"}),o.push({abortController:L,requestParameters:R,supportImageRefresh:B,state:"queued",onError:le=>{K(le)},onSuccess:le=>{j(le)}}),T()});const _=R=>c._(this,void 0,void 0,function*(){R.state="running";const{requestParameters:L,supportImageRefresh:B,onError:j,onSuccess:K,abortController:le}=R,se=B===!1&&!c.i(self)&&!c.g(L.url)&&(!L.headers||Object.keys(L.headers).reduce((ye,Ae)=>ye&&Ae==="accept",!0));h++;const de=se?I(L,le):c.m(L,le);try{const ye=yield de;delete R.abortController,R.state="completed",ye.data instanceof HTMLImageElement||c.b(ye.data)?K(ye):ye.data&&K({data:yield(ee=ye.data,typeof createImageBitmap=="function"?c.d(ee):c.f(ee)),cacheControl:ye.cacheControl,expires:ye.expires})}catch(ye){delete R.abortController,j(ye)}finally{h--,T()}var ee}),T=()=>{const R=(()=>{for(const L of Object.keys(m))if(m[L]())return!0;return!1})()?c.a.MAX_PARALLEL_IMAGE_REQUESTS_PER_FRAME:c.a.MAX_PARALLEL_IMAGE_REQUESTS;for(let L=h;L<R&&o.length>0;L++){const B=o.shift();B.abortController.signal.aborted?L--:_(B)}},I=(R,L)=>new Promise((B,j)=>{const K=new Image,le=R.url,se=R.credentials;se&&se==="include"?K.crossOrigin="use-credentials":(se&&se==="same-origin"||!c.s(le))&&(K.crossOrigin="anonymous"),L.signal.addEventListener("abort",()=>{K.src="",j(c.c())}),K.fetchPriority="high",K.onload=()=>{K.onerror=K.onload=null,B({data:K})},K.onerror=()=>{K.onerror=K.onload=null,L.signal.aborted||j(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."))},K.src=le})}(V||(V={})),V.resetRequestQueue(),function(v){v.Glyphs="Glyphs",v.Image="Image",v.Source="Source",v.SpriteImage="SpriteImage",v.SpriteJSON="SpriteJSON",v.Style="Style",v.Tile="Tile",v.Unknown="Unknown"}(Z||(Z={}));class Q{constructor(o){this._transformRequestFn=o}transformRequest(o,h){return this._transformRequestFn&&this._transformRequestFn(o,h)||{url:o}}normalizeSpriteURL(o,h,p){const m=function(_){const T=_.match(fe);if(!T)throw new Error('Unable to parse URL "'.concat(_,'"'));return{protocol:T[1],authority:T[2],path:T[3]||"/",params:T[4]?T[4].split("&"):[]}}(o);return m.path+="".concat(h).concat(p),function(_){const T=_.params.length?"?".concat(_.params.join("&")):"";return"".concat(_.protocol,"://").concat(_.authority).concat(_.path).concat(T)}(m)}setTransformRequest(o){this._transformRequestFn=o}}const fe=/^(\w+):\/\/([^/?]*)(\/[^?]+)?\??(.+)?/;function oe(v){var o=new c.A(3);return o[0]=v[0],o[1]=v[1],o[2]=v[2],o}var re,Be=function(v,o,h){return v[0]=o[0]-h[0],v[1]=o[1]-h[1],v[2]=o[2]-h[2],v};re=new c.A(3),c.A!=Float32Array&&(re[0]=0,re[1]=0,re[2]=0);var Le=function(v){var o=v[0],h=v[1];return o*o+h*h};function Fe(v){const o=[];if(typeof v=="string")o.push({id:"default",url:v});else if(v&&v.length>0){const h=[];for(const{id:p,url:m}of v){const _="".concat(p).concat(m);h.indexOf(_)===-1&&(h.push(_),o.push({id:p,url:m}))}}return o}(function(){var v=new c.A(2);c.A!=Float32Array&&(v[0]=0,v[1]=0)})();class Ze{constructor(o,h,p,m){this.context=o,this.format=p,this.texture=o.gl.createTexture(),this.update(h,m)}update(o,h,p){const{width:m,height:_}=o,T=!(this.size&&this.size[0]===m&&this.size[1]===_||p),{context:I}=this,{gl:R}=I;if(this.useMipmap=!!(h&&h.useMipmap),R.bindTexture(R.TEXTURE_2D,this.texture),I.pixelStoreUnpackFlipY.set(!1),I.pixelStoreUnpack.set(1),I.pixelStoreUnpackPremultiplyAlpha.set(this.format===R.RGBA&&(!h||h.premultiply!==!1)),T)this.size=[m,_],o instanceof HTMLImageElement||o instanceof HTMLCanvasElement||o instanceof HTMLVideoElement||o instanceof ImageData||c.b(o)?R.texImage2D(R.TEXTURE_2D,0,this.format,this.format,R.UNSIGNED_BYTE,o):R.texImage2D(R.TEXTURE_2D,0,this.format,m,_,0,this.format,R.UNSIGNED_BYTE,o.data);else{const{x:L,y:B}=p||{x:0,y:0};o instanceof HTMLImageElement||o instanceof HTMLCanvasElement||o instanceof HTMLVideoElement||o instanceof ImageData||c.b(o)?R.texSubImage2D(R.TEXTURE_2D,0,L,B,R.RGBA,R.UNSIGNED_BYTE,o):R.texSubImage2D(R.TEXTURE_2D,0,L,B,m,_,R.RGBA,R.UNSIGNED_BYTE,o.data)}this.useMipmap&&this.isSizePowerOfTwo()&&R.generateMipmap(R.TEXTURE_2D)}bind(o,h,p){const{context:m}=this,{gl:_}=m;_.bindTexture(_.TEXTURE_2D,this.texture),p!==_.LINEAR_MIPMAP_NEAREST||this.isSizePowerOfTwo()||(p=_.LINEAR),o!==this.filter&&(_.texParameteri(_.TEXTURE_2D,_.TEXTURE_MAG_FILTER,o),_.texParameteri(_.TEXTURE_2D,_.TEXTURE_MIN_FILTER,p||o),this.filter=o),h!==this.wrap&&(_.texParameteri(_.TEXTURE_2D,_.TEXTURE_WRAP_S,h),_.texParameteri(_.TEXTURE_2D,_.TEXTURE_WRAP_T,h),this.wrap=h)}isSizePowerOfTwo(){return this.size[0]===this.size[1]&&Math.log(this.size[0])/Math.LN2%1==0}destroy(){const{gl:o}=this.context;o.deleteTexture(this.texture),this.texture=null}}function Pe(v){const{userImage:o}=v;return!!(o&&o.render&&o.render())&&(v.data.replace(new Uint8Array(o.data.buffer)),!0)}class De extends c.E{constructor(){super(),this.images={},this.updatedImages={},this.callbackDispatchedThisFrame={},this.loaded=!1,this.requestors=[],this.patterns={},this.atlasImage=new c.R({width:1,height:1}),this.dirty=!0}isLoaded(){return this.loaded}setLoaded(o){if(this.loaded!==o&&(this.loaded=o,o)){for(const{ids:h,promiseResolve:p}of this.requestors)p(this._getImagesForIds(h));this.requestors=[]}}getImage(o){const h=this.images[o];if(h&&!h.data&&h.spriteData){const p=h.spriteData;h.data=new c.R({width:p.width,height:p.height},p.context.getImageData(p.x,p.y,p.width,p.height).data),h.spriteData=null}return h}addImage(o,h){if(this.images[o])throw new Error("Image id ".concat(o," already exist, use updateImage instead"));this._validate(o,h)&&(this.images[o]=h)}_validate(o,h){let p=!0;const m=h.data||h.spriteData;return this._validateStretch(h.stretchX,m&&m.width)||(this.fire(new c.j(new Error('Image "'.concat(o,'" has invalid "stretchX" value')))),p=!1),this._validateStretch(h.stretchY,m&&m.height)||(this.fire(new c.j(new Error('Image "'.concat(o,'" has invalid "stretchY" value')))),p=!1),this._validateContent(h.content,h)||(this.fire(new c.j(new Error('Image "'.concat(o,'" has invalid "content" value')))),p=!1),p}_validateStretch(o,h){if(!o)return!0;let p=0;for(const m of o){if(m[0]<p||m[1]<m[0]||h<m[1])return!1;p=m[1]}return!0}_validateContent(o,h){if(!o)return!0;if(o.length!==4)return!1;const p=h.spriteData,m=p&&p.width||h.data.width,_=p&&p.height||h.data.height;return!(o[0]<0||m<o[0]||o[1]<0||_<o[1]||o[2]<0||m<o[2]||o[3]<0||_<o[3]||o[2]<o[0]||o[3]<o[1])}updateImage(o,h,p=!0){const m=this.getImage(o);if(p&&(m.data.width!==h.data.width||m.data.height!==h.data.height))throw new Error("size mismatch between old image (".concat(m.data.width,"x").concat(m.data.height,") and new image (").concat(h.data.width,"x").concat(h.data.height,")."));h.version=m.version+1,this.images[o]=h,this.updatedImages[o]=!0}removeImage(o){const h=this.images[o];delete this.images[o],delete this.patterns[o],h.userImage&&h.userImage.onRemove&&h.userImage.onRemove()}listImages(){return Object.keys(this.images)}getImages(o){return new Promise((h,p)=>{let m=!0;if(!this.isLoaded())for(const _ of o)this.images[_]||(m=!1);this.isLoaded()||m?h(this._getImagesForIds(o)):this.requestors.push({ids:o,promiseResolve:h})})}_getImagesForIds(o){const h={};for(const p of o){let m=this.getImage(p);m||(this.fire(new c.k("styleimagemissing",{id:p})),m=this.getImage(p)),m?h[p]={data:m.data.clone(),pixelRatio:m.pixelRatio,sdf:m.sdf,version:m.version,stretchX:m.stretchX,stretchY:m.stretchY,content:m.content,hasRenderCallback:!!(m.userImage&&m.userImage.render)}:c.w('Image "'.concat(p,'" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.'))}return h}getPixelSize(){const{width:o,height:h}=this.atlasImage;return{width:o,height:h}}getPattern(o){const h=this.patterns[o],p=this.getImage(o);if(!p)return null;if(h&&h.position.version===p.version)return h.position;if(h)h.position.version=p.version;else{const m={w:p.data.width+2,h:p.data.height+2,x:0,y:0},_=new c.I(m,p);this.patterns[o]={bin:m,position:_}}return this._updatePatternAtlas(),this.patterns[o].position}bind(o){const h=o.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new Ze(o,this.atlasImage,h.RGBA),this.atlasTexture.bind(h.LINEAR,h.CLAMP_TO_EDGE)}_updatePatternAtlas(){const o=[];for(const _ in this.patterns)o.push(this.patterns[_].bin);const{w:h,h:p}=c.p(o),m=this.atlasImage;m.resize({width:h||1,height:p||1});for(const _ in this.patterns){const{bin:T}=this.patterns[_],I=T.x+1,R=T.y+1,L=this.getImage(_).data,B=L.width,j=L.height;c.R.copy(L,m,{x:0,y:0},{x:I,y:R},{width:B,height:j}),c.R.copy(L,m,{x:0,y:j-1},{x:I,y:R-1},{width:B,height:1}),c.R.copy(L,m,{x:0,y:0},{x:I,y:R+j},{width:B,height:1}),c.R.copy(L,m,{x:B-1,y:0},{x:I-1,y:R},{width:1,height:j}),c.R.copy(L,m,{x:0,y:0},{x:I+B,y:R},{width:1,height:j})}this.dirty=!0}beginFrame(){this.callbackDispatchedThisFrame={}}dispatchRenderCallbacks(o){for(const h of o){if(this.callbackDispatchedThisFrame[h])continue;this.callbackDispatchedThisFrame[h]=!0;const p=this.getImage(h);p||c.w('Image with ID: "'.concat(h,'" was not found')),Pe(p)&&this.updateImage(h,p)}}}const Oe=1e20;function $e(v,o,h,p,m,_,T,I,R){for(let L=o;L<o+p;L++)He(v,h*_+L,_,m,T,I,R);for(let L=h;L<h+m;L++)He(v,L*_+o,1,p,T,I,R)}function He(v,o,h,p,m,_,T){_[0]=0,T[0]=-Oe,T[1]=Oe,m[0]=v[o];for(let I=1,R=0,L=0;I<p;I++){m[I]=v[o+I*h];const B=I*I;do{const j=_[R];L=(m[I]-m[j]+B-j*j)/(I-j)/2}while(L<=T[R]&&--R>-1);R++,_[R]=I,T[R]=L,T[R+1]=Oe}for(let I=0,R=0;I<p;I++){for(;T[R+1]<I;)R++;const L=_[R],B=I-L;v[o+I*h]=m[L]+B*B}}class we{constructor(o,h){this.requestManager=o,this.localIdeographFontFamily=h,this.entries={}}setURL(o){this.url=o}getGlyphs(o){return c._(this,void 0,void 0,function*(){const h=[];for(const _ in o)for(const T of o[_])h.push(this._getAndCacheGlyphsPromise(_,T));const p=yield Promise.all(h),m={};for(const{stack:_,id:T,glyph:I}of p)m[_]||(m[_]={}),m[_][T]=I&&{id:I.id,bitmap:I.bitmap.clone(),metrics:I.metrics};return m})}_getAndCacheGlyphsPromise(o,h){return c._(this,void 0,void 0,function*(){let p=this.entries[o];p||(p=this.entries[o]={glyphs:{},requests:{},ranges:{}});let m=p.glyphs[h];if(m!==void 0)return{stack:o,id:h,glyph:m};if(m=this._tinySDF(p,o,h),m)return p.glyphs[h]=m,{stack:o,id:h,glyph:m};const _=Math.floor(h/256);if(256*_>65535)throw new Error("glyphs > 65535 not supported");if(p.ranges[_])return{stack:o,id:h,glyph:m};if(!this.url)throw new Error("glyphsUrl is not set");if(!p.requests[_]){const I=we.loadGlyphRange(o,_,this.url,this.requestManager);p.requests[_]=I}const T=yield p.requests[_];for(const I in T)this._doesCharSupportLocalGlyph(+I)||(p.glyphs[+I]=T[+I]);return p.ranges[_]=!0,{stack:o,id:h,glyph:T[h]||null}})}_doesCharSupportLocalGlyph(o){return!!this.localIdeographFontFamily&&(c.u["CJK Unified Ideographs"](o)||c.u["Hangul Syllables"](o)||c.u.Hiragana(o)||c.u.Katakana(o))}_tinySDF(o,h,p){const m=this.localIdeographFontFamily;if(!m||!this._doesCharSupportLocalGlyph(p))return;let _=o.tinySDF;if(!_){let I="400";/bold/i.test(h)?I="900":/medium/i.test(h)?I="500":/light/i.test(h)&&(I="200"),_=o.tinySDF=new we.TinySDF({fontSize:48,buffer:6,radius:16,cutoff:.25,fontFamily:m,fontWeight:I})}const T=_.draw(String.fromCharCode(p));return{id:p,bitmap:new c.o({width:T.width||60,height:T.height||60},T.data),metrics:{width:T.glyphWidth/2||24,height:T.glyphHeight/2||24,left:T.glyphLeft/2+.5||0,top:T.glyphTop/2-27.5||-8,advance:T.glyphAdvance/2||24,isDoubleResolution:!0}}}}we.loadGlyphRange=function(v,o,h,p){return c._(this,void 0,void 0,function*(){const m=256*o,_=m+255,T=p.transformRequest(h.replace("{fontstack}",v).replace("{range}","".concat(m,"-").concat(_)),Z.Glyphs),I=yield c.l(T,new AbortController);if(!I||!I.data)throw new Error("Could not load glyph range. range: ".concat(o,", ").concat(m,"-").concat(_));const R={};for(const L of c.n(I.data))R[L.id]=L;return R})},we.TinySDF=class{constructor({fontSize:v=24,buffer:o=3,radius:h=8,cutoff:p=.25,fontFamily:m="sans-serif",fontWeight:_="normal",fontStyle:T="normal"}={}){this.buffer=o,this.cutoff=p,this.radius=h;const I=this.size=v+4*o,R=this._createCanvas(I),L=this.ctx=R.getContext("2d",{willReadFrequently:!0});L.font="".concat(T," ").concat(_," ").concat(v,"px ").concat(m),L.textBaseline="alphabetic",L.textAlign="left",L.fillStyle="black",this.gridOuter=new Float64Array(I*I),this.gridInner=new Float64Array(I*I),this.f=new Float64Array(I),this.z=new Float64Array(I+1),this.v=new Uint16Array(I)}_createCanvas(v){const o=document.createElement("canvas");return o.width=o.height=v,o}draw(v){const{width:o,actualBoundingBoxAscent:h,actualBoundingBoxDescent:p,actualBoundingBoxLeft:m,actualBoundingBoxRight:_}=this.ctx.measureText(v),T=Math.ceil(h),I=Math.max(0,Math.min(this.size-this.buffer,Math.ceil(_-m))),R=Math.min(this.size-this.buffer,T+Math.ceil(p)),L=I+2*this.buffer,B=R+2*this.buffer,j=Math.max(L*B,0),K=new Uint8ClampedArray(j),le={data:K,width:L,height:B,glyphWidth:I,glyphHeight:R,glyphTop:T,glyphLeft:0,glyphAdvance:o};if(I===0||R===0)return le;const{ctx:se,buffer:de,gridInner:ee,gridOuter:ye}=this;se.clearRect(de,de,I,R),se.fillText(v,de,de+T);const Ae=se.getImageData(de,de,I,R);ye.fill(Oe,0,j),ee.fill(0,0,j);for(let he=0;he<R;he++)for(let Se=0;Se<I;Se++){const Me=Ae.data[4*(he*I+Se)+3]/255;if(Me===0)continue;const ze=(he+de)*L+Se+de;if(Me===1)ye[ze]=0,ee[ze]=Oe;else{const je=.5-Me;ye[ze]=je>0?je*je:0,ee[ze]=je<0?je*je:0}}$e(ye,0,0,L,B,L,this.f,this.v,this.z),$e(ee,de,de,I,R,L,this.f,this.v,this.z);for(let he=0;he<j;he++){const Se=Math.sqrt(ye[he])-Math.sqrt(ee[he]);K[he]=Math.round(255-255*(Se/this.radius+this.cutoff))}return le}};class Ee{constructor(){this.specification=c.v.light.position}possiblyEvaluate(o,h){return c.y(o.expression.evaluate(h))}interpolate(o,h,p){return{x:c.z.number(o.x,h.x,p),y:c.z.number(o.y,h.y,p),z:c.z.number(o.z,h.z,p)}}}let Ie;class qe extends c.E{constructor(o){super(),Ie=Ie||new c.q({anchor:new c.D(c.v.light.anchor),position:new Ee,color:new c.D(c.v.light.color),intensity:new c.D(c.v.light.intensity)}),this._transitionable=new c.T(Ie),this.setLight(o),this._transitioning=this._transitionable.untransitioned()}getLight(){return this._transitionable.serialize()}setLight(o,h={}){if(!this._validate(c.r,o,h))for(const p in o){const m=o[p];p.endsWith("-transition")?this._transitionable.setTransition(p.slice(0,-11),m):this._transitionable.setValue(p,m)}}updateTransitions(o){this._transitioning=this._transitionable.transitioned(o,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(o){this.properties=this._transitioning.possiblyEvaluate(o)}_validate(o,h,p){return(!p||p.validate!==!1)&&c.t(this,o.call(c.x,{value:h,style:{glyphs:!0,sprite:!0},styleSpec:c.v}))}}class Ye{constructor(o,h){this.width=o,this.height=h,this.nextRow=0,this.data=new Uint8Array(this.width*this.height),this.dashEntry={}}getDash(o,h){const p=o.join(",")+String(h);return this.dashEntry[p]||(this.dashEntry[p]=this.addDash(o,h)),this.dashEntry[p]}getDashRanges(o,h,p){const m=[];let _=o.length%2==1?-o[o.length-1]*p:0,T=o[0]*p,I=!0;m.push({left:_,right:T,isDash:I,zeroLength:o[0]===0});let R=o[0];for(let L=1;L<o.length;L++){I=!I;const B=o[L];_=R*p,R+=B,T=R*p,m.push({left:_,right:T,isDash:I,zeroLength:B===0})}return m}addRoundDash(o,h,p){const m=h/2;for(let _=-p;_<=p;_++){const T=this.width*(this.nextRow+p+_);let I=0,R=o[I];for(let L=0;L<this.width;L++){L/R.right>1&&(R=o[++I]);const B=Math.abs(L-R.left),j=Math.abs(L-R.right),K=Math.min(B,j);let le;const se=_/p*(m+1);if(R.isDash){const de=m-Math.abs(se);le=Math.sqrt(K*K+de*de)}else le=m-Math.sqrt(K*K+se*se);this.data[T+L]=Math.max(0,Math.min(255,le+128))}}}addRegularDash(o){for(let I=o.length-1;I>=0;--I){const R=o[I],L=o[I+1];R.zeroLength?o.splice(I,1):L&&L.isDash===R.isDash&&(L.left=R.left,o.splice(I,1))}const h=o[0],p=o[o.length-1];h.isDash===p.isDash&&(h.left=p.left-this.width,p.right=h.right+this.width);const m=this.width*this.nextRow;let _=0,T=o[_];for(let I=0;I<this.width;I++){I/T.right>1&&(T=o[++_]);const R=Math.abs(I-T.left),L=Math.abs(I-T.right),B=Math.min(R,L);this.data[m+I]=Math.max(0,Math.min(255,(T.isDash?B:-B)+128))}}addDash(o,h){const p=h?7:0,m=2*p+1;if(this.nextRow+m>this.height)return c.w("LineAtlas out of space"),null;let _=0;for(let I=0;I<o.length;I++)_+=o[I];if(_!==0){const I=this.width/_,R=this.getDashRanges(o,this.width,I);h?this.addRoundDash(R,I,p):this.addRegularDash(R)}const T={y:(this.nextRow+p+.5)/this.height,height:2*p/this.height,width:_};return this.nextRow+=m,this.dirty=!0,T}bind(o){const h=o.gl;this.texture?(h.bindTexture(h.TEXTURE_2D,this.texture),this.dirty&&(this.dirty=!1,h.texSubImage2D(h.TEXTURE_2D,0,0,0,this.width,this.height,h.ALPHA,h.UNSIGNED_BYTE,this.data))):(this.texture=h.createTexture(),h.bindTexture(h.TEXTURE_2D,this.texture),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_WRAP_S,h.REPEAT),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_WRAP_T,h.REPEAT),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_MIN_FILTER,h.LINEAR),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_MAG_FILTER,h.LINEAR),h.texImage2D(h.TEXTURE_2D,0,h.ALPHA,this.width,this.height,0,h.ALPHA,h.UNSIGNED_BYTE,this.data))}}const yt="maplibre_preloaded_worker_pool";class wt{constructor(){this.active={}}acquire(o){if(!this.workers)for(this.workers=[];this.workers.length<wt.workerCount;)this.workers.push(new Worker(c.a.WORKER_URL));return this.active[o]=!0,this.workers.slice()}release(o){delete this.active[o],this.numActive()===0&&(this.workers.forEach(h=>{h.terminate()}),this.workers=null)}isPreloaded(){return!!this.active[yt]}numActive(){return Object.keys(this.active).length}}const Mt=Math.floor(S.hardwareConcurrency/2);let Ft,Yt;function vn(){return Ft||(Ft=new wt),Ft}wt.workerCount=c.B(globalThis)?Math.max(Math.min(Mt,3),1):1;class ei{constructor(o,h){this.workerPool=o,this.actors=[],this.currentActor=0,this.id=h;const p=this.workerPool.acquire(h);for(let m=0;m<p.length;m++){const _=new c.C(p[m],h);_.name="Worker ".concat(m),this.actors.push(_)}if(!this.actors.length)throw new Error("No actors found")}broadcast(o,h){const p=[];for(const m of this.actors)p.push(m.sendAsync({type:o,data:h}));return Promise.all(p)}getActor(){return this.currentActor=(this.currentActor+1)%this.actors.length,this.actors[this.currentActor]}remove(o=!0){this.actors.forEach(h=>{h.remove()}),this.actors=[],o&&this.workerPool.release(this.id)}registerMessageHandler(o,h){for(const p of this.actors)p.registerMessageHandler(o,h)}}function Mi(){return Yt||(Yt=new ei(vn(),c.G),Yt.registerMessageHandler("getResource",(v,o,h)=>c.m(o,h))),Yt}function ir(v,o){const h=c.F();return c.H(h,h,[1,1,0]),c.J(h,h,[.5*v.width,.5*v.height,1]),c.K(h,h,v.calculatePosMatrix(o.toUnwrapped()))}function ot(v,o,h,p,m,_){const T=function(j,K,le){if(j)for(const se of j){const de=K[se];if(de&&de.source===le&&de.type==="fill-extrusion")return!0}else for(const se in K){const de=K[se];if(de.source===le&&de.type==="fill-extrusion")return!0}return!1}(m&&m.layers,o,v.id),I=_.maxPitchScaleFactor(),R=v.tilesIn(p,I,T);R.sort($t);const L=[];for(const j of R)L.push({wrappedTileID:j.tileID.wrapped().key,queryResults:j.tile.queryRenderedFeatures(o,h,v._state,j.queryGeometry,j.cameraQueryGeometry,j.scale,m,_,I,ir(v.transform,j.tileID))});const B=function(j){const K={},le={};for(const se of j){const de=se.queryResults,ee=se.wrappedTileID,ye=le[ee]=le[ee]||{};for(const Ae in de){const he=de[Ae],Se=ye[Ae]=ye[Ae]||{},Me=K[Ae]=K[Ae]||[];for(const ze of he)Se[ze.featureIndex]||(Se[ze.featureIndex]=!0,Me.push(ze))}}return K}(L);for(const j in B)B[j].forEach(K=>{const le=K.feature,se=v.getFeatureState(le.layer["source-layer"],le.id);le.source=le.layer.source,le.layer["source-layer"]&&(le.sourceLayer=le.layer["source-layer"]),le.state=se});return B}function $t(v,o){const h=v.tileID,p=o.tileID;return h.overscaledZ-p.overscaledZ||h.canonical.y-p.canonical.y||h.wrap-p.wrap||h.canonical.x-p.canonical.x}function Ct(v,o,h){return c._(this,void 0,void 0,function*(){let p=v;if(v.url?p=(yield c.h(o.transformRequest(v.url,Z.Source),h)).data:yield S.frameAsync(h),!p)return null;const m=c.L(c.e(p,v),["tiles","minzoom","maxzoom","attribution","bounds","scheme","tileSize","encoding"]);return"vector_layers"in p&&p.vector_layers&&(m.vectorLayerIds=p.vector_layers.map(_=>_.id)),m})}class zt{constructor(o,h){o&&(h?this.setSouthWest(o).setNorthEast(h):Array.isArray(o)&&(o.length===4?this.setSouthWest([o[0],o[1]]).setNorthEast([o[2],o[3]]):this.setSouthWest(o[0]).setNorthEast(o[1])))}setNorthEast(o){return this._ne=o instanceof c.M?new c.M(o.lng,o.lat):c.M.convert(o),this}setSouthWest(o){return this._sw=o instanceof c.M?new c.M(o.lng,o.lat):c.M.convert(o),this}extend(o){const h=this._sw,p=this._ne;let m,_;if(o instanceof c.M)m=o,_=o;else{if(!(o instanceof zt))return Array.isArray(o)?o.length===4||o.every(Array.isArray)?this.extend(zt.convert(o)):this.extend(c.M.convert(o)):o&&("lng"in o||"lon"in o)&&"lat"in o?this.extend(c.M.convert(o)):this;if(m=o._sw,_=o._ne,!m||!_)return this}return h||p?(h.lng=Math.min(m.lng,h.lng),h.lat=Math.min(m.lat,h.lat),p.lng=Math.max(_.lng,p.lng),p.lat=Math.max(_.lat,p.lat)):(this._sw=new c.M(m.lng,m.lat),this._ne=new c.M(_.lng,_.lat)),this}getCenter(){return new c.M((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)}getSouthWest(){return this._sw}getNorthEast(){return this._ne}getNorthWest(){return new c.M(this.getWest(),this.getNorth())}getSouthEast(){return new c.M(this.getEast(),this.getSouth())}getWest(){return this._sw.lng}getSouth(){return this._sw.lat}getEast(){return this._ne.lng}getNorth(){return this._ne.lat}toArray(){return[this._sw.toArray(),this._ne.toArray()]}toString(){return"LngLatBounds(".concat(this._sw.toString(),", ").concat(this._ne.toString(),")")}isEmpty(){return!(this._sw&&this._ne)}contains(o){const{lng:h,lat:p}=c.M.convert(o);let m=this._sw.lng<=h&&h<=this._ne.lng;return this._sw.lng>this._ne.lng&&(m=this._sw.lng>=h&&h>=this._ne.lng),this._sw.lat<=p&&p<=this._ne.lat&&m}static convert(o){return o instanceof zt?o:o&&new zt(o)}static fromLngLat(o,h=0){const p=360*h/40075017,m=p/Math.cos(Math.PI/180*o.lat);return new zt(new c.M(o.lng-m,o.lat-p),new c.M(o.lng+m,o.lat+p))}}class Rn{constructor(o,h,p){this.bounds=zt.convert(this.validateBounds(o)),this.minzoom=h||0,this.maxzoom=p||24}validateBounds(o){return Array.isArray(o)&&o.length===4?[Math.max(-180,o[0]),Math.max(-90,o[1]),Math.min(180,o[2]),Math.min(90,o[3])]:[-180,-90,180,90]}contains(o){const h=Math.pow(2,o.z),p=Math.floor(c.N(this.bounds.getWest())*h),m=Math.floor(c.O(this.bounds.getNorth())*h),_=Math.ceil(c.N(this.bounds.getEast())*h),T=Math.ceil(c.O(this.bounds.getSouth())*h);return o.x>=p&&o.x<_&&o.y>=m&&o.y<T}}class Ne extends c.E{constructor(o,h,p,m){if(super(),this.id=o,this.dispatcher=p,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,this._loaded=!1,c.e(this,c.L(h,["url","scheme","tileSize","promoteId"])),this._options=c.e({type:"vector"},h),this._collectResourceTiming=h.collectResourceTiming,this.tileSize!==512)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(m)}load(){return c._(this,void 0,void 0,function*(){this._loaded=!1,this.fire(new c.k("dataloading",{dataType:"source"})),this._tileJSONRequest=new AbortController;try{const o=yield Ct(this._options,this.map._requestManager,this._tileJSONRequest);this._tileJSONRequest=null,this._loaded=!0,this.map.style.sourceCaches[this.id].clearTiles(),o&&(c.e(this,o),o.bounds&&(this.tileBounds=new Rn(o.bounds,this.minzoom,this.maxzoom)),this.fire(new c.k("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new c.k("data",{dataType:"source",sourceDataType:"content"})))}catch(o){this._tileJSONRequest=null,this.fire(new c.j(o))}})}loaded(){return this._loaded}hasTile(o){return!this.tileBounds||this.tileBounds.contains(o.canonical)}onAdd(o){this.map=o,this.load()}setSourceProperty(o){this._tileJSONRequest&&this._tileJSONRequest.abort(),o(),this.load()}setTiles(o){return this.setSourceProperty(()=>{this._options.tiles=o}),this}setUrl(o){return this.setSourceProperty(()=>{this.url=o,this._options.url=o}),this}onRemove(){this._tileJSONRequest&&(this._tileJSONRequest.abort(),this._tileJSONRequest=null)}serialize(){return c.e({},this._options)}loadTile(o){return c._(this,void 0,void 0,function*(){const h=o.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme),p={request:this.map._requestManager.transformRequest(h,Z.Tile),uid:o.uid,tileID:o.tileID,zoom:o.tileID.overscaledZ,tileSize:this.tileSize*o.tileID.overscaleFactor(),type:this.type,source:this.id,pixelRatio:this.map.getPixelRatio(),showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId};p.request.collectResourceTiming=this._collectResourceTiming;let m="reloadTile";if(o.actor&&o.state!=="expired"){if(o.state==="loading")return new Promise((_,T)=>{o.reloadPromise={resolve:_,reject:T}})}else o.actor=this.dispatcher.getActor(),m="loadTile";o.abortController=new AbortController;try{const _=yield o.actor.sendAsync({type:m,data:p},o.abortController);if(delete o.abortController,o.aborted)return;this._afterTileLoadWorkerResponse(o,_)}catch(_){if(delete o.abortController,o.aborted)return;if(_&&_.status!==404)throw _;this._afterTileLoadWorkerResponse(o,null)}})}_afterTileLoadWorkerResponse(o,h){if(h&&h.resourceTiming&&(o.resourceTiming=h.resourceTiming),h&&this.map._refreshExpiredTiles&&o.setExpiryData(h),o.loadVectorData(h,this.map.painter),o.reloadPromise){const p=o.reloadPromise;o.reloadPromise=null,this.loadTile(o).then(p.resolve).catch(p.reject)}}abortTile(o){return c._(this,void 0,void 0,function*(){o.abortController&&(o.abortController.abort(),delete o.abortController),o.actor&&(yield o.actor.sendAsync({type:"abortTile",data:{uid:o.uid,type:this.type,source:this.id}}))})}unloadTile(o){return c._(this,void 0,void 0,function*(){o.unloadVectorData(),o.actor&&(yield o.actor.sendAsync({type:"removeTile",data:{uid:o.uid,type:this.type,source:this.id}}))})}hasTransition(){return!1}}class qn extends c.E{constructor(o,h,p,m){super(),this.id=o,this.dispatcher=p,this.setEventedParent(m),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=c.e({type:"raster"},h),c.e(this,c.L(h,["url","scheme","tileSize"]))}load(){return c._(this,void 0,void 0,function*(){this._loaded=!1,this.fire(new c.k("dataloading",{dataType:"source"})),this._tileJSONRequest=new AbortController;try{const o=yield Ct(this._options,this.map._requestManager,this._tileJSONRequest);this._tileJSONRequest=null,this._loaded=!0,o&&(c.e(this,o),o.bounds&&(this.tileBounds=new Rn(o.bounds,this.minzoom,this.maxzoom)),this.fire(new c.k("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new c.k("data",{dataType:"source",sourceDataType:"content"})))}catch(o){this._tileJSONRequest=null,this.fire(new c.j(o))}})}loaded(){return this._loaded}onAdd(o){this.map=o,this.load()}onRemove(){this._tileJSONRequest&&(this._tileJSONRequest.abort(),this._tileJSONRequest=null)}setSourceProperty(o){this._tileJSONRequest&&(this._tileJSONRequest.abort(),this._tileJSONRequest=null),o(),this.load()}setTiles(o){return this.setSourceProperty(()=>{this._options.tiles=o}),this}setUrl(o){return this.setSourceProperty(()=>{this.url=o,this._options.url=o}),this}serialize(){return c.e({},this._options)}hasTile(o){return!this.tileBounds||this.tileBounds.contains(o.canonical)}loadTile(o){return c._(this,void 0,void 0,function*(){const h=o.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme);o.abortController=new AbortController;try{const p=yield V.getImage(this.map._requestManager.transformRequest(h,Z.Tile),o.abortController,this.map._refreshExpiredTiles);if(delete o.abortController,o.aborted)return void(o.state="unloaded");if(p&&p.data){this.map._refreshExpiredTiles&&p.cacheControl&&p.expires&&o.setExpiryData({cacheControl:p.cacheControl,expires:p.expires});const m=this.map.painter.context,_=m.gl,T=p.data;o.texture=this.map.painter.getTileTexture(T.width),o.texture?o.texture.update(T,{useMipmap:!0}):(o.texture=new Ze(m,T,_.RGBA,{useMipmap:!0}),o.texture.bind(_.LINEAR,_.CLAMP_TO_EDGE,_.LINEAR_MIPMAP_NEAREST),m.extTextureFilterAnisotropic&&_.texParameterf(_.TEXTURE_2D,m.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,m.extTextureFilterAnisotropicMax)),o.state="loaded"}}catch(p){if(delete o.abortController,o.aborted)o.state="unloaded";else if(p)throw o.state="errored",p}})}abortTile(o){return c._(this,void 0,void 0,function*(){o.abortController&&(o.abortController.abort(),delete o.abortController)})}unloadTile(o){return c._(this,void 0,void 0,function*(){o.texture&&this.map.painter.saveTileTexture(o.texture)})}hasTransition(){return!1}}class Ki extends qn{constructor(o,h,p,m){super(o,h,p,m),this.type="raster-dem",this.maxzoom=22,this._options=c.e({type:"raster-dem"},h),this.encoding=h.encoding||"mapbox",this.redFactor=h.redFactor,this.greenFactor=h.greenFactor,this.blueFactor=h.blueFactor,this.baseShift=h.baseShift}loadTile(o){return c._(this,void 0,void 0,function*(){const h=o.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme),p=this.map._requestManager.transformRequest(h,Z.Tile);o.neighboringTiles=this._getNeighboringTiles(o.tileID),o.abortController=new AbortController;try{const m=yield V.getImage(p,o.abortController,this.map._refreshExpiredTiles);if(delete o.abortController,o.aborted)return void(o.state="unloaded");if(m&&m.data){const _=m.data;this.map._refreshExpiredTiles&&m.cacheControl&&m.expires&&o.setExpiryData({cacheControl:m.cacheControl,expires:m.expires});const T=c.b(_)&&c.S()?_:yield this.readImageNow(_),I={type:this.type,uid:o.uid,source:this.id,rawImageData:T,encoding:this.encoding,redFactor:this.redFactor,greenFactor:this.greenFactor,blueFactor:this.blueFactor,baseShift:this.baseShift};if(!o.actor||o.state==="expired"){o.actor=this.dispatcher.getActor();const R=yield o.actor.sendAsync({type:"loadDEMTile",data:I});o.dem=R,o.needsHillshadePrepare=!0,o.needsTerrainPrepare=!0,o.state="loaded"}}}catch(m){if(delete o.abortController,o.aborted)o.state="unloaded";else if(m)throw o.state="errored",m}})}readImageNow(o){return c._(this,void 0,void 0,function*(){if(typeof VideoFrame<"u"&&c.U()){const h=o.width+2,p=o.height+2;try{return new c.R({width:h,height:p},yield c.V(o,-1,-1,h,p))}catch(m){}}return S.getImageData(o,1)})}_getNeighboringTiles(o){const h=o.canonical,p=Math.pow(2,h.z),m=(h.x-1+p)%p,_=h.x===0?o.wrap-1:o.wrap,T=(h.x+1+p)%p,I=h.x+1===p?o.wrap+1:o.wrap,R={};return R[new c.Q(o.overscaledZ,_,h.z,m,h.y).key]={backfilled:!1},R[new c.Q(o.overscaledZ,I,h.z,T,h.y).key]={backfilled:!1},h.y>0&&(R[new c.Q(o.overscaledZ,_,h.z,m,h.y-1).key]={backfilled:!1},R[new c.Q(o.overscaledZ,o.wrap,h.z,h.x,h.y-1).key]={backfilled:!1},R[new c.Q(o.overscaledZ,I,h.z,T,h.y-1).key]={backfilled:!1}),h.y+1<p&&(R[new c.Q(o.overscaledZ,_,h.z,m,h.y+1).key]={backfilled:!1},R[new c.Q(o.overscaledZ,o.wrap,h.z,h.x,h.y+1).key]={backfilled:!1},R[new c.Q(o.overscaledZ,I,h.z,T,h.y+1).key]={backfilled:!1}),R}unloadTile(o){return c._(this,void 0,void 0,function*(){o.demTexture&&this.map.painter.saveTileTexture(o.demTexture),o.fbo&&(o.fbo.destroy(),delete o.fbo),o.dem&&delete o.dem,delete o.neighboringTiles,o.state="unloaded",o.actor&&(yield o.actor.sendAsync({type:"removeDEMTile",data:{type:this.type,uid:o.uid,source:this.id}}))})}}class on extends c.E{constructor(o,h,p,m){super(),this.id=o,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._removed=!1,this._pendingLoads=0,this.actor=p.getActor(),this.setEventedParent(m),this._data=h.data,this._options=c.e({},h),this._collectResourceTiming=h.collectResourceTiming,h.maxzoom!==void 0&&(this.maxzoom=h.maxzoom),h.type&&(this.type=h.type),h.attribution&&(this.attribution=h.attribution),this.promoteId=h.promoteId;const _=c.W/this.tileSize;this.workerOptions=c.e({source:this.id,cluster:h.cluster||!1,geojsonVtOptions:{buffer:(h.buffer!==void 0?h.buffer:128)*_,tolerance:(h.tolerance!==void 0?h.tolerance:.375)*_,extent:c.W,maxZoom:this.maxzoom,lineMetrics:h.lineMetrics||!1,generateId:h.generateId||!1},superclusterOptions:{maxZoom:h.clusterMaxZoom!==void 0?h.clusterMaxZoom:this.maxzoom-1,minPoints:Math.max(2,h.clusterMinPoints||2),extent:c.W,radius:(h.clusterRadius||50)*_,log:!1,generateId:h.generateId||!1},clusterProperties:h.clusterProperties,filter:h.filter},h.workerOptions),typeof this.promoteId=="string"&&(this.workerOptions.promoteId=this.promoteId)}load(){return c._(this,void 0,void 0,function*(){yield this._updateWorkerData()})}onAdd(o){this.map=o,this.load()}setData(o){return this._data=o,this._updateWorkerData(),this}updateData(o){return this._updateWorkerData(o),this}setClusterOptions(o){return this.workerOptions.cluster=o.cluster,o&&(o.clusterRadius!==void 0&&(this.workerOptions.superclusterOptions.radius=o.clusterRadius),o.clusterMaxZoom!==void 0&&(this.workerOptions.superclusterOptions.maxZoom=o.clusterMaxZoom)),this._updateWorkerData(),this}getClusterExpansionZoom(o){return this.actor.sendAsync({type:"getClusterExpansionZoom",data:{type:this.type,clusterId:o,source:this.id}})}getClusterChildren(o){return this.actor.sendAsync({type:"getClusterChildren",data:{type:this.type,clusterId:o,source:this.id}})}getClusterLeaves(o,h,p){return this.actor.sendAsync({type:"getClusterLeaves",data:{type:this.type,source:this.id,clusterId:o,limit:h,offset:p}})}_updateWorkerData(o){return c._(this,void 0,void 0,function*(){const h=c.e({type:this.type},this.workerOptions);o?h.dataDiff=o:typeof this._data=="string"?(h.request=this.map._requestManager.transformRequest(S.resolveURL(this._data),Z.Source),h.request.collectResourceTiming=this._collectResourceTiming):h.data=JSON.stringify(this._data),this._pendingLoads++,this.fire(new c.k("dataloading",{dataType:"source"}));try{const p=yield this.actor.sendAsync({type:"loadData",data:h});if(this._pendingLoads--,this._removed||p.abandoned)return void this.fire(new c.k("dataabort",{dataType:"source"}));let m=null;p.resourceTiming&&p.resourceTiming[this.id]&&(m=p.resourceTiming[this.id].slice(0));const _={dataType:"source"};this._collectResourceTiming&&m&&m.length>0&&c.e(_,{resourceTiming:m}),this.fire(new c.k("data",Object.assign(Object.assign({},_),{sourceDataType:"metadata"}))),this.fire(new c.k("data",Object.assign(Object.assign({},_),{sourceDataType:"content"})))}catch(p){if(this._pendingLoads--,this._removed)return void this.fire(new c.k("dataabort",{dataType:"source"}));this.fire(new c.j(p))}})}loaded(){return this._pendingLoads===0}loadTile(o){return c._(this,void 0,void 0,function*(){const h=o.actor?"reloadTile":"loadTile";o.actor=this.actor;const p={type:this.type,uid:o.uid,tileID:o.tileID,zoom:o.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:this.map.getPixelRatio(),showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId};o.abortController=new AbortController;const m=yield this.actor.sendAsync({type:h,data:p},o.abortController);delete o.abortController,o.unloadVectorData(),o.aborted||o.loadVectorData(m,this.map.painter,h==="reloadTile")})}abortTile(o){return c._(this,void 0,void 0,function*(){o.abortController&&(o.abortController.abort(),delete o.abortController),o.aborted=!0})}unloadTile(o){return c._(this,void 0,void 0,function*(){o.unloadVectorData(),yield this.actor.sendAsync({type:"removeTile",data:{uid:o.uid,type:this.type,source:this.id}})})}onRemove(){this._removed=!0,this.actor.sendAsync({type:"removeSource",data:{type:this.type,source:this.id}})}serialize(){return c.e({},this._options,{type:this.type,data:this._data})}hasTransition(){return!1}}var si=c.X([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]);class vr extends c.E{constructor(o,h,p,m){super(),this.id=o,this.dispatcher=p,this.coordinates=h.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this._loaded=!1,this.setEventedParent(m),this.options=h}load(o){return c._(this,void 0,void 0,function*(){this._loaded=!1,this.fire(new c.k("dataloading",{dataType:"source"})),this.url=this.options.url,this._request=new AbortController;try{const h=yield V.getImage(this.map._requestManager.transformRequest(this.url,Z.Image),this._request);this._request=null,this._loaded=!0,h&&h.data&&(this.image=h.data,o&&(this.coordinates=o),this._finishLoading())}catch(h){this._request=null,this.fire(new c.j(h))}})}loaded(){return this._loaded}updateImage(o){return o.url?(this._request&&(this._request.abort(),this._request=null),this.options.url=o.url,this.load(o.coordinates).finally(()=>{this.texture=null}),this):this}_finishLoading(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new c.k("data",{dataType:"source",sourceDataType:"metadata"})))}onAdd(o){this.map=o,this.load()}onRemove(){this._request&&(this._request.abort(),this._request=null)}setCoordinates(o){this.coordinates=o;const h=o.map(c.Y.fromLngLat);this.tileID=function(m){let _=1/0,T=1/0,I=-1/0,R=-1/0;for(const K of m)_=Math.min(_,K.x),T=Math.min(T,K.y),I=Math.max(I,K.x),R=Math.max(R,K.y);const L=Math.max(I-_,R-T),B=Math.max(0,Math.floor(-Math.log(L)/Math.LN2)),j=Math.pow(2,B);return new c.a0(B,Math.floor((_+I)/2*j),Math.floor((T+R)/2*j))}(h),this.minzoom=this.maxzoom=this.tileID.z;const p=h.map(m=>this.tileID.getTilePoint(m)._round());return this._boundsArray=new c.Z,this._boundsArray.emplaceBack(p[0].x,p[0].y,0,0),this._boundsArray.emplaceBack(p[1].x,p[1].y,c.W,0),this._boundsArray.emplaceBack(p[3].x,p[3].y,0,c.W),this._boundsArray.emplaceBack(p[2].x,p[2].y,c.W,c.W),this.boundsBuffer&&(this.boundsBuffer.destroy(),delete this.boundsBuffer),this.fire(new c.k("data",{dataType:"source",sourceDataType:"content"})),this}prepare(){if(Object.keys(this.tiles).length===0||!this.image)return;const o=this.map.painter.context,h=o.gl;this.boundsBuffer||(this.boundsBuffer=o.createVertexBuffer(this._boundsArray,si.members)),this.boundsSegments||(this.boundsSegments=c.$.simpleSegment(0,0,4,2)),this.texture||(this.texture=new Ze(o,this.image,h.RGBA),this.texture.bind(h.LINEAR,h.CLAMP_TO_EDGE));let p=!1;for(const m in this.tiles){const _=this.tiles[m];_.state!=="loaded"&&(_.state="loaded",_.texture=this.texture,p=!0)}p&&this.fire(new c.k("data",{dataType:"source",sourceDataType:"idle",sourceId:this.id}))}loadTile(o){return c._(this,void 0,void 0,function*(){this.tileID&&this.tileID.equals(o.tileID.canonical)?(this.tiles[String(o.tileID.wrap)]=o,o.buckets={}):o.state="errored"})}serialize(){return{type:"image",url:this.options.url,coordinates:this.coordinates}}hasTransition(){return!1}}class zr extends vr{constructor(o,h,p,m){super(o,h,p,m),this.roundZoom=!0,this.type="video",this.options=h}load(){return c._(this,void 0,void 0,function*(){this._loaded=!1;const o=this.options;this.urls=[];for(const h of o.urls)this.urls.push(this.map._requestManager.transformRequest(h,Z.Source).url);try{const h=yield c.a2(this.urls);if(this._loaded=!0,!h)return;this.video=h,this.video.loop=!0,this.video.addEventListener("playing",()=>{this.map.triggerRepaint()}),this.map&&this.video.play(),this._finishLoading()}catch(h){this.fire(new c.j(h))}})}pause(){this.video&&this.video.pause()}play(){this.video&&this.video.play()}seek(o){if(this.video){const h=this.video.seekable;o<h.start(0)||o>h.end(0)?this.fire(new c.j(new c.a1("sources.".concat(this.id),null,"Playback for this video can be set only between the ".concat(h.start(0)," and ").concat(h.end(0),"-second mark.")))):this.video.currentTime=o}}getVideo(){return this.video}onAdd(o){this.map||(this.map=o,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))}prepare(){if(Object.keys(this.tiles).length===0||this.video.readyState<2)return;const o=this.map.painter.context,h=o.gl;this.boundsBuffer||(this.boundsBuffer=o.createVertexBuffer(this._boundsArray,si.members)),this.boundsSegments||(this.boundsSegments=c.$.simpleSegment(0,0,4,2)),this.texture?this.video.paused||(this.texture.bind(h.LINEAR,h.CLAMP_TO_EDGE),h.texSubImage2D(h.TEXTURE_2D,0,0,0,h.RGBA,h.UNSIGNED_BYTE,this.video)):(this.texture=new Ze(o,this.video,h.RGBA),this.texture.bind(h.LINEAR,h.CLAMP_TO_EDGE));let p=!1;for(const m in this.tiles){const _=this.tiles[m];_.state!=="loaded"&&(_.state="loaded",_.texture=this.texture,p=!0)}p&&this.fire(new c.k("data",{dataType:"source",sourceDataType:"idle",sourceId:this.id}))}serialize(){return{type:"video",urls:this.urls,coordinates:this.coordinates}}hasTransition(){return this.video&&!this.video.paused}}class ua extends vr{constructor(o,h,p,m){super(o,h,p,m),h.coordinates?Array.isArray(h.coordinates)&&h.coordinates.length===4&&!h.coordinates.some(_=>!Array.isArray(_)||_.length!==2||_.some(T=>typeof T!="number"))||this.fire(new c.j(new c.a1("sources.".concat(o),null,'"coordinates" property must be an array of 4 longitude/latitude array pairs'))):this.fire(new c.j(new c.a1("sources.".concat(o),null,'missing required property "coordinates"'))),h.animate&&typeof h.animate!="boolean"&&this.fire(new c.j(new c.a1("sources.".concat(o),null,'optional "animate" property must be a boolean value'))),h.canvas?typeof h.canvas=="string"||h.canvas instanceof HTMLCanvasElement||this.fire(new c.j(new c.a1("sources.".concat(o),null,'"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))):this.fire(new c.j(new c.a1("sources.".concat(o),null,'missing required property "canvas"'))),this.options=h,this.animate=h.animate===void 0||h.animate}load(){return c._(this,void 0,void 0,function*(){this._loaded=!0,this.canvas||(this.canvas=this.options.canvas instanceof HTMLCanvasElement?this.options.canvas:document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()?this.fire(new c.j(new Error("Canvas dimensions cannot be less than or equal to zero."))):(this.play=function(){this._playing=!0,this.map.triggerRepaint()},this.pause=function(){this._playing&&(this.prepare(),this._playing=!1)},this._finishLoading())})}getCanvas(){return this.canvas}onAdd(o){this.map=o,this.load(),this.canvas&&this.animate&&this.play()}onRemove(){this.pause()}prepare(){let o=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,o=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,o=!0),this._hasInvalidDimensions()||Object.keys(this.tiles).length===0)return;const h=this.map.painter.context,p=h.gl;this.boundsBuffer||(this.boundsBuffer=h.createVertexBuffer(this._boundsArray,si.members)),this.boundsSegments||(this.boundsSegments=c.$.simpleSegment(0,0,4,2)),this.texture?(o||this._playing)&&this.texture.update(this.canvas,{premultiply:!0}):this.texture=new Ze(h,this.canvas,p.RGBA,{premultiply:!0});let m=!1;for(const _ in this.tiles){const T=this.tiles[_];T.state!=="loaded"&&(T.state="loaded",T.texture=this.texture,m=!0)}m&&this.fire(new c.k("data",{dataType:"source",sourceDataType:"idle",sourceId:this.id}))}serialize(){return{type:"canvas",coordinates:this.coordinates}}hasTransition(){return this._playing}_hasInvalidDimensions(){for(const o of[this.canvas.width,this.canvas.height])if(isNaN(o)||o<=0)return!0;return!1}}const da={},Os=v=>{switch(v){case"geojson":return on;case"image":return vr;case"raster":return qn;case"raster-dem":return Ki;case"vector":return Ne;case"video":return zr;case"canvas":return ua}return da[v]},ha="RTLPluginLoaded";class Fa extends c.E{constructor(){super(...arguments),this.status="unavailable",this.url=null,this.dispatcher=Mi()}_syncState(o){return this.status=o,this.dispatcher.broadcast("syncRTLPluginState",{pluginStatus:o,pluginURL:this.url}).catch(h=>{throw this.status="error",h})}getRTLTextPluginStatus(){return this.status}clearRTLTextPlugin(){this.status="unavailable",this.url=null}setRTLTextPlugin(o){return c._(this,arguments,void 0,function*(h,p=!1){if(this.url)throw new Error("setRTLTextPlugin cannot be called multiple times.");if(this.url=S.resolveURL(h),!this.url)throw new Error("requested url ".concat(h," is invalid"));if(this.status==="unavailable"){if(!p)return this._requestImport();this.status="deferred",this._syncState(this.status)}else if(this.status==="requested")return this._requestImport()})}_requestImport(){return c._(this,void 0,void 0,function*(){yield this._syncState("loading"),this.status="loaded",this.fire(new c.k(ha))})}lazyLoad(){this.status==="unavailable"?this.status="requested":this.status==="deferred"&&this._requestImport()}}let at=null;function br(){return at||(at=new Fa),at}class Ti{constructor(o,h){this.timeAdded=0,this.fadeEndTime=0,this.tileID=o,this.uid=c.a3(),this.uses=0,this.tileSize=h,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.hasRTLText=!1,this.dependencies={},this.rtt=[],this.rttCoords={},this.expiredRequestCount=0,this.state="loading"}registerFadeDuration(o){const h=o+this.timeAdded;h<this.fadeEndTime||(this.fadeEndTime=h)}wasRequested(){return this.state==="errored"||this.state==="loaded"||this.state==="reloading"}clearTextures(o){this.demTexture&&o.saveTileTexture(this.demTexture),this.demTexture=null}loadVectorData(o,h,p){if(this.hasData()&&this.unloadVectorData(),this.state="loaded",o){o.featureIndex&&(this.latestFeatureIndex=o.featureIndex,o.rawTileData?(this.latestRawTileData=o.rawTileData,this.latestFeatureIndex.rawTileData=o.rawTileData):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=o.collisionBoxArray,this.buckets=function(m,_){const T={};if(!_)return T;for(const I of m){const R=I.layerIds.map(L=>_.getLayer(L)).filter(Boolean);if(R.length!==0){I.layers=R,I.stateDependentLayerIds&&(I.stateDependentLayers=I.stateDependentLayerIds.map(L=>R.filter(B=>B.id===L)[0]));for(const L of R)T[L.id]=I}}return T}(o.buckets,h.style),this.hasSymbolBuckets=!1;for(const m in this.buckets){const _=this.buckets[m];if(_ instanceof c.a5){if(this.hasSymbolBuckets=!0,!p)break;_.justReloaded=!0}}if(this.hasRTLText=!1,this.hasSymbolBuckets)for(const m in this.buckets){const _=this.buckets[m];if(_ instanceof c.a5&&_.hasRTLText){this.hasRTLText=!0,br().lazyLoad();break}}this.queryPadding=0;for(const m in this.buckets){const _=this.buckets[m];this.queryPadding=Math.max(this.queryPadding,h.style.getLayer(m).queryRadius(_))}o.imageAtlas&&(this.imageAtlas=o.imageAtlas),o.glyphAtlasImage&&(this.glyphAtlasImage=o.glyphAtlasImage)}else this.collisionBoxArray=new c.a4}unloadVectorData(){for(const o in this.buckets)this.buckets[o].destroy();this.buckets={},this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.imageAtlas&&(this.imageAtlas=null),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.latestFeatureIndex=null,this.state="unloaded"}getBucket(o){return this.buckets[o.id]}upload(o){for(const p in this.buckets){const m=this.buckets[p];m.uploadPending()&&m.upload(o)}const h=o.gl;this.imageAtlas&&!this.imageAtlas.uploaded&&(this.imageAtlasTexture=new Ze(o,this.imageAtlas.image,h.RGBA),this.imageAtlas.uploaded=!0),this.glyphAtlasImage&&(this.glyphAtlasTexture=new Ze(o,this.glyphAtlasImage,h.ALPHA),this.glyphAtlasImage=null)}prepare(o){this.imageAtlas&&this.imageAtlas.patchUpdatedImages(o,this.imageAtlasTexture)}queryRenderedFeatures(o,h,p,m,_,T,I,R,L,B){return this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData?this.latestFeatureIndex.query({queryGeometry:m,cameraQueryGeometry:_,scale:T,tileSize:this.tileSize,pixelPosMatrix:B,transform:R,params:I,queryPadding:this.queryPadding*L},o,h,p):{}}querySourceFeatures(o,h){const p=this.latestFeatureIndex;if(!p||!p.rawTileData)return;const m=p.loadVTLayers(),_=h&&h.sourceLayer?h.sourceLayer:"",T=m._geojsonTileLayer||m[_];if(!T)return;const I=c.a6(h&&h.filter),{z:R,x:L,y:B}=this.tileID.canonical,j={z:R,x:L,y:B};for(let K=0;K<T.length;K++){const le=T.feature(K);if(I.needGeometry){const ee=c.a7(le,!0);if(!I.filter(new c.a8(this.tileID.overscaledZ),ee,this.tileID.canonical))continue}else if(!I.filter(new c.a8(this.tileID.overscaledZ),le))continue;const se=p.getId(le,_),de=new c.a9(le,R,L,B,se);de.tile=j,o.push(de)}}hasData(){return this.state==="loaded"||this.state==="reloading"||this.state==="expired"}patternsLoaded(){return this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length}setExpiryData(o){const h=this.expirationTime;if(o.cacheControl){const p=c.aa(o.cacheControl);p["max-age"]&&(this.expirationTime=Date.now()+1e3*p["max-age"])}else o.expires&&(this.expirationTime=new Date(o.expires).getTime());if(this.expirationTime){const p=Date.now();let m=!1;if(this.expirationTime>p)m=!1;else if(h)if(this.expirationTime<h)m=!0;else{const _=this.expirationTime-h;_?this.expirationTime=p+Math.max(_,3e4):m=!0}else m=!0;m?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}}getExpiryTimeout(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-new Date().getTime(),Math.pow(2,31)-1)}setFeatureState(o,h){if(!this.latestFeatureIndex||!this.latestFeatureIndex.rawTileData||Object.keys(o).length===0)return;const p=this.latestFeatureIndex.loadVTLayers();for(const m in this.buckets){if(!h.style.hasLayer(m))continue;const _=this.buckets[m],T=_.layers[0].sourceLayer||"_geojsonTileLayer",I=p[T],R=o[T];if(!I||!R||Object.keys(R).length===0)continue;_.update(R,I,this.imageAtlas&&this.imageAtlas.patternPositions||{});const L=h&&h.style&&h.style.getLayer(m);L&&(this.queryPadding=Math.max(this.queryPadding,L.queryRadius(_)))}}holdingForFade(){return this.symbolFadeHoldUntil!==void 0}symbolFadeFinished(){return!this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<S.now()}clearFadeHold(){this.symbolFadeHoldUntil=void 0}setHoldDuration(o){this.symbolFadeHoldUntil=S.now()+o}setDependencies(o,h){const p={};for(const m of h)p[m]=!0;this.dependencies[o]=p}hasDependency(o,h){for(const p of o){const m=this.dependencies[p];if(m){for(const _ of h)if(m[_])return!0}}return!1}}class go{constructor(o,h){this.max=o,this.onRemove=h,this.reset()}reset(){for(const o in this.data)for(const h of this.data[o])h.timeout&&clearTimeout(h.timeout),this.onRemove(h.value);return this.data={},this.order=[],this}add(o,h,p){const m=o.wrapped().key;this.data[m]===void 0&&(this.data[m]=[]);const _={value:h,timeout:void 0};if(p!==void 0&&(_.timeout=setTimeout(()=>{this.remove(o,_)},p)),this.data[m].push(_),this.order.push(m),this.order.length>this.max){const T=this._getAndRemoveByKey(this.order[0]);T&&this.onRemove(T)}return this}has(o){return o.wrapped().key in this.data}getAndRemove(o){return this.has(o)?this._getAndRemoveByKey(o.wrapped().key):null}_getAndRemoveByKey(o){const h=this.data[o].shift();return h.timeout&&clearTimeout(h.timeout),this.data[o].length===0&&delete this.data[o],this.order.splice(this.order.indexOf(o),1),h.value}getByKey(o){const h=this.data[o];return h?h[0].value:null}get(o){return this.has(o)?this.data[o.wrapped().key][0].value:null}remove(o,h){if(!this.has(o))return this;const p=o.wrapped().key,m=h===void 0?0:this.data[p].indexOf(h),_=this.data[p][m];return this.data[p].splice(m,1),_.timeout&&clearTimeout(_.timeout),this.data[p].length===0&&delete this.data[p],this.onRemove(_.value),this.order.splice(this.order.indexOf(p),1),this}setMaxSize(o){for(this.max=o;this.order.length>this.max;){const h=this._getAndRemoveByKey(this.order[0]);h&&this.onRemove(h)}return this}filter(o){const h=[];for(const p in this.data)for(const m of this.data[p])o(m.value)||h.push(m);for(const p of h)this.remove(p.value.tileID,p)}}class Yr{constructor(){this.state={},this.stateChanges={},this.deletedStates={}}updateState(o,h,p){const m=String(h);if(this.stateChanges[o]=this.stateChanges[o]||{},this.stateChanges[o][m]=this.stateChanges[o][m]||{},c.e(this.stateChanges[o][m],p),this.deletedStates[o]===null){this.deletedStates[o]={};for(const _ in this.state[o])_!==m&&(this.deletedStates[o][_]=null)}else if(this.deletedStates[o]&&this.deletedStates[o][m]===null){this.deletedStates[o][m]={};for(const _ in this.state[o][m])p[_]||(this.deletedStates[o][m][_]=null)}else for(const _ in p)this.deletedStates[o]&&this.deletedStates[o][m]&&this.deletedStates[o][m][_]===null&&delete this.deletedStates[o][m][_]}removeFeatureState(o,h,p){if(this.deletedStates[o]===null)return;const m=String(h);if(this.deletedStates[o]=this.deletedStates[o]||{},p&&h!==void 0)this.deletedStates[o][m]!==null&&(this.deletedStates[o][m]=this.deletedStates[o][m]||{},this.deletedStates[o][m][p]=null);else if(h!==void 0)if(this.stateChanges[o]&&this.stateChanges[o][m])for(p in this.deletedStates[o][m]={},this.stateChanges[o][m])this.deletedStates[o][m][p]=null;else this.deletedStates[o][m]=null;else this.deletedStates[o]=null}getState(o,h){const p=String(h),m=c.e({},(this.state[o]||{})[p],(this.stateChanges[o]||{})[p]);if(this.deletedStates[o]===null)return{};if(this.deletedStates[o]){const _=this.deletedStates[o][h];if(_===null)return{};for(const T in _)delete m[T]}return m}initializeTileState(o,h){o.setFeatureState(this.state,h)}coalesceChanges(o,h){const p={};for(const m in this.stateChanges){this.state[m]=this.state[m]||{};const _={};for(const T in this.stateChanges[m])this.state[m][T]||(this.state[m][T]={}),c.e(this.state[m][T],this.stateChanges[m][T]),_[T]=this.state[m][T];p[m]=_}for(const m in this.deletedStates){this.state[m]=this.state[m]||{};const _={};if(this.deletedStates[m]===null)for(const T in this.state[m])_[T]={},this.state[m][T]={};else for(const T in this.deletedStates[m]){if(this.deletedStates[m][T]===null)this.state[m][T]={};else for(const I of Object.keys(this.deletedStates[m][T]))delete this.state[m][T][I];_[T]=this.state[m][T]}p[m]=p[m]||{},c.e(p[m],_)}if(this.stateChanges={},this.deletedStates={},Object.keys(p).length!==0)for(const m in o)o[m].setFeatureState(p,h)}}class nt extends c.E{constructor(o,h,p){super(),this.id=o,this.dispatcher=p,this.on("data",m=>{m.dataType==="source"&&m.sourceDataType==="metadata"&&(this._sourceLoaded=!0),this._sourceLoaded&&!this._paused&&m.dataType==="source"&&m.sourceDataType==="content"&&(this.reload(),this.transform&&this.update(this.transform,this.terrain),this._didEmitContent=!0)}),this.on("dataloading",()=>{this._sourceErrored=!1}),this.on("error",()=>{this._sourceErrored=this._source.loaded()}),this._source=((m,_,T,I)=>{const R=new(Os(_.type))(m,_,T,I);if(R.id!==m)throw new Error("Expected Source id to be ".concat(m," instead of ").concat(R.id));return R})(o,h,p,this),this._tiles={},this._cache=new go(0,m=>this._unloadTile(m)),this._timers={},this._cacheTimers={},this._maxTileCacheSize=null,this._maxTileCacheZoomLevels=null,this._loadedParentTiles={},this._coveredTiles={},this._state=new Yr,this._didEmitContent=!1,this._updated=!1}onAdd(o){this.map=o,this._maxTileCacheSize=o?o._maxTileCacheSize:null,this._maxTileCacheZoomLevels=o?o._maxTileCacheZoomLevels:null,this._source&&this._source.onAdd&&this._source.onAdd(o)}onRemove(o){this.clearTiles(),this._source&&this._source.onRemove&&this._source.onRemove(o)}loaded(){if(this._sourceErrored)return!0;if(!this._sourceLoaded||!this._source.loaded())return!1;if(!(this.used===void 0&&this.usedForTerrain===void 0||this.used||this.usedForTerrain))return!0;if(!this._updated)return!1;for(const o in this._tiles){const h=this._tiles[o];if(h.state!=="loaded"&&h.state!=="errored")return!1}return!0}getSource(){return this._source}pause(){this._paused=!0}resume(){if(!this._paused)return;const o=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,o&&this.reload(),this.transform&&this.update(this.transform,this.terrain)}_loadTile(o,h,p){return c._(this,void 0,void 0,function*(){try{yield this._source.loadTile(o),this._tileLoaded(o,h,p)}catch(m){o.state="errored",m.status!==404?this._source.fire(new c.j(m,{tile:o})):this.update(this.transform,this.terrain)}})}_unloadTile(o){this._source.unloadTile&&this._source.unloadTile(o)}_abortTile(o){this._source.abortTile&&this._source.abortTile(o),this._source.fire(new c.k("dataabort",{tile:o,coord:o.tileID,dataType:"source"}))}serialize(){return this._source.serialize()}prepare(o){this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._tiles,this.map?this.map.painter:null);for(const h in this._tiles){const p=this._tiles[h];p.upload(o),p.prepare(this.map.style.imageManager)}}getIds(){return Object.values(this._tiles).map(o=>o.tileID).sort(Ut).map(o=>o.key)}getRenderableIds(o){const h=[];for(const p in this._tiles)this._isIdRenderable(p,o)&&h.push(this._tiles[p]);return o?h.sort((p,m)=>{const _=p.tileID,T=m.tileID,I=new c.P(_.canonical.x,_.canonical.y)._rotate(this.transform.angle),R=new c.P(T.canonical.x,T.canonical.y)._rotate(this.transform.angle);return _.overscaledZ-T.overscaledZ||R.y-I.y||R.x-I.x}).map(p=>p.tileID.key):h.map(p=>p.tileID).sort(Ut).map(p=>p.key)}hasRenderableParent(o){const h=this.findLoadedParent(o,0);return!!h&&this._isIdRenderable(h.tileID.key)}_isIdRenderable(o,h){return this._tiles[o]&&this._tiles[o].hasData()&&!this._coveredTiles[o]&&(h||!this._tiles[o].holdingForFade())}reload(){if(this._paused)this._shouldReloadOnResume=!0;else{this._cache.reset();for(const o in this._tiles)this._tiles[o].state!=="errored"&&this._reloadTile(o,"reloading")}}_reloadTile(o,h){return c._(this,void 0,void 0,function*(){const p=this._tiles[o];p&&(p.state!=="loading"&&(p.state=h),yield this._loadTile(p,o,h))})}_tileLoaded(o,h,p){o.timeAdded=S.now(),p==="expired"&&(o.refreshedUponExpiration=!0),this._setTileReloadTimer(h,o),this.getSource().type==="raster-dem"&&o.dem&&this._backfillDEM(o),this._state.initializeTileState(o,this.map?this.map.painter:null),o.aborted||this._source.fire(new c.k("data",{dataType:"source",tile:o,coord:o.tileID}))}_backfillDEM(o){const h=this.getRenderableIds();for(let m=0;m<h.length;m++){const _=h[m];if(o.neighboringTiles&&o.neighboringTiles[_]){const T=this.getTileByID(_);p(o,T),p(T,o)}}function p(m,_){m.needsHillshadePrepare=!0,m.needsTerrainPrepare=!0;let T=_.tileID.canonical.x-m.tileID.canonical.x;const I=_.tileID.canonical.y-m.tileID.canonical.y,R=Math.pow(2,m.tileID.canonical.z),L=_.tileID.key;T===0&&I===0||Math.abs(I)>1||(Math.abs(T)>1&&(Math.abs(T+R)===1?T+=R:Math.abs(T-R)===1&&(T-=R)),_.dem&&m.dem&&(m.dem.backfillBorder(_.dem,T,I),m.neighboringTiles&&m.neighboringTiles[L]&&(m.neighboringTiles[L].backfilled=!0)))}}getTile(o){return this.getTileByID(o.key)}getTileByID(o){return this._tiles[o]}_retainLoadedChildren(o,h,p,m){for(const _ in this._tiles){let T=this._tiles[_];if(m[_]||!T.hasData()||T.tileID.overscaledZ<=h||T.tileID.overscaledZ>p)continue;let I=T.tileID;for(;T&&T.tileID.overscaledZ>h+1;){const L=T.tileID.scaledTo(T.tileID.overscaledZ-1);T=this._tiles[L.key],T&&T.hasData()&&(I=L)}let R=I;for(;R.overscaledZ>h;)if(R=R.scaledTo(R.overscaledZ-1),o[R.key]){m[I.key]=I;break}}}findLoadedParent(o,h){if(o.key in this._loadedParentTiles){const p=this._loadedParentTiles[o.key];return p&&p.tileID.overscaledZ>=h?p:null}for(let p=o.overscaledZ-1;p>=h;p--){const m=o.scaledTo(p),_=this._getLoadedTile(m);if(_)return _}}_getLoadedTile(o){const h=this._tiles[o.key];return h&&h.hasData()?h:this._cache.getByKey(o.wrapped().key)}updateCacheSize(o){const h=Math.ceil(o.width/this._source.tileSize)+1,p=Math.ceil(o.height/this._source.tileSize)+1,m=Math.floor(h*p*(this._maxTileCacheZoomLevels===null?c.a.MAX_TILE_CACHE_ZOOM_LEVELS:this._maxTileCacheZoomLevels)),_=typeof this._maxTileCacheSize=="number"?Math.min(this._maxTileCacheSize,m):m;this._cache.setMaxSize(_)}handleWrapJump(o){const h=Math.round((o-(this._prevLng===void 0?o:this._prevLng))/360);if(this._prevLng=o,h){const p={};for(const m in this._tiles){const _=this._tiles[m];_.tileID=_.tileID.unwrapTo(_.tileID.wrap+h),p[_.tileID.key]=_}this._tiles=p;for(const m in this._timers)clearTimeout(this._timers[m]),delete this._timers[m];for(const m in this._tiles)this._setTileReloadTimer(m,this._tiles[m])}}update(o,h){if(this.transform=o,this.terrain=h,!this._sourceLoaded||this._paused)return;let p;this.updateCacheSize(o),this.handleWrapJump(this.transform.center.lng),this._coveredTiles={},this.used||this.usedForTerrain?this._source.tileID?p=o.getVisibleUnwrappedCoordinates(this._source.tileID).map(B=>new c.Q(B.canonical.z,B.wrap,B.canonical.z,B.canonical.x,B.canonical.y)):(p=o.coveringTiles({tileSize:this.usedForTerrain?this.tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:!this.usedForTerrain&&this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled,terrain:h}),this._source.hasTile&&(p=p.filter(B=>this._source.hasTile(B)))):p=[];const m=o.coveringZoomLevel(this._source),_=Math.max(m-nt.maxOverzooming,this._source.minzoom),T=Math.max(m+nt.maxUnderzooming,this._source.minzoom);if(this.usedForTerrain){const B={};for(const j of p)if(j.canonical.z>this._source.minzoom){const K=j.scaledTo(j.canonical.z-1);B[K.key]=K;const le=j.scaledTo(Math.max(this._source.minzoom,Math.min(j.canonical.z,5)));B[le.key]=le}p=p.concat(Object.values(B))}const I=p.length===0&&!this._updated&&this._didEmitContent;this._updated=!0,I&&this.fire(new c.k("data",{sourceDataType:"idle",dataType:"source",sourceId:this.id}));const R=this._updateRetainedTiles(p,m);if(Ht(this._source.type)){const B={},j={},K=Object.keys(R),le=S.now();for(const se of K){const de=R[se],ee=this._tiles[se];if(!ee||ee.fadeEndTime!==0&&ee.fadeEndTime<=le)continue;const ye=this.findLoadedParent(de,_);ye&&(this._addTile(ye.tileID),B[ye.tileID.key]=ye.tileID),j[se]=de}this._retainLoadedChildren(j,m,T,R);for(const se in B)R[se]||(this._coveredTiles[se]=!0,R[se]=B[se]);if(h){const se={},de={};for(const ee of p)this._tiles[ee.key].hasData()?se[ee.key]=ee:de[ee.key]=ee;for(const ee in de){const ye=de[ee].children(this._source.maxzoom);this._tiles[ye[0].key]&&this._tiles[ye[1].key]&&this._tiles[ye[2].key]&&this._tiles[ye[3].key]&&(se[ye[0].key]=R[ye[0].key]=ye[0],se[ye[1].key]=R[ye[1].key]=ye[1],se[ye[2].key]=R[ye[2].key]=ye[2],se[ye[3].key]=R[ye[3].key]=ye[3],delete de[ee])}for(const ee in de){const ye=this.findLoadedParent(de[ee],this._source.minzoom);if(ye){se[ye.tileID.key]=R[ye.tileID.key]=ye.tileID;for(const Ae in se)se[Ae].isChildOf(ye.tileID)&&delete se[Ae]}}for(const ee in this._tiles)se[ee]||(this._coveredTiles[ee]=!0)}}for(const B in R)this._tiles[B].clearFadeHold();const L=c.ab(this._tiles,R);for(const B of L){const j=this._tiles[B];j.hasSymbolBuckets&&!j.holdingForFade()?j.setHoldDuration(this.map._fadeDuration):j.hasSymbolBuckets&&!j.symbolFadeFinished()||this._removeTile(B)}this._updateLoadedParentTileCache()}releaseSymbolFadeTiles(){for(const o in this._tiles)this._tiles[o].holdingForFade()&&this._removeTile(o)}_updateRetainedTiles(o,h){const p={},m={},_=Math.max(h-nt.maxOverzooming,this._source.minzoom),T=Math.max(h+nt.maxUnderzooming,this._source.minzoom),I={};for(const R of o){const L=this._addTile(R);p[R.key]=R,L.hasData()||h<this._source.maxzoom&&(I[R.key]=R)}this._retainLoadedChildren(I,h,T,p);for(const R of o){let L=this._tiles[R.key];if(L.hasData())continue;if(h+1>this._source.maxzoom){const j=R.children(this._source.maxzoom)[0],K=this.getTile(j);if(K&&K.hasData()){p[j.key]=j;continue}}else{const j=R.children(this._source.maxzoom);if(p[j[0].key]&&p[j[1].key]&&p[j[2].key]&&p[j[3].key])continue}let B=L.wasRequested();for(let j=R.overscaledZ-1;j>=_;--j){const K=R.scaledTo(j);if(m[K.key])break;if(m[K.key]=!0,L=this.getTile(K),!L&&B&&(L=this._addTile(K)),L){const le=L.hasData();if((B||le)&&(p[K.key]=K),B=L.wasRequested(),le)break}}}return p}_updateLoadedParentTileCache(){this._loadedParentTiles={};for(const o in this._tiles){const h=[];let p,m=this._tiles[o].tileID;for(;m.overscaledZ>0;){if(m.key in this._loadedParentTiles){p=this._loadedParentTiles[m.key];break}h.push(m.key);const _=m.scaledTo(m.overscaledZ-1);if(p=this._getLoadedTile(_),p)break;m=_}for(const _ of h)this._loadedParentTiles[_]=p}}_addTile(o){let h=this._tiles[o.key];if(h)return h;h=this._cache.getAndRemove(o),h&&(this._setTileReloadTimer(o.key,h),h.tileID=o,this._state.initializeTileState(h,this.map?this.map.painter:null),this._cacheTimers[o.key]&&(clearTimeout(this._cacheTimers[o.key]),delete this._cacheTimers[o.key],this._setTileReloadTimer(o.key,h)));const p=h;return h||(h=new Ti(o,this._source.tileSize*o.overscaleFactor()),this._loadTile(h,o.key,h.state)),h.uses++,this._tiles[o.key]=h,p||this._source.fire(new c.k("dataloading",{tile:h,coord:h.tileID,dataType:"source"})),h}_setTileReloadTimer(o,h){o in this._timers&&(clearTimeout(this._timers[o]),delete this._timers[o]);const p=h.getExpiryTimeout();p&&(this._timers[o]=setTimeout(()=>{this._reloadTile(o,"expired"),delete this._timers[o]},p))}_removeTile(o){const h=this._tiles[o];h&&(h.uses--,delete this._tiles[o],this._timers[o]&&(clearTimeout(this._timers[o]),delete this._timers[o]),h.uses>0||(h.hasData()&&h.state!=="reloading"?this._cache.add(h.tileID,h,h.getExpiryTimeout()):(h.aborted=!0,this._abortTile(h),this._unloadTile(h))))}clearTiles(){this._shouldReloadOnResume=!1,this._paused=!1;for(const o in this._tiles)this._removeTile(o);this._cache.reset()}tilesIn(o,h,p){const m=[],_=this.transform;if(!_)return m;const T=p?_.getCameraQueryGeometry(o):o,I=o.map(se=>_.pointCoordinate(se,this.terrain)),R=T.map(se=>_.pointCoordinate(se,this.terrain)),L=this.getIds();let B=1/0,j=1/0,K=-1/0,le=-1/0;for(const se of R)B=Math.min(B,se.x),j=Math.min(j,se.y),K=Math.max(K,se.x),le=Math.max(le,se.y);for(let se=0;se<L.length;se++){const de=this._tiles[L[se]];if(de.holdingForFade())continue;const ee=de.tileID,ye=Math.pow(2,_.zoom-de.tileID.overscaledZ),Ae=h*de.queryPadding*c.W/de.tileSize/ye,he=[ee.getTilePoint(new c.Y(B,j)),ee.getTilePoint(new c.Y(K,le))];if(he[0].x-Ae<c.W&&he[0].y-Ae<c.W&&he[1].x+Ae>=0&&he[1].y+Ae>=0){const Se=I.map(ze=>ee.getTilePoint(ze)),Me=R.map(ze=>ee.getTilePoint(ze));m.push({tile:de,tileID:ee,queryGeometry:Se,cameraQueryGeometry:Me,scale:ye})}}return m}getVisibleCoordinates(o){const h=this.getRenderableIds(o).map(p=>this._tiles[p].tileID);for(const p of h)p.posMatrix=this.transform.calculatePosMatrix(p.toUnwrapped());return h}hasTransition(){if(this._source.hasTransition())return!0;if(Ht(this._source.type)){const o=S.now();for(const h in this._tiles)if(this._tiles[h].fadeEndTime>=o)return!0}return!1}setFeatureState(o,h,p){this._state.updateState(o=o||"_geojsonTileLayer",h,p)}removeFeatureState(o,h,p){this._state.removeFeatureState(o=o||"_geojsonTileLayer",h,p)}getFeatureState(o,h){return this._state.getState(o=o||"_geojsonTileLayer",h)}setDependencies(o,h,p){const m=this._tiles[o];m&&m.setDependencies(h,p)}reloadTilesForDependencies(o,h){for(const p in this._tiles)this._tiles[p].hasDependency(o,h)&&this._reloadTile(p,"reloading");this._cache.filter(p=>!p.hasDependency(o,h))}}function Ut(v,o){const h=Math.abs(2*v.wrap)-+(v.wrap<0),p=Math.abs(2*o.wrap)-+(o.wrap<0);return v.overscaledZ-o.overscaledZ||p-h||o.canonical.y-v.canonical.y||o.canonical.x-v.canonical.x}function Ht(v){return v==="raster"||v==="image"||v==="video"}nt.maxOverzooming=10,nt.maxUnderzooming=3;class zi{constructor(o,h){this.reset(o,h)}reset(o,h){this.points=o||[],this._distances=[0];for(let p=1;p<this.points.length;p++)this._distances[p]=this._distances[p-1]+this.points[p].dist(this.points[p-1]);this.length=this._distances[this._distances.length-1],this.padding=Math.min(h||0,.5*this.length),this.paddedLength=this.length-2*this.padding}lerp(o){if(this.points.length===1)return this.points[0];o=c.ac(o,0,1);let h=1,p=this._distances[h];const m=o*this.paddedLength+this.padding;for(;p<m&&h<this._distances.length;)p=this._distances[++h];const _=h-1,T=this._distances[_],I=p-T,R=I>0?(m-T)/I:0;return this.points[_].mult(1-R).add(this.points[h].mult(R))}}function Lr(v,o){let h=!0;return v==="always"||v!=="never"&&o!=="never"||(h=!1),h}class Jt{constructor(o,h,p){const m=this.boxCells=[],_=this.circleCells=[];this.xCellCount=Math.ceil(o/p),this.yCellCount=Math.ceil(h/p);for(let T=0;T<this.xCellCount*this.yCellCount;T++)m.push([]),_.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=o,this.height=h,this.xScale=this.xCellCount/o,this.yScale=this.yCellCount/h,this.boxUid=0,this.circleUid=0}keysLength(){return this.boxKeys.length+this.circleKeys.length}insert(o,h,p,m,_){this._forEachCell(h,p,m,_,this._insertBoxCell,this.boxUid++),this.boxKeys.push(o),this.bboxes.push(h),this.bboxes.push(p),this.bboxes.push(m),this.bboxes.push(_)}insertCircle(o,h,p,m){this._forEachCell(h-m,p-m,h+m,p+m,this._insertCircleCell,this.circleUid++),this.circleKeys.push(o),this.circles.push(h),this.circles.push(p),this.circles.push(m)}_insertBoxCell(o,h,p,m,_,T){this.boxCells[_].push(T)}_insertCircleCell(o,h,p,m,_,T){this.circleCells[_].push(T)}_query(o,h,p,m,_,T,I){if(p<0||o>this.width||m<0||h>this.height)return[];const R=[];if(o<=0&&h<=0&&this.width<=p&&this.height<=m){if(_)return[{key:null,x1:o,y1:h,x2:p,y2:m}];for(let L=0;L<this.boxKeys.length;L++)R.push({key:this.boxKeys[L],x1:this.bboxes[4*L],y1:this.bboxes[4*L+1],x2:this.bboxes[4*L+2],y2:this.bboxes[4*L+3]});for(let L=0;L<this.circleKeys.length;L++){const B=this.circles[3*L],j=this.circles[3*L+1],K=this.circles[3*L+2];R.push({key:this.circleKeys[L],x1:B-K,y1:j-K,x2:B+K,y2:j+K})}}else this._forEachCell(o,h,p,m,this._queryCell,R,{hitTest:_,overlapMode:T,seenUids:{box:{},circle:{}}},I);return R}query(o,h,p,m){return this._query(o,h,p,m,!1,null)}hitTest(o,h,p,m,_,T){return this._query(o,h,p,m,!0,_,T).length>0}hitTestCircle(o,h,p,m,_){const T=o-p,I=o+p,R=h-p,L=h+p;if(I<0||T>this.width||L<0||R>this.height)return!1;const B=[];return this._forEachCell(T,R,I,L,this._queryCellCircle,B,{hitTest:!0,overlapMode:m,circle:{x:o,y:h,radius:p},seenUids:{box:{},circle:{}}},_),B.length>0}_queryCell(o,h,p,m,_,T,I,R){const{seenUids:L,hitTest:B,overlapMode:j}=I,K=this.boxCells[_];if(K!==null){const se=this.bboxes;for(const de of K)if(!L.box[de]){L.box[de]=!0;const ee=4*de,ye=this.boxKeys[de];if(o<=se[ee+2]&&h<=se[ee+3]&&p>=se[ee+0]&&m>=se[ee+1]&&(!R||R(ye))&&(!B||!Lr(j,ye.overlapMode))&&(T.push({key:ye,x1:se[ee],y1:se[ee+1],x2:se[ee+2],y2:se[ee+3]}),B))return!0}}const le=this.circleCells[_];if(le!==null){const se=this.circles;for(const de of le)if(!L.circle[de]){L.circle[de]=!0;const ee=3*de,ye=this.circleKeys[de];if(this._circleAndRectCollide(se[ee],se[ee+1],se[ee+2],o,h,p,m)&&(!R||R(ye))&&(!B||!Lr(j,ye.overlapMode))){const Ae=se[ee],he=se[ee+1],Se=se[ee+2];if(T.push({key:ye,x1:Ae-Se,y1:he-Se,x2:Ae+Se,y2:he+Se}),B)return!0}}}return!1}_queryCellCircle(o,h,p,m,_,T,I,R){const{circle:L,seenUids:B,overlapMode:j}=I,K=this.boxCells[_];if(K!==null){const se=this.bboxes;for(const de of K)if(!B.box[de]){B.box[de]=!0;const ee=4*de,ye=this.boxKeys[de];if(this._circleAndRectCollide(L.x,L.y,L.radius,se[ee+0],se[ee+1],se[ee+2],se[ee+3])&&(!R||R(ye))&&!Lr(j,ye.overlapMode))return T.push(!0),!0}}const le=this.circleCells[_];if(le!==null){const se=this.circles;for(const de of le)if(!B.circle[de]){B.circle[de]=!0;const ee=3*de,ye=this.circleKeys[de];if(this._circlesCollide(se[ee],se[ee+1],se[ee+2],L.x,L.y,L.radius)&&(!R||R(ye))&&!Lr(j,ye.overlapMode))return T.push(!0),!0}}}_forEachCell(o,h,p,m,_,T,I,R){const L=this._convertToXCellCoord(o),B=this._convertToYCellCoord(h),j=this._convertToXCellCoord(p),K=this._convertToYCellCoord(m);for(let le=L;le<=j;le++)for(let se=B;se<=K;se++)if(_.call(this,o,h,p,m,this.xCellCount*se+le,T,I,R))return}_convertToXCellCoord(o){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(o*this.xScale)))}_convertToYCellCoord(o){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(o*this.yScale)))}_circlesCollide(o,h,p,m,_,T){const I=m-o,R=_-h,L=p+T;return L*L>I*I+R*R}_circleAndRectCollide(o,h,p,m,_,T,I){const R=(T-m)/2,L=Math.abs(o-(m+R));if(L>R+p)return!1;const B=(I-_)/2,j=Math.abs(h-(_+B));if(j>B+p)return!1;if(L<=R||j<=B)return!0;const K=L-R,le=j-B;return K*K+le*le<=p*p}}function ss(v,o,h,p,m){const _=c.F();return o?(c.J(_,_,[1/m,1/m,1]),h||c.ad(_,_,p.angle)):c.K(_,p.labelPlaneMatrix,v),_}function Oo(v,o,h,p,m){if(o){const _=c.ae(v);return c.J(_,_,[m,m,1]),h||c.ad(_,_,-p.angle),_}return p.glCoordMatrix}function ae(v,o,h){let p;h?(p=[v.x,v.y,h(v.x,v.y),1],c.af(p,p,o)):(p=[v.x,v.y,0,1],Nt(p,p,o));const m=p[3];return{point:new c.P(p[0]/m,p[1]/m),signedDistanceFromCamera:m}}function U(v,o){return .5+v/o*.5}function W(v,o){const h=v[0]/v[3],p=v[1]/v[3];return h>=-o[0]&&h<=o[0]&&p>=-o[1]&&p<=o[1]}function Y(v,o,h,p,m,_,T,I,R,L){const B=p?v.textSizeData:v.iconSizeData,j=c.ag(B,h.transform.zoom),K=[256/h.width*2+1,256/h.height*2+1],le=p?v.text.dynamicLayoutVertexArray:v.icon.dynamicLayoutVertexArray;le.clear();const se=v.lineVertexArray,de=p?v.text.placedSymbolArray:v.icon.placedSymbolArray,ee=h.transform.width/h.transform.height;let ye=!1;for(let Ae=0;Ae<de.length;Ae++){const he=de.get(Ae);if(he.hidden||he.writingMode===c.ah.vertical&&!ye){xt(he.numGlyphs,le);continue}let Se;if(ye=!1,L?(Se=[he.anchorX,he.anchorY,L(he.anchorX,he.anchorY),1],c.af(Se,Se,o)):(Se=[he.anchorX,he.anchorY,0,1],Nt(Se,Se,o)),!W(Se,K)){xt(he.numGlyphs,le);continue}const Me=U(h.transform.cameraToCenterDistance,Se[3]),ze=c.ai(B,j,he),je=T?ze/Me:ze*Me,tt=new c.P(he.anchorX,he.anchorY),Xe=ae(tt,m,L).point,Je={projections:{},offsets:{}},vt=be(he,je,!1,I,o,m,_,v.glyphOffsetArray,se,le,Xe,tt,Je,ee,R,L);ye=vt.useVertical,(vt.notEnoughRoom||ye||vt.needsFlipping&&be(he,je,!0,I,o,m,_,v.glyphOffsetArray,se,le,Xe,tt,Je,ee,R,L).notEnoughRoom)&&xt(he.numGlyphs,le)}p?v.text.dynamicLayoutVertexBuffer.updateData(le):v.icon.dynamicLayoutVertexBuffer.updateData(le)}function ie(v,o,h,p,m,_,T,I,R,L,B,j,K){const le=I.glyphStartIndex+I.numGlyphs,se=I.lineStartIndex,de=I.lineStartIndex+I.lineLength,ee=o.getoffsetX(I.glyphStartIndex),ye=o.getoffsetX(le-1),Ae=Ve(v*ee,h,p,m,_,T,I.segment,se,de,R,L,B,j,K);if(!Ae)return null;const he=Ve(v*ye,h,p,m,_,T,I.segment,se,de,R,L,B,j,K);return he?{first:Ae,last:he}:null}function ve(v,o,h,p){return v===c.ah.horizontal&&Math.abs(h.y-o.y)>Math.abs(h.x-o.x)*p?{useVertical:!0}:(v===c.ah.vertical?o.y<h.y:o.x>h.x)?{needsFlipping:!0}:null}function be(v,o,h,p,m,_,T,I,R,L,B,j,K,le,se,de){const ee=o/24,ye=v.lineOffsetX*ee,Ae=v.lineOffsetY*ee;let he;if(v.numGlyphs>1){const Se=v.glyphStartIndex+v.numGlyphs,Me=v.lineStartIndex,ze=v.lineStartIndex+v.lineLength,je=ie(ee,I,ye,Ae,h,B,j,v,R,_,K,se,de);if(!je)return{notEnoughRoom:!0};const tt=ae(je.first.point,T,de).point,Xe=ae(je.last.point,T,de).point;if(p&&!h){const Je=ve(v.writingMode,tt,Xe,le);if(Je)return Je}he=[je.first];for(let Je=v.glyphStartIndex+1;Je<Se-1;Je++)he.push(Ve(ee*I.getoffsetX(Je),ye,Ae,h,B,j,v.segment,Me,ze,R,_,K,se,de));he.push(je.last)}else{if(p&&!h){const Me=ae(j,m,de).point,ze=v.lineStartIndex+v.segment+1,je=new c.P(R.getx(ze),R.gety(ze)),tt=ae(je,m,de),Xe=tt.signedDistanceFromCamera>0?tt.point:ke(j,je,Me,1,m,de),Je=ve(v.writingMode,Me,Xe,le);if(Je)return Je}const Se=Ve(ee*I.getoffsetX(v.glyphStartIndex),ye,Ae,h,B,j,v.segment,v.lineStartIndex,v.lineStartIndex+v.lineLength,R,_,K,se,de);if(!Se)return{notEnoughRoom:!0};he=[Se]}for(const Se of he)c.aj(L,Se.point,Se.angle);return{}}function ke(v,o,h,p,m,_){const T=ae(v.add(v.sub(o)._unit()),m,_).point,I=h.sub(T);return h.add(I._mult(p/I.mag()))}function me(v,o){const{projectionCache:h,lineVertexArray:p,labelPlaneMatrix:m,tileAnchorPoint:_,distanceFromAnchor:T,getElevation:I,previousVertex:R,direction:L,absOffsetX:B}=o;if(h.projections[v])return h.projections[v];const j=new c.P(p.getx(v),p.gety(v)),K=ae(j,m,I);if(K.signedDistanceFromCamera>0)return h.projections[v]=K.point,K.point;const le=v-L;return ke(T===0?_:new c.P(p.getx(le),p.gety(le)),j,R,B-T+1,m,I)}function Te(v,o,h){return v._unit()._perp()._mult(o*h)}function Ke(v,o,h,p,m,_,T,I){const{projectionCache:R,direction:L}=I;if(R.offsets[v])return R.offsets[v];const B=h.add(o);if(v+L<p||v+L>=m)return R.offsets[v]=B,B;const j=me(v+L,I),K=Te(j.sub(h),T,L),le=h.add(K),se=j.add(K);return R.offsets[v]=c.ak(_,B,le,se)||B,R.offsets[v]}function Ve(v,o,h,p,m,_,T,I,R,L,B,j,K,le){const se=p?v-o:v+o;let de=se>0?1:-1,ee=0;p&&(de*=-1,ee=Math.PI),de<0&&(ee+=Math.PI);let ye,Ae,he=de>0?I+T:I+T+1,Se=m,Me=m,ze=0,je=0;const tt=Math.abs(se),Xe=[];let Je;for(;ze+je<=tt;){if(he+=de,he<I||he>=R)return null;ze+=je,Me=Se,Ae=ye;const ut={projectionCache:j,lineVertexArray:L,labelPlaneMatrix:B,tileAnchorPoint:_,distanceFromAnchor:ze,getElevation:le,previousVertex:Me,direction:de,absOffsetX:tt};if(Se=me(he,ut),h===0)Xe.push(Me),Je=Se.sub(Me);else{let jt;const tn=Se.sub(Me);jt=tn.mag()===0?Te(me(he+de,ut).sub(Se),h,de):Te(tn,h,de),Ae||(Ae=Me.add(jt)),ye=Ke(he,jt,Se,I,R,Ae,h,ut),Xe.push(Ae),Je=ye.sub(Ae)}je=Je.mag()}const vt=Je._mult((tt-ze)/je)._add(Ae||Me),Xt=ee+Math.atan2(Se.y-Me.y,Se.x-Me.x);return Xe.push(vt),{point:vt,angle:K?Xt:0,path:Xe}}const We=new Float32Array([-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0]);function xt(v,o){for(let h=0;h<v;h++){const p=o.length;o.resize(p+4),o.float32.set(We,3*p)}}function Nt(v,o,h){const p=o[0],m=o[1];return v[0]=h[0]*p+h[4]*m+h[12],v[1]=h[1]*p+h[5]*m+h[13],v[3]=h[3]*p+h[7]*m+h[15],v}const Dt=100;class Wt{constructor(o,h=new Jt(o.width+200,o.height+200,25),p=new Jt(o.width+200,o.height+200,25)){this.transform=o,this.grid=h,this.ignoredGrid=p,this.pitchfactor=Math.cos(o._pitch)*o.cameraToCenterDistance,this.screenRightBoundary=o.width+Dt,this.screenBottomBoundary=o.height+Dt,this.gridRightBoundary=o.width+200,this.gridBottomBoundary=o.height+200,this.perspectiveRatioCutoff=.6}placeCollisionBox(o,h,p,m,_,T){const I=this.projectAndGetPerspectiveRatio(m,o.anchorPointX,o.anchorPointY,T),R=p*I.perspectiveRatio,L=o.x1*R+I.point.x,B=o.y1*R+I.point.y,j=o.x2*R+I.point.x,K=o.y2*R+I.point.y;return!this.isInsideGrid(L,B,j,K)||h!=="always"&&this.grid.hitTest(L,B,j,K,h,_)||I.perspectiveRatio<this.perspectiveRatioCutoff?{box:[],offscreen:!1}:{box:[L,B,j,K],offscreen:this.isOffscreen(L,B,j,K)}}placeCollisionCircles(o,h,p,m,_,T,I,R,L,B,j,K,le,se){const de=[],ee=new c.P(h.anchorX,h.anchorY),ye=ae(ee,T,se),Ae=U(this.transform.cameraToCenterDistance,ye.signedDistanceFromCamera),he=(B?_/Ae:_*Ae)/c.ao,Se=ae(ee,I,se).point,Me=ie(he,m,h.lineOffsetX*he,h.lineOffsetY*he,!1,Se,ee,h,p,I,{projections:{},offsets:{}},!1,se);let ze=!1,je=!1,tt=!0;if(Me){const Xe=.5*K*Ae+le,Je=new c.P(-100,-100),vt=new c.P(this.screenRightBoundary,this.screenBottomBoundary),Xt=new zi,ut=Me.first,jt=Me.last;let tn=[];for(let nn=ut.path.length-1;nn>=1;nn--)tn.push(ut.path[nn]);for(let nn=1;nn<jt.path.length;nn++)tn.push(jt.path[nn]);const hn=2.5*Xe;if(R){const nn=tn.map(rn=>ae(rn,R,se));tn=nn.some(rn=>rn.signedDistanceFromCamera<=0)?[]:nn.map(rn=>rn.point)}let qt=[];if(tn.length>0){const nn=tn[0].clone(),rn=tn[0].clone();for(let Xn=1;Xn<tn.length;Xn++)nn.x=Math.min(nn.x,tn[Xn].x),nn.y=Math.min(nn.y,tn[Xn].y),rn.x=Math.max(rn.x,tn[Xn].x),rn.y=Math.max(rn.y,tn[Xn].y);qt=nn.x>=Je.x&&rn.x<=vt.x&&nn.y>=Je.y&&rn.y<=vt.y?[tn]:rn.x<Je.x||nn.x>vt.x||rn.y<Je.y||nn.y>vt.y?[]:c.al([tn],Je.x,Je.y,vt.x,vt.y)}for(const nn of qt){Xt.reset(nn,.25*Xe);let rn=0;rn=Xt.length<=.5*Xe?1:Math.ceil(Xt.paddedLength/hn)+1;for(let Xn=0;Xn<rn;Xn++){const Ln=Xn/Math.max(rn-1,1),$r=Xt.lerp(Ln),Pi=$r.x+Dt,Dn=$r.y+Dt;de.push(Pi,Dn,Xe,0);const sr=Pi-Xe,Fo=Dn-Xe,ds=Pi+Xe,Xa=Dn+Xe;if(tt=tt&&this.isOffscreen(sr,Fo,ds,Xa),je=je||this.isInsideGrid(sr,Fo,ds,Xa),o!=="always"&&this.grid.hitTestCircle(Pi,Dn,Xe,o,j)&&(ze=!0,!L))return{circles:[],offscreen:!1,collisionDetected:ze}}}}return{circles:!L&&ze||!je||Ae<this.perspectiveRatioCutoff?[]:de,offscreen:tt,collisionDetected:ze}}queryRenderedSymbols(o){if(o.length===0||this.grid.keysLength()===0&&this.ignoredGrid.keysLength()===0)return{};const h=[];let p=1/0,m=1/0,_=-1/0,T=-1/0;for(const B of o){const j=new c.P(B.x+Dt,B.y+Dt);p=Math.min(p,j.x),m=Math.min(m,j.y),_=Math.max(_,j.x),T=Math.max(T,j.y),h.push(j)}const I=this.grid.query(p,m,_,T).concat(this.ignoredGrid.query(p,m,_,T)),R={},L={};for(const B of I){const j=B.key;if(R[j.bucketInstanceId]===void 0&&(R[j.bucketInstanceId]={}),R[j.bucketInstanceId][j.featureIndex])continue;const K=[new c.P(B.x1,B.y1),new c.P(B.x2,B.y1),new c.P(B.x2,B.y2),new c.P(B.x1,B.y2)];c.am(h,K)&&(R[j.bucketInstanceId][j.featureIndex]=!0,L[j.bucketInstanceId]===void 0&&(L[j.bucketInstanceId]=[]),L[j.bucketInstanceId].push(j.featureIndex))}return L}insertCollisionBox(o,h,p,m,_,T){(p?this.ignoredGrid:this.grid).insert({bucketInstanceId:m,featureIndex:_,collisionGroupID:T,overlapMode:h},o[0],o[1],o[2],o[3])}insertCollisionCircles(o,h,p,m,_,T){const I=p?this.ignoredGrid:this.grid,R={bucketInstanceId:m,featureIndex:_,collisionGroupID:T,overlapMode:h};for(let L=0;L<o.length;L+=4)I.insertCircle(R,o[L],o[L+1],o[L+2])}projectAndGetPerspectiveRatio(o,h,p,m){let _;return m?(_=[h,p,m(h,p),1],c.af(_,_,o)):(_=[h,p,0,1],Nt(_,_,o)),{point:new c.P((_[0]/_[3]+1)/2*this.transform.width+Dt,(-_[1]/_[3]+1)/2*this.transform.height+Dt),perspectiveRatio:.5+this.transform.cameraToCenterDistance/_[3]*.5}}isOffscreen(o,h,p,m){return p<Dt||o>=this.screenRightBoundary||m<Dt||h>this.screenBottomBoundary}isInsideGrid(o,h,p,m){return p>=0&&o<this.gridRightBoundary&&m>=0&&h<this.gridBottomBoundary}getViewportMatrix(){const o=c.an([]);return c.H(o,o,[-100,-100,0]),o}}function Zt(v,o,h){return o*(c.W/(v.tileSize*Math.pow(2,h-v.tileID.overscaledZ)))}class Mn{constructor(o,h,p,m){this.opacity=o?Math.max(0,Math.min(1,o.opacity+(o.placed?h:-h))):m&&p?1:0,this.placed=p}isHidden(){return this.opacity===0&&!this.placed}}class In{constructor(o,h,p,m,_){this.text=new Mn(o?o.text:null,h,p,_),this.icon=new Mn(o?o.icon:null,h,m,_)}isHidden(){return this.text.isHidden()&&this.icon.isHidden()}}class Kn{constructor(o,h,p){this.text=o,this.icon=h,this.skipFade=p}}class Qt{constructor(){this.invProjMatrix=c.F(),this.viewportMatrix=c.F(),this.circles=[]}}class Wn{constructor(o,h,p,m,_){this.bucketInstanceId=o,this.featureIndex=h,this.sourceLayerIndex=p,this.bucketIndex=m,this.tileID=_}}class ai{constructor(o){this.crossSourceCollisions=o,this.maxGroupID=0,this.collisionGroups={}}get(o){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[o]){const h=++this.maxGroupID;this.collisionGroups[o]={ID:h,predicate:p=>p.collisionGroupID===h}}return this.collisionGroups[o]}}function rr(v,o,h,p,m){const{horizontalAlign:_,verticalAlign:T}=c.at(v);return new c.P(-(_-.5)*o+p[0]*m,-(T-.5)*h+p[1]*m)}function Vi(v,o,h,p,m,_){const{x1:T,x2:I,y1:R,y2:L,anchorPointX:B,anchorPointY:j}=v,K=new c.P(o,h);return p&&K._rotate(m?_:-_),{x1:T+K.x,y1:R+K.y,x2:I+K.x,y2:L+K.y,anchorPointX:B,anchorPointY:j}}class Xi{constructor(o,h,p,m,_){this.transform=o.clone(),this.terrain=h,this.collisionIndex=new Wt(this.transform),this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=p,this.retainedQueryData={},this.collisionGroups=new ai(m),this.collisionCircleArrays={},this.prevPlacement=_,_&&(_.prevPlacement=void 0),this.placedOrientations={}}getBucketParts(o,h,p,m){const _=p.getBucket(h),T=p.latestFeatureIndex;if(!_||!T||h.id!==_.layerIds[0])return;const I=p.collisionBoxArray,R=_.layers[0].layout,L=Math.pow(2,this.transform.zoom-p.tileID.overscaledZ),B=p.tileSize/c.W,j=this.transform.calculatePosMatrix(p.tileID.toUnwrapped()),K=R.get("text-pitch-alignment")==="map",le=R.get("text-rotation-alignment")==="map",se=Zt(p,1,this.transform.zoom),de=ss(j,K,le,this.transform,se);let ee=null;if(K){const Ae=Oo(j,K,le,this.transform,se);ee=c.K([],this.transform.labelPlaneMatrix,Ae)}this.retainedQueryData[_.bucketInstanceId]=new Wn(_.bucketInstanceId,T,_.sourceLayerIndex,_.index,p.tileID);const ye={bucket:_,layout:R,posMatrix:j,textLabelPlaneMatrix:de,labelToScreenMatrix:ee,scale:L,textPixelRatio:B,holdingForFade:p.holdingForFade(),collisionBoxArray:I,partiallyEvaluatedTextSize:c.ag(_.textSizeData,this.transform.zoom),collisionGroup:this.collisionGroups.get(_.sourceID)};if(m)for(const Ae of _.sortKeyRanges){const{sortKey:he,symbolInstanceStart:Se,symbolInstanceEnd:Me}=Ae;o.push({sortKey:he,symbolInstanceStart:Se,symbolInstanceEnd:Me,parameters:ye})}else o.push({symbolInstanceStart:0,symbolInstanceEnd:_.symbolInstances.length,parameters:ye})}attemptAnchorPlacement(o,h,p,m,_,T,I,R,L,B,j,K,le,se,de,ee){const ye=c.ap[o.textAnchor],Ae=[o.textOffset0,o.textOffset1],he=rr(ye,p,m,Ae,_),Se=this.collisionIndex.placeCollisionBox(Vi(h,he.x,he.y,T,I,this.transform.angle),j,R,L,B.predicate,ee);if((!de||this.collisionIndex.placeCollisionBox(Vi(de,he.x,he.y,T,I,this.transform.angle),j,R,L,B.predicate,ee).box.length!==0)&&Se.box.length>0){let Me;if(this.prevPlacement&&this.prevPlacement.variableOffsets[K.crossTileID]&&this.prevPlacement.placements[K.crossTileID]&&this.prevPlacement.placements[K.crossTileID].text&&(Me=this.prevPlacement.variableOffsets[K.crossTileID].anchor),K.crossTileID===0)throw new Error("symbolInstance.crossTileID can't be 0");return this.variableOffsets[K.crossTileID]={textOffset:Ae,width:p,height:m,anchor:ye,textBoxScale:_,prevAnchor:Me},this.markUsedJustification(le,ye,K,se),le.allowVerticalPlacement&&(this.markUsedOrientation(le,se,K),this.placedOrientations[K.crossTileID]=se),{shift:he,placedGlyphBoxes:Se}}}placeLayerBucketPart(o,h,p){const{bucket:m,layout:_,posMatrix:T,textLabelPlaneMatrix:I,labelToScreenMatrix:R,textPixelRatio:L,holdingForFade:B,collisionBoxArray:j,partiallyEvaluatedTextSize:K,collisionGroup:le}=o.parameters,se=_.get("text-optional"),de=_.get("icon-optional"),ee=c.aq(_,"text-overlap","text-allow-overlap"),ye=ee==="always",Ae=c.aq(_,"icon-overlap","icon-allow-overlap"),he=Ae==="always",Se=_.get("text-rotation-alignment")==="map",Me=_.get("text-pitch-alignment")==="map",ze=_.get("icon-text-fit")!=="none",je=_.get("symbol-z-order")==="viewport-y",tt=ye&&(he||!m.hasIconData()||de),Xe=he&&(ye||!m.hasTextData()||se);!m.collisionArrays&&j&&m.deserializeCollisionBoxes(j);const Je=this.retainedQueryData[m.bucketInstanceId].tileID,vt=this.terrain?(ut,jt)=>this.terrain.getElevation(Je,ut,jt):null,Xt=(ut,jt)=>{var tn,hn;if(h[ut.crossTileID])return;if(B)return void(this.placements[ut.crossTileID]=new Kn(!1,!1,!1));let qt=!1,nn=!1,rn=!0,Xn=null,Ln={box:null,offscreen:null},$r={box:null,offscreen:null},Pi=null,Dn=null,sr=null,Fo=0,ds=0,Xa=0;jt.textFeatureIndex?Fo=jt.textFeatureIndex:ut.useRuntimeCollisionCircles&&(Fo=ut.featureIndex),jt.verticalTextFeatureIndex&&(ds=jt.verticalTextFeatureIndex);const Ya=jt.textBox;if(Ya){const ni=Zn=>{let Hi=c.ah.horizontal;if(m.allowVerticalPlacement&&!Zn&&this.prevPlacement){const eo=this.prevPlacement.placedOrientations[ut.crossTileID];eo&&(this.placedOrientations[ut.crossTileID]=eo,Hi=eo,this.markUsedOrientation(m,Hi,ut))}return Hi},jn=(Zn,Hi)=>{if(m.allowVerticalPlacement&&ut.numVerticalGlyphVertices>0&&jt.verticalTextBox){for(const eo of m.writingModes)if(eo===c.ah.vertical?(Ln=Hi(),$r=Ln):Ln=Zn(),Ln&&Ln.box&&Ln.box.length)break}else Ln=Zn()},ui=ut.textAnchorOffsetStartIndex,Ql=ut.textAnchorOffsetEndIndex;if(Ql===ui){const Zn=(Hi,eo)=>{const un=this.collisionIndex.placeCollisionBox(Hi,ee,L,T,le.predicate,vt);return un&&un.box&&un.box.length&&(this.markUsedOrientation(m,eo,ut),this.placedOrientations[ut.crossTileID]=eo),un};jn(()=>Zn(Ya,c.ah.horizontal),()=>{const Hi=jt.verticalTextBox;return m.allowVerticalPlacement&&ut.numVerticalGlyphVertices>0&&Hi?Zn(Hi,c.ah.vertical):{box:null,offscreen:null}}),ni(Ln&&Ln.box&&Ln.box.length)}else{let Zn=c.ap[(hn=(tn=this.prevPlacement)===null||tn===void 0?void 0:tn.variableOffsets[ut.crossTileID])===null||hn===void 0?void 0:hn.anchor];const Hi=(un,bp,Ty)=>{const Ja=un.x2-un.x1,Qa=un.y2-un.y1,Xd=ut.textBoxScale,_p=ze&&Ae==="never"?bp:null;let el={box:[],offscreen:!1},Iy=ee==="never"?1:2,xp="never";Zn&&Iy++;for(let Py=0;Py<Iy;Py++){for(let ku=ui;ku<Ql;ku++){const Ay=m.textAnchorOffsets.get(ku);if(Zn&&Ay.textAnchor!==Zn)continue;const Eu=this.attemptAnchorPlacement(Ay,un,Ja,Qa,Xd,Se,Me,L,T,le,xp,ut,m,Ty,_p,vt);if(Eu&&(el=Eu.placedGlyphBoxes,el&&el.box&&el.box.length))return qt=!0,Xn=Eu.shift,el}Zn?Zn=null:xp=ee}return el};jn(()=>Hi(Ya,jt.iconBox,c.ah.horizontal),()=>{const un=jt.verticalTextBox;return m.allowVerticalPlacement&&!(Ln&&Ln.box&&Ln.box.length)&&ut.numVerticalGlyphVertices>0&&un?Hi(un,jt.verticalIconBox,c.ah.vertical):{box:null,offscreen:null}}),Ln&&(qt=Ln.box,rn=Ln.offscreen);const eo=ni(Ln&&Ln.box);if(!qt&&this.prevPlacement){const un=this.prevPlacement.variableOffsets[ut.crossTileID];un&&(this.variableOffsets[ut.crossTileID]=un,this.markUsedJustification(m,un.anchor,ut,eo))}}}if(Pi=Ln,qt=Pi&&Pi.box&&Pi.box.length>0,rn=Pi&&Pi.offscreen,ut.useRuntimeCollisionCircles){const ni=m.text.placedSymbolArray.get(ut.centerJustifiedTextSymbolIndex),jn=c.ai(m.textSizeData,K,ni),ui=_.get("text-padding");Dn=this.collisionIndex.placeCollisionCircles(ee,ni,m.lineVertexArray,m.glyphOffsetArray,jn,T,I,R,p,Me,le.predicate,ut.collisionCircleDiameter,ui,vt),Dn.circles.length&&Dn.collisionDetected&&!p&&c.w("Collisions detected, but collision boxes are not shown"),qt=ye||Dn.circles.length>0&&!Dn.collisionDetected,rn=rn&&Dn.offscreen}if(jt.iconFeatureIndex&&(Xa=jt.iconFeatureIndex),jt.iconBox){const ni=jn=>{const ui=ze&&Xn?Vi(jn,Xn.x,Xn.y,Se,Me,this.transform.angle):jn;return this.collisionIndex.placeCollisionBox(ui,Ae,L,T,le.predicate,vt)};$r&&$r.box&&$r.box.length&&jt.verticalIconBox?(sr=ni(jt.verticalIconBox),nn=sr.box.length>0):(sr=ni(jt.iconBox),nn=sr.box.length>0),rn=rn&&sr.offscreen}const hs=se||ut.numHorizontalGlyphVertices===0&&ut.numVerticalGlyphVertices===0,No=de||ut.numIconVertices===0;if(hs||No?No?hs||(nn=nn&&qt):qt=nn&&qt:nn=qt=nn&&qt,qt&&Pi&&Pi.box&&this.collisionIndex.insertCollisionBox(Pi.box,ee,_.get("text-ignore-placement"),m.bucketInstanceId,$r&&$r.box&&ds?ds:Fo,le.ID),nn&&sr&&this.collisionIndex.insertCollisionBox(sr.box,Ae,_.get("icon-ignore-placement"),m.bucketInstanceId,Xa,le.ID),Dn&&(qt&&this.collisionIndex.insertCollisionCircles(Dn.circles,ee,_.get("text-ignore-placement"),m.bucketInstanceId,Fo,le.ID),p)){const ni=m.bucketInstanceId;let jn=this.collisionCircleArrays[ni];jn===void 0&&(jn=this.collisionCircleArrays[ni]=new Qt);for(let ui=0;ui<Dn.circles.length;ui+=4)jn.circles.push(Dn.circles[ui+0]),jn.circles.push(Dn.circles[ui+1]),jn.circles.push(Dn.circles[ui+2]),jn.circles.push(Dn.collisionDetected?1:0)}if(ut.crossTileID===0)throw new Error("symbolInstance.crossTileID can't be 0");if(m.bucketInstanceId===0)throw new Error("bucket.bucketInstanceId can't be 0");this.placements[ut.crossTileID]=new Kn(qt||tt,nn||Xe,rn||m.justReloaded),h[ut.crossTileID]=!0};if(je){if(o.symbolInstanceStart!==0)throw new Error("bucket.bucketInstanceId should be 0");const ut=m.getSortedSymbolIndexes(this.transform.angle);for(let jt=ut.length-1;jt>=0;--jt){const tn=ut[jt];Xt(m.symbolInstances.get(tn),m.collisionArrays[tn])}}else for(let ut=o.symbolInstanceStart;ut<o.symbolInstanceEnd;ut++)Xt(m.symbolInstances.get(ut),m.collisionArrays[ut]);if(p&&m.bucketInstanceId in this.collisionCircleArrays){const ut=this.collisionCircleArrays[m.bucketInstanceId];c.ar(ut.invProjMatrix,T),ut.viewportMatrix=this.collisionIndex.getViewportMatrix()}m.justReloaded=!1}markUsedJustification(o,h,p,m){let _;_=m===c.ah.vertical?p.verticalPlacedTextSymbolIndex:{left:p.leftJustifiedTextSymbolIndex,center:p.centerJustifiedTextSymbolIndex,right:p.rightJustifiedTextSymbolIndex}[c.as(h)];const T=[p.leftJustifiedTextSymbolIndex,p.centerJustifiedTextSymbolIndex,p.rightJustifiedTextSymbolIndex,p.verticalPlacedTextSymbolIndex];for(const I of T)I>=0&&(o.text.placedSymbolArray.get(I).crossTileID=_>=0&&I!==_?0:p.crossTileID)}markUsedOrientation(o,h,p){const m=h===c.ah.horizontal||h===c.ah.horizontalOnly?h:0,_=h===c.ah.vertical?h:0,T=[p.leftJustifiedTextSymbolIndex,p.centerJustifiedTextSymbolIndex,p.rightJustifiedTextSymbolIndex];for(const I of T)o.text.placedSymbolArray.get(I).placedOrientation=m;p.verticalPlacedTextSymbolIndex&&(o.text.placedSymbolArray.get(p.verticalPlacedTextSymbolIndex).placedOrientation=_)}commit(o){this.commitTime=o,this.zoomAtLastRecencyCheck=this.transform.zoom;const h=this.prevPlacement;let p=!1;this.prevZoomAdjustment=h?h.zoomAdjustment(this.transform.zoom):0;const m=h?h.symbolFadeChange(o):1,_=h?h.opacities:{},T=h?h.variableOffsets:{},I=h?h.placedOrientations:{};for(const R in this.placements){const L=this.placements[R],B=_[R];B?(this.opacities[R]=new In(B,m,L.text,L.icon),p=p||L.text!==B.text.placed||L.icon!==B.icon.placed):(this.opacities[R]=new In(null,m,L.text,L.icon,L.skipFade),p=p||L.text||L.icon)}for(const R in _){const L=_[R];if(!this.opacities[R]){const B=new In(L,m,!1,!1);B.isHidden()||(this.opacities[R]=B,p=p||L.text.placed||L.icon.placed)}}for(const R in T)this.variableOffsets[R]||!this.opacities[R]||this.opacities[R].isHidden()||(this.variableOffsets[R]=T[R]);for(const R in I)this.placedOrientations[R]||!this.opacities[R]||this.opacities[R].isHidden()||(this.placedOrientations[R]=I[R]);if(h&&h.lastPlacementChangeTime===void 0)throw new Error("Last placement time for previous placement is not defined");p?this.lastPlacementChangeTime=o:typeof this.lastPlacementChangeTime!="number"&&(this.lastPlacementChangeTime=h?h.lastPlacementChangeTime:o)}updateLayerOpacities(o,h){const p={};for(const m of h){const _=m.getBucket(o);_&&m.latestFeatureIndex&&o.id===_.layerIds[0]&&this.updateBucketOpacities(_,p,m.collisionBoxArray)}}updateBucketOpacities(o,h,p){o.hasTextData()&&(o.text.opacityVertexArray.clear(),o.text.hasVisibleVertices=!1),o.hasIconData()&&(o.icon.opacityVertexArray.clear(),o.icon.hasVisibleVertices=!1),o.hasIconCollisionBoxData()&&o.iconCollisionBox.collisionVertexArray.clear(),o.hasTextCollisionBoxData()&&o.textCollisionBox.collisionVertexArray.clear();const m=o.layers[0],_=m.layout,T=new In(null,0,!1,!1,!0),I=_.get("text-allow-overlap"),R=_.get("icon-allow-overlap"),L=m._unevaluatedLayout.hasValue("text-variable-anchor")||m._unevaluatedLayout.hasValue("text-variable-anchor-offset"),B=_.get("text-rotation-alignment")==="map",j=_.get("text-pitch-alignment")==="map",K=_.get("icon-text-fit")!=="none",le=new In(null,0,I&&(R||!o.hasIconData()||_.get("icon-optional")),R&&(I||!o.hasTextData()||_.get("text-optional")),!0);!o.collisionArrays&&p&&(o.hasIconCollisionBoxData()||o.hasTextCollisionBoxData())&&o.deserializeCollisionBoxes(p);const se=(de,ee,ye)=>{for(let Ae=0;Ae<ee/4;Ae++)de.opacityVertexArray.emplaceBack(ye);de.hasVisibleVertices=de.hasVisibleVertices||ye!==sn};for(let de=0;de<o.symbolInstances.length;de++){const ee=o.symbolInstances.get(de),{numHorizontalGlyphVertices:ye,numVerticalGlyphVertices:Ae,crossTileID:he}=ee;let Se=this.opacities[he];h[he]?Se=T:Se||(Se=le,this.opacities[he]=Se),h[he]=!0;const Me=ee.numIconVertices>0,ze=this.placedOrientations[ee.crossTileID],je=ze===c.ah.vertical,tt=ze===c.ah.horizontal||ze===c.ah.horizontalOnly;if(ye>0||Ae>0){const Xe=kt(Se.text);se(o.text,ye,je?sn:Xe),se(o.text,Ae,tt?sn:Xe);const Je=Se.text.isHidden();[ee.rightJustifiedTextSymbolIndex,ee.centerJustifiedTextSymbolIndex,ee.leftJustifiedTextSymbolIndex].forEach(ut=>{ut>=0&&(o.text.placedSymbolArray.get(ut).hidden=Je||je?1:0)}),ee.verticalPlacedTextSymbolIndex>=0&&(o.text.placedSymbolArray.get(ee.verticalPlacedTextSymbolIndex).hidden=Je||tt?1:0);const vt=this.variableOffsets[ee.crossTileID];vt&&this.markUsedJustification(o,vt.anchor,ee,ze);const Xt=this.placedOrientations[ee.crossTileID];Xt&&(this.markUsedJustification(o,"left",ee,Xt),this.markUsedOrientation(o,Xt,ee))}if(Me){const Xe=kt(Se.icon),Je=!(K&&ee.verticalPlacedIconSymbolIndex&&je);ee.placedIconSymbolIndex>=0&&(se(o.icon,ee.numIconVertices,Je?Xe:sn),o.icon.placedSymbolArray.get(ee.placedIconSymbolIndex).hidden=Se.icon.isHidden()),ee.verticalPlacedIconSymbolIndex>=0&&(se(o.icon,ee.numVerticalIconVertices,Je?sn:Xe),o.icon.placedSymbolArray.get(ee.verticalPlacedIconSymbolIndex).hidden=Se.icon.isHidden())}if(o.hasIconCollisionBoxData()||o.hasTextCollisionBoxData()){const Xe=o.collisionArrays[de];if(Xe){let Je=new c.P(0,0);if(Xe.textBox||Xe.verticalTextBox){let Xt=!0;if(L){const ut=this.variableOffsets[he];ut?(Je=rr(ut.anchor,ut.width,ut.height,ut.textOffset,ut.textBoxScale),B&&Je._rotate(j?this.transform.angle:-this.transform.angle)):Xt=!1}Xe.textBox&&_r(o.textCollisionBox.collisionVertexArray,Se.text.placed,!Xt||je,Je.x,Je.y),Xe.verticalTextBox&&_r(o.textCollisionBox.collisionVertexArray,Se.text.placed,!Xt||tt,Je.x,Je.y)}const vt=!!(!tt&&Xe.verticalIconBox);Xe.iconBox&&_r(o.iconCollisionBox.collisionVertexArray,Se.icon.placed,vt,K?Je.x:0,K?Je.y:0),Xe.verticalIconBox&&_r(o.iconCollisionBox.collisionVertexArray,Se.icon.placed,!vt,K?Je.x:0,K?Je.y:0)}}}if(o.sortFeatures(this.transform.angle),this.retainedQueryData[o.bucketInstanceId]&&(this.retainedQueryData[o.bucketInstanceId].featureSortOrder=o.featureSortOrder),o.hasTextData()&&o.text.opacityVertexBuffer&&o.text.opacityVertexBuffer.updateData(o.text.opacityVertexArray),o.hasIconData()&&o.icon.opacityVertexBuffer&&o.icon.opacityVertexBuffer.updateData(o.icon.opacityVertexArray),o.hasIconCollisionBoxData()&&o.iconCollisionBox.collisionVertexBuffer&&o.iconCollisionBox.collisionVertexBuffer.updateData(o.iconCollisionBox.collisionVertexArray),o.hasTextCollisionBoxData()&&o.textCollisionBox.collisionVertexBuffer&&o.textCollisionBox.collisionVertexBuffer.updateData(o.textCollisionBox.collisionVertexArray),o.text.opacityVertexArray.length!==o.text.layoutVertexArray.length/4)throw new Error("bucket.text.opacityVertexArray.length (= ".concat(o.text.opacityVertexArray.length,") !== bucket.text.layoutVertexArray.length (= ").concat(o.text.layoutVertexArray.length,") / 4"));if(o.icon.opacityVertexArray.length!==o.icon.layoutVertexArray.length/4)throw new Error("bucket.icon.opacityVertexArray.length (= ".concat(o.icon.opacityVertexArray.length,") !== bucket.icon.layoutVertexArray.length (= ").concat(o.icon.layoutVertexArray.length,") / 4"));if(o.bucketInstanceId in this.collisionCircleArrays){const de=this.collisionCircleArrays[o.bucketInstanceId];o.placementInvProjMatrix=de.invProjMatrix,o.placementViewportMatrix=de.viewportMatrix,o.collisionCircleArray=de.circles,delete this.collisionCircleArrays[o.bucketInstanceId]}}symbolFadeChange(o){return this.fadeDuration===0?1:(o-this.commitTime)/this.fadeDuration+this.prevZoomAdjustment}zoomAdjustment(o){return Math.max(0,(this.transform.zoom-o)/1.5)}hasTransitions(o){return this.stale||o-this.lastPlacementChangeTime<this.fadeDuration}stillRecent(o,h){const p=this.zoomAtLastRecencyCheck===h?1-this.zoomAdjustment(h):1;return this.zoomAtLastRecencyCheck=h,this.commitTime+this.fadeDuration*p>o}setStale(){this.stale=!0}}function _r(v,o,h,p,m){v.emplaceBack(o?1:0,h?1:0,p||0,m||0),v.emplaceBack(o?1:0,h?1:0,p||0,m||0),v.emplaceBack(o?1:0,h?1:0,p||0,m||0),v.emplaceBack(o?1:0,h?1:0,p||0,m||0)}const su=Math.pow(2,25),Rf=Math.pow(2,24),xn=Math.pow(2,17),xd=Math.pow(2,16),wd=Math.pow(2,9),Re=Math.pow(2,8),st=Math.pow(2,1);function kt(v){if(v.opacity===0&&!v.placed)return 0;if(v.opacity===1&&v.placed)return 4294967295;const o=v.placed?1:0,h=Math.floor(127*v.opacity);return h*su+o*Rf+h*xn+o*xd+h*wd+o*Re+h*st+o}const sn=0;class wn{constructor(o){this._sortAcrossTiles=o.layout.get("symbol-z-order")!=="viewport-y"&&!o.layout.get("symbol-sort-key").isConstant(),this._currentTileIndex=0,this._currentPartIndex=0,this._seenCrossTileIDs={},this._bucketParts=[]}continuePlacement(o,h,p,m,_){const T=this._bucketParts;for(;this._currentTileIndex<o.length;)if(h.getBucketParts(T,m,o[this._currentTileIndex],this._sortAcrossTiles),this._currentTileIndex++,_())return!0;for(this._sortAcrossTiles&&(this._sortAcrossTiles=!1,T.sort((I,R)=>I.sortKey-R.sortKey));this._currentPartIndex<T.length;)if(h.placeLayerBucketPart(T[this._currentPartIndex],this._seenCrossTileIDs,p),this._currentPartIndex++,_())return!0;return!1}}class xr{constructor(o,h,p,m,_,T,I,R){this.placement=new Xi(o,h,T,I,R),this._currentPlacementIndex=p.length-1,this._forceFullPlacement=m,this._showCollisionBoxes=_,this._done=!1}isDone(){return this._done}continuePlacement(o,h,p){const m=S.now(),_=()=>!this._forceFullPlacement&&S.now()-m>2;for(;this._currentPlacementIndex>=0;){const T=h[o[this._currentPlacementIndex]],I=this.placement.collisionIndex.transform.zoom;if(T.type==="symbol"&&(!T.minzoom||T.minzoom<=I)&&(!T.maxzoom||T.maxzoom>I)){if(this._inProgressLayer||(this._inProgressLayer=new wn(T)),this._inProgressLayer.continuePlacement(p[T.source],this.placement,this._showCollisionBoxes,T,_))return;delete this._inProgressLayer}this._currentPlacementIndex--}this._done=!0}commit(o){return this.placement.commit(o),this.placement}}const or=512/c.W/2;class Ii{constructor(o,h,p){this.tileID=o,this.bucketInstanceId=p,this._symbolsByKey={};const m=new Map;for(let _=0;_<h.length;_++){const T=h.get(_),I=T.key,R=m.get(I);R?R.push(T):m.set(I,[T])}for(const[_,T]of m){const I={positions:T.map(R=>({x:Math.floor(R.anchorX*or),y:Math.floor(R.anchorY*or)})),crossTileIDs:T.map(R=>R.crossTileID)};if(I.positions.length>128){const R=new c.au(I.positions.length,16,Uint16Array);for(const{x:L,y:B}of I.positions)R.add(L,B);R.finish(),delete I.positions,I.index=R}this._symbolsByKey[_]=I}}getScaledCoordinates(o,h){const{x:p,y:m,z:_}=this.tileID.canonical,{x:T,y:I,z:R}=h.canonical,L=or/Math.pow(2,R-_),B=(I*c.W+o.anchorY)*L,j=m*c.W*or;return{x:Math.floor((T*c.W+o.anchorX)*L-p*c.W*or),y:Math.floor(B-j)}}findMatches(o,h,p){const m=this.tileID.canonical.z<h.canonical.z?1:Math.pow(2,this.tileID.canonical.z-h.canonical.z);for(let _=0;_<o.length;_++){const T=o.get(_);if(T.crossTileID)continue;const I=this._symbolsByKey[T.key];if(!I)continue;const R=this.getScaledCoordinates(T,h);if(I.index){const L=I.index.range(R.x-m,R.y-m,R.x+m,R.y+m).sort();for(const B of L){const j=I.crossTileIDs[B];if(!p[j]){p[j]=!0,T.crossTileID=j;break}}}else if(I.positions)for(let L=0;L<I.positions.length;L++){const B=I.positions[L],j=I.crossTileIDs[L];if(Math.abs(B.x-R.x)<=m&&Math.abs(B.y-R.y)<=m&&!p[j]){p[j]=!0,T.crossTileID=j;break}}}}getCrossTileIDsLists(){return Object.values(this._symbolsByKey).map(({crossTileIDs:o})=>o)}}class au{constructor(){this.maxCrossTileID=0}generate(){return++this.maxCrossTileID}}class Na{constructor(){this.indexes={},this.usedCrossTileIDs={},this.lng=0}handleWrapJump(o){const h=Math.round((o-this.lng)/360);if(h!==0)for(const p in this.indexes){const m=this.indexes[p],_={};for(const T in m){const I=m[T];I.tileID=I.tileID.unwrapTo(I.tileID.wrap+h),_[I.tileID.key]=I}this.indexes[p]=_}this.lng=o}addBucket(o,h,p){if(this.indexes[o.overscaledZ]&&this.indexes[o.overscaledZ][o.key]){if(this.indexes[o.overscaledZ][o.key].bucketInstanceId===h.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(o.overscaledZ,this.indexes[o.overscaledZ][o.key])}for(let _=0;_<h.symbolInstances.length;_++)h.symbolInstances.get(_).crossTileID=0;this.usedCrossTileIDs[o.overscaledZ]||(this.usedCrossTileIDs[o.overscaledZ]={});const m=this.usedCrossTileIDs[o.overscaledZ];for(const _ in this.indexes){const T=this.indexes[_];if(Number(_)>o.overscaledZ)for(const I in T){const R=T[I];R.tileID.isChildOf(o)&&R.findMatches(h.symbolInstances,o,m)}else{const I=T[o.scaledTo(Number(_)).key];I&&I.findMatches(h.symbolInstances,o,m)}}for(let _=0;_<h.symbolInstances.length;_++){const T=h.symbolInstances.get(_);T.crossTileID||(T.crossTileID=p.generate(),m[T.crossTileID]=!0)}return this.indexes[o.overscaledZ]===void 0&&(this.indexes[o.overscaledZ]={}),this.indexes[o.overscaledZ][o.key]=new Ii(o,h.symbolInstances,h.bucketInstanceId),!0}removeBucketCrossTileIDs(o,h){for(const p of h.getCrossTileIDsLists())for(const m of p)delete this.usedCrossTileIDs[o][m]}removeStaleBuckets(o){let h=!1;for(const p in this.indexes){const m=this.indexes[p];for(const _ in m)o[m[_].bucketInstanceId]||(this.removeBucketCrossTileIDs(p,m[_]),delete m[_],h=!0)}return h}}class li{constructor(){this.layerIndexes={},this.crossTileIDs=new au,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}}addLayer(o,h,p){let m=this.layerIndexes[o.id];m===void 0&&(m=this.layerIndexes[o.id]=new Na);let _=!1;const T={};m.handleWrapJump(p);for(const I of h){const R=I.getBucket(o);R&&o.id===R.layerIds[0]&&(R.bucketInstanceId||(R.bucketInstanceId=++this.maxBucketInstanceId),m.addBucket(I.tileID,R,this.crossTileIDs)&&(_=!0),T[R.bucketInstanceId]=!0)}return m.removeStaleBuckets(T)&&(_=!0),_}pruneUnusedLayers(o){const h={};o.forEach(p=>{h[p]=!0});for(const p in this.layerIndexes)h[p]||delete this.layerIndexes[p]}}const ja=(v,o)=>c.t(v,o&&o.filter(h=>h.identifier!=="source.canvas")),Do=c.av();class Sd extends c.E{constructor(o,h={}){super(),this._rtlPluginLoaded=()=>{for(const p in this.sourceCaches){const m=this.sourceCaches[p].getSource().type;m!=="vector"&&m!=="geojson"||this.sourceCaches[p].reload()}},this.map=o,this.dispatcher=new ei(vn(),o._getMapId()),this.dispatcher.registerMessageHandler("getGlyphs",(p,m)=>this.getGlyphs(p,m)),this.dispatcher.registerMessageHandler("getImages",(p,m)=>this.getImages(p,m)),this.imageManager=new De,this.imageManager.setEventedParent(this),this.glyphManager=new we(o._requestManager,h.localIdeographFontFamily),this.lineAtlas=new Ye(256,512),this.crossTileSymbolIndex=new li,this._spritesImagesIds={},this._layers={},this._order=[],this.sourceCaches={},this.zoomHistory=new c.aw,this._loaded=!1,this._availableImages=[],this._resetUpdates(),this.dispatcher.broadcast("setReferrer",c.ax()),br().on(ha,this._rtlPluginLoaded),this.on("data",p=>{if(p.dataType!=="source"||p.sourceDataType!=="metadata")return;const m=this.sourceCaches[p.sourceId];if(!m)return;const _=m.getSource();if(_&&_.vectorLayerIds)for(const T in this._layers){const I=this._layers[T];I.source===_.id&&this._validateLayer(I)}})}loadURL(o,h={},p){this.fire(new c.k("dataloading",{dataType:"style"})),h.validate=typeof h.validate!="boolean"||h.validate;const m=this.map._requestManager.transformRequest(o,Z.Style);this._loadStyleRequest=new AbortController,c.h(m,this._loadStyleRequest).then(_=>{this._loadStyleRequest=null,this._load(_.data,h,p)}).catch(_=>{this._loadStyleRequest=null,_&&this.fire(new c.j(_))})}loadJSON(o,h={},p){this.fire(new c.k("dataloading",{dataType:"style"})),this._frameRequest=new AbortController,S.frameAsync(this._frameRequest).then(()=>{this._frameRequest=null,h.validate=h.validate!==!1,this._load(o,h,p)}).catch(()=>{})}loadEmpty(){this.fire(new c.k("dataloading",{dataType:"style"})),this._load(Do,{validate:!1})}_load(o,h,p){var m;const _=h.transformStyle?h.transformStyle(p,o):o;if(!h.validate||!ja(this,c.x(_))){this._loaded=!0,this.stylesheet=_;for(const T in _.sources)this.addSource(T,_.sources[T],{validate:!1});_.sprite?this._loadSprite(_.sprite):this.imageManager.setLoaded(!0),this.glyphManager.setURL(_.glyphs),this._createLayers(),this.light=new qe(this.stylesheet.light),this.map.setTerrain((m=this.stylesheet.terrain)!==null&&m!==void 0?m:null),this.fire(new c.k("data",{dataType:"style"})),this.fire(new c.k("style.load"))}}_createLayers(){const o=c.ay(this.stylesheet.layers);this.dispatcher.broadcast("setLayers",o),this._order=o.map(h=>h.id),this._layers={},this._serializedLayers=null;for(const h of o){const p=c.az(h);p.setEventedParent(this,{layer:{id:h.id}}),this._layers[h.id]=p}}_loadSprite(o,h=!1,p=void 0){let m;this.imageManager.setLoaded(!1),this._spriteRequest=new AbortController,function(_,T,I,R){return c._(this,void 0,void 0,function*(){const L=Fe(_),B=I>1?"@2x":"",j={},K={};for(const{id:le,url:se}of L){const de=T.transformRequest(T.normalizeSpriteURL(se,B,".json"),Z.SpriteJSON);j[le]=c.h(de,R);const ee=T.transformRequest(T.normalizeSpriteURL(se,B,".png"),Z.SpriteImage);K[le]=V.getImage(ee,R)}return yield Promise.all([...Object.values(j),...Object.values(K)]),function(le,se){return c._(this,void 0,void 0,function*(){const de={};for(const ee in le){de[ee]={};const ye=S.getImageCanvasContext((yield se[ee]).data),Ae=(yield le[ee]).data;for(const he in Ae){const{width:Se,height:Me,x:ze,y:je,sdf:tt,pixelRatio:Xe,stretchX:Je,stretchY:vt,content:Xt}=Ae[he];de[ee][he]={data:null,pixelRatio:Xe,sdf:tt,stretchX:Je,stretchY:vt,content:Xt,spriteData:{width:Se,height:Me,x:ze,y:je,context:ye}}}}return de})}(j,K)})}(o,this.map._requestManager,this.map.getPixelRatio(),this._spriteRequest).then(_=>{if(this._spriteRequest=null,_)for(const T in _){this._spritesImagesIds[T]=[];const I=this._spritesImagesIds[T]?this._spritesImagesIds[T].filter(R=>!(R in _)):[];for(const R of I)this.imageManager.removeImage(R),this._changedImages[R]=!0;for(const R in _[T]){const L=T==="default"?R:"".concat(T,":").concat(R);this._spritesImagesIds[T].push(L),L in this.imageManager.images?this.imageManager.updateImage(L,_[T][R],!1):this.imageManager.addImage(L,_[T][R]),h&&(this._changedImages[L]=!0)}}}).catch(_=>{this._spriteRequest=null,m=_,this.fire(new c.j(m))}).finally(()=>{this.imageManager.setLoaded(!0),this._availableImages=this.imageManager.listImages(),h&&(this._changed=!0),this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new c.k("data",{dataType:"style"})),p&&p(m)})}_unloadSprite(){for(const o of Object.values(this._spritesImagesIds).flat())this.imageManager.removeImage(o),this._changedImages[o]=!0;this._spritesImagesIds={},this._availableImages=this.imageManager.listImages(),this._changed=!0,this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new c.k("data",{dataType:"style"}))}_validateLayer(o){const h=this.sourceCaches[o.source];if(!h)return;const p=o.sourceLayer;if(!p)return;const m=h.getSource();(m.type==="geojson"||m.vectorLayerIds&&m.vectorLayerIds.indexOf(p)===-1)&&this.fire(new c.j(new Error('Source layer "'.concat(p,'" does not exist on source "').concat(m.id,'" as specified by style layer "').concat(o.id,'".'))))}loaded(){if(!this._loaded||Object.keys(this._updatedSources).length)return!1;for(const o in this.sourceCaches)if(!this.sourceCaches[o].loaded())return!1;return!!this.imageManager.isLoaded()}_serializeByIds(o){const h=this._serializedAllLayers();if(!o||o.length===0)return Object.values(h);const p=[];for(const m of o)h[m]&&p.push(h[m]);return p}_serializedAllLayers(){let o=this._serializedLayers;if(o)return o;o=this._serializedLayers={};const h=Object.keys(this._layers);for(const p of h){const m=this._layers[p];m.type!=="custom"&&(o[p]=m.serialize())}return o}hasTransitions(){if(this.light&&this.light.hasTransition())return!0;for(const o in this.sourceCaches)if(this.sourceCaches[o].hasTransition())return!0;for(const o in this._layers)if(this._layers[o].hasTransition())return!0;return!1}_checkLoaded(){if(!this._loaded)throw new Error("Style is not done loading.")}update(o){if(!this._loaded)return;const h=this._changed;if(this._changed){const m=Object.keys(this._updatedLayers),_=Object.keys(this._removedLayers);(m.length||_.length)&&this._updateWorkerLayers(m,_);for(const T in this._updatedSources){const I=this._updatedSources[T];if(I==="reload")this._reloadSource(T);else{if(I!=="clear")throw new Error("Invalid action ".concat(I));this._clearSource(T)}}this._updateTilesForChangedImages(),this._updateTilesForChangedGlyphs();for(const T in this._updatedPaintProps)this._layers[T].updateTransitions(o);this.light.updateTransitions(o),this._resetUpdates()}const p={};for(const m in this.sourceCaches){const _=this.sourceCaches[m];p[m]=_.used,_.used=!1}for(const m of this._order){const _=this._layers[m];_.recalculate(o,this._availableImages),!_.isHidden(o.zoom)&&_.source&&(this.sourceCaches[_.source].used=!0)}for(const m in p){const _=this.sourceCaches[m];p[m]!==_.used&&_.fire(new c.k("data",{sourceDataType:"visibility",dataType:"source",sourceId:m}))}this.light.recalculate(o),this.z=o.zoom,h&&this.fire(new c.k("data",{dataType:"style"}))}_updateTilesForChangedImages(){const o=Object.keys(this._changedImages);if(o.length){for(const h in this.sourceCaches)this.sourceCaches[h].reloadTilesForDependencies(["icons","patterns"],o);this._changedImages={}}}_updateTilesForChangedGlyphs(){if(this._glyphsDidChange){for(const o in this.sourceCaches)this.sourceCaches[o].reloadTilesForDependencies(["glyphs"],[""]);this._glyphsDidChange=!1}}_updateWorkerLayers(o,h){this.dispatcher.broadcast("updateLayers",{layers:this._serializeByIds(o),removedIds:h})}_resetUpdates(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={},this._changedImages={},this._glyphsDidChange=!1}setState(o,h={}){var p;this._checkLoaded();const m=this.serialize();if(o=h.transformStyle?h.transformStyle(m,o):o,((p=h.validate)===null||p===void 0||p)&&ja(this,c.x(o)))return!1;(o=c.aA(o)).layers=c.ay(o.layers);const _=c.aB(m,o),T=this._getOperationsToPerform(_);if(T.unimplemented.length>0)throw new Error("Unimplemented: ".concat(T.unimplemented.join(", "),"."));if(T.operations.length===0)return!1;for(const I of T.operations)I();return this.stylesheet=o,this._serializedLayers=null,!0}_getOperationsToPerform(o){const h=[],p=[];for(const m of o)switch(m.command){case"setCenter":case"setZoom":case"setBearing":case"setPitch":continue;case"addLayer":h.push(()=>this.addLayer.apply(this,m.args));break;case"removeLayer":h.push(()=>this.removeLayer.apply(this,m.args));break;case"setPaintProperty":h.push(()=>this.setPaintProperty.apply(this,m.args));break;case"setLayoutProperty":h.push(()=>this.setLayoutProperty.apply(this,m.args));break;case"setFilter":h.push(()=>this.setFilter.apply(this,m.args));break;case"addSource":h.push(()=>this.addSource.apply(this,m.args));break;case"removeSource":h.push(()=>this.removeSource.apply(this,m.args));break;case"setLayerZoomRange":h.push(()=>this.setLayerZoomRange.apply(this,m.args));break;case"setLight":h.push(()=>this.setLight.apply(this,m.args));break;case"setGeoJSONSourceData":h.push(()=>this.setGeoJSONSourceData.apply(this,m.args));break;case"setGlyphs":h.push(()=>this.setGlyphs.apply(this,m.args));break;case"setSprite":h.push(()=>this.setSprite.apply(this,m.args));break;case"setTerrain":h.push(()=>this.map.setTerrain.apply(this,m.args));break;case"setTransition":h.push(()=>{});break;default:p.push(m.command)}return{operations:h,unimplemented:p}}addImage(o,h){if(this.getImage(o))return this.fire(new c.j(new Error('An image named "'.concat(o,'" already exists.'))));this.imageManager.addImage(o,h),this._afterImageUpdated(o)}updateImage(o,h){this.imageManager.updateImage(o,h)}getImage(o){return this.imageManager.getImage(o)}removeImage(o){if(!this.getImage(o))return this.fire(new c.j(new Error('An image named "'.concat(o,'" does not exist.'))));this.imageManager.removeImage(o),this._afterImageUpdated(o)}_afterImageUpdated(o){this._availableImages=this.imageManager.listImages(),this._changedImages[o]=!0,this._changed=!0,this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new c.k("data",{dataType:"style"}))}listImages(){return this._checkLoaded(),this.imageManager.listImages()}addSource(o,h,p={}){if(this._checkLoaded(),this.sourceCaches[o]!==void 0)throw new Error('Source "'.concat(o,'" already exists.'));if(!h.type)throw new Error("The type property must be defined, but only the following properties were given: ".concat(Object.keys(h).join(", "),"."));if(["vector","raster","geojson","video","image"].indexOf(h.type)>=0&&this._validate(c.x.source,"sources.".concat(o),h,null,p))return;this.map&&this.map._collectResourceTiming&&(h.collectResourceTiming=!0);const m=this.sourceCaches[o]=new nt(o,h,this.dispatcher);m.style=this,m.setEventedParent(this,()=>({isSourceLoaded:m.loaded(),source:m.serialize(),sourceId:o})),m.onAdd(this.map),this._changed=!0}removeSource(o){if(this._checkLoaded(),this.sourceCaches[o]===void 0)throw new Error("There is no source with this ID");for(const p in this._layers)if(this._layers[p].source===o)return this.fire(new c.j(new Error('Source "'.concat(o,'" cannot be removed while layer "').concat(p,'" is using it.'))));const h=this.sourceCaches[o];delete this.sourceCaches[o],delete this._updatedSources[o],h.fire(new c.k("data",{sourceDataType:"metadata",dataType:"source",sourceId:o})),h.setEventedParent(null),h.onRemove(this.map),this._changed=!0}setGeoJSONSourceData(o,h){if(this._checkLoaded(),this.sourceCaches[o]===void 0)throw new Error("There is no source with this ID=".concat(o));const p=this.sourceCaches[o].getSource();if(p.type!=="geojson")throw new Error("geojsonSource.type is ".concat(p.type,", which is !== 'geojson"));p.setData(h),this._changed=!0}getSource(o){return this.sourceCaches[o]&&this.sourceCaches[o].getSource()}addLayer(o,h,p={}){this._checkLoaded();const m=o.id;if(this.getLayer(m))return void this.fire(new c.j(new Error('Layer "'.concat(m,'" already exists on this map.'))));let _;if(o.type==="custom"){if(ja(this,c.aC(o)))return;_=c.az(o)}else{if("source"in o&&typeof o.source=="object"&&(this.addSource(m,o.source),o=c.aA(o),o=c.e(o,{source:m})),this._validate(c.x.layer,"layers.".concat(m),o,{arrayIndex:-1},p))return;_=c.az(o),this._validateLayer(_),_.setEventedParent(this,{layer:{id:m}})}const T=h?this._order.indexOf(h):this._order.length;if(h&&T===-1)this.fire(new c.j(new Error('Cannot add layer "'.concat(m,'" before non-existing layer "').concat(h,'".'))));else{if(this._order.splice(T,0,m),this._layerOrderChanged=!0,this._layers[m]=_,this._removedLayers[m]&&_.source&&_.type!=="custom"){const I=this._removedLayers[m];delete this._removedLayers[m],I.type!==_.type?this._updatedSources[_.source]="clear":(this._updatedSources[_.source]="reload",this.sourceCaches[_.source].pause())}this._updateLayer(_),_.onAdd&&_.onAdd(this.map)}}moveLayer(o,h){if(this._checkLoaded(),this._changed=!0,!this._layers[o])return void this.fire(new c.j(new Error("The layer '".concat(o,"' does not exist in the map's style and cannot be moved."))));if(o===h)return;const p=this._order.indexOf(o);this._order.splice(p,1);const m=h?this._order.indexOf(h):this._order.length;h&&m===-1?this.fire(new c.j(new Error('Cannot move layer "'.concat(o,'" before non-existing layer "').concat(h,'".')))):(this._order.splice(m,0,o),this._layerOrderChanged=!0)}removeLayer(o){this._checkLoaded();const h=this._layers[o];if(!h)return void this.fire(new c.j(new Error('Cannot remove non-existing layer "'.concat(o,'".'))));h.setEventedParent(null);const p=this._order.indexOf(o);this._order.splice(p,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[o]=h,delete this._layers[o],this._serializedLayers&&delete this._serializedLayers[o],delete this._updatedLayers[o],delete this._updatedPaintProps[o],h.onRemove&&h.onRemove(this.map)}getLayer(o){return this._layers[o]}getLayersOrder(){return[...this._order]}hasLayer(o){return o in this._layers}setLayerZoomRange(o,h,p){this._checkLoaded();const m=this.getLayer(o);m?m.minzoom===h&&m.maxzoom===p||(h!=null&&(m.minzoom=h),p!=null&&(m.maxzoom=p),this._updateLayer(m)):this.fire(new c.j(new Error('Cannot set the zoom range of non-existing layer "'.concat(o,'".'))))}setFilter(o,h,p={}){this._checkLoaded();const m=this.getLayer(o);if(m){if(!c.aD(m.filter,h))return h==null?(m.filter=void 0,void this._updateLayer(m)):void(this._validate(c.x.filter,"layers.".concat(m.id,".filter"),h,null,p)||(m.filter=c.aA(h),this._updateLayer(m)))}else this.fire(new c.j(new Error('Cannot filter non-existing layer "'.concat(o,'".'))))}getFilter(o){return c.aA(this.getLayer(o).filter)}setLayoutProperty(o,h,p,m={}){this._checkLoaded();const _=this.getLayer(o);_?c.aD(_.getLayoutProperty(h),p)||(_.setLayoutProperty(h,p,m),this._updateLayer(_)):this.fire(new c.j(new Error('Cannot style non-existing layer "'.concat(o,'".'))))}getLayoutProperty(o,h){const p=this.getLayer(o);if(p)return p.getLayoutProperty(h);this.fire(new c.j(new Error('Cannot get style of non-existing layer "'.concat(o,'".'))))}setPaintProperty(o,h,p,m={}){this._checkLoaded();const _=this.getLayer(o);_?c.aD(_.getPaintProperty(h),p)||(_.setPaintProperty(h,p,m)&&this._updateLayer(_),this._changed=!0,this._updatedPaintProps[o]=!0):this.fire(new c.j(new Error('Cannot style non-existing layer "'.concat(o,'".'))))}getPaintProperty(o,h){return this.getLayer(o).getPaintProperty(h)}setFeatureState(o,h){this._checkLoaded();const p=o.source,m=o.sourceLayer,_=this.sourceCaches[p];if(_===void 0)return void this.fire(new c.j(new Error("The source '".concat(p,"' does not exist in the map's style."))));const T=_.getSource().type;T==="geojson"&&m?this.fire(new c.j(new Error("GeoJSON sources cannot have a sourceLayer parameter."))):T!=="vector"||m?(o.id===void 0&&this.fire(new c.j(new Error("The feature id parameter must be provided."))),_.setFeatureState(m,o.id,h)):this.fire(new c.j(new Error("The sourceLayer parameter must be provided for vector source types.")))}removeFeatureState(o,h){this._checkLoaded();const p=o.source,m=this.sourceCaches[p];if(m===void 0)return void this.fire(new c.j(new Error("The source '".concat(p,"' does not exist in the map's style."))));const _=m.getSource().type,T=_==="vector"?o.sourceLayer:void 0;_!=="vector"||T?h&&typeof o.id!="string"&&typeof o.id!="number"?this.fire(new c.j(new Error("A feature id is required to remove its specific state property."))):m.removeFeatureState(T,o.id,h):this.fire(new c.j(new Error("The sourceLayer parameter must be provided for vector source types.")))}getFeatureState(o){this._checkLoaded();const h=o.source,p=o.sourceLayer,m=this.sourceCaches[h];if(m!==void 0)return m.getSource().type!=="vector"||p?(o.id===void 0&&this.fire(new c.j(new Error("The feature id parameter must be provided."))),m.getFeatureState(p,o.id)):void this.fire(new c.j(new Error("The sourceLayer parameter must be provided for vector source types.")));this.fire(new c.j(new Error("The source '".concat(h,"' does not exist in the map's style."))))}getTransition(){return c.e({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)}serialize(){if(!this._loaded)return;const o=c.aE(this.sourceCaches,_=>_.serialize()),h=this._serializeByIds(this._order),p=this.map.getTerrain()||void 0,m=this.stylesheet;return c.aF({version:m.version,name:m.name,metadata:m.metadata,light:m.light,center:m.center,zoom:m.zoom,bearing:m.bearing,pitch:m.pitch,sprite:m.sprite,glyphs:m.glyphs,transition:m.transition,sources:o,layers:h,terrain:p},_=>_!==void 0)}_updateLayer(o){this._updatedLayers[o.id]=!0,o.source&&!this._updatedSources[o.source]&&this.sourceCaches[o.source].getSource().type!=="raster"&&(this._updatedSources[o.source]="reload",this.sourceCaches[o.source].pause()),this._serializedLayers=null,this._changed=!0}_flattenAndSortRenderedFeatures(o){const h=T=>this._layers[T].type==="fill-extrusion",p={},m=[];for(let T=this._order.length-1;T>=0;T--){const I=this._order[T];if(h(I)){p[I]=T;for(const R of o){const L=R[I];if(L)for(const B of L)m.push(B)}}}m.sort((T,I)=>I.intersectionZ-T.intersectionZ);const _=[];for(let T=this._order.length-1;T>=0;T--){const I=this._order[T];if(h(I))for(let R=m.length-1;R>=0;R--){const L=m[R].feature;if(p[L.layer.id]<T)break;_.push(L),m.pop()}else for(const R of o){const L=R[I];if(L)for(const B of L)_.push(B.feature)}}return _}queryRenderedFeatures(o,h,p){h&&h.filter&&this._validate(c.x.filter,"queryRenderedFeatures.filter",h.filter,null,h);const m={};if(h&&h.layers){if(!Array.isArray(h.layers))return this.fire(new c.j(new Error("parameters.layers must be an Array."))),[];for(const I of h.layers){const R=this._layers[I];if(!R)return this.fire(new c.j(new Error("The layer '".concat(I,"' does not exist in the map's style and cannot be queried for features.")))),[];m[R.source]=!0}}const _=[];h.availableImages=this._availableImages;const T=this._serializedAllLayers();for(const I in this.sourceCaches)h.layers&&!m[I]||_.push(ot(this.sourceCaches[I],this._layers,T,o,h,p));return this.placement&&_.push(function(I,R,L,B,j,K,le){const se={},de=K.queryRenderedSymbols(B),ee=[];for(const ye of Object.keys(de).map(Number))ee.push(le[ye]);ee.sort($t);for(const ye of ee){const Ae=ye.featureIndex.lookupSymbolFeatures(de[ye.bucketInstanceId],R,ye.bucketIndex,ye.sourceLayerIndex,j.filter,j.layers,j.availableImages,I);for(const he in Ae){const Se=se[he]=se[he]||[],Me=Ae[he];Me.sort((ze,je)=>{const tt=ye.featureSortOrder;if(tt){const Xe=tt.indexOf(ze.featureIndex);return tt.indexOf(je.featureIndex)-Xe}return je.featureIndex-ze.featureIndex});for(const ze of Me)Se.push(ze)}}for(const ye in se)se[ye].forEach(Ae=>{const he=Ae.feature,Se=L[I[ye].source].getFeatureState(he.layer["source-layer"],he.id);he.source=he.layer.source,he.layer["source-layer"]&&(he.sourceLayer=he.layer["source-layer"]),he.state=Se});return se}(this._layers,T,this.sourceCaches,o,h,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenAndSortRenderedFeatures(_)}querySourceFeatures(o,h){h&&h.filter&&this._validate(c.x.filter,"querySourceFeatures.filter",h.filter,null,h);const p=this.sourceCaches[o];return p?function(m,_){const T=m.getRenderableIds().map(L=>m.getTileByID(L)),I=[],R={};for(let L=0;L<T.length;L++){const B=T[L],j=B.tileID.canonical.key;R[j]||(R[j]=!0,B.querySourceFeatures(I,_))}return I}(p,h):[]}getLight(){return this.light.getLight()}setLight(o,h={}){this._checkLoaded();const p=this.light.getLight();let m=!1;for(const T in o)if(!c.aD(o[T],p[T])){m=!0;break}if(!m)return;const _={now:S.now(),transition:c.e({duration:300,delay:0},this.stylesheet.transition)};this.light.setLight(o,h),this.light.updateTransitions(_)}_validate(o,h,p,m,_={}){return(!_||_.validate!==!1)&&ja(this,o.call(c.x,c.e({key:h,style:this.serialize(),value:p,styleSpec:c.v},m)))}_remove(o=!0){this._frameRequest&&(this._frameRequest.abort(),this._frameRequest=null),this._loadStyleRequest&&(this._loadStyleRequest.abort(),this._loadStyleRequest=null),this._spriteRequest&&(this._spriteRequest.abort(),this._spriteRequest=null),br().off(ha,this._rtlPluginLoaded);for(const h in this._layers)this._layers[h].setEventedParent(null);for(const h in this.sourceCaches){const p=this.sourceCaches[h];p.setEventedParent(null),p.onRemove(this.map)}this.imageManager.setEventedParent(null),this.setEventedParent(null),o&&this.dispatcher.broadcast("removeMap",void 0),this.dispatcher.remove(o)}_clearSource(o){this.sourceCaches[o].clearTiles()}_reloadSource(o){this.sourceCaches[o].resume(),this.sourceCaches[o].reload()}_updateSources(o){for(const h in this.sourceCaches)this.sourceCaches[h].update(o,this.map.terrain)}_generateCollisionBoxes(){for(const o in this.sourceCaches)this._reloadSource(o)}_updatePlacement(o,h,p,m,_=!1){let T=!1,I=!1;const R={};for(const L of this._order){const B=this._layers[L];if(B.type!=="symbol")continue;if(!R[B.source]){const K=this.sourceCaches[B.source];R[B.source]=K.getRenderableIds(!0).map(le=>K.getTileByID(le)).sort((le,se)=>se.tileID.overscaledZ-le.tileID.overscaledZ||(le.tileID.isLessThan(se.tileID)?-1:1))}const j=this.crossTileSymbolIndex.addLayer(B,R[B.source],o.center.lng);T=T||j}if(this.crossTileSymbolIndex.pruneUnusedLayers(this._order),((_=_||this._layerOrderChanged||p===0)||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(S.now(),o.zoom))&&(this.pauseablePlacement=new xr(o,this.map.terrain,this._order,_,h,p,m,this.placement),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,R),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(S.now()),I=!0),T&&this.pauseablePlacement.placement.setStale()),I||T)for(const L of this._order){const B=this._layers[L];B.type==="symbol"&&this.placement.updateLayerOpacities(B,R[B.source])}return!this.pauseablePlacement.isDone()||this.placement.hasTransitions(S.now())}_releaseSymbolFadeTiles(){for(const o in this.sourceCaches)this.sourceCaches[o].releaseSymbolFadeTiles()}getImages(o,h){return c._(this,void 0,void 0,function*(){const p=yield this.imageManager.getImages(h.icons);this._updateTilesForChangedImages();const m=this.sourceCaches[h.source];return m&&m.setDependencies(h.tileID.key,h.type,h.icons),p})}getGlyphs(o,h){return c._(this,void 0,void 0,function*(){const p=yield this.glyphManager.getGlyphs(h.stacks),m=this.sourceCaches[h.source];return m&&m.setDependencies(h.tileID.key,h.type,[""]),p})}getGlyphsUrl(){return this.stylesheet.glyphs||null}setGlyphs(o,h={}){this._checkLoaded(),o&&this._validate(c.x.glyphs,"glyphs",o,null,h)||(this._glyphsDidChange=!0,this.stylesheet.glyphs=o,this.glyphManager.entries={},this.glyphManager.setURL(o))}addSprite(o,h,p={},m){this._checkLoaded();const _=[{id:o,url:h}],T=[...Fe(this.stylesheet.sprite),..._];this._validate(c.x.sprite,"sprite",T,null,p)||(this.stylesheet.sprite=T,this._loadSprite(_,!0,m))}removeSprite(o){this._checkLoaded();const h=Fe(this.stylesheet.sprite);if(h.find(p=>p.id===o)){if(this._spritesImagesIds[o])for(const p of this._spritesImagesIds[o])this.imageManager.removeImage(p),this._changedImages[p]=!0;h.splice(h.findIndex(p=>p.id===o),1),this.stylesheet.sprite=h.length>0?h:void 0,delete this._spritesImagesIds[o],this._availableImages=this.imageManager.listImages(),this._changed=!0,this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new c.k("data",{dataType:"style"}))}else this.fire(new c.j(new Error('Sprite "'.concat(o,"\" doesn't exists on this map."))))}getSprite(){return Fe(this.stylesheet.sprite)}setSprite(o,h={},p){this._checkLoaded(),o&&this._validate(c.x.sprite,"sprite",o,null,h)||(this.stylesheet.sprite=o,o?this._loadSprite(o,!0,p):(this._unloadSprite(),p&&p(null)))}}var as=c.X([{name:"a_pos",type:"Int16",components:2}]),Mf="attribute vec3 a_pos3d;uniform mat4 u_matrix;uniform float u_ele_delta;varying vec2 v_texture_pos;varying float v_depth;void main() {float extent=8192.0;float ele_delta=a_pos3d.z==1.0 ? u_ele_delta : 0.0;v_texture_pos=a_pos3d.xy/extent;gl_Position=u_matrix*vec4(a_pos3d.xy,get_elevation(a_pos3d.xy)-ele_delta,1.0);v_depth=gl_Position.z/gl_Position.w;}";const Ll={prelude:Sn("#ifdef GL_ES\nprecision mediump float;\n#else\n#if !defined(lowp)\n#define lowp\n#endif\n#if !defined(mediump)\n#define mediump\n#endif\n#if !defined(highp)\n#define highp\n#endif\n#endif\n","#ifdef GL_ES\nprecision highp float;\n#else\n#if !defined(lowp)\n#define lowp\n#endif\n#if !defined(mediump)\n#define mediump\n#endif\n#if !defined(highp)\n#define highp\n#endif\n#endif\nvec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(unpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0\n);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}\n#ifdef TERRAIN3D\nuniform sampler2D u_terrain;uniform float u_terrain_dim;uniform mat4 u_terrain_matrix;uniform vec4 u_terrain_unpack;uniform float u_terrain_exaggeration;uniform highp sampler2D u_depth;\n#endif\nconst highp vec4 bitSh=vec4(256.*256.*256.,256.*256.,256.,1.);const highp vec4 bitShifts=vec4(1.)/bitSh;highp float unpack(highp vec4 color) {return dot(color,bitShifts);}highp float depthOpacity(vec3 frag) {\n#ifdef TERRAIN3D\nhighp float d=unpack(texture2D(u_depth,frag.xy*0.5+0.5))+0.0001-frag.z;return 1.0-max(0.0,min(1.0,-d*500.0));\n#else\nreturn 1.0;\n#endif\n}float calculate_visibility(vec4 pos) {\n#ifdef TERRAIN3D\nvec3 frag=pos.xyz/pos.w;highp float d=depthOpacity(frag);if (d > 0.95) return 1.0;return (d+depthOpacity(frag+vec3(0.0,0.01,0.0)))/2.0;\n#else\nreturn 1.0;\n#endif\n}float ele(vec2 pos) {\n#ifdef TERRAIN3D\nvec4 rgb=(texture2D(u_terrain,pos)*255.0)*u_terrain_unpack;return rgb.r+rgb.g+rgb.b-u_terrain_unpack.a;\n#else\nreturn 0.0;\n#endif\n}float get_elevation(vec2 pos) {\n#ifdef TERRAIN3D\nvec2 coord=(u_terrain_matrix*vec4(pos,0.0,1.0)).xy*u_terrain_dim+1.0;vec2 f=fract(coord);vec2 c=(floor(coord)+0.5)/(u_terrain_dim+2.0);float d=1.0/(u_terrain_dim+2.0);float tl=ele(c);float tr=ele(c+vec2(d,0.0));float bl=ele(c+vec2(0.0,d));float br=ele(c+vec2(d,d));float elevation=mix(mix(tl,tr,f.x),mix(bl,br,f.x),f.y);return elevation*u_terrain_exaggeration;\n#else\nreturn 0.0;\n#endif\n}"),background:Sn("uniform vec4 u_color;uniform float u_opacity;void main() {gl_FragColor=u_color*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),backgroundPattern:Sn("uniform vec2 u_pattern_tl_a;uniform vec2 u_pattern_br_a;uniform vec2 u_pattern_tl_b;uniform vec2 u_pattern_br_b;uniform vec2 u_texsize;uniform float u_mix;uniform float u_opacity;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(u_pattern_tl_a/u_texsize,u_pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(u_pattern_tl_b/u_texsize,u_pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_mix)*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pattern_size_a;uniform vec2 u_pattern_size_b;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_scale_a;uniform float u_scale_b;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_a*u_pattern_size_a,u_tile_units_to_pixels,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_b*u_pattern_size_b,u_tile_units_to_pixels,a_pos);}"),circle:Sn("varying vec3 v_data;varying float v_visibility;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define mediump float radius\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define highp vec4 stroke_color\n#pragma mapbox: define mediump float stroke_width\n#pragma mapbox: define lowp float stroke_opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize mediump float radius\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize highp vec4 stroke_color\n#pragma mapbox: initialize mediump float stroke_width\n#pragma mapbox: initialize lowp float stroke_opacity\nvec2 extrude=v_data.xy;float extrude_length=length(extrude);lowp float antialiasblur=v_data.z;float antialiased_blur=-max(blur,antialiasblur);float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(antialiased_blur,0.0,extrude_length-radius/(radius+stroke_width));gl_FragColor=v_visibility*opacity_t*mix(color*opacity,stroke_color*stroke_opacity,color_t);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform bool u_scale_with_map;uniform bool u_pitch_with_map;uniform vec2 u_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;attribute vec2 a_pos;varying vec3 v_data;varying float v_visibility;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define mediump float radius\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define highp vec4 stroke_color\n#pragma mapbox: define mediump float stroke_width\n#pragma mapbox: define lowp float stroke_opacity\nvoid main(void) {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize mediump float radius\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize highp vec4 stroke_color\n#pragma mapbox: initialize mediump float stroke_width\n#pragma mapbox: initialize lowp float stroke_opacity\nvec2 extrude=vec2(mod(a_pos,2.0)*2.0-1.0);vec2 circle_center=floor(a_pos*0.5);float ele=get_elevation(circle_center);v_visibility=calculate_visibility(u_matrix*vec4(circle_center,ele,1.0));if (u_pitch_with_map) {vec2 corner_position=circle_center;if (u_scale_with_map) {corner_position+=extrude*(radius+stroke_width)*u_extrude_scale;} else {vec4 projected_center=u_matrix*vec4(circle_center,0,1);corner_position+=extrude*(radius+stroke_width)*u_extrude_scale*(projected_center.w/u_camera_to_center_distance);}gl_Position=u_matrix*vec4(corner_position,ele,1);} else {gl_Position=u_matrix*vec4(circle_center,ele,1);if (u_scale_with_map) {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*u_camera_to_center_distance;} else {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*gl_Position.w;}}lowp float antialiasblur=1.0/u_device_pixel_ratio/(radius+stroke_width);v_data=vec3(extrude.x,extrude.y,antialiasblur);}"),clippingMask:Sn("void main() {gl_FragColor=vec4(1.0);}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),heatmap:Sn("uniform highp float u_intensity;varying vec2 v_extrude;\n#pragma mapbox: define highp float weight\n#define GAUSS_COEF 0.3989422804014327\nvoid main() {\n#pragma mapbox: initialize highp float weight\nfloat d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);gl_FragColor=vec4(val,1.0,1.0,1.0);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;attribute vec2 a_pos;varying vec2 v_extrude;\n#pragma mapbox: define highp float weight\n#pragma mapbox: define mediump float radius\nconst highp float ZERO=1.0/255.0/16.0;\n#define GAUSS_COEF 0.3989422804014327\nvoid main(void) {\n#pragma mapbox: initialize highp float weight\n#pragma mapbox: initialize mediump float radius\nvec2 unscaled_extrude=vec2(mod(a_pos,2.0)*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec4 pos=vec4(floor(a_pos*0.5)+extrude,0,1);gl_Position=u_matrix*pos;}"),heatmapTexture:Sn("uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;varying vec2 v_pos;void main() {float t=texture2D(u_image,v_pos).r;vec4 color=texture2D(u_color_ramp,vec2(t,0.5));gl_FragColor=color*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(0.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_world;attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos*u_world,0,1);v_pos.x=a_pos.x;v_pos.y=1.0-a_pos.y;}"),collisionBox:Sn("varying float v_placed;varying float v_notUsed;void main() {float alpha=0.5;gl_FragColor=vec4(1.0,0.0,0.0,1.0)*alpha;if (v_placed > 0.5) {gl_FragColor=vec4(0.0,0.0,1.0,0.5)*alpha;}if (v_notUsed > 0.5) {gl_FragColor*=.1;}}","attribute vec2 a_pos;attribute vec2 a_anchor_pos;attribute vec2 a_extrude;attribute vec2 a_placed;attribute vec2 a_shift;uniform mat4 u_matrix;uniform vec2 u_extrude_scale;uniform float u_camera_to_center_distance;varying float v_placed;varying float v_notUsed;void main() {vec4 projectedPoint=u_matrix*vec4(a_anchor_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);gl_Position=u_matrix*vec4(a_pos,get_elevation(a_pos),1.0);gl_Position.xy+=(a_extrude+a_shift)*u_extrude_scale*gl_Position.w*collision_perspective_ratio;v_placed=a_placed.x;v_notUsed=a_placed.y;}"),collisionCircle:Sn("varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;void main() {float alpha=0.5*min(v_perspective_ratio,1.0);float stroke_radius=0.9*max(v_perspective_ratio,1.0);float distance_to_center=length(v_extrude);float distance_to_edge=abs(distance_to_center-v_radius);float opacity_t=smoothstep(-stroke_radius,0.0,-distance_to_edge);vec4 color=mix(vec4(0.0,0.0,1.0,0.5),vec4(1.0,0.0,0.0,1.0),v_collision);gl_FragColor=color*alpha*opacity_t;}","attribute vec2 a_pos;attribute float a_radius;attribute vec2 a_flags;uniform mat4 u_matrix;uniform mat4 u_inv_matrix;uniform vec2 u_viewport_size;uniform float u_camera_to_center_distance;varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;vec3 toTilePosition(vec2 screenPos) {vec4 rayStart=u_inv_matrix*vec4(screenPos,-1.0,1.0);vec4 rayEnd  =u_inv_matrix*vec4(screenPos, 1.0,1.0);rayStart.xyz/=rayStart.w;rayEnd.xyz  /=rayEnd.w;highp float t=(0.0-rayStart.z)/(rayEnd.z-rayStart.z);return mix(rayStart.xyz,rayEnd.xyz,t);}void main() {vec2 quadCenterPos=a_pos;float radius=a_radius;float collision=a_flags.x;float vertexIdx=a_flags.y;vec2 quadVertexOffset=vec2(mix(-1.0,1.0,float(vertexIdx >=2.0)),mix(-1.0,1.0,float(vertexIdx >=1.0 && vertexIdx <=2.0)));vec2 quadVertexExtent=quadVertexOffset*radius;vec3 tilePos=toTilePosition(quadCenterPos);vec4 clipPos=u_matrix*vec4(tilePos,1.0);highp float camera_to_anchor_distance=clipPos.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);float padding_factor=1.2;v_radius=radius;v_extrude=quadVertexExtent*padding_factor;v_perspective_ratio=collision_perspective_ratio;v_collision=collision;gl_Position=vec4(clipPos.xyz/clipPos.w,1.0)+vec4(quadVertexExtent*padding_factor/u_viewport_size*2.0,0.0,0.0);}"),debug:Sn("uniform highp vec4 u_color;uniform sampler2D u_overlay;varying vec2 v_uv;void main() {vec4 overlay_color=texture2D(u_overlay,v_uv);gl_FragColor=mix(u_color,overlay_color,overlay_color.a);}","attribute vec2 a_pos;varying vec2 v_uv;uniform mat4 u_matrix;uniform float u_overlay_scale;void main() {v_uv=a_pos/8192.0;gl_Position=u_matrix*vec4(a_pos*u_overlay_scale,get_elevation(a_pos),1);}"),fill:Sn("#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float opacity\ngl_FragColor=color*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float opacity\ngl_Position=u_matrix*vec4(a_pos,0,1);}"),fillOutline:Sn("varying vec2 v_pos;\n#pragma mapbox: define highp vec4 outline_color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 outline_color\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=outline_color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;uniform vec2 u_world;varying vec2 v_pos;\n#pragma mapbox: define highp vec4 outline_color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 outline_color\n#pragma mapbox: initialize lowp float opacity\ngl_Position=u_matrix*vec4(a_pos,0,1);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}"),fillOutlinePattern:Sn("uniform vec2 u_texsize;uniform sampler2D u_image;uniform float u_fade;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=mix(color1,color2,u_fade)*alpha*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;gl_Position=u_matrix*vec4(a_pos,0,1);vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,a_pos);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}"),fillPattern:Sn("#ifdef GL_ES\nprecision highp float;\n#endif\nuniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_fade)*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileZoomRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileZoomRatio,a_pos);}"),fillExtrusion:Sn("varying vec4 v_color;void main() {gl_FragColor=v_color;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;attribute vec2 a_pos;attribute vec4 a_normal_ed;\n#ifdef TERRAIN3D\nattribute vec2 a_centroid;\n#endif\nvarying vec4 v_color;\n#pragma mapbox: define highp float base\n#pragma mapbox: define highp float height\n#pragma mapbox: define highp vec4 color\nvoid main() {\n#pragma mapbox: initialize highp float base\n#pragma mapbox: initialize highp float height\n#pragma mapbox: initialize highp vec4 color\nvec3 normal=a_normal_ed.xyz;\n#ifdef TERRAIN3D\nfloat height_terrain3d_offset=get_elevation(a_centroid);float base_terrain3d_offset=height_terrain3d_offset-(base > 0.0 ? 0.0 : 10.0);\n#else\nfloat height_terrain3d_offset=0.0;float base_terrain3d_offset=0.0;\n#endif\nbase=max(0.0,base)+base_terrain3d_offset;height=max(0.0,height)+height_terrain3d_offset;float t=mod(normal.x,2.0);gl_Position=u_matrix*vec4(a_pos,t > 0.0 ? height : base,1);float colorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;v_color=vec4(0.0,0.0,0.0,1.0);vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;float directional=clamp(dot(normal/16384.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_color.r+=clamp(color.r*directional*u_lightcolor.r,mix(0.0,0.3,1.0-u_lightcolor.r),1.0);v_color.g+=clamp(color.g*directional*u_lightcolor.g,mix(0.0,0.3,1.0-u_lightcolor.g),1.0);v_color.b+=clamp(color.b*directional*u_lightcolor.b,mix(0.0,0.3,1.0-u_lightcolor.b),1.0);v_color*=u_opacity;}"),fillExtrusionPattern:Sn("uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float base\n#pragma mapbox: initialize lowp float height\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);vec4 mixedColor=mix(color1,color2,u_fade);gl_FragColor=mixedColor*v_lighting;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform vec3 u_scale;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;attribute vec2 a_pos;attribute vec4 a_normal_ed;\n#ifdef TERRAIN3D\nattribute vec2 a_centroid;\n#endif\nvarying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float base\n#pragma mapbox: initialize lowp float height\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec3 normal=a_normal_ed.xyz;float edgedistance=a_normal_ed.w;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;\n#ifdef TERRAIN3D\nfloat height_terrain3d_offset=get_elevation(a_centroid);float base_terrain3d_offset=height_terrain3d_offset-(base > 0.0 ? 0.0 : 10.0);\n#else\nfloat height_terrain3d_offset=0.0;float base_terrain3d_offset=0.0;\n#endif\nbase=max(0.0,base)+base_terrain3d_offset;height=max(0.0,height)+height_terrain3d_offset;float t=mod(normal.x,2.0);float z=t > 0.0 ? height : base;gl_Position=u_matrix*vec4(a_pos,z,1);vec2 pos=normal.x==1.0 && normal.y==0.0 && normal.z==16384.0\n? a_pos\n: vec2(edgedistance,z*u_height_factor);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float directional=clamp(dot(normal/16383.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_lighting.rgb+=clamp(directional*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;}"),hillshadePrepare:Sn("#ifdef GL_ES\nprecision highp float;\n#endif\nuniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;uniform vec4 u_unpack;float getElevation(vec2 coord,float bias) {vec4 data=texture2D(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack)/4.0;}void main() {vec2 epsilon=1.0/u_dimension;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y),0.0);float b=getElevation(v_pos+vec2(0,-epsilon.y),0.0);float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y),0.0);float d=getElevation(v_pos+vec2(-epsilon.x,0),0.0);float e=getElevation(v_pos,0.0);float f=getElevation(v_pos+vec2(epsilon.x,0),0.0);float g=getElevation(v_pos+vec2(-epsilon.x,epsilon.y),0.0);float h=getElevation(v_pos+vec2(0,epsilon.y),0.0);float i=getElevation(v_pos+vec2(epsilon.x,epsilon.y),0.0);float exaggerationFactor=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;float exaggeration=u_zoom < 15.0 ? (u_zoom-15.0)*exaggerationFactor : 0.0;vec2 deriv=vec2((c+f+f+i)-(a+d+d+g),(g+h+h+i)-(a+b+b+c))/pow(2.0,exaggeration+(19.2562-u_zoom));gl_FragColor=clamp(vec4(deriv.x/2.0+0.5,deriv.y/2.0+0.5,1.0,1.0),0.0,1.0);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_dimension;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}"),hillshade:Sn("uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_latrange;uniform vec2 u_light;uniform vec4 u_shadow;uniform vec4 u_highlight;uniform vec4 u_accent;\n#define PI 3.141592653589793\nvoid main() {vec4 pixel=texture2D(u_image,v_pos);vec2 deriv=((pixel.rg*2.0)-1.0);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));float slope=atan(1.25*length(deriv)/scaleFactor);float aspect=deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);float intensity=u_light.x;float azimuth=u_light.y+PI;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadow,u_highlight,shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);gl_FragColor=accent_color*(1.0-shade_color.a)+shade_color;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=a_texture_pos/8192.0;}"),line:Sn("uniform lowp float u_device_pixel_ratio;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);gl_FragColor=color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\nattribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp float v_linesofar;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;v_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*2.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;\n#ifdef TERRAIN3D\nv_gamma_scale=1.0;\n#else\nfloat extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;\n#endif\nv_width2=vec2(outset,inset);}"),lineGradient:Sn("uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;varying highp vec2 v_uv;\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);vec4 color=texture2D(u_image,v_uv);gl_FragColor=color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\nattribute vec2 a_pos_normal;attribute vec4 a_data;attribute float a_uv_x;attribute float a_split_index;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_units_to_pixels;uniform float u_image_height;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp vec2 v_uv;\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;highp float texel_height=1.0/u_image_height;highp float half_texel_height=0.5*texel_height;v_uv=vec2(a_uv_x,a_split_index*texel_height-half_texel_height);vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;\n#ifdef TERRAIN3D\nv_gamma_scale=1.0;\n#else\nfloat extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;\n#endif\nv_width2=vec2(outset,inset);}"),linePattern:Sn("#ifdef GL_ES\nprecision highp float;\n#endif\nuniform lowp float u_device_pixel_ratio;uniform vec2 u_texsize;uniform float u_fade;uniform mediump vec3 u_scale;uniform sampler2D u_image;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;vec2 pattern_size_a=vec2(display_size_a.x*fromScale/tileZoomRatio,display_size_a.y);vec2 pattern_size_b=vec2(display_size_b.x*toScale/tileZoomRatio,display_size_b.y);float aspect_a=display_size_a.y/v_width;float aspect_b=display_size_b.y/v_width;float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float x_a=mod(v_linesofar/pattern_size_a.x*aspect_a,1.0);float x_b=mod(v_linesofar/pattern_size_b.x*aspect_b,1.0);float y=0.5*v_normal.y+0.5;vec2 texel_size=1.0/u_texsize;vec2 pos_a=mix(pattern_tl_a*texel_size-texel_size,pattern_br_a*texel_size+texel_size,vec2(x_a,y));vec2 pos_b=mix(pattern_tl_b*texel_size-texel_size,pattern_br_b*texel_size+texel_size,vec2(x_b,y));vec4 color=mix(texture2D(u_image,pos_a),texture2D(u_image,pos_b),u_fade);gl_FragColor=color*alpha*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\n#define LINE_DISTANCE_SCALE 2.0\nattribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform vec2 u_units_to_pixels;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize lowp float floorwidth\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;\n#ifdef TERRAIN3D\nv_gamma_scale=1.0;\n#else\nfloat extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;\n#endif\nv_linesofar=a_linesofar;v_width2=vec2(outset,inset);v_width=floorwidth;}"),lineSDF:Sn("uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;uniform float u_sdfgamma;uniform float u_mix;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize lowp float floorwidth\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float sdfdist_a=texture2D(u_image,v_tex_a).a;float sdfdist_b=texture2D(u_image,v_tex_b).a;float sdfdist=mix(sdfdist_a,sdfdist_b,u_mix);alpha*=smoothstep(0.5-u_sdfgamma/floorwidth,0.5+u_sdfgamma/floorwidth,sdfdist);gl_FragColor=color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\n#define LINE_DISTANCE_SCALE 2.0\nattribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_patternscale_a;uniform float u_tex_y_a;uniform vec2 u_patternscale_b;uniform float u_tex_y_b;uniform vec2 u_units_to_pixels;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize lowp float floorwidth\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;\n#ifdef TERRAIN3D\nv_gamma_scale=1.0;\n#else\nfloat extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;\n#endif\nv_tex_a=vec2(a_linesofar*u_patternscale_a.x/floorwidth,normal.y*u_patternscale_a.y+u_tex_y_a);v_tex_b=vec2(a_linesofar*u_patternscale_b.x/floorwidth,normal.y*u_patternscale_b.y+u_tex_y_b);v_width2=vec2(outset,inset);}"),raster:Sn("uniform float u_fade_t;uniform float u_opacity;uniform sampler2D u_image0;uniform sampler2D u_image1;varying vec2 v_pos0;varying vec2 v_pos1;uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;void main() {vec4 color0=texture2D(u_image0,v_pos0);vec4 color1=texture2D(u_image1,v_pos1);if (color0.a > 0.0) {color0.rgb=color0.rgb/color0.a;}if (color1.a > 0.0) {color1.rgb=color1.rgb/color1.a;}vec4 color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 rgb=color.rgb;rgb=vec3(dot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);gl_FragColor=vec4(mix(u_high_vec,u_low_vec,rgb)*color.a,color.a);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform float u_buffer_scale;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;varying vec2 v_pos1;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos0=(((a_texture_pos/8192.0)-0.5)/u_buffer_scale )+0.5;v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;}"),symbolIcon:Sn("uniform sampler2D u_texture;varying vec2 v_tex;varying float v_fade_opacity;\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\nlowp float alpha=opacity*v_fade_opacity;gl_FragColor=texture2D(u_texture,v_tex)*alpha;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;varying vec2 v_tex;varying float v_fade_opacity;\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;vec2 a_minFontScale=a_pixeloffset.zw/256.0;float ele=get_elevation(a_pos);highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,ele,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),ele,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,ele,1.0);float z=float(u_pitch_with_map)*projected_pos.z/projected_pos.w;gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*max(a_minFontScale,fontScale)+a_pxoffset/16.0),z,1.0);v_tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float visibility=calculate_visibility(projectedPoint);v_fade_opacity=max(0.0,min(visibility,fade_opacity[0]+fade_change));}"),symbolSDF:Sn("#define SDF_PX 8.0\nuniform bool u_is_halo;uniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;varying vec2 v_data0;varying vec3 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nfloat EDGE_GAMMA=0.105/u_device_pixel_ratio;vec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float inner_edge=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);inner_edge=inner_edge+gamma*gamma_scale;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(inner_edge-gamma_scaled,inner_edge+gamma_scaled,dist);if (u_is_halo) {lowp float halo_edge=(6.0-halo_width/fontScale)/SDF_PX;alpha=min(smoothstep(halo_edge-gamma_scaled,halo_edge+gamma_scaled,dist),1.0-alpha);}gl_FragColor=color*(alpha*opacity*fade_opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;varying vec2 v_data0;varying vec3 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;float ele=get_elevation(a_pos);highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,ele,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),ele,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,ele,1.0);float z=float(u_pitch_with_map)*projected_pos.z/projected_pos.w;gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale+a_pxoffset),z,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float visibility=calculate_visibility(projectedPoint);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(visibility,fade_opacity[0]+fade_change));v_data0=a_tex/u_texsize;v_data1=vec3(gamma_scale,size,interpolated_fade_opacity);}"),symbolTextAndIcon:Sn("#define SDF_PX 8.0\n#define SDF 1.0\n#define ICON 0.0\nuniform bool u_is_halo;uniform sampler2D u_texture;uniform sampler2D u_texture_icon;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;varying vec4 v_data0;varying vec4 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nfloat fade_opacity=v_data1[2];if (v_data1.w==ICON) {vec2 tex_icon=v_data0.zw;lowp float alpha=opacity*fade_opacity;gl_FragColor=texture2D(u_texture_icon,tex_icon)*alpha;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\nreturn;}vec2 tex=v_data0.xy;float EDGE_GAMMA=0.105/u_device_pixel_ratio;float gamma_scale=v_data1.x;float size=v_data1.y;float fontScale=size/24.0;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec2 u_texsize_icon;varying vec4 v_data0;varying vec4 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);float is_sdf=a_size[0]-2.0*a_size_min;float ele=get_elevation(a_pos);highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,ele,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=size/24.0;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),ele,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,ele,1.0);float z=float(u_pitch_with_map)*projected_pos.z/projected_pos.w;gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale),z,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float visibility=calculate_visibility(projectedPoint);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(visibility,fade_opacity[0]+fade_change));v_data0.xy=a_tex/u_texsize;v_data0.zw=a_tex/u_texsize_icon;v_data1=vec4(gamma_scale,size,interpolated_fade_opacity,is_sdf);}"),terrain:Sn("uniform sampler2D u_texture;varying vec2 v_texture_pos;void main() {gl_FragColor=texture2D(u_texture,v_texture_pos);}",Mf),terrainDepth:Sn("varying float v_depth;const highp vec4 bitSh=vec4(256.*256.*256.,256.*256.,256.,1.);const highp vec4 bitMsk=vec4(0.,vec3(1./256.0));highp vec4 pack(highp float value) {highp vec4 comp=fract(value*bitSh);comp-=comp.xxyz*bitMsk;return comp;}void main() {gl_FragColor=pack(v_depth);}",Mf),terrainCoords:Sn("precision mediump float;uniform sampler2D u_texture;uniform float u_terrain_coords_id;varying vec2 v_texture_pos;void main() {vec4 rgba=texture2D(u_texture,v_texture_pos);gl_FragColor=vec4(rgba.r,rgba.g,rgba.b,u_terrain_coords_id);}",Mf)};function Sn(v,o){const h=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,p=o.match(/attribute ([\w]+) ([\w]+)/g),m=v.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),_=o.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),T=_?_.concat(m):m,I={};return{fragmentSource:v=v.replace(h,(R,L,B,j,K)=>(I[K]=!0,L==="define"?"\n#ifndef HAS_UNIFORM_u_".concat(K,"\nvarying ").concat(B," ").concat(j," ").concat(K,";\n#else\nuniform ").concat(B," ").concat(j," u_").concat(K,";\n#endif\n"):"\n#ifdef HAS_UNIFORM_u_".concat(K,"\n    ").concat(B," ").concat(j," ").concat(K," = u_").concat(K,";\n#endif\n"))),vertexSource:o=o.replace(h,(R,L,B,j,K)=>{const le=j==="float"?"vec2":"vec4",se=K.match(/color/)?"color":le;return I[K]?L==="define"?"\n#ifndef HAS_UNIFORM_u_".concat(K,"\nuniform lowp float u_").concat(K,"_t;\nattribute ").concat(B," ").concat(le," a_").concat(K,";\nvarying ").concat(B," ").concat(j," ").concat(K,";\n#else\nuniform ").concat(B," ").concat(j," u_").concat(K,";\n#endif\n"):se==="vec4"?"\n#ifndef HAS_UNIFORM_u_".concat(K,"\n    ").concat(K," = a_").concat(K,";\n#else\n    ").concat(B," ").concat(j," ").concat(K," = u_").concat(K,";\n#endif\n"):"\n#ifndef HAS_UNIFORM_u_".concat(K,"\n    ").concat(K," = unpack_mix_").concat(se,"(a_").concat(K,", u_").concat(K,"_t);\n#else\n    ").concat(B," ").concat(j," ").concat(K," = u_").concat(K,";\n#endif\n"):L==="define"?"\n#ifndef HAS_UNIFORM_u_".concat(K,"\nuniform lowp float u_").concat(K,"_t;\nattribute ").concat(B," ").concat(le," a_").concat(K,";\n#else\nuniform ").concat(B," ").concat(j," u_").concat(K,";\n#endif\n"):se==="vec4"?"\n#ifndef HAS_UNIFORM_u_".concat(K,"\n    ").concat(B," ").concat(j," ").concat(K," = a_").concat(K,";\n#else\n    ").concat(B," ").concat(j," ").concat(K," = u_").concat(K,";\n#endif\n"):"\n#ifndef HAS_UNIFORM_u_".concat(K,"\n    ").concat(B," ").concat(j," ").concat(K," = unpack_mix_").concat(se,"(a_").concat(K,", u_").concat(K,"_t);\n#else\n    ").concat(B," ").concat(j," ").concat(K," = u_").concat(K,";\n#endif\n")}),staticAttributes:p,staticUniforms:T}}class kd{constructor(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffer=null,this.vao=null}bind(o,h,p,m,_,T,I,R,L){this.context=o;let B=this.boundPaintVertexBuffers.length!==m.length;for(let j=0;!B&&j<m.length;j++)this.boundPaintVertexBuffers[j]!==m[j]&&(B=!0);!this.vao||this.boundProgram!==h||this.boundLayoutVertexBuffer!==p||B||this.boundIndexBuffer!==_||this.boundVertexOffset!==T||this.boundDynamicVertexBuffer!==I||this.boundDynamicVertexBuffer2!==R||this.boundDynamicVertexBuffer3!==L?this.freshBind(h,p,m,_,T,I,R,L):(o.bindVertexArray.set(this.vao),I&&I.bind(),_&&_.dynamicDraw&&_.bind(),R&&R.bind(),L&&L.bind())}freshBind(o,h,p,m,_,T,I,R){const L=o.numAttributes,B=this.context,j=B.gl;this.vao&&this.destroy(),this.vao=B.createVertexArray(),B.bindVertexArray.set(this.vao),this.boundProgram=o,this.boundLayoutVertexBuffer=h,this.boundPaintVertexBuffers=p,this.boundIndexBuffer=m,this.boundVertexOffset=_,this.boundDynamicVertexBuffer=T,this.boundDynamicVertexBuffer2=I,this.boundDynamicVertexBuffer3=R,h.enableAttributes(j,o);for(const K of p)K.enableAttributes(j,o);T&&T.enableAttributes(j,o),I&&I.enableAttributes(j,o),R&&R.enableAttributes(j,o),h.bind(),h.setVertexAttribPointers(j,o,_);for(const K of p)K.bind(),K.setVertexAttribPointers(j,o,_);T&&(T.bind(),T.setVertexAttribPointers(j,o,_)),m&&m.bind(),I&&(I.bind(),I.setVertexAttribPointers(j,o,_)),R&&(R.bind(),R.setVertexAttribPointers(j,o,_)),B.currentNumAttributes=L}destroy(){this.vao&&(this.context.deleteVertexArray(this.vao),this.vao=null)}}function ls(v){const o=[];for(let h=0;h<v.length;h++){if(v[h]===null)continue;const p=v[h].split(" ");o.push(p.pop())}return o}class zf{constructor(o,h,p,m,_,T){const I=o.gl;this.program=I.createProgram();const R=ls(h.staticAttributes),L=p?p.getBinderAttributes():[],B=R.concat(L),j=Ll.prelude.staticUniforms?ls(Ll.prelude.staticUniforms):[],K=h.staticUniforms?ls(h.staticUniforms):[],le=p?p.getBinderUniforms():[],se=j.concat(K).concat(le),de=[];for(const ze of se)de.indexOf(ze)<0&&de.push(ze);const ee=p?p.defines():[];_&&ee.push("#define OVERDRAW_INSPECTOR;"),T&&ee.push("#define TERRAIN3D;");const ye=ee.concat(Ll.prelude.fragmentSource,h.fragmentSource).join("\n"),Ae=ee.concat(Ll.prelude.vertexSource,h.vertexSource).join("\n"),he=I.createShader(I.FRAGMENT_SHADER);if(I.isContextLost())return void(this.failedToCreate=!0);if(I.shaderSource(he,ye),I.compileShader(he),!I.getShaderParameter(he,I.COMPILE_STATUS))throw new Error("Could not compile fragment shader: ".concat(I.getShaderInfoLog(he)));I.attachShader(this.program,he);const Se=I.createShader(I.VERTEX_SHADER);if(I.isContextLost())return void(this.failedToCreate=!0);if(I.shaderSource(Se,Ae),I.compileShader(Se),!I.getShaderParameter(Se,I.COMPILE_STATUS))throw new Error("Could not compile vertex shader: ".concat(I.getShaderInfoLog(Se)));I.attachShader(this.program,Se),this.attributes={};const Me={};this.numAttributes=B.length;for(let ze=0;ze<this.numAttributes;ze++)B[ze]&&(I.bindAttribLocation(this.program,ze,B[ze]),this.attributes[B[ze]]=ze);if(I.linkProgram(this.program),!I.getProgramParameter(this.program,I.LINK_STATUS))throw new Error("Program failed to link: ".concat(I.getProgramInfoLog(this.program)));I.deleteShader(Se),I.deleteShader(he);for(let ze=0;ze<de.length;ze++){const je=de[ze];if(je&&!Me[je]){const tt=I.getUniformLocation(this.program,je);tt&&(Me[je]=tt)}}this.fixedUniforms=m(o,Me),this.terrainUniforms=((ze,je)=>({u_depth:new c.aG(ze,je.u_depth),u_terrain:new c.aG(ze,je.u_terrain),u_terrain_dim:new c.aH(ze,je.u_terrain_dim),u_terrain_matrix:new c.aI(ze,je.u_terrain_matrix),u_terrain_unpack:new c.aJ(ze,je.u_terrain_unpack),u_terrain_exaggeration:new c.aH(ze,je.u_terrain_exaggeration)}))(o,Me),this.binderUniforms=p?p.getUniforms(o,Me):[]}draw(o,h,p,m,_,T,I,R,L,B,j,K,le,se,de,ee,ye,Ae){const he=o.gl;if(this.failedToCreate)return;if(o.program.set(this.program),o.setDepthMode(p),o.setStencilMode(m),o.setColorMode(_),o.setCullFace(T),R){o.activeTexture.set(he.TEXTURE2),he.bindTexture(he.TEXTURE_2D,R.depthTexture),o.activeTexture.set(he.TEXTURE3),he.bindTexture(he.TEXTURE_2D,R.texture);for(const Me in this.terrainUniforms)this.terrainUniforms[Me].set(R[Me])}for(const Me in this.fixedUniforms)this.fixedUniforms[Me].set(I[Me]);de&&de.setUniforms(o,this.binderUniforms,le,{zoom:se});let Se=0;switch(h){case he.LINES:Se=2;break;case he.TRIANGLES:Se=3;break;case he.LINE_STRIP:Se=1}for(const Me of K.get()){const ze=Me.vaos||(Me.vaos={});(ze[L]||(ze[L]=new kd)).bind(o,this,B,de?de.getPaintVertexBuffers():[],j,Me.vertexOffset,ee,ye,Ae),he.drawElements(h,Me.primitiveLength*Se,he.UNSIGNED_SHORT,Me.primitiveOffset*Se*2)}}}function lu(v,o,h){const p=1/Zt(h,1,o.transform.tileZoom),m=Math.pow(2,h.tileID.overscaledZ),_=h.tileSize*Math.pow(2,o.transform.tileZoom)/m,T=_*(h.tileID.canonical.x+h.tileID.wrap*m),I=_*h.tileID.canonical.y;return{u_image:0,u_texsize:h.imageAtlasTexture.size,u_scale:[p,v.fromScale,v.toScale],u_fade:v.t,u_pixel_coord_upper:[T>>16,I>>16],u_pixel_coord_lower:[65535&T,65535&I]}}const Wg=(v,o,h,p)=>{const m=o.style.light,_=m.properties.get("position"),T=[_.x,_.y,_.z],I=function(){var L=new c.A(9);return c.A!=Float32Array&&(L[1]=0,L[2]=0,L[3]=0,L[5]=0,L[6]=0,L[7]=0),L[0]=1,L[4]=1,L[8]=1,L}();m.properties.get("anchor")==="viewport"&&function(L,B){var j=Math.sin(B),K=Math.cos(B);L[0]=K,L[1]=j,L[2]=0,L[3]=-j,L[4]=K,L[5]=0,L[6]=0,L[7]=0,L[8]=1}(I,-o.transform.angle),function(L,B,j){var K=B[0],le=B[1],se=B[2];L[0]=K*j[0]+le*j[3]+se*j[6],L[1]=K*j[1]+le*j[4]+se*j[7],L[2]=K*j[2]+le*j[5]+se*j[8]}(T,T,I);const R=m.properties.get("color");return{u_matrix:v,u_lightpos:T,u_lightintensity:m.properties.get("intensity"),u_lightcolor:[R.r,R.g,R.b],u_vertical_gradient:+h,u_opacity:p}},E_=(v,o,h,p,m,_,T)=>c.e(Wg(v,o,h,p),lu(_,o,T),{u_height_factor:-Math.pow(2,m.overscaledZ)/T.tileSize/8}),Ed=v=>({u_matrix:v}),Zg=(v,o,h,p)=>c.e(Ed(v),lu(h,o,p)),Gg=(v,o)=>({u_matrix:v,u_world:o}),C_=(v,o,h,p,m)=>c.e(Zg(v,o,h,p),{u_world:m}),Kg=(v,o,h,p)=>{const m=v.transform;let _,T;if(p.paint.get("circle-pitch-alignment")==="map"){const I=Zt(h,1,m.zoom);_=!0,T=[I,I]}else _=!1,T=m.pixelsToGLUnits;return{u_camera_to_center_distance:m.cameraToCenterDistance,u_scale_with_map:+(p.paint.get("circle-pitch-scale")==="map"),u_matrix:v.translatePosMatrix(o.posMatrix,h,p.paint.get("circle-translate"),p.paint.get("circle-translate-anchor")),u_pitch_with_map:+_,u_device_pixel_ratio:v.pixelRatio,u_extrude_scale:T}},T_=(v,o,h)=>{const p=Zt(h,1,o.zoom),m=Math.pow(2,o.zoom-h.tileID.overscaledZ),_=h.tileID.overscaleFactor();return{u_matrix:v,u_camera_to_center_distance:o.cameraToCenterDistance,u_pixels_to_tile_units:p,u_extrude_scale:[o.pixelsToGLUnits[0]/(p*m),o.pixelsToGLUnits[1]/(p*m)],u_overscale_factor:_}},Cd=(v,o,h=1)=>({u_matrix:v,u_color:o,u_overlay:0,u_overlay_scale:h}),Lf=v=>({u_matrix:v}),Xg=(v,o,h,p)=>({u_matrix:v,u_extrude_scale:Zt(o,1,h),u_intensity:p});function Yg(v,o){const h=Math.pow(2,o.canonical.z),p=o.canonical.y;return[new c.Y(0,p/h).toLngLat().lat,new c.Y(0,(p+1)/h).toLngLat().lat]}const Td=(v,o,h,p)=>{const m=v.transform;return{u_matrix:uu(v,o,h,p),u_ratio:1/Zt(o,1,m.zoom),u_device_pixel_ratio:v.pixelRatio,u_units_to_pixels:[1/m.pixelsToGLUnits[0],1/m.pixelsToGLUnits[1]]}},Va=(v,o,h,p,m)=>c.e(Td(v,o,h,m),{u_image:0,u_image_height:p}),Id=(v,o,h,p,m)=>{const _=v.transform,T=cu(o,_);return{u_matrix:uu(v,o,h,m),u_texsize:o.imageAtlasTexture.size,u_ratio:1/Zt(o,1,_.zoom),u_device_pixel_ratio:v.pixelRatio,u_image:0,u_scale:[T,p.fromScale,p.toScale],u_fade:p.t,u_units_to_pixels:[1/_.pixelsToGLUnits[0],1/_.pixelsToGLUnits[1]]}},yo=(v,o,h,p,m,_)=>{const T=v.lineAtlas,I=cu(o,v.transform),R=h.layout.get("line-cap")==="round",L=T.getDash(p.from,R),B=T.getDash(p.to,R),j=L.width*m.fromScale,K=B.width*m.toScale;return c.e(Td(v,o,h,_),{u_patternscale_a:[I/j,-L.height/2],u_patternscale_b:[I/K,-B.height/2],u_sdfgamma:T.width/(256*Math.min(j,K)*v.pixelRatio)/2,u_image:0,u_tex_y_a:L.y,u_tex_y_b:B.y,u_mix:m.t})};function cu(v,o){return 1/Zt(v,1,o.tileZoom)}function uu(v,o,h,p){return v.translatePosMatrix(p?p.posMatrix:o.tileID.posMatrix,o,h.paint.get("line-translate"),h.paint.get("line-translate-anchor"))}const du=(v,o,h,p,m)=>{return{u_matrix:v,u_tl_parent:o,u_scale_parent:h,u_buffer_scale:1,u_fade_t:p.mix,u_opacity:p.opacity*m.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:m.paint.get("raster-brightness-min"),u_brightness_high:m.paint.get("raster-brightness-max"),u_saturation_factor:(T=m.paint.get("raster-saturation"),T>0?1-1/(1.001-T):-T),u_contrast_factor:(_=m.paint.get("raster-contrast"),_>0?1/(1-_):1+_),u_spin_weights:Pd(m.paint.get("raster-hue-rotate"))};var _,T};function Pd(v){v*=Math.PI/180;const o=Math.sin(v),h=Math.cos(v);return[(2*h+1)/3,(-Math.sqrt(3)*o-h+1)/3,(Math.sqrt(3)*o-h+1)/3]}const hu=(v,o,h,p,m,_,T,I,R,L)=>{const B=m.transform;return{u_is_size_zoom_constant:+(v==="constant"||v==="source"),u_is_size_feature_constant:+(v==="constant"||v==="camera"),u_size_t:o?o.uSizeT:0,u_size:o?o.uSize:0,u_camera_to_center_distance:B.cameraToCenterDistance,u_pitch:B.pitch/360*2*Math.PI,u_rotate_symbol:+h,u_aspect_ratio:B.width/B.height,u_fade_change:m.options.fadeDuration?m.symbolFadeChange:1,u_matrix:_,u_label_plane_matrix:T,u_coord_matrix:I,u_is_text:+R,u_pitch_with_map:+p,u_texsize:L,u_texture:0}},Ol=(v,o,h,p,m,_,T,I,R,L,B)=>{const j=m.transform;return c.e(hu(v,o,h,p,m,_,T,I,R,L),{u_gamma_scale:p?Math.cos(j._pitch)*j.cameraToCenterDistance:1,u_device_pixel_ratio:m.pixelRatio,u_is_halo:+B})},I_=(v,o,h,p,m,_,T,I,R,L)=>c.e(Ol(v,o,h,p,m,_,T,I,!0,R,!0),{u_texsize_icon:L,u_texture_icon:1}),P_=(v,o,h)=>({u_matrix:v,u_opacity:o,u_color:h}),Jg=(v,o,h,p,m,_)=>c.e(function(T,I,R,L){const B=R.imageManager.getPattern(T.from.toString()),j=R.imageManager.getPattern(T.to.toString()),{width:K,height:le}=R.imageManager.getPixelSize(),se=Math.pow(2,L.tileID.overscaledZ),de=L.tileSize*Math.pow(2,R.transform.tileZoom)/se,ee=de*(L.tileID.canonical.x+L.tileID.wrap*se),ye=de*L.tileID.canonical.y;return{u_image:0,u_pattern_tl_a:B.tl,u_pattern_br_a:B.br,u_pattern_tl_b:j.tl,u_pattern_br_b:j.br,u_texsize:[K,le],u_mix:I.t,u_pattern_size_a:B.displaySize,u_pattern_size_b:j.displaySize,u_scale_a:I.fromScale,u_scale_b:I.toScale,u_tile_units_to_pixels:1/Zt(L,1,R.transform.tileZoom),u_pixel_coord_upper:[ee>>16,ye>>16],u_pixel_coord_lower:[65535&ee,65535&ye]}}(p,_,h,m),{u_matrix:v,u_opacity:o}),A_={fillExtrusion:(v,o)=>({u_matrix:new c.aI(v,o.u_matrix),u_lightpos:new c.aK(v,o.u_lightpos),u_lightintensity:new c.aH(v,o.u_lightintensity),u_lightcolor:new c.aK(v,o.u_lightcolor),u_vertical_gradient:new c.aH(v,o.u_vertical_gradient),u_opacity:new c.aH(v,o.u_opacity)}),fillExtrusionPattern:(v,o)=>({u_matrix:new c.aI(v,o.u_matrix),u_lightpos:new c.aK(v,o.u_lightpos),u_lightintensity:new c.aH(v,o.u_lightintensity),u_lightcolor:new c.aK(v,o.u_lightcolor),u_vertical_gradient:new c.aH(v,o.u_vertical_gradient),u_height_factor:new c.aH(v,o.u_height_factor),u_image:new c.aG(v,o.u_image),u_texsize:new c.aL(v,o.u_texsize),u_pixel_coord_upper:new c.aL(v,o.u_pixel_coord_upper),u_pixel_coord_lower:new c.aL(v,o.u_pixel_coord_lower),u_scale:new c.aK(v,o.u_scale),u_fade:new c.aH(v,o.u_fade),u_opacity:new c.aH(v,o.u_opacity)}),fill:(v,o)=>({u_matrix:new c.aI(v,o.u_matrix)}),fillPattern:(v,o)=>({u_matrix:new c.aI(v,o.u_matrix),u_image:new c.aG(v,o.u_image),u_texsize:new c.aL(v,o.u_texsize),u_pixel_coord_upper:new c.aL(v,o.u_pixel_coord_upper),u_pixel_coord_lower:new c.aL(v,o.u_pixel_coord_lower),u_scale:new c.aK(v,o.u_scale),u_fade:new c.aH(v,o.u_fade)}),fillOutline:(v,o)=>({u_matrix:new c.aI(v,o.u_matrix),u_world:new c.aL(v,o.u_world)}),fillOutlinePattern:(v,o)=>({u_matrix:new c.aI(v,o.u_matrix),u_world:new c.aL(v,o.u_world),u_image:new c.aG(v,o.u_image),u_texsize:new c.aL(v,o.u_texsize),u_pixel_coord_upper:new c.aL(v,o.u_pixel_coord_upper),u_pixel_coord_lower:new c.aL(v,o.u_pixel_coord_lower),u_scale:new c.aK(v,o.u_scale),u_fade:new c.aH(v,o.u_fade)}),circle:(v,o)=>({u_camera_to_center_distance:new c.aH(v,o.u_camera_to_center_distance),u_scale_with_map:new c.aG(v,o.u_scale_with_map),u_pitch_with_map:new c.aG(v,o.u_pitch_with_map),u_extrude_scale:new c.aL(v,o.u_extrude_scale),u_device_pixel_ratio:new c.aH(v,o.u_device_pixel_ratio),u_matrix:new c.aI(v,o.u_matrix)}),collisionBox:(v,o)=>({u_matrix:new c.aI(v,o.u_matrix),u_camera_to_center_distance:new c.aH(v,o.u_camera_to_center_distance),u_pixels_to_tile_units:new c.aH(v,o.u_pixels_to_tile_units),u_extrude_scale:new c.aL(v,o.u_extrude_scale),u_overscale_factor:new c.aH(v,o.u_overscale_factor)}),collisionCircle:(v,o)=>({u_matrix:new c.aI(v,o.u_matrix),u_inv_matrix:new c.aI(v,o.u_inv_matrix),u_camera_to_center_distance:new c.aH(v,o.u_camera_to_center_distance),u_viewport_size:new c.aL(v,o.u_viewport_size)}),debug:(v,o)=>({u_color:new c.aM(v,o.u_color),u_matrix:new c.aI(v,o.u_matrix),u_overlay:new c.aG(v,o.u_overlay),u_overlay_scale:new c.aH(v,o.u_overlay_scale)}),clippingMask:(v,o)=>({u_matrix:new c.aI(v,o.u_matrix)}),heatmap:(v,o)=>({u_extrude_scale:new c.aH(v,o.u_extrude_scale),u_intensity:new c.aH(v,o.u_intensity),u_matrix:new c.aI(v,o.u_matrix)}),heatmapTexture:(v,o)=>({u_matrix:new c.aI(v,o.u_matrix),u_world:new c.aL(v,o.u_world),u_image:new c.aG(v,o.u_image),u_color_ramp:new c.aG(v,o.u_color_ramp),u_opacity:new c.aH(v,o.u_opacity)}),hillshade:(v,o)=>({u_matrix:new c.aI(v,o.u_matrix),u_image:new c.aG(v,o.u_image),u_latrange:new c.aL(v,o.u_latrange),u_light:new c.aL(v,o.u_light),u_shadow:new c.aM(v,o.u_shadow),u_highlight:new c.aM(v,o.u_highlight),u_accent:new c.aM(v,o.u_accent)}),hillshadePrepare:(v,o)=>({u_matrix:new c.aI(v,o.u_matrix),u_image:new c.aG(v,o.u_image),u_dimension:new c.aL(v,o.u_dimension),u_zoom:new c.aH(v,o.u_zoom),u_unpack:new c.aJ(v,o.u_unpack)}),line:(v,o)=>({u_matrix:new c.aI(v,o.u_matrix),u_ratio:new c.aH(v,o.u_ratio),u_device_pixel_ratio:new c.aH(v,o.u_device_pixel_ratio),u_units_to_pixels:new c.aL(v,o.u_units_to_pixels)}),lineGradient:(v,o)=>({u_matrix:new c.aI(v,o.u_matrix),u_ratio:new c.aH(v,o.u_ratio),u_device_pixel_ratio:new c.aH(v,o.u_device_pixel_ratio),u_units_to_pixels:new c.aL(v,o.u_units_to_pixels),u_image:new c.aG(v,o.u_image),u_image_height:new c.aH(v,o.u_image_height)}),linePattern:(v,o)=>({u_matrix:new c.aI(v,o.u_matrix),u_texsize:new c.aL(v,o.u_texsize),u_ratio:new c.aH(v,o.u_ratio),u_device_pixel_ratio:new c.aH(v,o.u_device_pixel_ratio),u_image:new c.aG(v,o.u_image),u_units_to_pixels:new c.aL(v,o.u_units_to_pixels),u_scale:new c.aK(v,o.u_scale),u_fade:new c.aH(v,o.u_fade)}),lineSDF:(v,o)=>({u_matrix:new c.aI(v,o.u_matrix),u_ratio:new c.aH(v,o.u_ratio),u_device_pixel_ratio:new c.aH(v,o.u_device_pixel_ratio),u_units_to_pixels:new c.aL(v,o.u_units_to_pixels),u_patternscale_a:new c.aL(v,o.u_patternscale_a),u_patternscale_b:new c.aL(v,o.u_patternscale_b),u_sdfgamma:new c.aH(v,o.u_sdfgamma),u_image:new c.aG(v,o.u_image),u_tex_y_a:new c.aH(v,o.u_tex_y_a),u_tex_y_b:new c.aH(v,o.u_tex_y_b),u_mix:new c.aH(v,o.u_mix)}),raster:(v,o)=>({u_matrix:new c.aI(v,o.u_matrix),u_tl_parent:new c.aL(v,o.u_tl_parent),u_scale_parent:new c.aH(v,o.u_scale_parent),u_buffer_scale:new c.aH(v,o.u_buffer_scale),u_fade_t:new c.aH(v,o.u_fade_t),u_opacity:new c.aH(v,o.u_opacity),u_image0:new c.aG(v,o.u_image0),u_image1:new c.aG(v,o.u_image1),u_brightness_low:new c.aH(v,o.u_brightness_low),u_brightness_high:new c.aH(v,o.u_brightness_high),u_saturation_factor:new c.aH(v,o.u_saturation_factor),u_contrast_factor:new c.aH(v,o.u_contrast_factor),u_spin_weights:new c.aK(v,o.u_spin_weights)}),symbolIcon:(v,o)=>({u_is_size_zoom_constant:new c.aG(v,o.u_is_size_zoom_constant),u_is_size_feature_constant:new c.aG(v,o.u_is_size_feature_constant),u_size_t:new c.aH(v,o.u_size_t),u_size:new c.aH(v,o.u_size),u_camera_to_center_distance:new c.aH(v,o.u_camera_to_center_distance),u_pitch:new c.aH(v,o.u_pitch),u_rotate_symbol:new c.aG(v,o.u_rotate_symbol),u_aspect_ratio:new c.aH(v,o.u_aspect_ratio),u_fade_change:new c.aH(v,o.u_fade_change),u_matrix:new c.aI(v,o.u_matrix),u_label_plane_matrix:new c.aI(v,o.u_label_plane_matrix),u_coord_matrix:new c.aI(v,o.u_coord_matrix),u_is_text:new c.aG(v,o.u_is_text),u_pitch_with_map:new c.aG(v,o.u_pitch_with_map),u_texsize:new c.aL(v,o.u_texsize),u_texture:new c.aG(v,o.u_texture)}),symbolSDF:(v,o)=>({u_is_size_zoom_constant:new c.aG(v,o.u_is_size_zoom_constant),u_is_size_feature_constant:new c.aG(v,o.u_is_size_feature_constant),u_size_t:new c.aH(v,o.u_size_t),u_size:new c.aH(v,o.u_size),u_camera_to_center_distance:new c.aH(v,o.u_camera_to_center_distance),u_pitch:new c.aH(v,o.u_pitch),u_rotate_symbol:new c.aG(v,o.u_rotate_symbol),u_aspect_ratio:new c.aH(v,o.u_aspect_ratio),u_fade_change:new c.aH(v,o.u_fade_change),u_matrix:new c.aI(v,o.u_matrix),u_label_plane_matrix:new c.aI(v,o.u_label_plane_matrix),u_coord_matrix:new c.aI(v,o.u_coord_matrix),u_is_text:new c.aG(v,o.u_is_text),u_pitch_with_map:new c.aG(v,o.u_pitch_with_map),u_texsize:new c.aL(v,o.u_texsize),u_texture:new c.aG(v,o.u_texture),u_gamma_scale:new c.aH(v,o.u_gamma_scale),u_device_pixel_ratio:new c.aH(v,o.u_device_pixel_ratio),u_is_halo:new c.aG(v,o.u_is_halo)}),symbolTextAndIcon:(v,o)=>({u_is_size_zoom_constant:new c.aG(v,o.u_is_size_zoom_constant),u_is_size_feature_constant:new c.aG(v,o.u_is_size_feature_constant),u_size_t:new c.aH(v,o.u_size_t),u_size:new c.aH(v,o.u_size),u_camera_to_center_distance:new c.aH(v,o.u_camera_to_center_distance),u_pitch:new c.aH(v,o.u_pitch),u_rotate_symbol:new c.aG(v,o.u_rotate_symbol),u_aspect_ratio:new c.aH(v,o.u_aspect_ratio),u_fade_change:new c.aH(v,o.u_fade_change),u_matrix:new c.aI(v,o.u_matrix),u_label_plane_matrix:new c.aI(v,o.u_label_plane_matrix),u_coord_matrix:new c.aI(v,o.u_coord_matrix),u_is_text:new c.aG(v,o.u_is_text),u_pitch_with_map:new c.aG(v,o.u_pitch_with_map),u_texsize:new c.aL(v,o.u_texsize),u_texsize_icon:new c.aL(v,o.u_texsize_icon),u_texture:new c.aG(v,o.u_texture),u_texture_icon:new c.aG(v,o.u_texture_icon),u_gamma_scale:new c.aH(v,o.u_gamma_scale),u_device_pixel_ratio:new c.aH(v,o.u_device_pixel_ratio),u_is_halo:new c.aG(v,o.u_is_halo)}),background:(v,o)=>({u_matrix:new c.aI(v,o.u_matrix),u_opacity:new c.aH(v,o.u_opacity),u_color:new c.aM(v,o.u_color)}),backgroundPattern:(v,o)=>({u_matrix:new c.aI(v,o.u_matrix),u_opacity:new c.aH(v,o.u_opacity),u_image:new c.aG(v,o.u_image),u_pattern_tl_a:new c.aL(v,o.u_pattern_tl_a),u_pattern_br_a:new c.aL(v,o.u_pattern_br_a),u_pattern_tl_b:new c.aL(v,o.u_pattern_tl_b),u_pattern_br_b:new c.aL(v,o.u_pattern_br_b),u_texsize:new c.aL(v,o.u_texsize),u_mix:new c.aH(v,o.u_mix),u_pattern_size_a:new c.aL(v,o.u_pattern_size_a),u_pattern_size_b:new c.aL(v,o.u_pattern_size_b),u_scale_a:new c.aH(v,o.u_scale_a),u_scale_b:new c.aH(v,o.u_scale_b),u_pixel_coord_upper:new c.aL(v,o.u_pixel_coord_upper),u_pixel_coord_lower:new c.aL(v,o.u_pixel_coord_lower),u_tile_units_to_pixels:new c.aH(v,o.u_tile_units_to_pixels)}),terrain:(v,o)=>({u_matrix:new c.aI(v,o.u_matrix),u_texture:new c.aG(v,o.u_texture),u_ele_delta:new c.aH(v,o.u_ele_delta)}),terrainDepth:(v,o)=>({u_matrix:new c.aI(v,o.u_matrix),u_ele_delta:new c.aH(v,o.u_ele_delta)}),terrainCoords:(v,o)=>({u_matrix:new c.aI(v,o.u_matrix),u_texture:new c.aG(v,o.u_texture),u_terrain_coords_id:new c.aH(v,o.u_terrain_coords_id),u_ele_delta:new c.aH(v,o.u_ele_delta)})};class Ua{constructor(o,h,p){this.context=o;const m=o.gl;this.buffer=m.createBuffer(),this.dynamicDraw=!!p,this.context.unbindVAO(),o.bindElementBuffer.set(this.buffer),m.bufferData(m.ELEMENT_ARRAY_BUFFER,h.arrayBuffer,this.dynamicDraw?m.DYNAMIC_DRAW:m.STATIC_DRAW),this.dynamicDraw||delete h.arrayBuffer}bind(){this.context.bindElementBuffer.set(this.buffer)}updateData(o){const h=this.context.gl;if(!this.dynamicDraw)throw new Error("Attempted to update data while not in dynamic mode.");this.context.unbindVAO(),this.bind(),h.bufferSubData(h.ELEMENT_ARRAY_BUFFER,0,o.arrayBuffer)}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}const Ad={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"};class Jr{constructor(o,h,p,m){this.length=h.length,this.attributes=p,this.itemSize=h.bytesPerElement,this.dynamicDraw=m,this.context=o;const _=o.gl;this.buffer=_.createBuffer(),o.bindVertexBuffer.set(this.buffer),_.bufferData(_.ARRAY_BUFFER,h.arrayBuffer,this.dynamicDraw?_.DYNAMIC_DRAW:_.STATIC_DRAW),this.dynamicDraw||delete h.arrayBuffer}bind(){this.context.bindVertexBuffer.set(this.buffer)}updateData(o){if(o.length!==this.length)throw new Error("Length of new data is ".concat(o.length,", which doesn't match current length of ").concat(this.length));const h=this.context.gl;this.bind(),h.bufferSubData(h.ARRAY_BUFFER,0,o.arrayBuffer)}enableAttributes(o,h){for(let p=0;p<this.attributes.length;p++){const m=h.attributes[this.attributes[p].name];m!==void 0&&o.enableVertexAttribArray(m)}}setVertexAttribPointers(o,h,p){for(let m=0;m<this.attributes.length;m++){const _=this.attributes[m],T=h.attributes[_.name];T!==void 0&&o.vertexAttribPointer(T,_.components,o[Ad[_.type]],!1,this.itemSize,_.offset+this.itemSize*(p||0))}}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}const wr=new WeakMap;function Dl(v){var o;if(wr.has(v))return wr.get(v);{const h=(o=v.getParameter(v.VERSION))===null||o===void 0?void 0:o.startsWith("WebGL 2.0");return wr.set(v,h),h}}class yn{constructor(o){this.gl=o.gl,this.default=this.getDefault(),this.current=this.default,this.dirty=!1}get(){return this.current}set(o){}getDefault(){return this.default}setDefault(){this.set(this.default)}}class Rd extends yn{getDefault(){return c.aO.transparent}set(o){const h=this.current;(o.r!==h.r||o.g!==h.g||o.b!==h.b||o.a!==h.a||this.dirty)&&(this.gl.clearColor(o.r,o.g,o.b,o.a),this.current=o,this.dirty=!1)}}class Of extends yn{getDefault(){return 1}set(o){(o!==this.current||this.dirty)&&(this.gl.clearDepth(o),this.current=o,this.dirty=!1)}}class Df extends yn{getDefault(){return 0}set(o){(o!==this.current||this.dirty)&&(this.gl.clearStencil(o),this.current=o,this.dirty=!1)}}class Md extends yn{getDefault(){return[!0,!0,!0,!0]}set(o){const h=this.current;(o[0]!==h[0]||o[1]!==h[1]||o[2]!==h[2]||o[3]!==h[3]||this.dirty)&&(this.gl.colorMask(o[0],o[1],o[2],o[3]),this.current=o,this.dirty=!1)}}class $f extends yn{getDefault(){return!0}set(o){(o!==this.current||this.dirty)&&(this.gl.depthMask(o),this.current=o,this.dirty=!1)}}class Bf extends yn{getDefault(){return 255}set(o){(o!==this.current||this.dirty)&&(this.gl.stencilMask(o),this.current=o,this.dirty=!1)}}class zd extends yn{getDefault(){return{func:this.gl.ALWAYS,ref:0,mask:255}}set(o){const h=this.current;(o.func!==h.func||o.ref!==h.ref||o.mask!==h.mask||this.dirty)&&(this.gl.stencilFunc(o.func,o.ref,o.mask),this.current=o,this.dirty=!1)}}class Qg extends yn{getDefault(){const o=this.gl;return[o.KEEP,o.KEEP,o.KEEP]}set(o){const h=this.current;(o[0]!==h[0]||o[1]!==h[1]||o[2]!==h[2]||this.dirty)&&(this.gl.stencilOp(o[0],o[1],o[2]),this.current=o,this.dirty=!1)}}class ey extends yn{getDefault(){return!1}set(o){if(o===this.current&&!this.dirty)return;const h=this.gl;o?h.enable(h.STENCIL_TEST):h.disable(h.STENCIL_TEST),this.current=o,this.dirty=!1}}class $l extends yn{getDefault(){return[0,1]}set(o){const h=this.current;(o[0]!==h[0]||o[1]!==h[1]||this.dirty)&&(this.gl.depthRange(o[0],o[1]),this.current=o,this.dirty=!1)}}class R_ extends yn{getDefault(){return!1}set(o){if(o===this.current&&!this.dirty)return;const h=this.gl;o?h.enable(h.DEPTH_TEST):h.disable(h.DEPTH_TEST),this.current=o,this.dirty=!1}}class M_ extends yn{getDefault(){return this.gl.LESS}set(o){(o!==this.current||this.dirty)&&(this.gl.depthFunc(o),this.current=o,this.dirty=!1)}}class z_ extends yn{getDefault(){return!1}set(o){if(o===this.current&&!this.dirty)return;const h=this.gl;o?h.enable(h.BLEND):h.disable(h.BLEND),this.current=o,this.dirty=!1}}class L_ extends yn{getDefault(){const o=this.gl;return[o.ONE,o.ZERO]}set(o){const h=this.current;(o[0]!==h[0]||o[1]!==h[1]||this.dirty)&&(this.gl.blendFunc(o[0],o[1]),this.current=o,this.dirty=!1)}}class O_ extends yn{getDefault(){return c.aO.transparent}set(o){const h=this.current;(o.r!==h.r||o.g!==h.g||o.b!==h.b||o.a!==h.a||this.dirty)&&(this.gl.blendColor(o.r,o.g,o.b,o.a),this.current=o,this.dirty=!1)}}class D_ extends yn{getDefault(){return this.gl.FUNC_ADD}set(o){(o!==this.current||this.dirty)&&(this.gl.blendEquation(o),this.current=o,this.dirty=!1)}}class Ff extends yn{getDefault(){return!1}set(o){if(o===this.current&&!this.dirty)return;const h=this.gl;o?h.enable(h.CULL_FACE):h.disable(h.CULL_FACE),this.current=o,this.dirty=!1}}class Ld extends yn{getDefault(){return this.gl.BACK}set(o){(o!==this.current||this.dirty)&&(this.gl.cullFace(o),this.current=o,this.dirty=!1)}}class Nf extends yn{getDefault(){return this.gl.CCW}set(o){(o!==this.current||this.dirty)&&(this.gl.frontFace(o),this.current=o,this.dirty=!1)}}class jf extends yn{getDefault(){return null}set(o){(o!==this.current||this.dirty)&&(this.gl.useProgram(o),this.current=o,this.dirty=!1)}}class Bl extends yn{getDefault(){return this.gl.TEXTURE0}set(o){(o!==this.current||this.dirty)&&(this.gl.activeTexture(o),this.current=o,this.dirty=!1)}}class ty extends yn{getDefault(){const o=this.gl;return[0,0,o.drawingBufferWidth,o.drawingBufferHeight]}set(o){const h=this.current;(o[0]!==h[0]||o[1]!==h[1]||o[2]!==h[2]||o[3]!==h[3]||this.dirty)&&(this.gl.viewport(o[0],o[1],o[2],o[3]),this.current=o,this.dirty=!1)}}class ny extends yn{getDefault(){return null}set(o){if(o===this.current&&!this.dirty)return;const h=this.gl;h.bindFramebuffer(h.FRAMEBUFFER,o),this.current=o,this.dirty=!1}}class Vf extends yn{getDefault(){return null}set(o){if(o===this.current&&!this.dirty)return;const h=this.gl;h.bindRenderbuffer(h.RENDERBUFFER,o),this.current=o,this.dirty=!1}}class Ha extends yn{getDefault(){return null}set(o){if(o===this.current&&!this.dirty)return;const h=this.gl;h.bindTexture(h.TEXTURE_2D,o),this.current=o,this.dirty=!1}}class iy extends yn{getDefault(){return null}set(o){if(o===this.current&&!this.dirty)return;const h=this.gl;h.bindBuffer(h.ARRAY_BUFFER,o),this.current=o,this.dirty=!1}}class Fl extends yn{getDefault(){return null}set(o){const h=this.gl;h.bindBuffer(h.ELEMENT_ARRAY_BUFFER,o),this.current=o,this.dirty=!1}}class Nl extends yn{getDefault(){return null}set(o){var h;if(o===this.current&&!this.dirty)return;const p=this.gl;Dl(p)?p.bindVertexArray(o):(h=p.getExtension("OES_vertex_array_object"))===null||h===void 0||h.bindVertexArrayOES(o),this.current=o,this.dirty=!1}}class ry extends yn{getDefault(){return 4}set(o){if(o===this.current&&!this.dirty)return;const h=this.gl;h.pixelStorei(h.UNPACK_ALIGNMENT,o),this.current=o,this.dirty=!1}}class Uf extends yn{getDefault(){return!1}set(o){if(o===this.current&&!this.dirty)return;const h=this.gl;h.pixelStorei(h.UNPACK_PREMULTIPLY_ALPHA_WEBGL,o),this.current=o,this.dirty=!1}}class bn extends yn{getDefault(){return!1}set(o){if(o===this.current&&!this.dirty)return;const h=this.gl;h.pixelStorei(h.UNPACK_FLIP_Y_WEBGL,o),this.current=o,this.dirty=!1}}class jl extends yn{constructor(o,h){super(o),this.context=o,this.parent=h}getDefault(){return null}}class $_ extends jl{setDirty(){this.dirty=!0}set(o){if(o===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const h=this.gl;h.framebufferTexture2D(h.FRAMEBUFFER,h.COLOR_ATTACHMENT0,h.TEXTURE_2D,o,0),this.current=o,this.dirty=!1}}class oy extends jl{set(o){if(o===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const h=this.gl;h.framebufferRenderbuffer(h.FRAMEBUFFER,h.DEPTH_ATTACHMENT,h.RENDERBUFFER,o),this.current=o,this.dirty=!1}}class fu extends jl{set(o){if(o===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const h=this.gl;h.framebufferRenderbuffer(h.FRAMEBUFFER,h.DEPTH_STENCIL_ATTACHMENT,h.RENDERBUFFER,o),this.current=o,this.dirty=!1}}class B_{constructor(o,h,p,m,_){this.context=o,this.width=h,this.height=p;const T=o.gl,I=this.framebuffer=T.createFramebuffer();if(this.colorAttachment=new $_(o,I),m)this.depthAttachment=_?new fu(o,I):new oy(o,I);else if(_)throw new Error("Stencil cannot be set without depth");if(T.checkFramebufferStatus(T.FRAMEBUFFER)!==T.FRAMEBUFFER_COMPLETE)throw new Error("Framebuffer is not complete")}destroy(){const o=this.context.gl,h=this.colorAttachment.get();if(h&&o.deleteTexture(h),this.depthAttachment){const p=this.depthAttachment.get();p&&o.deleteRenderbuffer(p)}o.deleteFramebuffer(this.framebuffer)}}class fi{constructor(o,h,p){this.blendFunction=o,this.blendColor=h,this.mask=p}}fi.Replace=[1,0],fi.disabled=new fi(fi.Replace,c.aO.transparent,[!1,!1,!1,!1]),fi.unblended=new fi(fi.Replace,c.aO.transparent,[!0,!0,!0,!0]),fi.alphaBlended=new fi([1,771],c.aO.transparent,[!0,!0,!0,!0]);class sy{constructor(o){var h,p;if(this.gl=o,this.clearColor=new Rd(this),this.clearDepth=new Of(this),this.clearStencil=new Df(this),this.colorMask=new Md(this),this.depthMask=new $f(this),this.stencilMask=new Bf(this),this.stencilFunc=new zd(this),this.stencilOp=new Qg(this),this.stencilTest=new ey(this),this.depthRange=new $l(this),this.depthTest=new R_(this),this.depthFunc=new M_(this),this.blend=new z_(this),this.blendFunc=new L_(this),this.blendColor=new O_(this),this.blendEquation=new D_(this),this.cullFace=new Ff(this),this.cullFaceSide=new Ld(this),this.frontFace=new Nf(this),this.program=new jf(this),this.activeTexture=new Bl(this),this.viewport=new ty(this),this.bindFramebuffer=new ny(this),this.bindRenderbuffer=new Vf(this),this.bindTexture=new Ha(this),this.bindVertexBuffer=new iy(this),this.bindElementBuffer=new Fl(this),this.bindVertexArray=new Nl(this),this.pixelStoreUnpack=new ry(this),this.pixelStoreUnpackPremultiplyAlpha=new Uf(this),this.pixelStoreUnpackFlipY=new bn(this),this.extTextureFilterAnisotropic=o.getExtension("EXT_texture_filter_anisotropic")||o.getExtension("MOZ_EXT_texture_filter_anisotropic")||o.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=o.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.maxTextureSize=o.getParameter(o.MAX_TEXTURE_SIZE),Dl(o)){this.HALF_FLOAT=o.HALF_FLOAT;const m=o.getExtension("EXT_color_buffer_half_float");this.RGBA16F=(h=o.RGBA16F)!==null&&h!==void 0?h:m==null?void 0:m.RGBA16F_EXT,this.RGB16F=(p=o.RGB16F)!==null&&p!==void 0?p:m==null?void 0:m.RGB16F_EXT,o.getExtension("EXT_color_buffer_float")}else{o.getExtension("EXT_color_buffer_half_float"),o.getExtension("OES_texture_half_float_linear");const m=o.getExtension("OES_texture_half_float");this.HALF_FLOAT=m==null?void 0:m.HALF_FLOAT_OES}}setDefault(){this.unbindVAO(),this.clearColor.setDefault(),this.clearDepth.setDefault(),this.clearStencil.setDefault(),this.colorMask.setDefault(),this.depthMask.setDefault(),this.stencilMask.setDefault(),this.stencilFunc.setDefault(),this.stencilOp.setDefault(),this.stencilTest.setDefault(),this.depthRange.setDefault(),this.depthTest.setDefault(),this.depthFunc.setDefault(),this.blend.setDefault(),this.blendFunc.setDefault(),this.blendColor.setDefault(),this.blendEquation.setDefault(),this.cullFace.setDefault(),this.cullFaceSide.setDefault(),this.frontFace.setDefault(),this.program.setDefault(),this.activeTexture.setDefault(),this.bindFramebuffer.setDefault(),this.pixelStoreUnpack.setDefault(),this.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.pixelStoreUnpackFlipY.setDefault()}setDirty(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.bindVertexArray.dirty=!0,this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0}createIndexBuffer(o,h){return new Ua(this,o,h)}createVertexBuffer(o,h,p){return new Jr(this,o,h,p)}createRenderbuffer(o,h,p){const m=this.gl,_=m.createRenderbuffer();return this.bindRenderbuffer.set(_),m.renderbufferStorage(m.RENDERBUFFER,o,h,p),this.bindRenderbuffer.set(null),_}createFramebuffer(o,h,p,m){return new B_(this,o,h,p,m)}clear({color:o,depth:h,stencil:p}){const m=this.gl;let _=0;o&&(_|=m.COLOR_BUFFER_BIT,this.clearColor.set(o),this.colorMask.set([!0,!0,!0,!0])),h!==void 0&&(_|=m.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set(h),this.depthMask.set(!0)),p!==void 0&&(_|=m.STENCIL_BUFFER_BIT,this.clearStencil.set(p),this.stencilMask.set(255)),m.clear(_)}setCullFace(o){o.enable===!1?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(o.mode),this.frontFace.set(o.frontFace))}setDepthMode(o){o.func!==this.gl.ALWAYS||o.mask?(this.depthTest.set(!0),this.depthFunc.set(o.func),this.depthMask.set(o.mask),this.depthRange.set(o.range)):this.depthTest.set(!1)}setStencilMode(o){o.test.func!==this.gl.ALWAYS||o.mask?(this.stencilTest.set(!0),this.stencilMask.set(o.mask),this.stencilOp.set([o.fail,o.depthFail,o.pass]),this.stencilFunc.set({func:o.test.func,ref:o.ref,mask:o.test.mask})):this.stencilTest.set(!1)}setColorMode(o){c.aD(o.blendFunction,fi.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(o.blendFunction),this.blendColor.set(o.blendColor)),this.colorMask.set(o.mask)}createVertexArray(){var o;return Dl(this.gl)?this.gl.createVertexArray():(o=this.gl.getExtension("OES_vertex_array_object"))===null||o===void 0?void 0:o.createVertexArrayOES()}deleteVertexArray(o){var h;return Dl(this.gl)?this.gl.deleteVertexArray(o):(h=this.gl.getExtension("OES_vertex_array_object"))===null||h===void 0?void 0:h.deleteVertexArrayOES(o)}unbindVAO(){this.bindVertexArray.set(null)}}class gn{constructor(o,h,p){this.func=o,this.mask=h,this.range=p}}gn.ReadOnly=!1,gn.ReadWrite=!0,gn.disabled=new gn(519,gn.ReadOnly,[0,1]);const pu=7680;class On{constructor(o,h,p,m,_,T){this.test=o,this.ref=h,this.mask=p,this.fail=m,this.depthFail=_,this.pass=T}}On.disabled=new On({func:519,mask:0},0,0,pu,pu,pu);class zn{constructor(o,h,p){this.enable=o,this.mode=h,this.frontFace=p}}let Vl;function Od(v,o,h,p,m,_,T){const I=v.context,R=I.gl,L=v.useProgram("collisionBox"),B=[];let j=0,K=0;for(let he=0;he<p.length;he++){const Se=p[he],Me=o.getTile(Se),ze=Me.getBucket(h);if(!ze)continue;let je=Se.posMatrix;m[0]===0&&m[1]===0||(je=v.translatePosMatrix(Se.posMatrix,Me,m,_));const tt=T?ze.textCollisionBox:ze.iconCollisionBox,Xe=ze.collisionCircleArray;if(Xe.length>0){const Je=c.F(),vt=je;c.aP(Je,ze.placementInvProjMatrix,v.transform.glCoordMatrix),c.aP(Je,Je,ze.placementViewportMatrix),B.push({circleArray:Xe,circleOffset:K,transform:vt,invTransform:Je,coord:Se}),j+=Xe.length/4,K=j}tt&&L.draw(I,R.LINES,gn.disabled,On.disabled,v.colorModeForRenderPass(),zn.disabled,T_(je,v.transform,Me),v.style.map.terrain&&v.style.map.terrain.getTerrainData(Se),h.id,tt.layoutVertexBuffer,tt.indexBuffer,tt.segments,null,v.transform.zoom,null,null,tt.collisionVertexBuffer)}if(!T||!B.length)return;const le=v.useProgram("collisionCircle"),se=new c.aQ;se.resize(4*j),se._trim();let de=0;for(const he of B)for(let Se=0;Se<he.circleArray.length/4;Se++){const Me=4*Se,ze=he.circleArray[Me+0],je=he.circleArray[Me+1],tt=he.circleArray[Me+2],Xe=he.circleArray[Me+3];se.emplace(de++,ze,je,tt,Xe,0),se.emplace(de++,ze,je,tt,Xe,1),se.emplace(de++,ze,je,tt,Xe,2),se.emplace(de++,ze,je,tt,Xe,3)}(!Vl||Vl.length<2*j)&&(Vl=function(he){const Se=2*he,Me=new c.aS;Me.resize(Se),Me._trim();for(let ze=0;ze<Se;ze++){const je=6*ze;Me.uint16[je+0]=4*ze+0,Me.uint16[je+1]=4*ze+1,Me.uint16[je+2]=4*ze+2,Me.uint16[je+3]=4*ze+2,Me.uint16[je+4]=4*ze+3,Me.uint16[je+5]=4*ze+0}return Me}(j));const ee=I.createIndexBuffer(Vl,!0),ye=I.createVertexBuffer(se,c.aR.members,!0);for(const he of B){const Se={u_matrix:he.transform,u_inv_matrix:he.invTransform,u_camera_to_center_distance:(Ae=v.transform).cameraToCenterDistance,u_viewport_size:[Ae.width,Ae.height]};le.draw(I,R.TRIANGLES,gn.disabled,On.disabled,v.colorModeForRenderPass(),zn.disabled,Se,v.style.map.terrain&&v.style.map.terrain.getTerrainData(he.coord),h.id,ye,ee,c.$.simpleSegment(0,2*he.circleOffset,he.circleArray.length,he.circleArray.length/2),null,v.transform.zoom,null,null,null)}var Ae;ye.destroy(),ee.destroy()}zn.disabled=new zn(!1,1029,2305),zn.backCCW=new zn(!0,1029,2305);const ay=c.an(new Float32Array(16));function Dd(v,o,h,p,m,_){const{horizontalAlign:T,verticalAlign:I}=c.at(v);return new c.P((-(T-.5)*o/m+p[0])*_,(-(I-.5)*h/m+p[1])*_)}function $d(v,o,h,p,m,_,T,I,R,L,B){const j=v.text.placedSymbolArray,K=v.text.dynamicLayoutVertexArray,le=v.icon.dynamicLayoutVertexArray,se={};K.clear();for(let de=0;de<j.length;de++){const ee=j.get(de),ye=ee.hidden||!ee.crossTileID||v.allowVerticalPlacement&&!ee.placedOrientation?null:p[ee.crossTileID];if(ye){const Ae=new c.P(ee.anchorX,ee.anchorY),he=ae(Ae,h?T:_,B),Se=U(m.cameraToCenterDistance,he.signedDistanceFromCamera);let Me=c.ai(v.textSizeData,R,ee)*Se/c.ao;h&&(Me*=v.tilePixelRatio/I);const{width:ze,height:je,anchor:tt,textOffset:Xe,textBoxScale:Je}=ye,vt=Dd(tt,ze,je,Xe,Je,Me),Xt=h?ae(Ae.add(vt),_,B).point:he.point.add(o?vt.rotate(-m.angle):vt),ut=v.allowVerticalPlacement&&ee.placedOrientation===c.ah.vertical?Math.PI/2:0;for(let jt=0;jt<ee.numGlyphs;jt++)c.aj(K,Xt,ut);L&&ee.associatedIconIndex>=0&&(se[ee.associatedIconIndex]={shiftedAnchor:Xt,angle:ut})}else xt(ee.numGlyphs,K)}if(L){le.clear();const de=v.icon.placedSymbolArray;for(let ee=0;ee<de.length;ee++){const ye=de.get(ee);if(ye.hidden)xt(ye.numGlyphs,le);else{const Ae=se[ee];if(Ae)for(let he=0;he<ye.numGlyphs;he++)c.aj(le,Ae.shiftedAnchor,Ae.angle);else xt(ye.numGlyphs,le)}}v.icon.dynamicLayoutVertexBuffer.updateData(le)}v.text.dynamicLayoutVertexBuffer.updateData(K)}function Hf(v,o,h){return h.iconsInText&&o?"symbolTextAndIcon":v?"symbolSDF":"symbolIcon"}function ly(v,o,h,p,m,_,T,I,R,L,B,j){const K=v.context,le=K.gl,se=v.transform,de=I==="map",ee=R==="map",ye=I!=="viewport"&&h.layout.get("symbol-placement")!=="point",Ae=de&&!ee&&!ye,he=!h.layout.get("symbol-sort-key").isConstant();let Se=!1;const Me=v.depthModeForSublayer(0,gn.ReadOnly),ze=h._unevaluatedLayout.hasValue("text-variable-anchor")||h._unevaluatedLayout.hasValue("text-variable-anchor-offset"),je=[];for(const tt of p){const Xe=o.getTile(tt),Je=Xe.getBucket(h);if(!Je)continue;const vt=m?Je.text:Je.icon;if(!vt||!vt.segments.get().length||!vt.hasVisibleVertices)continue;const Xt=vt.programConfigurations.get(h.id),ut=m||Je.sdfIcons,jt=m?Je.textSizeData:Je.iconSizeData,tn=ee||se.pitch!==0,hn=v.useProgram(Hf(ut,m,Je),Xt),qt=c.ag(jt,se.zoom),nn=v.style.map.terrain&&v.style.map.terrain.getTerrainData(tt);let rn,Xn,Ln,$r,Pi=[0,0],Dn=null;if(m)Xn=Xe.glyphAtlasTexture,Ln=le.LINEAR,rn=Xe.glyphAtlasTexture.size,Je.iconsInText&&(Pi=Xe.imageAtlasTexture.size,Dn=Xe.imageAtlasTexture,$r=tn||v.options.rotating||v.options.zooming||jt.kind==="composite"||jt.kind==="camera"?le.LINEAR:le.NEAREST);else{const Zn=h.layout.get("icon-size").constantOr(0)!==1||Je.iconsNeedLinear;Xn=Xe.imageAtlasTexture,Ln=ut||v.options.rotating||v.options.zooming||Zn||tn?le.LINEAR:le.NEAREST,rn=Xe.imageAtlasTexture.size}const sr=Zt(Xe,1,v.transform.zoom),Fo=ss(tt.posMatrix,ee,de,v.transform,sr),ds=Oo(tt.posMatrix,ee,de,v.transform,sr),Xa=ze&&Je.hasTextData(),Ya=h.layout.get("icon-text-fit")!=="none"&&Xa&&Je.hasIconData();if(ye){const Zn=v.style.map.terrain?(eo,un)=>v.style.map.terrain.getElevation(tt,eo,un):null,Hi=h.layout.get("text-rotation-alignment")==="map";Y(Je,tt.posMatrix,v,m,Fo,ds,ee,L,Hi,Zn)}const hs=v.translatePosMatrix(tt.posMatrix,Xe,_,T),No=ye||m&&ze||Ya?ay:Fo,ni=v.translatePosMatrix(ds,Xe,_,T,!0),jn=ut&&h.paint.get(m?"text-halo-width":"icon-halo-width").constantOr(1)!==0;let ui;ui=ut?Je.iconsInText?I_(jt.kind,qt,Ae,ee,v,hs,No,ni,rn,Pi):Ol(jt.kind,qt,Ae,ee,v,hs,No,ni,m,rn,!0):hu(jt.kind,qt,Ae,ee,v,hs,No,ni,m,rn);const Ql={program:hn,buffers:vt,uniformValues:ui,atlasTexture:Xn,atlasTextureIcon:Dn,atlasInterpolation:Ln,atlasInterpolationIcon:$r,isSDF:ut,hasHalo:jn};if(he&&Je.canOverlap){Se=!0;const Zn=vt.segments.get();for(const Hi of Zn)je.push({segments:new c.$([Hi]),sortKey:Hi.sortKey,state:Ql,terrainData:nn})}else je.push({segments:vt.segments,sortKey:0,state:Ql,terrainData:nn})}Se&&je.sort((tt,Xe)=>tt.sortKey-Xe.sortKey);for(const tt of je){const Xe=tt.state;if(K.activeTexture.set(le.TEXTURE0),Xe.atlasTexture.bind(Xe.atlasInterpolation,le.CLAMP_TO_EDGE),Xe.atlasTextureIcon&&(K.activeTexture.set(le.TEXTURE1),Xe.atlasTextureIcon&&Xe.atlasTextureIcon.bind(Xe.atlasInterpolationIcon,le.CLAMP_TO_EDGE)),Xe.isSDF){const Je=Xe.uniformValues;Xe.hasHalo&&(Je.u_is_halo=1,Bd(Xe.buffers,tt.segments,h,v,Xe.program,Me,B,j,Je,tt.terrainData)),Je.u_is_halo=0}Bd(Xe.buffers,tt.segments,h,v,Xe.program,Me,B,j,Xe.uniformValues,tt.terrainData)}}function Bd(v,o,h,p,m,_,T,I,R,L){const B=p.context;m.draw(B,B.gl.TRIANGLES,_,T,I,zn.disabled,R,L,h.id,v.layoutVertexBuffer,v.indexBuffer,o,h.paint,p.transform.zoom,v.programConfigurations.get(h.id),v.dynamicLayoutVertexBuffer,v.opacityVertexBuffer)}function cy(v,o,h,p,m){if(!h||!p||!p.imageAtlas)return;const _=p.imageAtlas.patternPositions;let T=_[h.to.toString()],I=_[h.from.toString()];if(!T&&I&&(T=I),!I&&T&&(I=T),!T||!I){const R=m.getPaintProperty(o);T=_[R],I=_[R]}T&&I&&v.setConstantPatternPositions(T,I)}function qf(v,o,h,p,m,_,T){const I=v.context.gl,R="fill-pattern",L=h.paint.get(R),B=L&&L.constantOr(1),j=h.getCrossfadeParameters();let K,le,se,de,ee;T?(le=B&&!h.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",K=I.LINES):(le=B?"fillPattern":"fill",K=I.TRIANGLES);const ye=L.constantOr(null);for(const Ae of p){const he=o.getTile(Ae);if(B&&!he.patternsLoaded())continue;const Se=he.getBucket(h);if(!Se)continue;const Me=Se.programConfigurations.get(h.id),ze=v.useProgram(le,Me),je=v.style.map.terrain&&v.style.map.terrain.getTerrainData(Ae);B&&(v.context.activeTexture.set(I.TEXTURE0),he.imageAtlasTexture.bind(I.LINEAR,I.CLAMP_TO_EDGE),Me.updatePaintBuffers(j)),cy(Me,R,ye,he,h);const tt=je?Ae:null,Xe=v.translatePosMatrix(tt?tt.posMatrix:Ae.posMatrix,he,h.paint.get("fill-translate"),h.paint.get("fill-translate-anchor"));if(T){de=Se.indexBuffer2,ee=Se.segments2;const Je=[I.drawingBufferWidth,I.drawingBufferHeight];se=le==="fillOutlinePattern"&&B?C_(Xe,v,j,he,Je):Gg(Xe,Je)}else de=Se.indexBuffer,ee=Se.segments,se=B?Zg(Xe,v,j,he):Ed(Xe);ze.draw(v.context,K,m,v.stencilModeForClipping(Ae),_,zn.disabled,se,je,h.id,Se.layoutVertexBuffer,de,ee,h.paint,v.transform.zoom,Me)}}function Ul(v,o,h,p,m,_,T){const I=v.context,R=I.gl,L="fill-extrusion-pattern",B=h.paint.get(L),j=B.constantOr(1),K=h.getCrossfadeParameters(),le=h.paint.get("fill-extrusion-opacity"),se=B.constantOr(null);for(const de of p){const ee=o.getTile(de),ye=ee.getBucket(h);if(!ye)continue;const Ae=v.style.map.terrain&&v.style.map.terrain.getTerrainData(de),he=ye.programConfigurations.get(h.id),Se=v.useProgram(j?"fillExtrusionPattern":"fillExtrusion",he);j&&(v.context.activeTexture.set(R.TEXTURE0),ee.imageAtlasTexture.bind(R.LINEAR,R.CLAMP_TO_EDGE),he.updatePaintBuffers(K)),cy(he,L,se,ee,h);const Me=v.translatePosMatrix(de.posMatrix,ee,h.paint.get("fill-extrusion-translate"),h.paint.get("fill-extrusion-translate-anchor")),ze=h.paint.get("fill-extrusion-vertical-gradient"),je=j?E_(Me,v,ze,le,de,K,ee):Wg(Me,v,ze,le);Se.draw(I,I.gl.TRIANGLES,m,_,T,zn.backCCW,je,Ae,h.id,ye.layoutVertexBuffer,ye.indexBuffer,ye.segments,h.paint,v.transform.zoom,he,v.style.map.terrain&&ye.centroidVertexBuffer)}}function Wf(v,o,h,p,m,_,T){const I=v.context,R=I.gl,L=h.fbo;if(!L)return;const B=v.useProgram("hillshade"),j=v.style.map.terrain&&v.style.map.terrain.getTerrainData(o);I.activeTexture.set(R.TEXTURE0),R.bindTexture(R.TEXTURE_2D,L.colorAttachment.get()),B.draw(I,R.TRIANGLES,m,_,T,zn.disabled,((K,le,se,de)=>{const ee=se.paint.get("hillshade-shadow-color"),ye=se.paint.get("hillshade-highlight-color"),Ae=se.paint.get("hillshade-accent-color");let he=se.paint.get("hillshade-illumination-direction")*(Math.PI/180);se.paint.get("hillshade-illumination-anchor")==="viewport"&&(he-=K.transform.angle);const Se=!K.options.moving;return{u_matrix:de?de.posMatrix:K.transform.calculatePosMatrix(le.tileID.toUnwrapped(),Se),u_image:0,u_latrange:Yg(0,le.tileID),u_light:[se.paint.get("hillshade-exaggeration"),he],u_shadow:ee,u_highlight:ye,u_accent:Ae}})(v,h,p,j?o:null),j,p.id,v.rasterBoundsBuffer,v.quadTriangleIndexBuffer,v.rasterBoundsSegments)}function uy(v,o,h,p,m,_){const T=v.context,I=T.gl,R=o.dem;if(R&&R.data){const L=R.dim,B=R.stride,j=R.getPixels();if(T.activeTexture.set(I.TEXTURE1),T.pixelStoreUnpackPremultiplyAlpha.set(!1),o.demTexture=o.demTexture||v.getTileTexture(B),o.demTexture){const le=o.demTexture;le.update(j,{premultiply:!1}),le.bind(I.NEAREST,I.CLAMP_TO_EDGE)}else o.demTexture=new Ze(T,j,I.RGBA,{premultiply:!1}),o.demTexture.bind(I.NEAREST,I.CLAMP_TO_EDGE);T.activeTexture.set(I.TEXTURE0);let K=o.fbo;if(!K){const le=new Ze(T,{width:L,height:L,data:null},I.RGBA);le.bind(I.LINEAR,I.CLAMP_TO_EDGE),K=o.fbo=T.createFramebuffer(L,L,!0,!1),K.colorAttachment.set(le.texture)}T.bindFramebuffer.set(K.framebuffer),T.viewport.set([0,0,L,L]),v.useProgram("hillshadePrepare").draw(T,I.TRIANGLES,p,m,_,zn.disabled,((le,se)=>{const de=se.stride,ee=c.F();return c.aN(ee,0,c.W,-c.W,0,0,1),c.H(ee,ee,[0,-c.W,0]),{u_matrix:ee,u_image:1,u_dimension:[de,de],u_zoom:le.overscaledZ,u_unpack:se.getUnpackVector()}})(o.tileID,R),null,h.id,v.rasterBoundsBuffer,v.quadTriangleIndexBuffer,v.rasterBoundsSegments),o.needsHillshadePrepare=!1}}function dy(v,o,h,p,m,_){const T=p.paint.get("raster-fade-duration");if(!_&&T>0){const I=S.now(),R=(I-v.timeAdded)/T,L=o?(I-o.timeAdded)/T:-1,B=h.getSource(),j=m.coveringZoomLevel({tileSize:B.tileSize,roundZoom:B.roundZoom}),K=!o||Math.abs(o.tileID.overscaledZ-j)>Math.abs(v.tileID.overscaledZ-j),le=K&&v.refreshedUponExpiration?1:c.ac(K?R:1-L,0,1);return v.refreshedUponExpiration&&R>=1&&(v.refreshedUponExpiration=!1),o?{opacity:1,mix:1-le}:{opacity:le,mix:0}}return{opacity:1,mix:0}}const Fd=new c.aO(1,0,0,1),Zf=new c.aO(0,1,0,1),F_=new c.aO(0,0,1,1),hy=new c.aO(1,0,1,1),ci=new c.aO(0,1,1,1);function fa(v,o,h,p){Hl(v,0,o+h/2,v.transform.width,h,p)}function Qr(v,o,h,p){Hl(v,o-h/2,0,h,v.transform.height,p)}function Hl(v,o,h,p,m,_){const T=v.context,I=T.gl;I.enable(I.SCISSOR_TEST),I.scissor(o*v.pixelRatio,h*v.pixelRatio,p*v.pixelRatio,m*v.pixelRatio),T.clear({color:_}),I.disable(I.SCISSOR_TEST)}function Gf(v,o,h){const p=v.context,m=p.gl,_=h.posMatrix,T=v.useProgram("debug"),I=gn.disabled,R=On.disabled,L=v.colorModeForRenderPass(),B="$debug",j=v.style.map.terrain&&v.style.map.terrain.getTerrainData(h);p.activeTexture.set(m.TEXTURE0);const K=o.getTileByID(h.key).latestRawTileData,le=Math.floor((K&&K.byteLength||0)/1024),se=o.getTile(h).tileSize,de=512/Math.min(se,512)*(h.overscaledZ/v.transform.zoom)*.5;let ee=h.canonical.toString();h.overscaledZ!==h.canonical.z&&(ee+=" => ".concat(h.overscaledZ)),function(ye,Ae){ye.initDebugOverlayCanvas();const he=ye.debugOverlayCanvas,Se=ye.context.gl,Me=ye.debugOverlayCanvas.getContext("2d");Me.clearRect(0,0,he.width,he.height),Me.shadowColor="white",Me.shadowBlur=2,Me.lineWidth=1.5,Me.strokeStyle="white",Me.textBaseline="top",Me.font="bold 36px Open Sans, sans-serif",Me.fillText(Ae,5,5),Me.strokeText(Ae,5,5),ye.debugOverlayTexture.update(he),ye.debugOverlayTexture.bind(Se.LINEAR,Se.CLAMP_TO_EDGE)}(v,"".concat(ee," ").concat(le,"kB")),T.draw(p,m.TRIANGLES,I,R,fi.alphaBlended,zn.disabled,Cd(_,c.aO.transparent,de),null,B,v.debugBuffer,v.quadTriangleIndexBuffer,v.debugSegments),T.draw(p,m.LINE_STRIP,I,R,L,zn.disabled,Cd(_,c.aO.red),j,B,v.debugBuffer,v.tileBorderIndexBuffer,v.debugSegments)}function Kf(v,o,h){const p=v.context,m=p.gl,_=v.colorModeForRenderPass(),T=new gn(m.LEQUAL,gn.ReadWrite,v.depthRangeFor3D),I=v.useProgram("terrain"),R=o.getTerrainMesh();p.bindFramebuffer.set(null),p.viewport.set([0,0,v.width,v.height]);for(const L of h){const B=v.renderToTexture.getTexture(L),j=o.getTerrainData(L.tileID);p.activeTexture.set(m.TEXTURE0),m.bindTexture(m.TEXTURE_2D,B.texture);const K={u_matrix:v.transform.calculatePosMatrix(L.tileID.toUnwrapped()),u_texture:0,u_ele_delta:o.getMeshFrameDelta(v.transform.zoom)};I.draw(p,m.TRIANGLES,T,On.disabled,_,zn.backCCW,K,j,"terrain",R.vertexBuffer,R.indexBuffer,R.segments)}}class ql{constructor(o,h){this.context=new sy(o),this.transform=h,this._tileTextures={},this.terrainFacilitator={dirty:!0,matrix:c.an(new Float64Array(16)),renderTime:0},this.setup(),this.numSublayers=nt.maxUnderzooming+nt.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.crossTileSymbolIndex=new li}resize(o,h,p){if(this.width=Math.floor(o*p),this.height=Math.floor(h*p),this.pixelRatio=p,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(const m of this.style._order)this.style._layers[m].resize()}setup(){const o=this.context,h=new c.aV;h.emplaceBack(0,0),h.emplaceBack(c.W,0),h.emplaceBack(0,c.W),h.emplaceBack(c.W,c.W),this.tileExtentBuffer=o.createVertexBuffer(h,as.members),this.tileExtentSegments=c.$.simpleSegment(0,0,4,2);const p=new c.aV;p.emplaceBack(0,0),p.emplaceBack(c.W,0),p.emplaceBack(0,c.W),p.emplaceBack(c.W,c.W),this.debugBuffer=o.createVertexBuffer(p,as.members),this.debugSegments=c.$.simpleSegment(0,0,4,5);const m=new c.Z;m.emplaceBack(0,0,0,0),m.emplaceBack(c.W,0,c.W,0),m.emplaceBack(0,c.W,0,c.W),m.emplaceBack(c.W,c.W,c.W,c.W),this.rasterBoundsBuffer=o.createVertexBuffer(m,si.members),this.rasterBoundsSegments=c.$.simpleSegment(0,0,4,2);const _=new c.aV;_.emplaceBack(0,0),_.emplaceBack(1,0),_.emplaceBack(0,1),_.emplaceBack(1,1),this.viewportBuffer=o.createVertexBuffer(_,as.members),this.viewportSegments=c.$.simpleSegment(0,0,4,2);const T=new c.aW;T.emplaceBack(0),T.emplaceBack(1),T.emplaceBack(3),T.emplaceBack(2),T.emplaceBack(0),this.tileBorderIndexBuffer=o.createIndexBuffer(T);const I=new c.aX;I.emplaceBack(0,1,2),I.emplaceBack(2,1,3),this.quadTriangleIndexBuffer=o.createIndexBuffer(I);const R=this.context.gl;this.stencilClearMode=new On({func:R.ALWAYS,mask:0},0,255,R.ZERO,R.ZERO,R.ZERO)}clearStencil(){const o=this.context,h=o.gl;this.nextStencilID=1,this.currentStencilSource=void 0;const p=c.F();c.aN(p,0,this.width,this.height,0,0,1),c.J(p,p,[h.drawingBufferWidth,h.drawingBufferHeight,0]),this.useProgram("clippingMask").draw(o,h.TRIANGLES,gn.disabled,this.stencilClearMode,fi.disabled,zn.disabled,Lf(p),null,"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)}_renderTileClippingMasks(o,h){if(this.currentStencilSource===o.source||!o.isTileClipped()||!h||!h.length)return;this.currentStencilSource=o.source;const p=this.context,m=p.gl;this.nextStencilID+h.length>256&&this.clearStencil(),p.setColorMode(fi.disabled),p.setDepthMode(gn.disabled);const _=this.useProgram("clippingMask");this._tileClippingMaskIDs={};for(const T of h){const I=this._tileClippingMaskIDs[T.key]=this.nextStencilID++,R=this.style.map.terrain&&this.style.map.terrain.getTerrainData(T);_.draw(p,m.TRIANGLES,gn.disabled,new On({func:m.ALWAYS,mask:0},I,255,m.KEEP,m.KEEP,m.REPLACE),fi.disabled,zn.disabled,Lf(T.posMatrix),R,"$clipping",this.tileExtentBuffer,this.quadTriangleIndexBuffer,this.tileExtentSegments)}}stencilModeFor3D(){this.currentStencilSource=void 0,this.nextStencilID+1>256&&this.clearStencil();const o=this.nextStencilID++,h=this.context.gl;return new On({func:h.NOTEQUAL,mask:255},o,255,h.KEEP,h.KEEP,h.REPLACE)}stencilModeForClipping(o){const h=this.context.gl;return new On({func:h.EQUAL,mask:255},this._tileClippingMaskIDs[o.key],0,h.KEEP,h.KEEP,h.REPLACE)}stencilConfigForOverlap(o){const h=this.context.gl,p=o.sort((T,I)=>I.overscaledZ-T.overscaledZ),m=p[p.length-1].overscaledZ,_=p[0].overscaledZ-m+1;if(_>1){this.currentStencilSource=void 0,this.nextStencilID+_>256&&this.clearStencil();const T={};for(let I=0;I<_;I++)T[I+m]=new On({func:h.GEQUAL,mask:255},I+this.nextStencilID,255,h.KEEP,h.KEEP,h.REPLACE);return this.nextStencilID+=_,[T,p]}return[{[m]:On.disabled},p]}colorModeForRenderPass(){const o=this.context.gl;return this._showOverdrawInspector?new fi([o.CONSTANT_COLOR,o.ONE],new c.aO(.125,.125,.125,0),[!0,!0,!0,!0]):this.renderPass==="opaque"?fi.unblended:fi.alphaBlended}depthModeForSublayer(o,h,p){if(!this.opaquePassEnabledForLayer())return gn.disabled;const m=1-((1+this.currentLayer)*this.numSublayers+o)*this.depthEpsilon;return new gn(p||this.context.gl.LEQUAL,h,[m,m])}opaquePassEnabledForLayer(){return this.currentLayer<this.opaquePassCutoff}render(o,h){this.style=o,this.options=h,this.lineAtlas=o.lineAtlas,this.imageManager=o.imageManager,this.glyphManager=o.glyphManager,this.symbolFadeChange=o.placement.symbolFadeChange(S.now()),this.imageManager.beginFrame();const p=this.style._order,m=this.style.sourceCaches,_={},T={},I={};for(const R in m){const L=m[R];L.used&&L.prepare(this.context),_[R]=L.getVisibleCoordinates(),T[R]=_[R].slice().reverse(),I[R]=L.getVisibleCoordinates(!0).reverse()}this.opaquePassCutoff=1/0;for(let R=0;R<p.length;R++)if(this.style._layers[p[R]].is3D()){this.opaquePassCutoff=R;break}this.maybeDrawDepthAndCoords(!1),this.renderToTexture&&(this.renderToTexture.prepareForRender(this.style,this.transform.zoom),this.opaquePassCutoff=0),this.renderPass="offscreen";for(const R of p){const L=this.style._layers[R];if(!L.hasOffscreenPass()||L.isHidden(this.transform.zoom))continue;const B=T[L.source];(L.type==="custom"||B.length)&&this.renderLayer(this,m[L.source],L,B)}if(this.context.bindFramebuffer.set(null),this.context.clear({color:h.showOverdrawInspector?c.aO.black:c.aO.transparent,depth:1}),this.clearStencil(),this._showOverdrawInspector=h.showOverdrawInspector,this.depthRangeFor3D=[0,1-(o._order.length+2)*this.numSublayers*this.depthEpsilon],!this.renderToTexture)for(this.renderPass="opaque",this.currentLayer=p.length-1;this.currentLayer>=0;this.currentLayer--){const R=this.style._layers[p[this.currentLayer]],L=m[R.source],B=_[R.source];this._renderTileClippingMasks(R,B),this.renderLayer(this,L,R,B)}for(this.renderPass="translucent",this.currentLayer=0;this.currentLayer<p.length;this.currentLayer++){const R=this.style._layers[p[this.currentLayer]],L=m[R.source];if(this.renderToTexture&&this.renderToTexture.renderLayer(R))continue;const B=(R.type==="symbol"?I:T)[R.source];this._renderTileClippingMasks(R,_[R.source]),this.renderLayer(this,L,R,B)}if(this.options.showTileBoundaries){const R=function(L,B){let j=null;const K=Object.values(L._layers).flatMap(ee=>ee.source&&!ee.isHidden(B)?[L.sourceCaches[ee.source]]:[]),le=K.filter(ee=>ee.getSource().type==="vector"),se=K.filter(ee=>ee.getSource().type!=="vector"),de=ee=>{(!j||j.getSource().maxzoom<ee.getSource().maxzoom)&&(j=ee)};return le.forEach(ee=>de(ee)),j||se.forEach(ee=>de(ee)),j}(this.style,this.transform.zoom);R&&function(L,B,j){for(let K=0;K<j.length;K++)Gf(L,B,j[K])}(this,R,R.getVisibleCoordinates())}this.options.showPadding&&function(R){const L=R.transform.padding;fa(R,R.transform.height-(L.top||0),3,Fd),fa(R,L.bottom||0,3,Zf),Qr(R,L.left||0,3,F_),Qr(R,R.transform.width-(L.right||0),3,hy);const B=R.transform.centerPoint;(function(j,K,le,se){Hl(j,K-1,le-10,2,20,se),Hl(j,K-10,le-1,20,2,se)})(R,B.x,R.transform.height-B.y,ci)}(this),this.context.setDefault()}maybeDrawDepthAndCoords(o){if(!this.style||!this.style.map||!this.style.map.terrain)return;const h=this.terrainFacilitator.matrix,p=this.transform.projMatrix;let m=this.terrainFacilitator.dirty;m||(m=o?!c.aY(h,p):!c.aZ(h,p)),m||(m=this.style.map.terrain.sourceCache.tilesAfterTime(this.terrainFacilitator.renderTime).length>0),m&&(c.a_(h,p),this.terrainFacilitator.renderTime=Date.now(),this.terrainFacilitator.dirty=!1,function(_,T){const I=_.context,R=I.gl,L=fi.unblended,B=new gn(R.LEQUAL,gn.ReadWrite,[0,1]),j=T.getTerrainMesh(),K=T.sourceCache.getRenderableTiles(),le=_.useProgram("terrainDepth");I.bindFramebuffer.set(T.getFramebuffer("depth").framebuffer),I.viewport.set([0,0,_.width/devicePixelRatio,_.height/devicePixelRatio]),I.clear({color:c.aO.transparent,depth:1});for(const se of K){const de=T.getTerrainData(se.tileID),ee={u_matrix:_.transform.calculatePosMatrix(se.tileID.toUnwrapped()),u_ele_delta:T.getMeshFrameDelta(_.transform.zoom)};le.draw(I,R.TRIANGLES,B,On.disabled,L,zn.backCCW,ee,de,"terrain",j.vertexBuffer,j.indexBuffer,j.segments)}I.bindFramebuffer.set(null),I.viewport.set([0,0,_.width,_.height])}(this,this.style.map.terrain),function(_,T){const I=_.context,R=I.gl,L=fi.unblended,B=new gn(R.LEQUAL,gn.ReadWrite,[0,1]),j=T.getTerrainMesh(),K=T.getCoordsTexture(),le=T.sourceCache.getRenderableTiles(),se=_.useProgram("terrainCoords");I.bindFramebuffer.set(T.getFramebuffer("coords").framebuffer),I.viewport.set([0,0,_.width/devicePixelRatio,_.height/devicePixelRatio]),I.clear({color:c.aO.transparent,depth:1}),T.coordsIndex=[];for(const de of le){const ee=T.getTerrainData(de.tileID);I.activeTexture.set(R.TEXTURE0),R.bindTexture(R.TEXTURE_2D,K.texture);const ye={u_matrix:_.transform.calculatePosMatrix(de.tileID.toUnwrapped()),u_terrain_coords_id:(255-T.coordsIndex.length)/255,u_texture:0,u_ele_delta:T.getMeshFrameDelta(_.transform.zoom)};se.draw(I,R.TRIANGLES,B,On.disabled,L,zn.backCCW,ye,ee,"terrain",j.vertexBuffer,j.indexBuffer,j.segments),T.coordsIndex.push(de.tileID.key)}I.bindFramebuffer.set(null),I.viewport.set([0,0,_.width,_.height])}(this,this.style.map.terrain))}renderLayer(o,h,p,m){if(!p.isHidden(this.transform.zoom)&&(p.type==="background"||p.type==="custom"||(m||[]).length))switch(this.id=p.id,p.type){case"symbol":(function(_,T,I,R,L){if(_.renderPass!=="translucent")return;const B=On.disabled,j=_.colorModeForRenderPass();(I._unevaluatedLayout.hasValue("text-variable-anchor")||I._unevaluatedLayout.hasValue("text-variable-anchor-offset"))&&function(K,le,se,de,ee,ye,Ae){const he=le.transform,Se=ee==="map",Me=ye==="map";for(const ze of K){const je=de.getTile(ze),tt=je.getBucket(se);if(!tt||!tt.text||!tt.text.segments.get().length)continue;const Xe=c.ag(tt.textSizeData,he.zoom),Je=Zt(je,1,le.transform.zoom),vt=ss(ze.posMatrix,Me,Se,le.transform,Je),Xt=se.layout.get("icon-text-fit")!=="none"&&tt.hasIconData();if(Xe){const ut=Math.pow(2,he.zoom-je.tileID.overscaledZ);$d(tt,Se,Me,Ae,he,vt,ze.posMatrix,ut,Xe,Xt,le.style.map.terrain?(jt,tn)=>le.style.map.terrain.getElevation(ze,jt,tn):null)}}}(R,_,I,T,I.layout.get("text-rotation-alignment"),I.layout.get("text-pitch-alignment"),L),I.paint.get("icon-opacity").constantOr(1)!==0&&ly(_,T,I,R,!1,I.paint.get("icon-translate"),I.paint.get("icon-translate-anchor"),I.layout.get("icon-rotation-alignment"),I.layout.get("icon-pitch-alignment"),I.layout.get("icon-keep-upright"),B,j),I.paint.get("text-opacity").constantOr(1)!==0&&ly(_,T,I,R,!0,I.paint.get("text-translate"),I.paint.get("text-translate-anchor"),I.layout.get("text-rotation-alignment"),I.layout.get("text-pitch-alignment"),I.layout.get("text-keep-upright"),B,j),T.map.showCollisionBoxes&&(Od(_,T,I,R,I.paint.get("text-translate"),I.paint.get("text-translate-anchor"),!0),Od(_,T,I,R,I.paint.get("icon-translate"),I.paint.get("icon-translate-anchor"),!1))})(o,h,p,m,this.style.placement.variableOffsets);break;case"circle":(function(_,T,I,R){if(_.renderPass!=="translucent")return;const L=I.paint.get("circle-opacity"),B=I.paint.get("circle-stroke-width"),j=I.paint.get("circle-stroke-opacity"),K=!I.layout.get("circle-sort-key").isConstant();if(L.constantOr(1)===0&&(B.constantOr(1)===0||j.constantOr(1)===0))return;const le=_.context,se=le.gl,de=_.depthModeForSublayer(0,gn.ReadOnly),ee=On.disabled,ye=_.colorModeForRenderPass(),Ae=[];for(let he=0;he<R.length;he++){const Se=R[he],Me=T.getTile(Se),ze=Me.getBucket(I);if(!ze)continue;const je=ze.programConfigurations.get(I.id),tt=_.useProgram("circle",je),Xe=ze.layoutVertexBuffer,Je=ze.indexBuffer,vt=_.style.map.terrain&&_.style.map.terrain.getTerrainData(Se),Xt={programConfiguration:je,program:tt,layoutVertexBuffer:Xe,indexBuffer:Je,uniformValues:Kg(_,Se,Me,I),terrainData:vt};if(K){const ut=ze.segments.get();for(const jt of ut)Ae.push({segments:new c.$([jt]),sortKey:jt.sortKey,state:Xt})}else Ae.push({segments:ze.segments,sortKey:0,state:Xt})}K&&Ae.sort((he,Se)=>he.sortKey-Se.sortKey);for(const he of Ae){const{programConfiguration:Se,program:Me,layoutVertexBuffer:ze,indexBuffer:je,uniformValues:tt,terrainData:Xe}=he.state;Me.draw(le,se.TRIANGLES,de,ee,ye,zn.disabled,tt,Xe,I.id,ze,je,he.segments,I.paint,_.transform.zoom,Se)}})(o,h,p,m);break;case"heatmap":(function(_,T,I,R){if(I.paint.get("heatmap-opacity")!==0)if(_.renderPass==="offscreen"){const L=_.context,B=L.gl,j=On.disabled,K=new fi([B.ONE,B.ONE],c.aO.transparent,[!0,!0,!0,!0]);(function(le,se,de){const ee=le.gl;le.activeTexture.set(ee.TEXTURE1),le.viewport.set([0,0,se.width/4,se.height/4]);let ye=de.heatmapFbo;if(ye)ee.bindTexture(ee.TEXTURE_2D,ye.colorAttachment.get()),le.bindFramebuffer.set(ye.framebuffer);else{const Ae=ee.createTexture();ee.bindTexture(ee.TEXTURE_2D,Ae),ee.texParameteri(ee.TEXTURE_2D,ee.TEXTURE_WRAP_S,ee.CLAMP_TO_EDGE),ee.texParameteri(ee.TEXTURE_2D,ee.TEXTURE_WRAP_T,ee.CLAMP_TO_EDGE),ee.texParameteri(ee.TEXTURE_2D,ee.TEXTURE_MIN_FILTER,ee.LINEAR),ee.texParameteri(ee.TEXTURE_2D,ee.TEXTURE_MAG_FILTER,ee.LINEAR),ye=de.heatmapFbo=le.createFramebuffer(se.width/4,se.height/4,!1,!1),function(he,Se,Me,ze){var je,tt;const Xe=he.gl,Je=(je=he.HALF_FLOAT)!==null&&je!==void 0?je:Xe.UNSIGNED_BYTE,vt=(tt=he.RGBA16F)!==null&&tt!==void 0?tt:Xe.RGBA;Xe.texImage2D(Xe.TEXTURE_2D,0,vt,Se.width/4,Se.height/4,0,Xe.RGBA,Je,null),ze.colorAttachment.set(Me)}(le,se,Ae,ye)}})(L,_,I),L.clear({color:c.aO.transparent});for(let le=0;le<R.length;le++){const se=R[le];if(T.hasRenderableParent(se))continue;const de=T.getTile(se),ee=de.getBucket(I);if(!ee)continue;const ye=ee.programConfigurations.get(I.id),Ae=_.useProgram("heatmap",ye),{zoom:he}=_.transform;Ae.draw(L,B.TRIANGLES,gn.disabled,j,K,zn.disabled,Xg(se.posMatrix,de,he,I.paint.get("heatmap-intensity")),null,I.id,ee.layoutVertexBuffer,ee.indexBuffer,ee.segments,I.paint,_.transform.zoom,ye)}L.viewport.set([0,0,_.width,_.height])}else _.renderPass==="translucent"&&(_.context.setColorMode(_.colorModeForRenderPass()),function(L,B){const j=L.context,K=j.gl,le=B.heatmapFbo;if(!le)return;j.activeTexture.set(K.TEXTURE0),K.bindTexture(K.TEXTURE_2D,le.colorAttachment.get()),j.activeTexture.set(K.TEXTURE1);let se=B.colorRampTexture;se||(se=B.colorRampTexture=new Ze(j,B.colorRamp,K.RGBA)),se.bind(K.LINEAR,K.CLAMP_TO_EDGE),L.useProgram("heatmapTexture").draw(j,K.TRIANGLES,gn.disabled,On.disabled,L.colorModeForRenderPass(),zn.disabled,((de,ee,ye,Ae)=>{const he=c.F();c.aN(he,0,de.width,de.height,0,0,1);const Se=de.context.gl;return{u_matrix:he,u_world:[Se.drawingBufferWidth,Se.drawingBufferHeight],u_image:0,u_color_ramp:1,u_opacity:ee.paint.get("heatmap-opacity")}})(L,B),null,B.id,L.viewportBuffer,L.quadTriangleIndexBuffer,L.viewportSegments,B.paint,L.transform.zoom)}(_,I))})(o,h,p,m);break;case"line":(function(_,T,I,R){if(_.renderPass!=="translucent")return;const L=I.paint.get("line-opacity"),B=I.paint.get("line-width");if(L.constantOr(1)===0||B.constantOr(1)===0)return;const j=_.depthModeForSublayer(0,gn.ReadOnly),K=_.colorModeForRenderPass(),le=I.paint.get("line-dasharray"),se=I.paint.get("line-pattern"),de=se.constantOr(1),ee=I.paint.get("line-gradient"),ye=I.getCrossfadeParameters(),Ae=de?"linePattern":le?"lineSDF":ee?"lineGradient":"line",he=_.context,Se=he.gl;let Me=!0;for(const ze of R){const je=T.getTile(ze);if(de&&!je.patternsLoaded())continue;const tt=je.getBucket(I);if(!tt)continue;const Xe=tt.programConfigurations.get(I.id),Je=_.context.program.get(),vt=_.useProgram(Ae,Xe),Xt=Me||vt.program!==Je,ut=_.style.map.terrain&&_.style.map.terrain.getTerrainData(ze),jt=se.constantOr(null);if(jt&&je.imageAtlas){const qt=je.imageAtlas,nn=qt.patternPositions[jt.to.toString()],rn=qt.patternPositions[jt.from.toString()];nn&&rn&&Xe.setConstantPatternPositions(nn,rn)}const tn=ut?ze:null,hn=de?Id(_,je,I,ye,tn):le?yo(_,je,I,le,ye,tn):ee?Va(_,je,I,tt.lineClipsArray.length,tn):Td(_,je,I,tn);if(de)he.activeTexture.set(Se.TEXTURE0),je.imageAtlasTexture.bind(Se.LINEAR,Se.CLAMP_TO_EDGE),Xe.updatePaintBuffers(ye);else if(le&&(Xt||_.lineAtlas.dirty))he.activeTexture.set(Se.TEXTURE0),_.lineAtlas.bind(he);else if(ee){const qt=tt.gradients[I.id];let nn=qt.texture;if(I.gradientVersion!==qt.version){let rn=256;if(I.stepInterpolant){const Xn=T.getSource().maxzoom,Ln=ze.canonical.z===Xn?Math.ceil(1<<_.transform.maxZoom-ze.canonical.z):1;rn=c.ac(c.aT(tt.maxLineLength/c.W*1024*Ln),256,he.maxTextureSize)}qt.gradient=c.aU({expression:I.gradientExpression(),evaluationKey:"lineProgress",resolution:rn,image:qt.gradient||void 0,clips:tt.lineClipsArray}),qt.texture?qt.texture.update(qt.gradient):qt.texture=new Ze(he,qt.gradient,Se.RGBA),qt.version=I.gradientVersion,nn=qt.texture}he.activeTexture.set(Se.TEXTURE0),nn.bind(I.stepInterpolant?Se.NEAREST:Se.LINEAR,Se.CLAMP_TO_EDGE)}vt.draw(he,Se.TRIANGLES,j,_.stencilModeForClipping(ze),K,zn.disabled,hn,ut,I.id,tt.layoutVertexBuffer,tt.indexBuffer,tt.segments,I.paint,_.transform.zoom,Xe,tt.layoutVertexBuffer2),Me=!1}})(o,h,p,m);break;case"fill":(function(_,T,I,R){const L=I.paint.get("fill-color"),B=I.paint.get("fill-opacity");if(B.constantOr(1)===0)return;const j=_.colorModeForRenderPass(),K=I.paint.get("fill-pattern"),le=_.opaquePassEnabledForLayer()&&!K.constantOr(1)&&L.constantOr(c.aO.transparent).a===1&&B.constantOr(0)===1?"opaque":"translucent";if(_.renderPass===le){const se=_.depthModeForSublayer(1,_.renderPass==="opaque"?gn.ReadWrite:gn.ReadOnly);qf(_,T,I,R,se,j,!1)}if(_.renderPass==="translucent"&&I.paint.get("fill-antialias")){const se=_.depthModeForSublayer(I.getPaintProperty("fill-outline-color")?2:0,gn.ReadOnly);qf(_,T,I,R,se,j,!0)}})(o,h,p,m);break;case"fill-extrusion":(function(_,T,I,R){const L=I.paint.get("fill-extrusion-opacity");if(L!==0&&_.renderPass==="translucent"){const B=new gn(_.context.gl.LEQUAL,gn.ReadWrite,_.depthRangeFor3D);if(L!==1||I.paint.get("fill-extrusion-pattern").constantOr(1))Ul(_,T,I,R,B,On.disabled,fi.disabled),Ul(_,T,I,R,B,_.stencilModeFor3D(),_.colorModeForRenderPass());else{const j=_.colorModeForRenderPass();Ul(_,T,I,R,B,On.disabled,j)}}})(o,h,p,m);break;case"hillshade":(function(_,T,I,R){if(_.renderPass!=="offscreen"&&_.renderPass!=="translucent")return;const L=_.context,B=_.depthModeForSublayer(0,gn.ReadOnly),j=_.colorModeForRenderPass(),[K,le]=_.renderPass==="translucent"?_.stencilConfigForOverlap(R):[{},R];for(const se of le){const de=T.getTile(se);de.needsHillshadePrepare!==void 0&&de.needsHillshadePrepare&&_.renderPass==="offscreen"?uy(_,de,I,B,On.disabled,j):_.renderPass==="translucent"&&Wf(_,se,de,I,B,K[se.overscaledZ],j)}L.viewport.set([0,0,_.width,_.height])})(o,h,p,m);break;case"raster":(function(_,T,I,R){if(_.renderPass!=="translucent"||I.paint.get("raster-opacity")===0||!R.length)return;const L=_.context,B=L.gl,j=T.getSource(),K=_.useProgram("raster"),le=_.colorModeForRenderPass(),[se,de]=j instanceof vr?[{},R]:_.stencilConfigForOverlap(R),ee=de[de.length-1].overscaledZ,ye=!_.options.moving;for(const Ae of de){const he=_.depthModeForSublayer(Ae.overscaledZ-ee,I.paint.get("raster-opacity")===1?gn.ReadWrite:gn.ReadOnly,B.LESS),Se=T.getTile(Ae);Se.registerFadeDuration(I.paint.get("raster-fade-duration"));const Me=T.findLoadedParent(Ae,0),ze=dy(Se,Me,T,I,_.transform,_.style.map.terrain);let je,tt;const Xe=I.paint.get("raster-resampling")==="nearest"?B.NEAREST:B.LINEAR;L.activeTexture.set(B.TEXTURE0),Se.texture.bind(Xe,B.CLAMP_TO_EDGE,B.LINEAR_MIPMAP_NEAREST),L.activeTexture.set(B.TEXTURE1),Me?(Me.texture.bind(Xe,B.CLAMP_TO_EDGE,B.LINEAR_MIPMAP_NEAREST),je=Math.pow(2,Me.tileID.overscaledZ-Se.tileID.overscaledZ),tt=[Se.tileID.canonical.x*je%1,Se.tileID.canonical.y*je%1]):Se.texture.bind(Xe,B.CLAMP_TO_EDGE,B.LINEAR_MIPMAP_NEAREST);const Je=_.style.map.terrain&&_.style.map.terrain.getTerrainData(Ae),vt=Je?Ae:null,Xt=vt?vt.posMatrix:_.transform.calculatePosMatrix(Ae.toUnwrapped(),ye),ut=du(Xt,tt||[0,0],je||1,ze,I);j instanceof vr?K.draw(L,B.TRIANGLES,he,On.disabled,le,zn.disabled,ut,Je,I.id,j.boundsBuffer,_.quadTriangleIndexBuffer,j.boundsSegments):K.draw(L,B.TRIANGLES,he,se[Ae.overscaledZ],le,zn.disabled,ut,Je,I.id,_.rasterBoundsBuffer,_.quadTriangleIndexBuffer,_.rasterBoundsSegments)}})(o,h,p,m);break;case"background":(function(_,T,I,R){const L=I.paint.get("background-color"),B=I.paint.get("background-opacity");if(B===0)return;const j=_.context,K=j.gl,le=_.transform,se=le.tileSize,de=I.paint.get("background-pattern");if(_.isPatternMissing(de))return;const ee=!de&&L.a===1&&B===1&&_.opaquePassEnabledForLayer()?"opaque":"translucent";if(_.renderPass!==ee)return;const ye=On.disabled,Ae=_.depthModeForSublayer(0,ee==="opaque"?gn.ReadWrite:gn.ReadOnly),he=_.colorModeForRenderPass(),Se=_.useProgram(de?"backgroundPattern":"background"),Me=R||le.coveringTiles({tileSize:se,terrain:_.style.map.terrain});de&&(j.activeTexture.set(K.TEXTURE0),_.imageManager.bind(_.context));const ze=I.getCrossfadeParameters();for(const je of Me){const tt=R?je.posMatrix:_.transform.calculatePosMatrix(je.toUnwrapped()),Xe=de?Jg(tt,B,_,de,{tileID:je,tileSize:se},ze):P_(tt,B,L),Je=_.style.map.terrain&&_.style.map.terrain.getTerrainData(je);Se.draw(j,K.TRIANGLES,Ae,ye,he,zn.disabled,Xe,Je,I.id,_.tileExtentBuffer,_.quadTriangleIndexBuffer,_.tileExtentSegments)}})(o,0,p,m);break;case"custom":(function(_,T,I){const R=_.context,L=I.implementation;if(_.renderPass==="offscreen"){const B=L.prerender;B&&(_.setCustomLayerDefaults(),R.setColorMode(_.colorModeForRenderPass()),B.call(L,R.gl,_.transform.customLayerMatrix()),R.setDirty(),_.setBaseState())}else if(_.renderPass==="translucent"){_.setCustomLayerDefaults(),R.setColorMode(_.colorModeForRenderPass()),R.setStencilMode(On.disabled);const B=L.renderingMode==="3d"?new gn(_.context.gl.LEQUAL,gn.ReadWrite,_.depthRangeFor3D):_.depthModeForSublayer(0,gn.ReadOnly);R.setDepthMode(B),L.render(R.gl,_.transform.customLayerMatrix()),R.setDirty(),_.setBaseState(),R.bindFramebuffer.set(null)}})(o,0,p)}}translatePosMatrix(o,h,p,m,_){if(!p[0]&&!p[1])return o;const T=_?m==="map"?this.transform.angle:0:m==="viewport"?-this.transform.angle:0;if(T){const L=Math.sin(T),B=Math.cos(T);p=[p[0]*B-p[1]*L,p[0]*L+p[1]*B]}const I=[_?p[0]:Zt(h,p[0],this.transform.zoom),_?p[1]:Zt(h,p[1],this.transform.zoom),0],R=new Float32Array(16);return c.H(R,o,I),R}saveTileTexture(o){const h=this._tileTextures[o.size[0]];h?h.push(o):this._tileTextures[o.size[0]]=[o]}getTileTexture(o){const h=this._tileTextures[o];return h&&h.length>0?h.pop():null}isPatternMissing(o){if(!o)return!1;if(!o.from||!o.to)return!0;const h=this.imageManager.getPattern(o.from.toString()),p=this.imageManager.getPattern(o.to.toString());return!h||!p}useProgram(o,h){this.cache=this.cache||{};const p=o+(h?h.cacheKey:"")+(this._showOverdrawInspector?"/overdraw":"")+(this.style.map.terrain?"/terrain":"");return this.cache[p]||(this.cache[p]=new zf(this.context,Ll[o],h,A_[o],this._showOverdrawInspector,this.style.map.terrain)),this.cache[p]}setCustomLayerDefaults(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault()}setBaseState(){const o=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(o.FUNC_ADD)}initDebugOverlayCanvas(){this.debugOverlayCanvas==null&&(this.debugOverlayCanvas=document.createElement("canvas"),this.debugOverlayCanvas.width=512,this.debugOverlayCanvas.height=512,this.debugOverlayTexture=new Ze(this.context,this.debugOverlayCanvas,this.context.gl.RGBA))}destroy(){this.debugOverlayTexture&&this.debugOverlayTexture.destroy()}overLimit(){const{drawingBufferWidth:o,drawingBufferHeight:h}=this.context.gl;return this.width!==o||this.height!==h}}class qa{constructor(o,h){this.points=o,this.planes=h}static fromInvProjectionMatrix(o,h,p){const m=Math.pow(2,p),_=[[-1,1,-1,1],[1,1,-1,1],[1,-1,-1,1],[-1,-1,-1,1],[-1,1,1,1],[1,1,1,1],[1,-1,1,1],[-1,-1,1,1]].map(I=>{const R=1/(I=c.af([],I,o))[3]/h*m;return c.a$(I,I,[R,R,1/I[3],R])}),T=[[0,1,2],[6,5,4],[0,3,7],[2,1,5],[3,2,6],[0,4,5]].map(I=>{const R=function(K,le){var se=le[0],de=le[1],ee=le[2],ye=se*se+de*de+ee*ee;return ye>0&&(ye=1/Math.sqrt(ye)),K[0]=le[0]*ye,K[1]=le[1]*ye,K[2]=le[2]*ye,K}([],function(K,le,se){var de=le[0],ee=le[1],ye=le[2],Ae=se[0],he=se[1],Se=se[2];return K[0]=ee*Se-ye*he,K[1]=ye*Ae-de*Se,K[2]=de*he-ee*Ae,K}([],Be([],_[I[0]],_[I[1]]),Be([],_[I[2]],_[I[1]]))),L=-((B=R)[0]*(j=_[I[1]])[0]+B[1]*j[1]+B[2]*j[2]);var B,j;return R.concat(L)});return new qa(_,T)}}class Wl{constructor(o,h){this.min=o,this.max=h,this.center=function(p,m,_){return p[0]=.5*m[0],p[1]=.5*m[1],p[2]=.5*m[2],p}([],function(p,m,_){return p[0]=m[0]+_[0],p[1]=m[1]+_[1],p[2]=m[2]+_[2],p}([],this.min,this.max))}quadrant(o){const h=[o%2==0,o<2],p=oe(this.min),m=oe(this.max);for(let _=0;_<h.length;_++)p[_]=h[_]?this.min[_]:this.center[_],m[_]=h[_]?this.center[_]:this.max[_];return m[2]=this.max[2],new Wl(p,m)}distanceX(o){return Math.max(Math.min(this.max[0],o[0]),this.min[0])-o[0]}distanceY(o){return Math.max(Math.min(this.max[1],o[1]),this.min[1])-o[1]}intersects(o){const h=[[this.min[0],this.min[1],this.min[2],1],[this.max[0],this.min[1],this.min[2],1],[this.max[0],this.max[1],this.min[2],1],[this.min[0],this.max[1],this.min[2],1],[this.min[0],this.min[1],this.max[2],1],[this.max[0],this.min[1],this.max[2],1],[this.max[0],this.max[1],this.max[2],1],[this.min[0],this.max[1],this.max[2],1]];let p=!0;for(let m=0;m<o.planes.length;m++){const _=o.planes[m];let T=0;for(let I=0;I<h.length;I++)c.b0(_,h[I])>=0&&T++;if(T===0)return 0;T!==h.length&&(p=!1)}if(p)return 2;for(let m=0;m<3;m++){let _=Number.MAX_VALUE,T=-Number.MAX_VALUE;for(let I=0;I<o.points.length;I++){const R=o.points[I][m]-this.min[m];_=Math.min(_,R),T=Math.max(T,R)}if(T<0||_>this.max[m]-this.min[m])return 0}return 1}}class mu{constructor(o=0,h=0,p=0,m=0){if(isNaN(o)||o<0||isNaN(h)||h<0||isNaN(p)||p<0||isNaN(m)||m<0)throw new Error("Invalid value for edge-insets, top, bottom, left and right must all be numbers");this.top=o,this.bottom=h,this.left=p,this.right=m}interpolate(o,h,p){return h.top!=null&&o.top!=null&&(this.top=c.z.number(o.top,h.top,p)),h.bottom!=null&&o.bottom!=null&&(this.bottom=c.z.number(o.bottom,h.bottom,p)),h.left!=null&&o.left!=null&&(this.left=c.z.number(o.left,h.left,p)),h.right!=null&&o.right!=null&&(this.right=c.z.number(o.right,h.right,p)),this}getCenter(o,h){const p=c.ac((this.left+o-this.right)/2,0,o),m=c.ac((this.top+h-this.bottom)/2,0,h);return new c.P(p,m)}equals(o){return this.top===o.top&&this.bottom===o.bottom&&this.left===o.left&&this.right===o.right}clone(){return new mu(this.top,this.bottom,this.left,this.right)}toJSON(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}}}const Xf=85.051129;class Nd{constructor(o,h,p,m,_){this.tileSize=512,this._renderWorldCopies=_===void 0||!!_,this._minZoom=o||0,this._maxZoom=h||22,this._minPitch=p==null?0:p,this._maxPitch=m==null?60:m,this.setMaxBounds(),this.width=0,this.height=0,this._center=new c.M(0,0),this._elevation=0,this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this._unmodified=!0,this._edgeInsets=new mu,this._posMatrixCache={},this._alignedPosMatrixCache={},this.minElevationForCurrentTile=0}clone(){const o=new Nd(this._minZoom,this._maxZoom,this._minPitch,this.maxPitch,this._renderWorldCopies);return o.apply(this),o}apply(o){this.tileSize=o.tileSize,this.latRange=o.latRange,this.width=o.width,this.height=o.height,this._center=o._center,this._elevation=o._elevation,this.minElevationForCurrentTile=o.minElevationForCurrentTile,this.zoom=o.zoom,this.angle=o.angle,this._fov=o._fov,this._pitch=o._pitch,this._unmodified=o._unmodified,this._edgeInsets=o._edgeInsets.clone(),this._calcMatrices()}get minZoom(){return this._minZoom}set minZoom(o){this._minZoom!==o&&(this._minZoom=o,this.zoom=Math.max(this.zoom,o))}get maxZoom(){return this._maxZoom}set maxZoom(o){this._maxZoom!==o&&(this._maxZoom=o,this.zoom=Math.min(this.zoom,o))}get minPitch(){return this._minPitch}set minPitch(o){this._minPitch!==o&&(this._minPitch=o,this.pitch=Math.max(this.pitch,o))}get maxPitch(){return this._maxPitch}set maxPitch(o){this._maxPitch!==o&&(this._maxPitch=o,this.pitch=Math.min(this.pitch,o))}get renderWorldCopies(){return this._renderWorldCopies}set renderWorldCopies(o){o===void 0?o=!0:o===null&&(o=!1),this._renderWorldCopies=o}get worldSize(){return this.tileSize*this.scale}get centerOffset(){return this.centerPoint._sub(this.size._div(2))}get size(){return new c.P(this.width,this.height)}get bearing(){return-this.angle/Math.PI*180}set bearing(o){const h=-c.b1(o,-180,180)*Math.PI/180;this.angle!==h&&(this._unmodified=!1,this.angle=h,this._calcMatrices(),this.rotationMatrix=function(){var p=new c.A(4);return c.A!=Float32Array&&(p[1]=0,p[2]=0),p[0]=1,p[3]=1,p}(),function(p,m,_){var T=m[0],I=m[1],R=m[2],L=m[3],B=Math.sin(_),j=Math.cos(_);p[0]=T*j+R*B,p[1]=I*j+L*B,p[2]=T*-B+R*j,p[3]=I*-B+L*j}(this.rotationMatrix,this.rotationMatrix,this.angle))}get pitch(){return this._pitch/Math.PI*180}set pitch(o){const h=c.ac(o,this.minPitch,this.maxPitch)/180*Math.PI;this._pitch!==h&&(this._unmodified=!1,this._pitch=h,this._calcMatrices())}get fov(){return this._fov/Math.PI*180}set fov(o){o=Math.max(.01,Math.min(60,o)),this._fov!==o&&(this._unmodified=!1,this._fov=o/180*Math.PI,this._calcMatrices())}get zoom(){return this._zoom}set zoom(o){const h=Math.min(Math.max(o,this.minZoom),this.maxZoom);this._zoom!==h&&(this._unmodified=!1,this._zoom=h,this.tileZoom=Math.max(0,Math.floor(h)),this.scale=this.zoomScale(h),this._constrain(),this._calcMatrices())}get center(){return this._center}set center(o){o.lat===this._center.lat&&o.lng===this._center.lng||(this._unmodified=!1,this._center=o,this._constrain(),this._calcMatrices())}get elevation(){return this._elevation}set elevation(o){o!==this._elevation&&(this._elevation=o,this._constrain(),this._calcMatrices())}get padding(){return this._edgeInsets.toJSON()}set padding(o){this._edgeInsets.equals(o)||(this._unmodified=!1,this._edgeInsets.interpolate(this._edgeInsets,o,1),this._calcMatrices())}get centerPoint(){return this._edgeInsets.getCenter(this.width,this.height)}isPaddingEqual(o){return this._edgeInsets.equals(o)}interpolatePadding(o,h,p){this._unmodified=!1,this._edgeInsets.interpolate(o,h,p),this._constrain(),this._calcMatrices()}coveringZoomLevel(o){const h=(o.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/o.tileSize));return Math.max(0,h)}getVisibleUnwrappedCoordinates(o){const h=[new c.b2(0,o)];if(this._renderWorldCopies){const p=this.pointCoordinate(new c.P(0,0)),m=this.pointCoordinate(new c.P(this.width,0)),_=this.pointCoordinate(new c.P(this.width,this.height)),T=this.pointCoordinate(new c.P(0,this.height)),I=Math.floor(Math.min(p.x,m.x,_.x,T.x)),R=Math.floor(Math.max(p.x,m.x,_.x,T.x)),L=1;for(let B=I-L;B<=R+L;B++)B!==0&&h.push(new c.b2(B,o))}return h}coveringTiles(o){var h,p;let m=this.coveringZoomLevel(o);const _=m;if(o.minzoom!==void 0&&m<o.minzoom)return[];o.maxzoom!==void 0&&m>o.maxzoom&&(m=o.maxzoom);const T=this.pointCoordinate(this.getCameraPoint()),I=c.Y.fromLngLat(this.center),R=Math.pow(2,m),L=[R*T.x,R*T.y,0],B=[R*I.x,R*I.y,0],j=qa.fromInvProjectionMatrix(this.invProjMatrix,this.worldSize,m);let K=o.minzoom||0;!o.terrain&&this.pitch<=60&&this._edgeInsets.top<.1&&(K=m);const le=o.terrain?2/Math.min(this.tileSize,o.tileSize)*this.tileSize:3,se=he=>({aabb:new Wl([he*R,0,0],[(he+1)*R,R,0]),zoom:0,x:0,y:0,wrap:he,fullyVisible:!1}),de=[],ee=[],ye=m,Ae=o.reparseOverscaled?_:m;if(this._renderWorldCopies)for(let he=1;he<=3;he++)de.push(se(-he)),de.push(se(he));for(de.push(se(0));de.length>0;){const he=de.pop(),Se=he.x,Me=he.y;let ze=he.fullyVisible;if(!ze){const vt=he.aabb.intersects(j);if(vt===0)continue;ze=vt===2}const je=o.terrain?L:B,tt=he.aabb.distanceX(je),Xe=he.aabb.distanceY(je),Je=Math.max(Math.abs(tt),Math.abs(Xe));if(he.zoom===ye||Je>le+(1<<ye-he.zoom)-2&&he.zoom>=K){const vt=ye-he.zoom,Xt=L[0]-.5-(Se<<vt),ut=L[1]-.5-(Me<<vt);ee.push({tileID:new c.Q(he.zoom===ye?Ae:he.zoom,he.wrap,he.zoom,Se,Me),distanceSq:Le([B[0]-.5-Se,B[1]-.5-Me]),tileDistanceToCamera:Math.sqrt(Xt*Xt+ut*ut)})}else for(let vt=0;vt<4;vt++){const Xt=(Se<<1)+vt%2,ut=(Me<<1)+(vt>>1),jt=he.zoom+1;let tn=he.aabb.quadrant(vt);if(o.terrain){const hn=new c.Q(jt,he.wrap,jt,Xt,ut),qt=o.terrain.getMinMaxElevation(hn),nn=(h=qt.minElevation)!==null&&h!==void 0?h:this.elevation,rn=(p=qt.maxElevation)!==null&&p!==void 0?p:this.elevation;tn=new Wl([tn.min[0],tn.min[1],nn],[tn.max[0],tn.max[1],rn])}de.push({aabb:tn,zoom:jt,x:Xt,y:ut,wrap:he.wrap,fullyVisible:ze})}}return ee.sort((he,Se)=>he.distanceSq-Se.distanceSq).map(he=>he.tileID)}resize(o,h){this.width=o,this.height=h,this.pixelsToGLUnits=[2/o,-2/h],this._constrain(),this._calcMatrices()}get unmodified(){return this._unmodified}zoomScale(o){return Math.pow(2,o)}scaleZoom(o){return Math.log(o)/Math.LN2}project(o){const h=c.ac(o.lat,-85.051129,Xf);return new c.P(c.N(o.lng)*this.worldSize,c.O(h)*this.worldSize)}unproject(o){return new c.Y(o.x/this.worldSize,o.y/this.worldSize).toLngLat()}get point(){return this.project(this.center)}getCameraPosition(){return{lngLat:this.pointLocation(this.getCameraPoint()),altitude:Math.cos(this._pitch)*this.cameraToCenterDistance/this._pixelPerMeter+this.elevation}}recalculateZoom(o){const h=this.elevation,p=Math.cos(this._pitch)*this.cameraToCenterDistance/this._pixelPerMeter,m=this.pointLocation(this.centerPoint,o),_=o.getElevationForLngLatZoom(m,this.tileZoom);if(!(this.elevation-_))return;const T=p+h-_,I=Math.cos(this._pitch)*this.cameraToCenterDistance/T/c.b3(1,m.lat),R=this.scaleZoom(I/this.tileSize);this._elevation=_,this._center=m,this.zoom=R}setLocationAtPoint(o,h){const p=this.pointCoordinate(h),m=this.pointCoordinate(this.centerPoint),_=this.locationCoordinate(o),T=new c.Y(_.x-(p.x-m.x),_.y-(p.y-m.y));this.center=this.coordinateLocation(T),this._renderWorldCopies&&(this.center=this.center.wrap())}locationPoint(o,h){return h?this.coordinatePoint(this.locationCoordinate(o),h.getElevationForLngLatZoom(o,this.tileZoom),this.pixelMatrix3D):this.coordinatePoint(this.locationCoordinate(o))}pointLocation(o,h){return this.coordinateLocation(this.pointCoordinate(o,h))}locationCoordinate(o){return c.Y.fromLngLat(o)}coordinateLocation(o){return o&&o.toLngLat()}pointCoordinate(o,h){if(h){const K=h.pointCoordinate(o);if(K!=null)return K}const p=[o.x,o.y,0,1],m=[o.x,o.y,1,1];c.af(p,p,this.pixelMatrixInverse),c.af(m,m,this.pixelMatrixInverse);const _=p[3],T=m[3],I=p[1]/_,R=m[1]/T,L=p[2]/_,B=m[2]/T,j=L===B?0:(0-L)/(B-L);return new c.Y(c.z.number(p[0]/_,m[0]/T,j)/this.worldSize,c.z.number(I,R,j)/this.worldSize)}coordinatePoint(o,h=0,p=this.pixelMatrix){const m=[o.x*this.worldSize,o.y*this.worldSize,h,1];return c.af(m,m,p),new c.P(m[0]/m[3],m[1]/m[3])}getBounds(){const o=Math.max(0,this.height/2-this.getHorizon());return new zt().extend(this.pointLocation(new c.P(0,o))).extend(this.pointLocation(new c.P(this.width,o))).extend(this.pointLocation(new c.P(this.width,this.height))).extend(this.pointLocation(new c.P(0,this.height)))}getMaxBounds(){return this.latRange&&this.latRange.length===2&&this.lngRange&&this.lngRange.length===2?new zt([this.lngRange[0],this.latRange[0]],[this.lngRange[1],this.latRange[1]]):null}getHorizon(){return Math.tan(Math.PI/2-this._pitch)*this.cameraToCenterDistance*.85}setMaxBounds(o){o?(this.lngRange=[o.getWest(),o.getEast()],this.latRange=[o.getSouth(),o.getNorth()],this._constrain()):(this.lngRange=null,this.latRange=[-85.051129,Xf])}calculatePosMatrix(o,h=!1){const p=o.key,m=h?this._alignedPosMatrixCache:this._posMatrixCache;if(m[p])return m[p];const _=o.canonical,T=this.worldSize/this.zoomScale(_.z),I=_.x+Math.pow(2,_.z)*o.wrap,R=c.an(new Float64Array(16));return c.H(R,R,[I*T,_.y*T,0]),c.J(R,R,[T/c.W,T/c.W,1]),c.K(R,h?this.alignedProjMatrix:this.projMatrix,R),m[p]=new Float32Array(R),m[p]}customLayerMatrix(){return this.mercatorMatrix.slice()}getConstrained(o,h){h=c.ac(+h,this.minZoom,this.maxZoom);const p={center:new c.M(o.lng,o.lat),zoom:h};let m=this.lngRange;if(!this._renderWorldCopies&&m===null){const he=179.9999999999;m=[-he,he]}const _=this.tileSize*this.zoomScale(p.zoom);let T=0,I=_,R=0,L=_,B=0,j=0;const{x:K,y:le}=this.size;if(this.latRange){const he=this.latRange;T=c.O(he[1])*_,I=c.O(he[0])*_,I-T<le&&(B=le/(I-T))}m&&(R=c.b1(c.N(m[0])*_,0,_),L=c.b1(c.N(m[1])*_,0,_),L<R&&(L+=_),L-R<K&&(j=K/(L-R)));const{x:se,y:de}=this.project.call({worldSize:_},o);let ee,ye;const Ae=Math.max(j||0,B||0);if(Ae){const he=new c.P(j?(L+R)/2:se,B?(I+T)/2:de);return p.center=this.unproject.call({worldSize:_},he).wrap(),p.zoom+=this.scaleZoom(Ae),p}if(this.latRange){const he=le/2;de-he<T&&(ye=T+he),de+he>I&&(ye=I-he)}if(m){const he=(R+L)/2;let Se=se;this._renderWorldCopies&&(Se=c.b1(se,he-_/2,he+_/2));const Me=K/2;Se-Me<R&&(ee=R+Me),Se+Me>L&&(ee=L-Me)}if(ee!==void 0||ye!==void 0){const he=new c.P(ee!=null?ee:se,ye!=null?ye:de);p.center=this.unproject.call({worldSize:_},he).wrap()}return p}_constrain(){if(!this.center||!this.width||!this.height||this._constraining)return;this._constraining=!0;const o=this._unmodified,{center:h,zoom:p}=this.getConstrained(this.center,this.zoom);this.center=h,this.zoom=p,this._unmodified=o,this._constraining=!1}_calcMatrices(){if(!this.height)return;const o=this.centerOffset,h=this.point.x,p=this.point.y;this.cameraToCenterDistance=.5/Math.tan(this._fov/2)*this.height,this._pixelPerMeter=c.b3(1,this.center.lat)*this.worldSize;let m=c.an(new Float64Array(16));c.J(m,m,[this.width/2,-this.height/2,1]),c.H(m,m,[1,-1,0]),this.labelPlaneMatrix=m,m=c.an(new Float64Array(16)),c.J(m,m,[1,-1,1]),c.H(m,m,[-1,-1,0]),c.J(m,m,[2/this.width,2/this.height,1]),this.glCoordMatrix=m;const _=this.cameraToCenterDistance+this._elevation*this._pixelPerMeter/Math.cos(this._pitch),T=Math.min(this.elevation,this.minElevationForCurrentTile),I=_-T*this._pixelPerMeter/Math.cos(this._pitch),R=T<0?I:_,L=Math.PI/2+this._pitch,B=this._fov*(.5+o.y/this.height),j=Math.sin(B)*R/Math.sin(c.ac(Math.PI-L-B,.01,Math.PI-.01)),K=this.getHorizon(),le=2*Math.atan(K/this.cameraToCenterDistance)*(.5+o.y/(2*K)),se=Math.sin(le)*R/Math.sin(c.ac(Math.PI-L-le,.01,Math.PI-.01)),de=Math.min(j,se),ee=1.01*(Math.cos(Math.PI/2-this._pitch)*de+R),ye=this.height/50;m=new Float64Array(16),c.b4(m,this._fov,this.width/this.height,ye,ee),m[8]=2*-o.x/this.width,m[9]=2*o.y/this.height,c.J(m,m,[1,-1,1]),c.H(m,m,[0,0,-this.cameraToCenterDistance]),c.b5(m,m,this._pitch),c.ad(m,m,this.angle),c.H(m,m,[-h,-p,0]),this.mercatorMatrix=c.J([],m,[this.worldSize,this.worldSize,this.worldSize]),c.J(m,m,[1,1,this._pixelPerMeter]),this.pixelMatrix=c.K(new Float64Array(16),this.labelPlaneMatrix,m),c.H(m,m,[0,0,-this.elevation]),this.projMatrix=m,this.invProjMatrix=c.ar([],m),this.pixelMatrix3D=c.K(new Float64Array(16),this.labelPlaneMatrix,m);const Ae=this.width%2/2,he=this.height%2/2,Se=Math.cos(this.angle),Me=Math.sin(this.angle),ze=h-Math.round(h)+Se*Ae+Me*he,je=p-Math.round(p)+Se*he+Me*Ae,tt=new Float64Array(m);if(c.H(tt,tt,[ze>.5?ze-1:ze,je>.5?je-1:je,0]),this.alignedProjMatrix=tt,m=c.ar(new Float64Array(16),this.pixelMatrix),!m)throw new Error("failed to invert matrix");this.pixelMatrixInverse=m,this._posMatrixCache={},this._alignedPosMatrixCache={}}maxPitchScaleFactor(){if(!this.pixelMatrixInverse)return 1;const o=this.pointCoordinate(new c.P(0,0)),h=[o.x*this.worldSize,o.y*this.worldSize,0,1];return c.af(h,h,this.pixelMatrix)[3]/this.cameraToCenterDistance}getCameraPoint(){const o=Math.tan(this._pitch)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new c.P(0,o))}getCameraQueryGeometry(o){const h=this.getCameraPoint();if(o.length===1)return[o[0],h];{let p=h.x,m=h.y,_=h.x,T=h.y;for(const I of o)p=Math.min(p,I.x),m=Math.min(m,I.y),_=Math.max(_,I.x),T=Math.max(T,I.y);return[new c.P(p,m),new c.P(_,m),new c.P(_,T),new c.P(p,T),new c.P(p,m)]}}lngLatToCameraDepth(o,h){const p=this.locationCoordinate(o),m=[p.x*this.worldSize,p.y*this.worldSize,h,1];return c.af(m,m,this.projMatrix),m[2]/m[3]}}function Yf(v,o){let h,p=!1,m=null,_=null;const T=()=>{m=null,p&&(v.apply(_,h),m=setTimeout(T,o),p=!1)};return(...I)=>(p=!0,_=this,h=I,m||T(),m)}class Jf{constructor(o){this._getCurrentHash=()=>{const h=window.location.hash.replace("#","");if(this._hashName){let p;return h.split("&").map(m=>m.split("=")).forEach(m=>{m[0]===this._hashName&&(p=m)}),(p&&p[1]||"").split("/")}return h.split("/")},this._onHashChange=()=>{const h=this._getCurrentHash();if(h.length>=3&&!h.some(p=>isNaN(p))){const p=this._map.dragRotate.isEnabled()&&this._map.touchZoomRotate.isEnabled()?+(h[3]||0):this._map.getBearing();return this._map.jumpTo({center:[+h[2],+h[1]],zoom:+h[0],bearing:p,pitch:+(h[4]||0)}),!0}return!1},this._updateHashUnthrottled=()=>{const h=window.location.href.replace(/(#.+)?$/,this.getHashString());try{window.history.replaceState(window.history.state,null,h)}catch(p){}},this._updateHash=Yf(this._updateHashUnthrottled,300),this._hashName=o&&encodeURIComponent(o)}addTo(o){return this._map=o,addEventListener("hashchange",this._onHashChange,!1),this._map.on("moveend",this._updateHash),this}remove(){return removeEventListener("hashchange",this._onHashChange,!1),this._map.off("moveend",this._updateHash),clearTimeout(this._updateHash()),delete this._map,this}getHashString(o){const h=this._map.getCenter(),p=Math.round(100*this._map.getZoom())/100,m=Math.ceil((p*Math.LN2+Math.log(512/360/.5))/Math.LN10),_=Math.pow(10,m),T=Math.round(h.lng*_)/_,I=Math.round(h.lat*_)/_,R=this._map.getBearing(),L=this._map.getPitch();let B="";if(B+=o?"/".concat(T,"/").concat(I,"/").concat(p):"".concat(p,"/").concat(I,"/").concat(T),(R||L)&&(B+="/"+Math.round(10*R)/10),L&&(B+="/".concat(Math.round(L))),this._hashName){const j=this._hashName;let K=!1;const le=window.location.hash.slice(1).split("&").map(se=>{const de=se.split("=")[0];return de===j?(K=!0,"".concat(de,"=").concat(B)):se}).filter(se=>se);return K||le.push("".concat(j,"=").concat(B)),"#".concat(le.join("&"))}return"#".concat(B)}}const cs={linearity:.3,easing:c.b6(0,0,.3,1)},fy=c.e({deceleration:2500,maxSpeed:1400},cs),py=c.e({deceleration:20,maxSpeed:1400},cs),my=c.e({deceleration:1e3,maxSpeed:360},cs),gy=c.e({deceleration:1e3,maxSpeed:90},cs);class yy{constructor(o){this._map=o,this.clear()}clear(){this._inertiaBuffer=[]}record(o){this._drainInertiaBuffer(),this._inertiaBuffer.push({time:S.now(),settings:o})}_drainInertiaBuffer(){const o=this._inertiaBuffer,h=S.now();for(;o.length>0&&h-o[0].time>160;)o.shift()}_onMoveEnd(o){if(this._drainInertiaBuffer(),this._inertiaBuffer.length<2)return;const h={zoom:0,bearing:0,pitch:0,pan:new c.P(0,0),pinchAround:void 0,around:void 0};for(const{settings:_}of this._inertiaBuffer)h.zoom+=_.zoomDelta||0,h.bearing+=_.bearingDelta||0,h.pitch+=_.pitchDelta||0,_.panDelta&&h.pan._add(_.panDelta),_.around&&(h.around=_.around),_.pinchAround&&(h.pinchAround=_.pinchAround);const p=this._inertiaBuffer[this._inertiaBuffer.length-1].time-this._inertiaBuffer[0].time,m={};if(h.pan.mag()){const _=yu(h.pan.mag(),p,c.e({},fy,o||{}));m.offset=h.pan.mult(_.amount/h.pan.mag()),m.center=this._map.transform.center,gu(m,_)}if(h.zoom){const _=yu(h.zoom,p,py);m.zoom=this._map.transform.zoom+_.amount,gu(m,_)}if(h.bearing){const _=yu(h.bearing,p,my);m.bearing=this._map.transform.bearing+c.ac(_.amount,-179,179),gu(m,_)}if(h.pitch){const _=yu(h.pitch,p,gy);m.pitch=this._map.transform.pitch+_.amount,gu(m,_)}if(m.zoom||m.bearing){const _=h.pinchAround===void 0?h.around:h.pinchAround;m.around=_?this._map.unproject(_):this._map.getCenter()}return this.clear(),c.e(m,{noMoveStart:!0})}}function gu(v,o){(!v.duration||v.duration<o.duration)&&(v.duration=o.duration,v.easing=o.easing)}function yu(v,o,h){const{maxSpeed:p,linearity:m,deceleration:_}=h,T=c.ac(v*m/(o/1e3),-p,p),I=Math.abs(T)/(_*m);return{easing:h.easing,duration:1e3*I,amount:T*(I/2)}}class Ui extends c.k{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(o,h,p,m={}){const _=E.mousePos(h.getCanvas(),p),T=h.unproject(_);super(o,c.e({point:_,lngLat:T,originalEvent:p},m)),this._defaultPrevented=!1,this.target=h}}class Zl extends c.k{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(o,h,p){const m=o==="touchend"?p.changedTouches:p.touches,_=E.touchPos(h.getCanvasContainer(),m),T=_.map(R=>h.unproject(R)),I=_.reduce((R,L,B,j)=>R.add(L.div(j.length)),new c.P(0,0));super(o,{points:_,point:I,lngLats:T,lngLat:h.unproject(I),originalEvent:p}),this._defaultPrevented=!1}}class vo extends c.k{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(o,h,p){super(o,{originalEvent:p}),this._defaultPrevented=!1}}class us{constructor(o,h){this._map=o,this._clickTolerance=h.clickTolerance}reset(){delete this._mousedownPos}wheel(o){return this._firePreventable(new vo(o.type,this._map,o))}mousedown(o,h){return this._mousedownPos=h,this._firePreventable(new Ui(o.type,this._map,o))}mouseup(o){this._map.fire(new Ui(o.type,this._map,o))}click(o,h){this._mousedownPos&&this._mousedownPos.dist(h)>=this._clickTolerance||this._map.fire(new Ui(o.type,this._map,o))}dblclick(o){return this._firePreventable(new Ui(o.type,this._map,o))}mouseover(o){this._map.fire(new Ui(o.type,this._map,o))}mouseout(o){this._map.fire(new Ui(o.type,this._map,o))}touchstart(o){return this._firePreventable(new Zl(o.type,this._map,o))}touchmove(o){this._map.fire(new Zl(o.type,this._map,o))}touchend(o){this._map.fire(new Zl(o.type,this._map,o))}touchcancel(o){this._map.fire(new Zl(o.type,this._map,o))}_firePreventable(o){if(this._map.fire(o),o.defaultPrevented)return{}}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class vy{constructor(o){this._map=o}reset(){this._delayContextMenu=!1,this._ignoreContextMenu=!0,delete this._contextMenuEvent}mousemove(o){this._map.fire(new Ui(o.type,this._map,o))}mousedown(){this._delayContextMenu=!0,this._ignoreContextMenu=!1}mouseup(){this._delayContextMenu=!1,this._contextMenuEvent&&(this._map.fire(new Ui("contextmenu",this._map,this._contextMenuEvent)),delete this._contextMenuEvent)}contextmenu(o){this._delayContextMenu?this._contextMenuEvent=o:this._ignoreContextMenu||this._map.fire(new Ui(o.type,this._map,o)),this._map.listens("contextmenu")&&o.preventDefault()}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class Or{constructor(o){this._map=o}get transform(){return this._map._requestedCameraState||this._map.transform}get center(){return{lng:this.transform.center.lng,lat:this.transform.center.lat}}get zoom(){return this.transform.zoom}get pitch(){return this.transform.pitch}get bearing(){return this.transform.bearing}unproject(o){return this.transform.pointLocation(c.P.convert(o),this._map.terrain)}}class Gl{constructor(o,h){this._map=o,this._tr=new Or(o),this._el=o.getCanvasContainer(),this._container=o.getContainer(),this._clickTolerance=h.clickTolerance||1}isEnabled(){return!!this._enabled}isActive(){return!!this._active}enable(){this.isEnabled()||(this._enabled=!0)}disable(){this.isEnabled()&&(this._enabled=!1)}mousedown(o,h){this.isEnabled()&&o.shiftKey&&o.button===0&&(E.disableDrag(),this._startPos=this._lastPos=h,this._active=!0)}mousemoveWindow(o,h){if(!this._active)return;const p=h;if(this._lastPos.equals(p)||!this._box&&p.dist(this._startPos)<this._clickTolerance)return;const m=this._startPos;this._lastPos=p,this._box||(this._box=E.create("div","maplibregl-boxzoom",this._container),this._container.classList.add("maplibregl-crosshair"),this._fireEvent("boxzoomstart",o));const _=Math.min(m.x,p.x),T=Math.max(m.x,p.x),I=Math.min(m.y,p.y),R=Math.max(m.y,p.y);E.setTransform(this._box,"translate(".concat(_,"px,").concat(I,"px)")),this._box.style.width=T-_+"px",this._box.style.height=R-I+"px"}mouseupWindow(o,h){if(!this._active||o.button!==0)return;const p=this._startPos,m=h;if(this.reset(),E.suppressClick(),p.x!==m.x||p.y!==m.y)return this._map.fire(new c.k("boxzoomend",{originalEvent:o})),{cameraAnimation:_=>_.fitScreenCoordinates(p,m,this._tr.bearing,{linear:!0})};this._fireEvent("boxzoomcancel",o)}keydown(o){this._active&&o.keyCode===27&&(this.reset(),this._fireEvent("boxzoomcancel",o))}reset(){this._active=!1,this._container.classList.remove("maplibregl-crosshair"),this._box&&(E.remove(this._box),this._box=null),E.enableDrag(),delete this._startPos,delete this._lastPos}_fireEvent(o,h){return this._map.fire(new c.k(o,{originalEvent:h}))}}function Qf(v,o){if(v.length!==o.length)throw new Error("The number of touches and points are not equal - touches ".concat(v.length,", points ").concat(o.length));const h={};for(let p=0;p<v.length;p++)h[v[p].identifier]=o[p];return h}class N_{constructor(o){this.reset(),this.numTouches=o.numTouches}reset(){delete this.centroid,delete this.startTime,delete this.touches,this.aborted=!1}touchstart(o,h,p){(this.centroid||p.length>this.numTouches)&&(this.aborted=!0),this.aborted||(this.startTime===void 0&&(this.startTime=o.timeStamp),p.length===this.numTouches&&(this.centroid=function(m){const _=new c.P(0,0);for(const T of m)_._add(T);return _.div(m.length)}(h),this.touches=Qf(p,h)))}touchmove(o,h,p){if(this.aborted||!this.centroid)return;const m=Qf(p,h);for(const _ in this.touches){const T=m[_];(!T||T.dist(this.touches[_])>30)&&(this.aborted=!0)}}touchend(o,h,p){if((!this.centroid||o.timeStamp-this.startTime>500)&&(this.aborted=!0),p.length===0){const m=!this.aborted&&this.centroid;if(this.reset(),m)return m}}}class ep{constructor(o){this.singleTap=new N_(o),this.numTaps=o.numTaps,this.reset()}reset(){this.lastTime=1/0,delete this.lastTap,this.count=0,this.singleTap.reset()}touchstart(o,h,p){this.singleTap.touchstart(o,h,p)}touchmove(o,h,p){this.singleTap.touchmove(o,h,p)}touchend(o,h,p){const m=this.singleTap.touchend(o,h,p);if(m){const _=o.timeStamp-this.lastTime<500,T=!this.lastTap||this.lastTap.dist(m)<30;if(_&&T||this.reset(),this.count++,this.lastTime=o.timeStamp,this.lastTap=m,this.count===this.numTaps)return this.reset(),m}}}class by{constructor(o){this._tr=new Or(o),this._zoomIn=new ep({numTouches:1,numTaps:2}),this._zoomOut=new ep({numTouches:2,numTaps:1}),this.reset()}reset(){this._active=!1,this._zoomIn.reset(),this._zoomOut.reset()}touchstart(o,h,p){this._zoomIn.touchstart(o,h,p),this._zoomOut.touchstart(o,h,p)}touchmove(o,h,p){this._zoomIn.touchmove(o,h,p),this._zoomOut.touchmove(o,h,p)}touchend(o,h,p){const m=this._zoomIn.touchend(o,h,p),_=this._zoomOut.touchend(o,h,p),T=this._tr;return m?(this._active=!0,o.preventDefault(),setTimeout(()=>this.reset(),0),{cameraAnimation:I=>I.easeTo({duration:300,zoom:T.zoom+1,around:T.unproject(m)},{originalEvent:o})}):_?(this._active=!0,o.preventDefault(),setTimeout(()=>this.reset(),0),{cameraAnimation:I=>I.easeTo({duration:300,zoom:T.zoom-1,around:T.unproject(_)},{originalEvent:o})}):void 0}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class Ds{constructor(o){this._enabled=!!o.enable,this._moveStateManager=o.moveStateManager,this._clickTolerance=o.clickTolerance||1,this._moveFunction=o.move,this._activateOnStart=!!o.activateOnStart,o.assignEvents(this),this.reset()}reset(o){this._active=!1,this._moved=!1,delete this._lastPoint,this._moveStateManager.endMove(o)}_move(...o){const h=this._moveFunction(...o);if(h.bearingDelta||h.pitchDelta||h.around||h.panDelta)return this._active=!0,h}dragStart(o,h){this.isEnabled()&&!this._lastPoint&&this._moveStateManager.isValidStartEvent(o)&&(this._moveStateManager.startMove(o),this._lastPoint=h.length?h[0]:h,this._activateOnStart&&this._lastPoint&&(this._active=!0))}dragMove(o,h){if(!this.isEnabled())return;const p=this._lastPoint;if(!p)return;if(o.preventDefault(),!this._moveStateManager.isValidMoveEvent(o))return void this.reset(o);const m=h.length?h[0]:h;return!this._moved&&m.dist(p)<this._clickTolerance?void 0:(this._moved=!0,this._lastPoint=m,this._move(p,m))}dragEnd(o){this.isEnabled()&&this._lastPoint&&this._moveStateManager.isValidEndEvent(o)&&(this._moved&&E.suppressClick(),this.reset(o))}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}getClickTolerance(){return this._clickTolerance}}const pa={0:1,2:2};class bt{constructor(o){this._correctEvent=o.checkCorrectEvent}startMove(o){const h=E.mouseButton(o);this._eventButton=h}endMove(o){delete this._eventButton}isValidStartEvent(o){return this._correctEvent(o)}isValidMoveEvent(o){return!function(h,p){const m=pa[p];return h.buttons===void 0||(h.buttons&m)!==m}(o,this._eventButton)}isValidEndEvent(o){return E.mouseButton(o)===this._eventButton}}class tp{constructor(){this._firstTouch=void 0}_isOneFingerTouch(o){return o.targetTouches.length===1}_isSameTouchEvent(o){return o.targetTouches[0].identifier===this._firstTouch}startMove(o){this._firstTouch=o.targetTouches[0].identifier}endMove(o){delete this._firstTouch}isValidStartEvent(o){return this._isOneFingerTouch(o)}isValidMoveEvent(o){return this._isOneFingerTouch(o)&&this._isSameTouchEvent(o)}isValidEndEvent(o){return this._isOneFingerTouch(o)&&this._isSameTouchEvent(o)}}const Wa=v=>{v.mousedown=v.dragStart,v.mousemoveWindow=v.dragMove,v.mouseup=v.dragEnd,v.contextmenu=function(o){o.preventDefault()}},Kl=({enable:v,clickTolerance:o,bearingDegreesPerPixelMoved:h=.8})=>{const p=new bt({checkCorrectEvent:m=>E.mouseButton(m)===0&&m.ctrlKey||E.mouseButton(m)===2});return new Ds({clickTolerance:o,move:(m,_)=>({bearingDelta:(_.x-m.x)*h}),moveStateManager:p,enable:v,assignEvents:Wa})},np=({enable:v,clickTolerance:o,pitchDegreesPerPixelMoved:h=-.5})=>{const p=new bt({checkCorrectEvent:m=>E.mouseButton(m)===0&&m.ctrlKey||E.mouseButton(m)===2});return new Ds({clickTolerance:o,move:(m,_)=>({pitchDelta:(_.y-m.y)*h}),moveStateManager:p,enable:v,assignEvents:Wa})};class gt{constructor(o,h){this._clickTolerance=o.clickTolerance||1,this._map=h,this.reset()}reset(){this._active=!1,this._touches={},this._sum=new c.P(0,0)}minTouchs(){return this._map.cooperativeGestures.isEnabled()?2:1}touchstart(o,h,p){return this._calculateTransform(o,h,p)}touchmove(o,h,p){if(this._active&&!(p.length<this.minTouchs()))return o.preventDefault(),this._calculateTransform(o,h,p)}touchend(o,h,p){this._calculateTransform(o,h,p),this._active&&p.length<this.minTouchs()&&this.reset()}touchcancel(){this.reset()}_calculateTransform(o,h,p){p.length>0&&(this._active=!0);const m=Qf(p,h),_=new c.P(0,0),T=new c.P(0,0);let I=0;for(const L in m){const B=m[L],j=this._touches[L];j&&(_._add(B),T._add(B.sub(j)),I++,m[L]=B)}if(this._touches=m,I<this.minTouchs()||!T.mag())return;const R=T.div(I);return this._sum._add(R),this._sum.mag()<this._clickTolerance?void 0:{around:_.div(I),panDelta:R}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class vu{constructor(){this.reset()}reset(){this._active=!1,delete this._firstTwoTouches}touchstart(o,h,p){this._firstTwoTouches||p.length<2||(this._firstTwoTouches=[p[0].identifier,p[1].identifier],this._start([h[0],h[1]]))}touchmove(o,h,p){if(!this._firstTwoTouches)return;o.preventDefault();const[m,_]=this._firstTwoTouches,T=jd(p,h,m),I=jd(p,h,_);if(!T||!I)return;const R=this._aroundCenter?null:T.add(I).div(2);return this._move([T,I],R,o)}touchend(o,h,p){if(!this._firstTwoTouches)return;const[m,_]=this._firstTwoTouches,T=jd(p,h,m),I=jd(p,h,_);T&&I||(this._active&&E.suppressClick(),this.reset())}touchcancel(){this.reset()}enable(o){this._enabled=!0,this._aroundCenter=!!o&&o.around==="center"}disable(){this._enabled=!1,this.reset()}isEnabled(){return!!this._enabled}isActive(){return!!this._active}}function jd(v,o,h){for(let p=0;p<v.length;p++)if(v[p].identifier===h)return o[p]}function _y(v,o){return Math.log(v/o)/Math.LN2}class Vd extends vu{reset(){super.reset(),delete this._distance,delete this._startDistance}_start(o){this._startDistance=this._distance=o[0].dist(o[1])}_move(o,h){const p=this._distance;if(this._distance=o[0].dist(o[1]),this._active||!(Math.abs(_y(this._distance,this._startDistance))<.1))return this._active=!0,{zoomDelta:_y(this._distance,p),pinchAround:h}}}function ip(v,o){return 180*v.angleWith(o)/Math.PI}class rp extends vu{reset(){super.reset(),delete this._minDiameter,delete this._startVector,delete this._vector}_start(o){this._startVector=this._vector=o[0].sub(o[1]),this._minDiameter=o[0].dist(o[1])}_move(o,h,p){const m=this._vector;if(this._vector=o[0].sub(o[1]),this._active||!this._isBelowThreshold(this._vector))return this._active=!0,{bearingDelta:ip(this._vector,m),pinchAround:h}}_isBelowThreshold(o){this._minDiameter=Math.min(this._minDiameter,o.mag());const h=25/(Math.PI*this._minDiameter)*360,p=ip(o,this._startVector);return Math.abs(p)<h}}function op(v){return Math.abs(v.y)>Math.abs(v.x)}class xy extends vu{constructor(o){super(),this._currentTouchCount=0,this._map=o}reset(){super.reset(),this._valid=void 0,delete this._firstMove,delete this._lastPoints}touchstart(o,h,p){super.touchstart(o,h,p),this._currentTouchCount=p.length}_start(o){this._lastPoints=o,op(o[0].sub(o[1]))&&(this._valid=!1)}_move(o,h,p){if(this._map.cooperativeGestures.isEnabled()&&this._currentTouchCount<3)return;const m=o[0].sub(this._lastPoints[0]),_=o[1].sub(this._lastPoints[1]);return this._valid=this.gestureBeginsVertically(m,_,p.timeStamp),this._valid?(this._lastPoints=o,this._active=!0,{pitchDelta:(m.y+_.y)/2*-.5}):void 0}gestureBeginsVertically(o,h,p){if(this._valid!==void 0)return this._valid;const m=o.mag()>=2,_=h.mag()>=2;if(!m&&!_)return;if(!m||!_)return this._firstMove===void 0&&(this._firstMove=p),p-this._firstMove<100&&void 0;const T=o.y>0==h.y>0;return op(o)&&op(h)&&T}}const Za={panStep:100,bearingStep:15,pitchStep:10};class Nn{constructor(o){this._tr=new Or(o);const h=Za;this._panStep=h.panStep,this._bearingStep=h.bearingStep,this._pitchStep=h.pitchStep,this._rotationDisabled=!1}reset(){this._active=!1}keydown(o){if(o.altKey||o.ctrlKey||o.metaKey)return;let h=0,p=0,m=0,_=0,T=0;switch(o.keyCode){case 61:case 107:case 171:case 187:h=1;break;case 189:case 109:case 173:h=-1;break;case 37:o.shiftKey?p=-1:(o.preventDefault(),_=-1);break;case 39:o.shiftKey?p=1:(o.preventDefault(),_=1);break;case 38:o.shiftKey?m=1:(o.preventDefault(),T=-1);break;case 40:o.shiftKey?m=-1:(o.preventDefault(),T=1);break;default:return}return this._rotationDisabled&&(p=0,m=0),{cameraAnimation:I=>{const R=this._tr;I.easeTo({duration:300,easeId:"keyboardHandler",easing:Ud,zoom:h?Math.round(R.zoom)+h*(o.shiftKey?2:1):R.zoom,bearing:R.bearing+p*this._bearingStep,pitch:R.pitch+m*this._pitchStep,offset:[-_*this._panStep,-T*this._panStep],center:R.center},{originalEvent:o})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}disableRotation(){this._rotationDisabled=!0}enableRotation(){this._rotationDisabled=!1}}function Ud(v){return v*(2-v)}const Hd=4.000244140625;class sp{constructor(o,h){this._onTimeout=p=>{this._type="wheel",this._delta-=this._lastValue,this._active||this._start(p)},this._map=o,this._tr=new Or(o),this._triggerRenderFrame=h,this._delta=0,this._defaultZoomRate=.01,this._wheelZoomRate=.0022222222222222222}setZoomRate(o){this._defaultZoomRate=o}setWheelZoomRate(o){this._wheelZoomRate=o}isEnabled(){return!!this._enabled}isActive(){return!!this._active||this._finishTimeout!==void 0}isZooming(){return!!this._zooming}enable(o){this.isEnabled()||(this._enabled=!0,this._aroundCenter=!!o&&o.around==="center")}disable(){this.isEnabled()&&(this._enabled=!1)}wheel(o){if(!this.isEnabled()||this._map.cooperativeGestures.isEnabled()&&!o[this._map.cooperativeGestures._bypassKey])return;let h=o.deltaMode===WheelEvent.DOM_DELTA_LINE?40*o.deltaY:o.deltaY;const p=S.now(),m=p-(this._lastWheelEventTime||0);this._lastWheelEventTime=p,h!==0&&h%Hd==0?this._type="wheel":h!==0&&Math.abs(h)<4?this._type="trackpad":m>400?(this._type=null,this._lastValue=h,this._timeout=setTimeout(this._onTimeout,40,o)):this._type||(this._type=Math.abs(m*h)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,h+=this._lastValue)),o.shiftKey&&h&&(h/=4),this._type&&(this._lastWheelEvent=o,this._delta-=h,this._active||this._start(o)),o.preventDefault()}_start(o){if(!this._delta)return;this._frameId&&(this._frameId=null),this._active=!0,this.isZooming()||(this._zooming=!0),this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout);const h=E.mousePos(this._map.getCanvas(),o),p=this._tr;this._around=h.y>p.transform.height/2-p.transform.getHorizon()?c.M.convert(this._aroundCenter?p.center:p.unproject(h)):c.M.convert(p.center),this._aroundPoint=p.transform.locationPoint(this._around),this._frameId||(this._frameId=!0,this._triggerRenderFrame())}renderFrame(){if(!this._frameId||(this._frameId=null,!this.isActive()))return;const o=this._tr.transform;if(this._delta!==0){const I=this._type==="wheel"&&Math.abs(this._delta)>Hd?this._wheelZoomRate:this._defaultZoomRate;let R=2/(1+Math.exp(-Math.abs(this._delta*I)));this._delta<0&&R!==0&&(R=1/R);const L=typeof this._targetZoom=="number"?o.zoomScale(this._targetZoom):o.scale;this._targetZoom=Math.min(o.maxZoom,Math.max(o.minZoom,o.scaleZoom(L*R))),this._type==="wheel"&&(this._startZoom=o.zoom,this._easing=this._smoothOutEasing(200)),this._delta=0}const h=typeof this._targetZoom=="number"?this._targetZoom:o.zoom,p=this._startZoom,m=this._easing;let _,T=!1;if(this._type==="wheel"&&p&&m){const I=Math.min((S.now()-this._lastWheelEventTime)/200,1),R=m(I);_=c.z.number(p,h,R),I<1?this._frameId||(this._frameId=!0):T=!0}else _=h,T=!0;return this._active=!0,T&&(this._active=!1,this._finishTimeout=setTimeout(()=>{this._zooming=!1,this._triggerRenderFrame(),delete this._targetZoom,delete this._finishTimeout},200)),{noInertia:!0,needsRenderFrame:!T,zoomDelta:_-o.zoom,around:this._aroundPoint,originalEvent:this._lastWheelEvent}}_smoothOutEasing(o){let h=c.b7;if(this._prevEase){const p=this._prevEase,m=(S.now()-p.start)/p.duration,_=p.easing(m+.01)-p.easing(m),T=.27/Math.sqrt(_*_+1e-4)*.01,I=Math.sqrt(.0729-T*T);h=c.b6(T,I,.25,1)}return this._prevEase={start:S.now(),duration:o,easing:h},h}reset(){this._active=!1,this._zooming=!1,delete this._targetZoom,this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout)}}class ap{constructor(o,h){this._clickZoom=o,this._tapZoom=h}enable(){this._clickZoom.enable(),this._tapZoom.enable()}disable(){this._clickZoom.disable(),this._tapZoom.disable()}isEnabled(){return this._clickZoom.isEnabled()&&this._tapZoom.isEnabled()}isActive(){return this._clickZoom.isActive()||this._tapZoom.isActive()}}class wy{constructor(o){this._tr=new Or(o),this.reset()}reset(){this._active=!1}dblclick(o,h){return o.preventDefault(),{cameraAnimation:p=>{p.easeTo({duration:300,zoom:this._tr.zoom+(o.shiftKey?-1:1),around:this._tr.unproject(h)},{originalEvent:o})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class j_{constructor(){this._tap=new ep({numTouches:1,numTaps:1}),this.reset()}reset(){this._active=!1,delete this._swipePoint,delete this._swipeTouch,delete this._tapTime,delete this._tapPoint,this._tap.reset()}touchstart(o,h,p){if(!this._swipePoint)if(this._tapTime){const m=h[0],_=o.timeStamp-this._tapTime<500,T=this._tapPoint.dist(m)<30;_&&T?p.length>0&&(this._swipePoint=m,this._swipeTouch=p[0].identifier):this.reset()}else this._tap.touchstart(o,h,p)}touchmove(o,h,p){if(this._tapTime){if(this._swipePoint){if(p[0].identifier!==this._swipeTouch)return;const m=h[0],_=m.y-this._swipePoint.y;return this._swipePoint=m,o.preventDefault(),this._active=!0,{zoomDelta:_/128}}}else this._tap.touchmove(o,h,p)}touchend(o,h,p){if(this._tapTime)this._swipePoint&&p.length===0&&this.reset();else{const m=this._tap.touchend(o,h,p);m&&(this._tapTime=o.timeStamp,this._tapPoint=m)}}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class $o{constructor(o,h,p){this._el=o,this._mousePan=h,this._touchPan=p}enable(o){this._inertiaOptions=o||{},this._mousePan.enable(),this._touchPan.enable(),this._el.classList.add("maplibregl-touch-drag-pan")}disable(){this._mousePan.disable(),this._touchPan.disable(),this._el.classList.remove("maplibregl-touch-drag-pan")}isEnabled(){return this._mousePan.isEnabled()&&this._touchPan.isEnabled()}isActive(){return this._mousePan.isActive()||this._touchPan.isActive()}}class bu{constructor(o,h,p){this._pitchWithRotate=o.pitchWithRotate,this._mouseRotate=h,this._mousePitch=p}enable(){this._mouseRotate.enable(),this._pitchWithRotate&&this._mousePitch.enable()}disable(){this._mouseRotate.disable(),this._mousePitch.disable()}isEnabled(){return this._mouseRotate.isEnabled()&&(!this._pitchWithRotate||this._mousePitch.isEnabled())}isActive(){return this._mouseRotate.isActive()||this._mousePitch.isActive()}}class Pt{constructor(o,h,p,m){this._el=o,this._touchZoom=h,this._touchRotate=p,this._tapDragZoom=m,this._rotationDisabled=!1,this._enabled=!0}enable(o){this._touchZoom.enable(o),this._rotationDisabled||this._touchRotate.enable(o),this._tapDragZoom.enable(),this._el.classList.add("maplibregl-touch-zoom-rotate")}disable(){this._touchZoom.disable(),this._touchRotate.disable(),this._tapDragZoom.disable(),this._el.classList.remove("maplibregl-touch-zoom-rotate")}isEnabled(){return this._touchZoom.isEnabled()&&(this._rotationDisabled||this._touchRotate.isEnabled())&&this._tapDragZoom.isEnabled()}isActive(){return this._touchZoom.isActive()||this._touchRotate.isActive()||this._tapDragZoom.isActive()}disableRotation(){this._rotationDisabled=!0,this._touchRotate.disable()}enableRotation(){this._rotationDisabled=!1,this._touchZoom.isEnabled()&&this._touchRotate.enable()}}class Bt{constructor(o,h){this._bypassKey=navigator.userAgent.indexOf("Mac")!==-1?"metaKey":"ctrlKey",this._map=o,this._options=h,this._enabled=!1}isActive(){return!1}reset(){}_setupUI(){if(this._container)return;const o=this._map.getCanvasContainer();o.classList.add("maplibregl-cooperative-gestures"),this._container=E.create("div","maplibregl-cooperative-gesture-screen",o);let h=this._map._getUIString("CooperativeGesturesHandler.WindowsHelpText");this._bypassKey==="metaKey"&&(h=this._map._getUIString("CooperativeGesturesHandler.MacHelpText"));const p=this._map._getUIString("CooperativeGesturesHandler.MobileHelpText"),m=document.createElement("div");m.className="maplibregl-desktop-message",m.textContent=h,this._container.appendChild(m);const _=document.createElement("div");_.className="maplibregl-mobile-message",_.textContent=p,this._container.appendChild(_),this._container.setAttribute("aria-hidden","true")}_destoryUI(){this._container&&(E.remove(this._container),this._map.getCanvasContainer().classList.remove("maplibregl-cooperative-gestures")),delete this._container}enable(){this._setupUI(),this._enabled=!0}disable(){this._enabled=!1,this._destoryUI()}isEnabled(){return this._enabled}touchmove(o){this._onCooperativeGesture(o.touches.length===1)}wheel(o){this._map.scrollZoom.isEnabled()&&this._onCooperativeGesture(!o[this._bypassKey])}_onCooperativeGesture(o){this._enabled&&o&&(this._container.classList.add("maplibregl-show"),setTimeout(()=>{this._container.classList.remove("maplibregl-show")},100))}}const Ga=v=>v.zoom||v.drag||v.pitch||v.rotate;class lp extends c.k{}function _u(v){return v.panDelta&&v.panDelta.mag()||v.zoomDelta||v.bearingDelta||v.pitchDelta}class Dr{constructor(o,h){this.handleWindowEvent=m=>{this.handleEvent(m,"".concat(m.type,"Window"))},this.handleEvent=(m,_)=>{if(m.type==="blur")return void this.stop(!0);this._updatingCamera=!0;const T=m.type==="renderFrame"?void 0:m,I={needsRenderFrame:!1},R={},L={},B=m.touches,j=B?this._getMapTouches(B):void 0,K=j?E.touchPos(this._map.getCanvas(),j):E.mousePos(this._map.getCanvas(),m);for(const{handlerName:de,handler:ee,allowed:ye}of this._handlers){if(!ee.isEnabled())continue;let Ae;this._blockedByActive(L,ye,de)?ee.reset():ee[_||m.type]&&(Ae=ee[_||m.type](m,K,j),this.mergeHandlerResult(I,R,Ae,de,T),Ae&&Ae.needsRenderFrame&&this._triggerRenderFrame()),(Ae||ee.isActive())&&(L[de]=ee)}const le={};for(const de in this._previousActiveHandlers)L[de]||(le[de]=T);this._previousActiveHandlers=L,(Object.keys(le).length||_u(I))&&(this._changes.push([I,R,le]),this._triggerRenderFrame()),(Object.keys(L).length||_u(I))&&this._map._stop(!0),this._updatingCamera=!1;const{cameraAnimation:se}=I;se&&(this._inertia.clear(),this._fireEvents({},{},!0),this._changes=[],se(this._map))},this._map=o,this._el=this._map.getCanvasContainer(),this._handlers=[],this._handlersById={},this._changes=[],this._inertia=new yy(o),this._bearingSnap=h.bearingSnap,this._previousActiveHandlers={},this._eventsInProgress={},this._addDefaultHandlers(h);const p=this._el;this._listeners=[[p,"touchstart",{passive:!0}],[p,"touchmove",{passive:!1}],[p,"touchend",void 0],[p,"touchcancel",void 0],[p,"mousedown",void 0],[p,"mousemove",void 0],[p,"mouseup",void 0],[document,"mousemove",{capture:!0}],[document,"mouseup",void 0],[p,"mouseover",void 0],[p,"mouseout",void 0],[p,"dblclick",void 0],[p,"click",void 0],[p,"keydown",{capture:!1}],[p,"keyup",void 0],[p,"wheel",{passive:!1}],[p,"contextmenu",void 0],[window,"blur",void 0]];for(const[m,_,T]of this._listeners)E.addEventListener(m,_,m===document?this.handleWindowEvent:this.handleEvent,T)}destroy(){for(const[o,h,p]of this._listeners)E.removeEventListener(o,h,o===document?this.handleWindowEvent:this.handleEvent,p)}_addDefaultHandlers(o){const h=this._map,p=h.getCanvasContainer();this._add("mapEvent",new us(h,o));const m=h.boxZoom=new Gl(h,o);this._add("boxZoom",m),o.interactive&&o.boxZoom&&m.enable();const _=h.cooperativeGestures=new Bt(h,o.cooperativeGestures);this._add("cooperativeGestures",_),o.cooperativeGestures&&_.enable();const T=new by(h),I=new wy(h);h.doubleClickZoom=new ap(I,T),this._add("tapZoom",T),this._add("clickZoom",I),o.interactive&&o.doubleClickZoom&&h.doubleClickZoom.enable();const R=new j_;this._add("tapDragZoom",R);const L=h.touchPitch=new xy(h);this._add("touchPitch",L),o.interactive&&o.touchPitch&&h.touchPitch.enable(o.touchPitch);const B=Kl(o),j=np(o);h.dragRotate=new bu(o,B,j),this._add("mouseRotate",B,["mousePitch"]),this._add("mousePitch",j,["mouseRotate"]),o.interactive&&o.dragRotate&&h.dragRotate.enable();const K=(({enable:Ae,clickTolerance:he})=>{const Se=new bt({checkCorrectEvent:Me=>E.mouseButton(Me)===0&&!Me.ctrlKey});return new Ds({clickTolerance:he,move:(Me,ze)=>({around:ze,panDelta:ze.sub(Me)}),activateOnStart:!0,moveStateManager:Se,enable:Ae,assignEvents:Wa})})(o),le=new gt(o,h);h.dragPan=new $o(p,K,le),this._add("mousePan",K),this._add("touchPan",le,["touchZoom","touchRotate"]),o.interactive&&o.dragPan&&h.dragPan.enable(o.dragPan);const se=new rp,de=new Vd;h.touchZoomRotate=new Pt(p,de,se,R),this._add("touchRotate",se,["touchPan","touchZoom"]),this._add("touchZoom",de,["touchPan","touchRotate"]),o.interactive&&o.touchZoomRotate&&h.touchZoomRotate.enable(o.touchZoomRotate);const ee=h.scrollZoom=new sp(h,()=>this._triggerRenderFrame());this._add("scrollZoom",ee,["mousePan"]),o.interactive&&o.scrollZoom&&h.scrollZoom.enable(o.scrollZoom);const ye=h.keyboard=new Nn(h);this._add("keyboard",ye),o.interactive&&o.keyboard&&h.keyboard.enable(),this._add("blockableMapEvent",new vy(h))}_add(o,h,p){this._handlers.push({handlerName:o,handler:h,allowed:p}),this._handlersById[o]=h}stop(o){if(!this._updatingCamera){for(const{handler:h}of this._handlers)h.reset();this._inertia.clear(),this._fireEvents({},{},o),this._changes=[]}}isActive(){for(const{handler:o}of this._handlers)if(o.isActive())return!0;return!1}isZooming(){return!!this._eventsInProgress.zoom||this._map.scrollZoom.isZooming()}isRotating(){return!!this._eventsInProgress.rotate}isMoving(){return!!Ga(this._eventsInProgress)||this.isZooming()}_blockedByActive(o,h,p){for(const m in o)if(m!==p&&(!h||h.indexOf(m)<0))return!0;return!1}_getMapTouches(o){const h=[];for(const p of o)this._el.contains(p.target)&&h.push(p);return h}mergeHandlerResult(o,h,p,m,_){if(!p)return;c.e(o,p);const T={handlerName:m,originalEvent:p.originalEvent||_};p.zoomDelta!==void 0&&(h.zoom=T),p.panDelta!==void 0&&(h.drag=T),p.pitchDelta!==void 0&&(h.pitch=T),p.bearingDelta!==void 0&&(h.rotate=T)}_applyChanges(){const o={},h={},p={};for(const[m,_,T]of this._changes)m.panDelta&&(o.panDelta=(o.panDelta||new c.P(0,0))._add(m.panDelta)),m.zoomDelta&&(o.zoomDelta=(o.zoomDelta||0)+m.zoomDelta),m.bearingDelta&&(o.bearingDelta=(o.bearingDelta||0)+m.bearingDelta),m.pitchDelta&&(o.pitchDelta=(o.pitchDelta||0)+m.pitchDelta),m.around!==void 0&&(o.around=m.around),m.pinchAround!==void 0&&(o.pinchAround=m.pinchAround),m.noInertia&&(o.noInertia=m.noInertia),c.e(h,_),c.e(p,T);this._updateMapTransform(o,h,p),this._changes=[]}_updateMapTransform(o,h,p){const m=this._map,_=m._getTransformForUpdate(),T=m.terrain;if(!(_u(o)||T&&this._terrainMovement))return this._fireEvents(h,p,!0);let{panDelta:I,zoomDelta:R,bearingDelta:L,pitchDelta:B,around:j,pinchAround:K}=o;K!==void 0&&(j=K),m._stop(!0),j=j||m.transform.centerPoint;const le=_.pointLocation(I?j.sub(I):j);L&&(_.bearing+=L),B&&(_.pitch+=B),R&&(_.zoom+=R),T?this._terrainMovement||!h.drag&&!h.zoom?h.drag&&this._terrainMovement?_.center=_.pointLocation(_.centerPoint.sub(I)):_.setLocationAtPoint(le,j):(this._terrainMovement=!0,this._map._elevationFreeze=!0,_.setLocationAtPoint(le,j),this._map.once("moveend",()=>{this._map._elevationFreeze=!1,this._terrainMovement=!1,_.recalculateZoom(m.terrain)})):_.setLocationAtPoint(le,j),m._applyUpdatedTransform(_),this._map._update(),o.noInertia||this._inertia.record(o),this._fireEvents(h,p,!0)}_fireEvents(o,h,p){const m=Ga(this._eventsInProgress),_=Ga(o),T={};for(const B in o){const{originalEvent:j}=o[B];this._eventsInProgress[B]||(T["".concat(B,"start")]=j),this._eventsInProgress[B]=o[B]}!m&&_&&this._fireEvent("movestart",_.originalEvent);for(const B in T)this._fireEvent(B,T[B]);_&&this._fireEvent("move",_.originalEvent);for(const B in o){const{originalEvent:j}=o[B];this._fireEvent(B,j)}const I={};let R;for(const B in this._eventsInProgress){const{handlerName:j,originalEvent:K}=this._eventsInProgress[B];this._handlersById[j].isActive()||(delete this._eventsInProgress[B],R=h[j]||K,I["".concat(B,"end")]=R)}for(const B in I)this._fireEvent(B,I[B]);const L=Ga(this._eventsInProgress);if(p&&(m||_)&&!L){this._updatingCamera=!0;const B=this._inertia._onMoveEnd(this._map.dragPan._inertiaOptions),j=K=>K!==0&&-this._bearingSnap<K&&K<this._bearingSnap;!B||!B.essential&&S.prefersReducedMotion?(this._map.fire(new c.k("moveend",{originalEvent:R})),j(this._map.getBearing())&&this._map.resetNorth()):(j(B.bearing||this._map.getBearing())&&(B.bearing=0),B.freezeElevation=!0,this._map.easeTo(B,{originalEvent:R})),this._updatingCamera=!1}}_fireEvent(o,h){this._map.fire(new c.k(o,h?{originalEvent:h}:{}))}_requestFrame(){return this._map.triggerRepaint(),this._map._renderTaskQueue.add(o=>{delete this._frameId,this.handleEvent(new lp("renderFrame",{timeStamp:o})),this._applyChanges()})}_triggerRenderFrame(){this._frameId===void 0&&(this._frameId=this._requestFrame())}}class Sy extends c.E{constructor(o,h){super(),this._renderFrameCallback=()=>{const p=Math.min((S.now()-this._easeStart)/this._easeOptions.duration,1);this._onEaseFrame(this._easeOptions.easing(p)),p<1&&this._easeFrameId?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()},this._moving=!1,this._zooming=!1,this.transform=o,this._bearingSnap=h.bearingSnap,this.on("moveend",()=>{delete this._requestedCameraState})}getCenter(){return new c.M(this.transform.center.lng,this.transform.center.lat)}setCenter(o,h){return this.jumpTo({center:o},h)}panBy(o,h,p){return o=c.P.convert(o).mult(-1),this.panTo(this.transform.center,c.e({offset:o},h),p)}panTo(o,h,p){return this.easeTo(c.e({center:o},h),p)}getZoom(){return this.transform.zoom}setZoom(o,h){return this.jumpTo({zoom:o},h),this}zoomTo(o,h,p){return this.easeTo(c.e({zoom:o},h),p)}zoomIn(o,h){return this.zoomTo(this.getZoom()+1,o,h),this}zoomOut(o,h){return this.zoomTo(this.getZoom()-1,o,h),this}getBearing(){return this.transform.bearing}setBearing(o,h){return this.jumpTo({bearing:o},h),this}getPadding(){return this.transform.padding}setPadding(o,h){return this.jumpTo({padding:o},h),this}rotateTo(o,h,p){return this.easeTo(c.e({bearing:o},h),p)}resetNorth(o,h){return this.rotateTo(0,c.e({duration:1e3},o),h),this}resetNorthPitch(o,h){return this.easeTo(c.e({bearing:0,pitch:0,duration:1e3},o),h),this}snapToNorth(o,h){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(o,h):this}getPitch(){return this.transform.pitch}setPitch(o,h){return this.jumpTo({pitch:o},h),this}cameraForBounds(o,h){o=zt.convert(o);const p=h&&h.bearing||0;return this._cameraForBoxAndBearing(o.getNorthWest(),o.getSouthEast(),p,h)}_cameraForBoxAndBearing(o,h,p,m){const _={top:0,bottom:0,right:0,left:0};if(typeof(m=c.e({padding:_,offset:[0,0],maxZoom:this.transform.maxZoom},m)).padding=="number"){const vt=m.padding;m.padding={top:vt,bottom:vt,right:vt,left:vt}}m.padding=c.e(_,m.padding);const T=this.transform,I=T.padding,R=new zt(o,h),L=T.project(R.getNorthWest()),B=T.project(R.getNorthEast()),j=T.project(R.getSouthEast()),K=T.project(R.getSouthWest()),le=c.b8(-p),se=L.rotate(le),de=B.rotate(le),ee=j.rotate(le),ye=K.rotate(le),Ae=new c.P(Math.max(se.x,de.x,ye.x,ee.x),Math.max(se.y,de.y,ye.y,ee.y)),he=new c.P(Math.min(se.x,de.x,ye.x,ee.x),Math.min(se.y,de.y,ye.y,ee.y)),Se=Ae.sub(he),Me=(T.width-(I.left+I.right+m.padding.left+m.padding.right))/Se.x,ze=(T.height-(I.top+I.bottom+m.padding.top+m.padding.bottom))/Se.y;if(ze<0||Me<0)return void c.w("Map cannot fit within canvas with the given bounds, padding, and/or offset.");const je=Math.min(T.scaleZoom(T.scale*Math.min(Me,ze)),m.maxZoom),tt=c.P.convert(m.offset),Xe=new c.P((m.padding.left-m.padding.right)/2,(m.padding.top-m.padding.bottom)/2).rotate(c.b8(p)),Je=tt.add(Xe).mult(T.scale/T.zoomScale(je));return{center:T.unproject(L.add(j).div(2).sub(Je)),zoom:je,bearing:p}}fitBounds(o,h,p){return this._fitInternal(this.cameraForBounds(o,h),h,p)}fitScreenCoordinates(o,h,p,m,_){return this._fitInternal(this._cameraForBoxAndBearing(this.transform.pointLocation(c.P.convert(o)),this.transform.pointLocation(c.P.convert(h)),p,m),m,_)}_fitInternal(o,h,p){return o?(delete(h=c.e(o,h)).padding,h.linear?this.easeTo(h,p):this.flyTo(h,p)):this}jumpTo(o,h){this.stop();const p=this._getTransformForUpdate();let m=!1,_=!1,T=!1;return"zoom"in o&&p.zoom!==+o.zoom&&(m=!0,p.zoom=+o.zoom),o.center!==void 0&&(p.center=c.M.convert(o.center)),"bearing"in o&&p.bearing!==+o.bearing&&(_=!0,p.bearing=+o.bearing),"pitch"in o&&p.pitch!==+o.pitch&&(T=!0,p.pitch=+o.pitch),o.padding==null||p.isPaddingEqual(o.padding)||(p.padding=o.padding),this._applyUpdatedTransform(p),this.fire(new c.k("movestart",h)).fire(new c.k("move",h)),m&&this.fire(new c.k("zoomstart",h)).fire(new c.k("zoom",h)).fire(new c.k("zoomend",h)),_&&this.fire(new c.k("rotatestart",h)).fire(new c.k("rotate",h)).fire(new c.k("rotateend",h)),T&&this.fire(new c.k("pitchstart",h)).fire(new c.k("pitch",h)).fire(new c.k("pitchend",h)),this.fire(new c.k("moveend",h))}calculateCameraOptionsFromTo(o,h,p,m=0){const _=c.Y.fromLngLat(o,h),T=c.Y.fromLngLat(p,m),I=T.x-_.x,R=T.y-_.y,L=T.z-_.z,B=Math.hypot(I,R,L);if(B===0)throw new Error("Can't calculate camera options with same From and To");const j=Math.hypot(I,R),K=this.transform.scaleZoom(this.transform.cameraToCenterDistance/B/this.transform.tileSize),le=180*Math.atan2(I,-R)/Math.PI;let se=180*Math.acos(j/B)/Math.PI;return se=L<0?90-se:90+se,{center:T.toLngLat(),zoom:K,pitch:se,bearing:le}}easeTo(o,h){var p;this._stop(!1,o.easeId),((o=c.e({offset:[0,0],duration:500,easing:c.b7},o)).animate===!1||!o.essential&&S.prefersReducedMotion)&&(o.duration=0);const m=this._getTransformForUpdate(),_=this.getZoom(),T=this.getBearing(),I=this.getPitch(),R=this.getPadding(),L="bearing"in o?this._normalizeBearing(o.bearing,T):T,B="pitch"in o?+o.pitch:I,j="padding"in o?o.padding:m.padding,K=c.P.convert(o.offset);let le=m.centerPoint.add(K);const se=m.pointLocation(le),{center:de,zoom:ee}=m.getConstrained(c.M.convert(o.center||se),(p=o.zoom)!==null&&p!==void 0?p:_);this._normalizeCenter(de);const ye=m.project(se),Ae=m.project(de).sub(ye),he=m.zoomScale(ee-_);let Se,Me;o.around&&(Se=c.M.convert(o.around),Me=m.locationPoint(Se));const ze={moving:this._moving,zooming:this._zooming,rotating:this._rotating,pitching:this._pitching};return this._zooming=this._zooming||ee!==_,this._rotating=this._rotating||T!==L,this._pitching=this._pitching||B!==I,this._padding=!m.isPaddingEqual(j),this._easeId=o.easeId,this._prepareEase(h,o.noMoveStart,ze),this.terrain&&this._prepareElevation(de),this._ease(je=>{if(this._zooming&&(m.zoom=c.z.number(_,ee,je)),this._rotating&&(m.bearing=c.z.number(T,L,je)),this._pitching&&(m.pitch=c.z.number(I,B,je)),this._padding&&(m.interpolatePadding(R,j,je),le=m.centerPoint.add(K)),this.terrain&&!o.freezeElevation&&this._updateElevation(je),Se)m.setLocationAtPoint(Se,Me);else{const tt=m.zoomScale(m.zoom-_),Xe=ee>_?Math.min(2,he):Math.max(.5,he),Je=Math.pow(Xe,1-je),vt=m.unproject(ye.add(Ae.mult(je*Je)).mult(tt));m.setLocationAtPoint(m.renderWorldCopies?vt.wrap():vt,le)}this._applyUpdatedTransform(m),this._fireMoveEvents(h)},je=>{this.terrain&&this._finalizeElevation(),this._afterEase(h,je)},o),this}_prepareEase(o,h,p={}){this._moving=!0,h||p.moving||this.fire(new c.k("movestart",o)),this._zooming&&!p.zooming&&this.fire(new c.k("zoomstart",o)),this._rotating&&!p.rotating&&this.fire(new c.k("rotatestart",o)),this._pitching&&!p.pitching&&this.fire(new c.k("pitchstart",o))}_prepareElevation(o){this._elevationCenter=o,this._elevationStart=this.transform.elevation,this._elevationTarget=this.terrain.getElevationForLngLatZoom(o,this.transform.tileZoom),this._elevationFreeze=!0}_updateElevation(o){this.transform.minElevationForCurrentTile=this.terrain.getMinTileElevationForLngLatZoom(this._elevationCenter,this.transform.tileZoom);const h=this.terrain.getElevationForLngLatZoom(this._elevationCenter,this.transform.tileZoom);if(o<1&&h!==this._elevationTarget){const p=this._elevationTarget-this._elevationStart;this._elevationStart+=o*(p-(h-(p*o+this._elevationStart))/(1-o)),this._elevationTarget=h}this.transform.elevation=c.z.number(this._elevationStart,this._elevationTarget,o)}_finalizeElevation(){this._elevationFreeze=!1,this.transform.recalculateZoom(this.terrain)}_getTransformForUpdate(){return this.transformCameraUpdate?(this._requestedCameraState||(this._requestedCameraState=this.transform.clone()),this._requestedCameraState):this.transform}_applyUpdatedTransform(o){if(!this.transformCameraUpdate)return;const h=o.clone(),{center:p,zoom:m,pitch:_,bearing:T,elevation:I}=this.transformCameraUpdate(h);p&&(h.center=p),m!==void 0&&(h.zoom=m),_!==void 0&&(h.pitch=_),T!==void 0&&(h.bearing=T),I!==void 0&&(h.elevation=I),this.transform.apply(h)}_fireMoveEvents(o){this.fire(new c.k("move",o)),this._zooming&&this.fire(new c.k("zoom",o)),this._rotating&&this.fire(new c.k("rotate",o)),this._pitching&&this.fire(new c.k("pitch",o))}_afterEase(o,h){if(this._easeId&&h&&this._easeId===h)return;delete this._easeId;const p=this._zooming,m=this._rotating,_=this._pitching;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,this._padding=!1,p&&this.fire(new c.k("zoomend",o)),m&&this.fire(new c.k("rotateend",o)),_&&this.fire(new c.k("pitchend",o)),this.fire(new c.k("moveend",o))}flyTo(o,h){var p;if(!o.essential&&S.prefersReducedMotion){const hn=c.L(o,["center","zoom","bearing","pitch","around"]);return this.jumpTo(hn,h)}this.stop(),o=c.e({offset:[0,0],speed:1.2,curve:1.42,easing:c.b7},o);const m=this._getTransformForUpdate(),_=this.getZoom(),T=this.getBearing(),I=this.getPitch(),R=this.getPadding(),L="bearing"in o?this._normalizeBearing(o.bearing,T):T,B="pitch"in o?+o.pitch:I,j="padding"in o?o.padding:m.padding,K=c.P.convert(o.offset);let le=m.centerPoint.add(K);const se=m.pointLocation(le),{center:de,zoom:ee}=m.getConstrained(c.M.convert(o.center||se),(p=o.zoom)!==null&&p!==void 0?p:_);this._normalizeCenter(de);const ye=m.zoomScale(ee-_),Ae=m.project(se),he=m.project(de).sub(Ae);let Se=o.curve;const Me=Math.max(m.width,m.height),ze=Me/ye,je=he.mag();if("minZoom"in o){const hn=c.ac(Math.min(o.minZoom,_,ee),m.minZoom,m.maxZoom),qt=Me/m.zoomScale(hn-_);Se=Math.sqrt(qt/je*2)}const tt=Se*Se;function Xe(hn){const qt=(ze*ze-Me*Me+(hn?-1:1)*tt*tt*je*je)/(2*(hn?ze:Me)*tt*je);return Math.log(Math.sqrt(qt*qt+1)-qt)}function Je(hn){return(Math.exp(hn)-Math.exp(-hn))/2}function vt(hn){return(Math.exp(hn)+Math.exp(-hn))/2}const Xt=Xe(!1);let ut=function(hn){return vt(Xt)/vt(Xt+Se*hn)},jt=function(hn){return Me*((vt(Xt)*(Je(qt=Xt+Se*hn)/vt(qt))-Je(Xt))/tt)/je;var qt},tn=(Xe(!0)-Xt)/Se;if(Math.abs(je)<1e-6||!isFinite(tn)){if(Math.abs(Me-ze)<1e-6)return this.easeTo(o,h);const hn=ze<Me?-1:1;tn=Math.abs(Math.log(ze/Me))/Se,jt=function(){return 0},ut=function(qt){return Math.exp(hn*Se*qt)}}return o.duration="duration"in o?+o.duration:1e3*tn/("screenSpeed"in o?+o.screenSpeed/Se:+o.speed),o.maxDuration&&o.duration>o.maxDuration&&(o.duration=0),this._zooming=!0,this._rotating=T!==L,this._pitching=B!==I,this._padding=!m.isPaddingEqual(j),this._prepareEase(h,!1),this.terrain&&this._prepareElevation(de),this._ease(hn=>{const qt=hn*tn,nn=1/ut(qt);m.zoom=hn===1?ee:_+m.scaleZoom(nn),this._rotating&&(m.bearing=c.z.number(T,L,hn)),this._pitching&&(m.pitch=c.z.number(I,B,hn)),this._padding&&(m.interpolatePadding(R,j,hn),le=m.centerPoint.add(K)),this.terrain&&!o.freezeElevation&&this._updateElevation(hn);const rn=hn===1?de:m.unproject(Ae.add(he.mult(jt(qt))).mult(nn));m.setLocationAtPoint(m.renderWorldCopies?rn.wrap():rn,le),this._applyUpdatedTransform(m),this._fireMoveEvents(h)},()=>{this.terrain&&this._finalizeElevation(),this._afterEase(h)},o),this}isEasing(){return!!this._easeFrameId}stop(){return this._stop()}_stop(o,h){if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),delete this._easeFrameId,delete this._onEaseFrame),this._onEaseEnd){const p=this._onEaseEnd;delete this._onEaseEnd,p.call(this,h)}if(!o){const p=this.handlers;p&&p.stop(!1)}return this}_ease(o,h,p){p.animate===!1||p.duration===0?(o(1),h()):(this._easeStart=S.now(),this._easeOptions=p,this._onEaseFrame=o,this._onEaseEnd=h,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))}_normalizeBearing(o,h){o=c.b1(o,-180,180);const p=Math.abs(o-h);return Math.abs(o-360-h)<p&&(o-=360),Math.abs(o+360-h)<p&&(o+=360),o}_normalizeCenter(o){const h=this.transform;if(!h.renderWorldCopies||h.lngRange)return;const p=o.lng-h.center.lng;o.lng+=p>180?-360:p<-180?360:0}queryTerrainElevation(o){return this.terrain?this.terrain.getElevationForLngLatZoom(c.M.convert(o),this.transform.tileZoom)-this.transform.elevation:null}}const Bo={compact:!0,customAttribution:'<a href="https://maplibre.org/" target="_blank">MapLibre</a>'};class ky{constructor(o=Bo){this._toggleAttribution=()=>{this._container.classList.contains("maplibregl-compact")&&(this._container.classList.contains("maplibregl-compact-show")?(this._container.setAttribute("open",""),this._container.classList.remove("maplibregl-compact-show")):(this._container.classList.add("maplibregl-compact-show"),this._container.removeAttribute("open")))},this._updateData=h=>{!h||h.sourceDataType!=="metadata"&&h.sourceDataType!=="visibility"&&h.dataType!=="style"&&h.type!=="terrain"||this._updateAttributions()},this._updateCompact=()=>{this._map.getCanvasContainer().offsetWidth<=640||this._compact?this._compact===!1?this._container.setAttribute("open",""):this._container.classList.contains("maplibregl-compact")||this._container.classList.contains("maplibregl-attrib-empty")||(this._container.setAttribute("open",""),this._container.classList.add("maplibregl-compact","maplibregl-compact-show")):(this._container.setAttribute("open",""),this._container.classList.contains("maplibregl-compact")&&this._container.classList.remove("maplibregl-compact","maplibregl-compact-show"))},this._updateCompactMinimize=()=>{this._container.classList.contains("maplibregl-compact")&&this._container.classList.contains("maplibregl-compact-show")&&this._container.classList.remove("maplibregl-compact-show")},this.options=o}getDefaultPosition(){return"bottom-right"}onAdd(o){return this._map=o,this._compact=this.options.compact,this._container=E.create("details","maplibregl-ctrl maplibregl-ctrl-attrib"),this._compactButton=E.create("summary","maplibregl-ctrl-attrib-button",this._container),this._compactButton.addEventListener("click",this._toggleAttribution),this._setElementTitle(this._compactButton,"ToggleAttribution"),this._innerContainer=E.create("div","maplibregl-ctrl-attrib-inner",this._container),this._updateAttributions(),this._updateCompact(),this._map.on("styledata",this._updateData),this._map.on("sourcedata",this._updateData),this._map.on("terrain",this._updateData),this._map.on("resize",this._updateCompact),this._map.on("drag",this._updateCompactMinimize),this._container}onRemove(){E.remove(this._container),this._map.off("styledata",this._updateData),this._map.off("sourcedata",this._updateData),this._map.off("terrain",this._updateData),this._map.off("resize",this._updateCompact),this._map.off("drag",this._updateCompactMinimize),this._map=void 0,this._compact=void 0,this._attribHTML=void 0}_setElementTitle(o,h){const p=this._map._getUIString("AttributionControl.".concat(h));o.title=p,o.setAttribute("aria-label",p)}_updateAttributions(){if(!this._map.style)return;let o=[];if(this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?o=o.concat(this.options.customAttribution.map(m=>typeof m!="string"?"":m)):typeof this.options.customAttribution=="string"&&o.push(this.options.customAttribution)),this._map.style.stylesheet){const m=this._map.style.stylesheet;this.styleOwner=m.owner,this.styleId=m.id}const h=this._map.style.sourceCaches;for(const m in h){const _=h[m];if(_.used||_.usedForTerrain){const T=_.getSource();T.attribution&&o.indexOf(T.attribution)<0&&o.push(T.attribution)}}o=o.filter(m=>String(m).trim()),o.sort((m,_)=>m.length-_.length),o=o.filter((m,_)=>{for(let T=_+1;T<o.length;T++)if(o[T].indexOf(m)>=0)return!1;return!0});const p=o.join(" | ");p!==this._attribHTML&&(this._attribHTML=p,o.length?(this._innerContainer.innerHTML=p,this._container.classList.remove("maplibregl-attrib-empty")):this._container.classList.add("maplibregl-attrib-empty"),this._updateCompact(),this._editLink=null)}}class Xl{constructor(o={}){this._updateCompact=()=>{const h=this._container.children;if(h.length){const p=h[0];this._map.getCanvasContainer().offsetWidth<=640||this._compact?this._compact!==!1&&p.classList.add("maplibregl-compact"):p.classList.remove("maplibregl-compact")}},this.options=o}getDefaultPosition(){return"bottom-left"}onAdd(o){this._map=o,this._compact=this.options&&this.options.compact,this._container=E.create("div","maplibregl-ctrl");const h=E.create("a","maplibregl-ctrl-logo");return h.target="_blank",h.rel="noopener nofollow",h.href="https://maplibre.org/",h.setAttribute("aria-label",this._map._getUIString("LogoControl.Title")),h.setAttribute("rel","noopener nofollow"),this._container.appendChild(h),this._container.style.display="block",this._map.on("resize",this._updateCompact),this._updateCompact(),this._container}onRemove(){E.remove(this._container),this._map.off("resize",this._updateCompact),this._map=void 0,this._compact=void 0}}class ti{constructor(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1}add(o){const h=++this._id;return this._queue.push({callback:o,id:h,cancelled:!1}),h}remove(o){const h=this._currentlyRunning,p=h?this._queue.concat(h):this._queue;for(const m of p)if(m.id===o)return void(m.cancelled=!0)}run(o=0){if(this._currentlyRunning)throw new Error("Attempting to run(), but is already running.");const h=this._currentlyRunning=this._queue;this._queue=[];for(const p of h)if(!p.cancelled&&(p.callback(o),this._cleared))break;this._cleared=!1,this._currentlyRunning=!1}clear(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]}}var pi=c.X([{name:"a_pos3d",type:"Int16",components:3}]);class Ey extends c.E{constructor(o){super(),this.sourceCache=o,this._tiles={},this._renderableTilesKeys=[],this._sourceTileCache={},this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.deltaZoom=1,o.usedForTerrain=!0,o.tileSize=this.tileSize*2**this.deltaZoom}destruct(){this.sourceCache.usedForTerrain=!1,this.sourceCache.tileSize=null}update(o,h){this.sourceCache.update(o,h),this._renderableTilesKeys=[];const p={};for(const m of o.coveringTiles({tileSize:this.tileSize,minzoom:this.minzoom,maxzoom:this.maxzoom,reparseOverscaled:!1,terrain:h}))p[m.key]=!0,this._renderableTilesKeys.push(m.key),this._tiles[m.key]||(m.posMatrix=new Float64Array(16),c.aN(m.posMatrix,0,c.W,0,c.W,0,1),this._tiles[m.key]=new Ti(m,this.tileSize));for(const m in this._tiles)p[m]||delete this._tiles[m]}freeRtt(o){for(const h in this._tiles){const p=this._tiles[h];(!o||p.tileID.equals(o)||p.tileID.isChildOf(o)||o.isChildOf(p.tileID))&&(p.rtt=[])}}getRenderableTiles(){return this._renderableTilesKeys.map(o=>this.getTileByID(o))}getTileByID(o){return this._tiles[o]}getTerrainCoords(o){const h={};for(const p of this._renderableTilesKeys){const m=this._tiles[p].tileID;if(m.canonical.equals(o.canonical)){const _=o.clone();_.posMatrix=new Float64Array(16),c.aN(_.posMatrix,0,c.W,0,c.W,0,1),h[p]=_}else if(m.canonical.isChildOf(o.canonical)){const _=o.clone();_.posMatrix=new Float64Array(16);const T=m.canonical.z-o.canonical.z,I=m.canonical.x-(m.canonical.x>>T<<T),R=m.canonical.y-(m.canonical.y>>T<<T),L=c.W>>T;c.aN(_.posMatrix,0,L,0,L,0,1),c.H(_.posMatrix,_.posMatrix,[-I*L,-R*L,0]),h[p]=_}else if(o.canonical.isChildOf(m.canonical)){const _=o.clone();_.posMatrix=new Float64Array(16);const T=o.canonical.z-m.canonical.z,I=o.canonical.x-(o.canonical.x>>T<<T),R=o.canonical.y-(o.canonical.y>>T<<T),L=c.W>>T;c.aN(_.posMatrix,0,c.W,0,c.W,0,1),c.H(_.posMatrix,_.posMatrix,[I*L,R*L,0]),c.J(_.posMatrix,_.posMatrix,[1/2**T,1/2**T,0]),h[p]=_}}return h}getSourceTile(o,h){const p=this.sourceCache._source;let m=o.overscaledZ-this.deltaZoom;if(m>p.maxzoom&&(m=p.maxzoom),m<p.minzoom)return null;this._sourceTileCache[o.key]||(this._sourceTileCache[o.key]=o.scaledTo(m).key);let _=this.sourceCache.getTileByID(this._sourceTileCache[o.key]);if((!_||!_.dem)&&h)for(;m>=p.minzoom&&(!_||!_.dem);)_=this.sourceCache.getTileByID(o.scaledTo(m--).key);return _}tilesAfterTime(o=Date.now()){return Object.values(this._tiles).filter(h=>h.timeAdded>=o)}}class xu{constructor(o,h,p){this.painter=o,this.sourceCache=new Ey(h),this.options=p,this.exaggeration=typeof p.exaggeration=="number"?p.exaggeration:1,this.qualityFactor=2,this.meshSize=128,this._demMatrixCache={},this.coordsIndex=[],this._coordsTextureSize=1024}getDEMElevation(o,h,p,m=c.W){var _;if(!(h>=0&&h<m&&p>=0&&p<m))return 0;const T=this.getTerrainData(o),I=(_=T.tile)===null||_===void 0?void 0:_.dem;if(!I)return 0;const R=function(se,de,ee){var ye=de[0],Ae=de[1];return se[0]=ee[0]*ye+ee[4]*Ae+ee[12],se[1]=ee[1]*ye+ee[5]*Ae+ee[13],se}([],[h/m*c.W,p/m*c.W],T.u_terrain_matrix),L=[R[0]*I.dim,R[1]*I.dim],B=Math.floor(L[0]),j=Math.floor(L[1]),K=L[0]-B,le=L[1]-j;return I.get(B,j)*(1-K)*(1-le)+I.get(B+1,j)*K*(1-le)+I.get(B,j+1)*(1-K)*le+I.get(B+1,j+1)*K*le}getElevationForLngLatZoom(o,h){const{tileID:p,mercatorX:m,mercatorY:_}=this._getOverscaledTileIDFromLngLatZoom(o,h);return this.getElevation(p,m%c.W,_%c.W,c.W)}getElevation(o,h,p,m=c.W){return this.getDEMElevation(o,h,p,m)*this.exaggeration}getTerrainData(o){if(!this._emptyDemTexture){const m=this.painter.context,_=new c.R({width:1,height:1},new Uint8Array(4));this._emptyDepthTexture=new Ze(m,_,m.gl.RGBA,{premultiply:!1}),this._emptyDemUnpack=[0,0,0,0],this._emptyDemTexture=new Ze(m,new c.R({width:1,height:1}),m.gl.RGBA,{premultiply:!1}),this._emptyDemTexture.bind(m.gl.NEAREST,m.gl.CLAMP_TO_EDGE),this._emptyDemMatrix=c.an([])}const h=this.sourceCache.getSourceTile(o,!0);if(h&&h.dem&&(!h.demTexture||h.needsTerrainPrepare)){const m=this.painter.context;h.demTexture=this.painter.getTileTexture(h.dem.stride),h.demTexture?h.demTexture.update(h.dem.getPixels(),{premultiply:!1}):h.demTexture=new Ze(m,h.dem.getPixels(),m.gl.RGBA,{premultiply:!1}),h.demTexture.bind(m.gl.NEAREST,m.gl.CLAMP_TO_EDGE),h.needsTerrainPrepare=!1}const p=h&&h+h.tileID.key+o.key;if(p&&!this._demMatrixCache[p]){const m=this.sourceCache.sourceCache._source.maxzoom;let _=o.canonical.z-h.tileID.canonical.z;o.overscaledZ>o.canonical.z&&(o.canonical.z>=m?_=o.canonical.z-m:c.w("cannot calculate elevation if elevation maxzoom > source.maxzoom"));const T=o.canonical.x-(o.canonical.x>>_<<_),I=o.canonical.y-(o.canonical.y>>_<<_),R=c.b9(new Float64Array(16),[1/(c.W<<_),1/(c.W<<_),0]);c.H(R,R,[T*c.W,I*c.W,0]),this._demMatrixCache[o.key]={matrix:R,coord:o}}return{u_depth:2,u_terrain:3,u_terrain_dim:h&&h.dem&&h.dem.dim||1,u_terrain_matrix:p?this._demMatrixCache[o.key].matrix:this._emptyDemMatrix,u_terrain_unpack:h&&h.dem&&h.dem.getUnpackVector()||this._emptyDemUnpack,u_terrain_exaggeration:this.exaggeration,texture:(h&&h.demTexture||this._emptyDemTexture).texture,depthTexture:(this._fboDepthTexture||this._emptyDepthTexture).texture,tile:h}}getFramebuffer(o){const h=this.painter,p=h.width/devicePixelRatio,m=h.height/devicePixelRatio;return!this._fbo||this._fbo.width===p&&this._fbo.height===m||(this._fbo.destroy(),this._fboCoordsTexture.destroy(),this._fboDepthTexture.destroy(),delete this._fbo,delete this._fboDepthTexture,delete this._fboCoordsTexture),this._fboCoordsTexture||(this._fboCoordsTexture=new Ze(h.context,{width:p,height:m,data:null},h.context.gl.RGBA,{premultiply:!1}),this._fboCoordsTexture.bind(h.context.gl.NEAREST,h.context.gl.CLAMP_TO_EDGE)),this._fboDepthTexture||(this._fboDepthTexture=new Ze(h.context,{width:p,height:m,data:null},h.context.gl.RGBA,{premultiply:!1}),this._fboDepthTexture.bind(h.context.gl.NEAREST,h.context.gl.CLAMP_TO_EDGE)),this._fbo||(this._fbo=h.context.createFramebuffer(p,m,!0,!1),this._fbo.depthAttachment.set(h.context.createRenderbuffer(h.context.gl.DEPTH_COMPONENT16,p,m))),this._fbo.colorAttachment.set(o==="coords"?this._fboCoordsTexture.texture:this._fboDepthTexture.texture),this._fbo}getCoordsTexture(){const o=this.painter.context;if(this._coordsTexture)return this._coordsTexture;const h=new Uint8Array(this._coordsTextureSize*this._coordsTextureSize*4);for(let _=0,T=0;_<this._coordsTextureSize;_++)for(let I=0;I<this._coordsTextureSize;I++,T+=4)h[T+0]=255&I,h[T+1]=255&_,h[T+2]=I>>8<<4|_>>8,h[T+3]=0;const p=new c.R({width:this._coordsTextureSize,height:this._coordsTextureSize},new Uint8Array(h.buffer)),m=new Ze(o,p,o.gl.RGBA,{premultiply:!1});return m.bind(o.gl.NEAREST,o.gl.CLAMP_TO_EDGE),this._coordsTexture=m,m}pointCoordinate(o){this.painter.maybeDrawDepthAndCoords(!0);const h=new Uint8Array(4),p=this.painter.context,m=p.gl;p.bindFramebuffer.set(this.getFramebuffer("coords").framebuffer),m.readPixels(o.x,this.painter.height/devicePixelRatio-o.y-1,1,1,m.RGBA,m.UNSIGNED_BYTE,h),p.bindFramebuffer.set(null);const _=h[0]+(h[2]>>4<<8),T=h[1]+((15&h[2])<<8),I=this.coordsIndex[255-h[3]],R=I&&this.sourceCache.getTileByID(I);if(!R)return null;const L=this._coordsTextureSize,B=(1<<R.tileID.canonical.z)*L;return new c.Y((R.tileID.canonical.x*L+_)/B+R.tileID.wrap,(R.tileID.canonical.y*L+T)/B,this.getElevation(R.tileID,_,T,L))}depthAtPoint(o){const h=new Uint8Array(4),p=this.painter.context,m=p.gl;return p.bindFramebuffer.set(this.getFramebuffer("depth").framebuffer),m.readPixels(o.x,this.painter.height/devicePixelRatio-o.y-1,1,1,m.RGBA,m.UNSIGNED_BYTE,h),p.bindFramebuffer.set(null),(h[0]/16777216+h[1]/65536+h[2]/256+h[3])/256}getTerrainMesh(){if(this._mesh)return this._mesh;const o=this.painter.context,h=new c.ba,p=new c.aX,m=this.meshSize,_=c.W/m,T=m*m;for(let j=0;j<=m;j++)for(let K=0;K<=m;K++)h.emplaceBack(K*_,j*_,0);for(let j=0;j<T;j+=m+1)for(let K=0;K<m;K++)p.emplaceBack(K+j,m+K+j+1,m+K+j+2),p.emplaceBack(K+j,m+K+j+2,K+j+1);const I=h.length,R=I+2*(m+1);for(const j of[0,1])for(let K=0;K<=m;K++)for(const le of[0,1])h.emplaceBack(K*_,j*c.W,le);for(let j=0;j<2*m;j+=2)p.emplaceBack(R+j,R+j+1,R+j+3),p.emplaceBack(R+j,R+j+3,R+j+2),p.emplaceBack(I+j,I+j+3,I+j+1),p.emplaceBack(I+j,I+j+2,I+j+3);const L=h.length,B=L+2*(m+1);for(const j of[0,1])for(let K=0;K<=m;K++)for(const le of[0,1])h.emplaceBack(j*c.W,K*_,le);for(let j=0;j<2*m;j+=2)p.emplaceBack(L+j,L+j+1,L+j+3),p.emplaceBack(L+j,L+j+3,L+j+2),p.emplaceBack(B+j,B+j+3,B+j+1),p.emplaceBack(B+j,B+j+2,B+j+3);return this._mesh={indexBuffer:o.createIndexBuffer(p),vertexBuffer:o.createVertexBuffer(h,pi.members),segments:c.$.simpleSegment(0,0,h.length,p.length)},this._mesh}getMeshFrameDelta(o){return 2*Math.PI*c.bb/Math.pow(2,o)/5}getMinTileElevationForLngLatZoom(o,h){var p;const{tileID:m}=this._getOverscaledTileIDFromLngLatZoom(o,h);return(p=this.getMinMaxElevation(m).minElevation)!==null&&p!==void 0?p:0}getMinMaxElevation(o){const h=this.getTerrainData(o).tile,p={minElevation:null,maxElevation:null};return h&&h.dem&&(p.minElevation=h.dem.min*this.exaggeration,p.maxElevation=h.dem.max*this.exaggeration),p}_getOverscaledTileIDFromLngLatZoom(o,h){const p=c.Y.fromLngLat(o.wrap()),m=(1<<h)*c.W,_=p.x*m,T=p.y*m,I=Math.floor(_/c.W),R=Math.floor(T/c.W);return{tileID:new c.Q(h,0,h,I,R),mercatorX:_,mercatorY:T}}}class qd{constructor(o,h,p){this._context=o,this._size=h,this._tileSize=p,this._objects=[],this._recentlyUsed=[],this._stamp=0}destruct(){for(const o of this._objects)o.texture.destroy(),o.fbo.destroy()}_createObject(o){const h=this._context.createFramebuffer(this._tileSize,this._tileSize,!0,!0),p=new Ze(this._context,{width:this._tileSize,height:this._tileSize,data:null},this._context.gl.RGBA);return p.bind(this._context.gl.LINEAR,this._context.gl.CLAMP_TO_EDGE),h.depthAttachment.set(this._context.createRenderbuffer(this._context.gl.DEPTH_STENCIL,this._tileSize,this._tileSize)),h.colorAttachment.set(p.texture),{id:o,fbo:h,texture:p,stamp:-1,inUse:!1}}getObjectForId(o){return this._objects[o]}useObject(o){o.inUse=!0,this._recentlyUsed=this._recentlyUsed.filter(h=>o.id!==h),this._recentlyUsed.push(o.id)}stampObject(o){o.stamp=++this._stamp}getOrCreateFreeObject(){for(const h of this._recentlyUsed)if(!this._objects[h].inUse)return this._objects[h];if(this._objects.length>=this._size)throw new Error("No free RenderPool available, call freeAllObjects() required!");const o=this._createObject(this._objects.length);return this._objects.push(o),o}freeObject(o){o.inUse=!1}freeAllObjects(){for(const o of this._objects)this.freeObject(o)}isFull(){return!(this._objects.length<this._size)&&this._objects.some(o=>!o.inUse)===!1}}const ma={background:!0,fill:!0,line:!0,raster:!0,hillshade:!0};class cp{constructor(o,h){this.painter=o,this.terrain=h,this.pool=new qd(o.context,30,h.sourceCache.tileSize*h.qualityFactor)}destruct(){this.pool.destruct()}getTexture(o){return this.pool.getObjectForId(o.rtt[this._stacks.length-1].id).texture}prepareForRender(o,h){this._stacks=[],this._prevType=null,this._rttTiles=[],this._renderableTiles=this.terrain.sourceCache.getRenderableTiles(),this._renderableLayerIds=o._order.filter(p=>!o._layers[p].isHidden(h)),this._coordsDescendingInv={};for(const p in o.sourceCaches){this._coordsDescendingInv[p]={};const m=o.sourceCaches[p].getVisibleCoordinates();for(const _ of m){const T=this.terrain.sourceCache.getTerrainCoords(_);for(const I in T)this._coordsDescendingInv[p][I]||(this._coordsDescendingInv[p][I]=[]),this._coordsDescendingInv[p][I].push(T[I])}}this._coordsDescendingInvStr={};for(const p of o._order){const m=o._layers[p],_=m.source;if(ma[m.type]&&!this._coordsDescendingInvStr[_]){this._coordsDescendingInvStr[_]={};for(const T in this._coordsDescendingInv[_])this._coordsDescendingInvStr[_][T]=this._coordsDescendingInv[_][T].map(I=>I.key).sort().join()}}for(const p of this._renderableTiles)for(const m in this._coordsDescendingInvStr){const _=this._coordsDescendingInvStr[m][p.tileID.key];_&&_!==p.rttCoords[m]&&(p.rtt=[])}}renderLayer(o){if(o.isHidden(this.painter.transform.zoom))return!1;const h=o.type,p=this.painter,m=this._renderableLayerIds[this._renderableLayerIds.length-1]===o.id;if(ma[h]&&(this._prevType&&ma[this._prevType]||this._stacks.push([]),this._prevType=h,this._stacks[this._stacks.length-1].push(o.id),!m))return!0;if(ma[this._prevType]||ma[h]&&m){this._prevType=h;const _=this._stacks.length-1,T=this._stacks[_]||[];for(const I of this._renderableTiles){if(this.pool.isFull()&&(Kf(this.painter,this.terrain,this._rttTiles),this._rttTiles=[],this.pool.freeAllObjects()),this._rttTiles.push(I),I.rtt[_]){const L=this.pool.getObjectForId(I.rtt[_].id);if(L.stamp===I.rtt[_].stamp){this.pool.useObject(L);continue}}const R=this.pool.getOrCreateFreeObject();this.pool.useObject(R),this.pool.stampObject(R),I.rtt[_]={id:R.id,stamp:R.stamp},p.context.bindFramebuffer.set(R.fbo.framebuffer),p.context.clear({color:c.aO.transparent,stencil:0}),p.currentStencilSource=void 0;for(let L=0;L<T.length;L++){const B=p.style._layers[T[L]],j=B.source?this._coordsDescendingInv[B.source][I.tileID.key]:[I.tileID];p.context.viewport.set([0,0,R.fbo.width,R.fbo.height]),p._renderTileClippingMasks(B,j),p.renderLayer(p,p.style.sourceCaches[B.source],B,j),B.source&&(I.rttCoords[B.source]=this._coordsDescendingInvStr[B.source][I.tileID.key])}}return Kf(this.painter,this.terrain,this._rttTiles),this._rttTiles=[],this.pool.freeAllObjects(),ma[h]}return!1}}const up={"AttributionControl.ToggleAttribution":"Toggle attribution","AttributionControl.MapFeedback":"Map feedback","FullscreenControl.Enter":"Enter fullscreen","FullscreenControl.Exit":"Exit fullscreen","GeolocateControl.FindMyLocation":"Find my location","GeolocateControl.LocationNotAvailable":"Location not available","LogoControl.Title":"MapLibre logo","NavigationControl.ResetBearing":"Reset bearing to north","NavigationControl.ZoomIn":"Zoom in","NavigationControl.ZoomOut":"Zoom out","ScaleControl.Feet":"ft","ScaleControl.Meters":"m","ScaleControl.Kilometers":"km","ScaleControl.Miles":"mi","ScaleControl.NauticalMiles":"nm","TerrainControl.Enable":"Enable terrain","TerrainControl.Disable":"Disable terrain","CooperativeGesturesHandler.WindowsHelpText":"Use Ctrl + scroll to zoom the map","CooperativeGesturesHandler.MacHelpText":"Use ⌘ + scroll to zoom the map","CooperativeGesturesHandler.MobileHelpText":"Use two fingers to move the map"},wu=y,dp={center:[0,0],zoom:0,bearing:0,pitch:0,minZoom:-2,maxZoom:22,minPitch:0,maxPitch:60,interactive:!0,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,cooperativeGestures:!1,bearingSnap:7,clickTolerance:3,pitchWithRotate:!0,hash:!1,attributionControl:Bo,maplibreLogo:!1,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,trackResize:!0,renderWorldCopies:!0,refreshExpiredTiles:!0,maxTileCacheSize:null,maxTileCacheZoomLevels:c.a.MAX_TILE_CACHE_ZOOM_LEVELS,localIdeographFontFamily:"sans-serif",transformRequest:null,transformCameraUpdate:null,fadeDuration:300,crossSourceCollisions:!0,validateStyle:!0,maxCanvasSize:[4096,4096]},Wd=v=>{v.touchstart=v.dragStart,v.touchmoveWindow=v.dragMove,v.touchend=v.dragEnd},hp={showCompass:!0,showZoom:!0,visualizePitch:!1};class fp{constructor(o,h,p=!1){this.mousedown=T=>{this.startMouse(c.e({},T,{ctrlKey:!0,preventDefault:()=>T.preventDefault()}),E.mousePos(this.element,T)),E.addEventListener(window,"mousemove",this.mousemove),E.addEventListener(window,"mouseup",this.mouseup)},this.mousemove=T=>{this.moveMouse(T,E.mousePos(this.element,T))},this.mouseup=T=>{this.mouseRotate.dragEnd(T),this.mousePitch&&this.mousePitch.dragEnd(T),this.offTemp()},this.touchstart=T=>{T.targetTouches.length!==1?this.reset():(this._startPos=this._lastPos=E.touchPos(this.element,T.targetTouches)[0],this.startTouch(T,this._startPos),E.addEventListener(window,"touchmove",this.touchmove,{passive:!1}),E.addEventListener(window,"touchend",this.touchend))},this.touchmove=T=>{T.targetTouches.length!==1?this.reset():(this._lastPos=E.touchPos(this.element,T.targetTouches)[0],this.moveTouch(T,this._lastPos))},this.touchend=T=>{T.targetTouches.length===0&&this._startPos&&this._lastPos&&this._startPos.dist(this._lastPos)<this._clickTolerance&&this.element.click(),delete this._startPos,delete this._lastPos,this.offTemp()},this.reset=()=>{this.mouseRotate.reset(),this.mousePitch&&this.mousePitch.reset(),this.touchRotate.reset(),this.touchPitch&&this.touchPitch.reset(),delete this._startPos,delete this._lastPos,this.offTemp()},this._clickTolerance=10;const m=o.dragRotate._mouseRotate.getClickTolerance(),_=o.dragRotate._mousePitch.getClickTolerance();this.element=h,this.mouseRotate=Kl({clickTolerance:m,enable:!0}),this.touchRotate=(({enable:T,clickTolerance:I,bearingDegreesPerPixelMoved:R=.8})=>{const L=new tp;return new Ds({clickTolerance:I,move:(B,j)=>({bearingDelta:(j.x-B.x)*R}),moveStateManager:L,enable:T,assignEvents:Wd})})({clickTolerance:m,enable:!0}),this.map=o,p&&(this.mousePitch=np({clickTolerance:_,enable:!0}),this.touchPitch=(({enable:T,clickTolerance:I,pitchDegreesPerPixelMoved:R=-.5})=>{const L=new tp;return new Ds({clickTolerance:I,move:(B,j)=>({pitchDelta:(j.y-B.y)*R}),moveStateManager:L,enable:T,assignEvents:Wd})})({clickTolerance:_,enable:!0})),E.addEventListener(h,"mousedown",this.mousedown),E.addEventListener(h,"touchstart",this.touchstart,{passive:!1}),E.addEventListener(h,"touchcancel",this.reset)}startMouse(o,h){this.mouseRotate.dragStart(o,h),this.mousePitch&&this.mousePitch.dragStart(o,h),E.disableDrag()}startTouch(o,h){this.touchRotate.dragStart(o,h),this.touchPitch&&this.touchPitch.dragStart(o,h),E.disableDrag()}moveMouse(o,h){const p=this.map,{bearingDelta:m}=this.mouseRotate.dragMove(o,h)||{};if(m&&p.setBearing(p.getBearing()+m),this.mousePitch){const{pitchDelta:_}=this.mousePitch.dragMove(o,h)||{};_&&p.setPitch(p.getPitch()+_)}}moveTouch(o,h){const p=this.map,{bearingDelta:m}=this.touchRotate.dragMove(o,h)||{};if(m&&p.setBearing(p.getBearing()+m),this.touchPitch){const{pitchDelta:_}=this.touchPitch.dragMove(o,h)||{};_&&p.setPitch(p.getPitch()+_)}}off(){const o=this.element;E.removeEventListener(o,"mousedown",this.mousedown),E.removeEventListener(o,"touchstart",this.touchstart,{passive:!1}),E.removeEventListener(window,"touchmove",this.touchmove,{passive:!1}),E.removeEventListener(window,"touchend",this.touchend),E.removeEventListener(o,"touchcancel",this.reset),this.offTemp()}offTemp(){E.enableDrag(),E.removeEventListener(window,"mousemove",this.mousemove),E.removeEventListener(window,"mouseup",this.mouseup),E.removeEventListener(window,"touchmove",this.touchmove,{passive:!1}),E.removeEventListener(window,"touchend",this.touchend)}}let $s;function Zd(v,o,h){const p=new c.M(v.lng,v.lat);if(v=new c.M(v.lng,v.lat),o){const m=new c.M(v.lng-360,v.lat),_=new c.M(v.lng+360,v.lat),T=h.locationPoint(v).distSqr(o);h.locationPoint(m).distSqr(o)<T?v=m:h.locationPoint(_).distSqr(o)<T&&(v=_)}for(;Math.abs(v.lng-h.center.lng)>180;){const m=h.locationPoint(v);if(m.x>=0&&m.y>=0&&m.x<=h.width&&m.y<=h.height)break;v.lng>h.center.lng?v.lng-=360:v.lng+=360}return v.lng!==p.lng&&h.locationPoint(v).y>h.height/2-h.getHorizon()?v:p}const Su={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};function Gd(v,o,h){const p=v.classList;for(const m in Su)p.remove("maplibregl-".concat(h,"-anchor-").concat(m));p.add("maplibregl-".concat(h,"-anchor-").concat(o))}class Yl extends c.E{constructor(o){if(super(),this._onKeyPress=h=>{const p=h.code,m=h.charCode||h.keyCode;p!=="Space"&&p!=="Enter"&&m!==32&&m!==13||this.togglePopup()},this._onMapClick=h=>{const p=h.originalEvent.target,m=this._element;this._popup&&(p===m||m.contains(p))&&this.togglePopup()},this._update=h=>{var p;if(!this._map)return;const m=this._map.loaded()&&!this._map.isMoving();((h==null?void 0:h.type)==="terrain"||(h==null?void 0:h.type)==="render"&&!m)&&this._map.once("render",this._update),this._lngLat=this._map.transform.renderWorldCopies?Zd(this._lngLat,this._flatPos,this._map.transform):(p=this._lngLat)===null||p===void 0?void 0:p.wrap(),this._flatPos=this._pos=this._map.project(this._lngLat)._add(this._offset),this._map.terrain&&(this._flatPos=this._map.transform.locationPoint(this._lngLat)._add(this._offset));let _="";this._rotationAlignment==="viewport"||this._rotationAlignment==="auto"?_="rotateZ(".concat(this._rotation,"deg)"):this._rotationAlignment==="map"&&(_="rotateZ(".concat(this._rotation-this._map.getBearing(),"deg)"));let T="";this._pitchAlignment==="viewport"||this._pitchAlignment==="auto"?T="rotateX(0deg)":this._pitchAlignment==="map"&&(T="rotateX(".concat(this._map.getPitch(),"deg)")),h&&h.type!=="moveend"||(this._pos=this._pos.round()),E.setTransform(this._element,"".concat(Su[this._anchor]," translate(").concat(this._pos.x,"px, ").concat(this._pos.y,"px) ").concat(T," ").concat(_)),S.frameAsync(new AbortController).then(()=>{this._updateOpacity(h&&h.type==="moveend")}).catch(()=>{})},this._onMove=h=>{if(!this._isDragging){const p=this._clickTolerance||this._map._clickTolerance;this._isDragging=h.point.dist(this._pointerdownPos)>=p}this._isDragging&&(this._pos=h.point.sub(this._positionDelta),this._lngLat=this._map.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none",this._state==="pending"&&(this._state="active",this.fire(new c.k("dragstart"))),this.fire(new c.k("drag")))},this._onUp=()=>{this._element.style.pointerEvents="auto",this._positionDelta=null,this._pointerdownPos=null,this._isDragging=!1,this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),this._state==="active"&&this.fire(new c.k("dragend")),this._state="inactive"},this._addDragHandler=h=>{this._element.contains(h.originalEvent.target)&&(h.preventDefault(),this._positionDelta=h.point.sub(this._pos).add(this._offset),this._pointerdownPos=h.point,this._state="pending",this._map.on("mousemove",this._onMove),this._map.on("touchmove",this._onMove),this._map.once("mouseup",this._onUp),this._map.once("touchend",this._onUp))},this._anchor=o&&o.anchor||"center",this._color=o&&o.color||"#3FB1CE",this._scale=o&&o.scale||1,this._draggable=o&&o.draggable||!1,this._clickTolerance=o&&o.clickTolerance||0,this._isDragging=!1,this._state="inactive",this._rotation=o&&o.rotation||0,this._rotationAlignment=o&&o.rotationAlignment||"auto",this._pitchAlignment=o&&o.pitchAlignment&&o.pitchAlignment!=="auto"?o.pitchAlignment:this._rotationAlignment,this.setOpacity(),this.setOpacity(o==null?void 0:o.opacity,o==null?void 0:o.opacityWhenCovered),o&&o.element)this._element=o.element,this._offset=c.P.convert(o&&o.offset||[0,0]);else{this._defaultMarker=!0,this._element=E.create("div"),this._element.setAttribute("aria-label","Map marker");const h=E.createNS("http://www.w3.org/2000/svg","svg"),p=41,m=27;h.setAttributeNS(null,"display","block"),h.setAttributeNS(null,"height","".concat(p,"px")),h.setAttributeNS(null,"width","".concat(m,"px")),h.setAttributeNS(null,"viewBox","0 0 ".concat(m," ").concat(p));const _=E.createNS("http://www.w3.org/2000/svg","g");_.setAttributeNS(null,"stroke","none"),_.setAttributeNS(null,"stroke-width","1"),_.setAttributeNS(null,"fill","none"),_.setAttributeNS(null,"fill-rule","evenodd");const T=E.createNS("http://www.w3.org/2000/svg","g");T.setAttributeNS(null,"fill-rule","nonzero");const I=E.createNS("http://www.w3.org/2000/svg","g");I.setAttributeNS(null,"transform","translate(3.0, 29.0)"),I.setAttributeNS(null,"fill","#000000");const R=[{rx:"10.5",ry:"5.25002273"},{rx:"10.5",ry:"5.25002273"},{rx:"9.5",ry:"4.77275007"},{rx:"8.5",ry:"4.29549936"},{rx:"7.5",ry:"3.81822308"},{rx:"6.5",ry:"3.34094679"},{rx:"5.5",ry:"2.86367051"},{rx:"4.5",ry:"2.38636864"}];for(const ye of R){const Ae=E.createNS("http://www.w3.org/2000/svg","ellipse");Ae.setAttributeNS(null,"opacity","0.04"),Ae.setAttributeNS(null,"cx","10.5"),Ae.setAttributeNS(null,"cy","5.80029008"),Ae.setAttributeNS(null,"rx",ye.rx),Ae.setAttributeNS(null,"ry",ye.ry),I.appendChild(Ae)}const L=E.createNS("http://www.w3.org/2000/svg","g");L.setAttributeNS(null,"fill",this._color);const B=E.createNS("http://www.w3.org/2000/svg","path");B.setAttributeNS(null,"d","M27,13.5 C27,19.074644 20.250001,27.000002 14.75,34.500002 C14.016665,35.500004 12.983335,35.500004 12.25,34.500002 C6.7499993,27.000002 0,19.222562 0,13.5 C0,6.0441559 6.0441559,0 13.5,0 C20.955844,0 27,6.0441559 27,13.5 Z"),L.appendChild(B);const j=E.createNS("http://www.w3.org/2000/svg","g");j.setAttributeNS(null,"opacity","0.25"),j.setAttributeNS(null,"fill","#000000");const K=E.createNS("http://www.w3.org/2000/svg","path");K.setAttributeNS(null,"d","M13.5,0 C6.0441559,0 0,6.0441559 0,13.5 C0,19.222562 6.7499993,27 12.25,34.5 C13,35.522727 14.016664,35.500004 14.75,34.5 C20.250001,27 27,19.074644 27,13.5 C27,6.0441559 20.955844,0 13.5,0 Z M13.5,1 C20.415404,1 26,6.584596 26,13.5 C26,15.898657 24.495584,19.181431 22.220703,22.738281 C19.945823,26.295132 16.705119,30.142167 13.943359,33.908203 C13.743445,34.180814 13.612715,34.322738 13.5,34.441406 C13.387285,34.322738 13.256555,34.180814 13.056641,33.908203 C10.284481,30.127985 7.4148684,26.314159 5.015625,22.773438 C2.6163816,19.232715 1,15.953538 1,13.5 C1,6.584596 6.584596,1 13.5,1 Z"),j.appendChild(K);const le=E.createNS("http://www.w3.org/2000/svg","g");le.setAttributeNS(null,"transform","translate(6.0, 7.0)"),le.setAttributeNS(null,"fill","#FFFFFF");const se=E.createNS("http://www.w3.org/2000/svg","g");se.setAttributeNS(null,"transform","translate(8.0, 8.0)");const de=E.createNS("http://www.w3.org/2000/svg","circle");de.setAttributeNS(null,"fill","#000000"),de.setAttributeNS(null,"opacity","0.25"),de.setAttributeNS(null,"cx","5.5"),de.setAttributeNS(null,"cy","5.5"),de.setAttributeNS(null,"r","5.4999962");const ee=E.createNS("http://www.w3.org/2000/svg","circle");ee.setAttributeNS(null,"fill","#FFFFFF"),ee.setAttributeNS(null,"cx","5.5"),ee.setAttributeNS(null,"cy","5.5"),ee.setAttributeNS(null,"r","5.4999962"),se.appendChild(de),se.appendChild(ee),T.appendChild(I),T.appendChild(L),T.appendChild(j),T.appendChild(le),T.appendChild(se),h.appendChild(T),h.setAttributeNS(null,"height",p*this._scale+"px"),h.setAttributeNS(null,"width",m*this._scale+"px"),this._element.appendChild(h),this._offset=c.P.convert(o&&o.offset||[0,-14])}if(this._element.classList.add("maplibregl-marker"),this._element.addEventListener("dragstart",h=>{h.preventDefault()}),this._element.addEventListener("mousedown",h=>{h.preventDefault()}),Gd(this._element,this._anchor,"marker"),o&&o.className)for(const h of o.className.split(" "))this._element.classList.add(h);this._popup=null}addTo(o){return this.remove(),this._map=o,o.getCanvasContainer().appendChild(this._element),o.on("move",this._update),o.on("moveend",this._update),o.on("terrain",this._update),this.setDraggable(this._draggable),this._update(),this._map.on("click",this._onMapClick),this}remove(){return this._opacityTimeout&&(clearTimeout(this._opacityTimeout),delete this._opacityTimeout),this._map&&(this._map.off("click",this._onMapClick),this._map.off("move",this._update),this._map.off("moveend",this._update),this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler),this._map.off("mouseup",this._onUp),this._map.off("touchend",this._onUp),this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),delete this._map),E.remove(this._element),this._popup&&this._popup.remove(),this}getLngLat(){return this._lngLat}setLngLat(o){return this._lngLat=c.M.convert(o),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(),this}getElement(){return this._element}setPopup(o){if(this._popup&&(this._popup.remove(),this._popup=null,this._element.removeEventListener("keypress",this._onKeyPress),this._originalTabIndex||this._element.removeAttribute("tabindex")),o){if(!("offset"in o.options)){const m=Math.abs(13.5)/Math.SQRT2;o.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-38.1],"bottom-left":[m,-1*(38.1-13.5+m)],"bottom-right":[-m,-1*(38.1-13.5+m)],left:[13.5,-1*(38.1-13.5)],right:[-13.5,-1*(38.1-13.5)]}:this._offset}this._popup=o,this._originalTabIndex=this._element.getAttribute("tabindex"),this._originalTabIndex||this._element.setAttribute("tabindex","0"),this._element.addEventListener("keypress",this._onKeyPress)}return this}getPopup(){return this._popup}togglePopup(){const o=this._popup;return this._element.style.opacity===this._opacityWhenCovered?this:o?(o.isOpen()?o.remove():(o.setLngLat(this._lngLat),o.addTo(this._map)),this):this}_updateOpacity(o=!1){var h,p;if(!(!((h=this._map)===null||h===void 0)&&h.terrain))return void(this._element.style.opacity!==this._opacity&&(this._element.style.opacity=this._opacity));if(o)this._opacityTimeout=null;else{if(this._opacityTimeout)return;this._opacityTimeout=setTimeout(()=>{this._opacityTimeout=null},100)}const m=this._map,_=m.terrain.depthAtPoint(this._pos),T=m.terrain.getElevationForLngLatZoom(this._lngLat,m.transform.tileZoom);if(m.transform.lngLatToCameraDepth(this._lngLat,T)-_<.006)return void(this._element.style.opacity=this._opacity);const I=-this._offset.y/m.transform._pixelPerMeter,R=Math.sin(m.getPitch()*Math.PI/180)*I,L=m.terrain.depthAtPoint(new c.P(this._pos.x,this._pos.y-this._offset.y)),B=m.transform.lngLatToCameraDepth(this._lngLat,T+R)-L>.006;!((p=this._popup)===null||p===void 0)&&p.isOpen()&&B&&this._popup.remove(),this._element.style.opacity=B?this._opacityWhenCovered:this._opacity}getOffset(){return this._offset}setOffset(o){return this._offset=c.P.convert(o),this._update(),this}addClassName(o){this._element.classList.add(o)}removeClassName(o){this._element.classList.remove(o)}toggleClassName(o){return this._element.classList.toggle(o)}setDraggable(o){return this._draggable=!!o,this._map&&(o?(this._map.on("mousedown",this._addDragHandler),this._map.on("touchstart",this._addDragHandler)):(this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler))),this}isDraggable(){return this._draggable}setRotation(o){return this._rotation=o||0,this._update(),this}getRotation(){return this._rotation}setRotationAlignment(o){return this._rotationAlignment=o||"auto",this._update(),this}getRotationAlignment(){return this._rotationAlignment}setPitchAlignment(o){return this._pitchAlignment=o&&o!=="auto"?o:this._rotationAlignment,this._update(),this}getPitchAlignment(){return this._pitchAlignment}setOpacity(o,h){return o===void 0&&h===void 0&&(this._opacity="1",this._opacityWhenCovered="0.2"),o!==void 0&&(this._opacity=o),h!==void 0&&(this._opacityWhenCovered=h),this._map&&this._updateOpacity(!0),this}}const pp={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showAccuracyCircle:!0,showUserLocation:!0};let Jl=0,ga=!1;const mp={maxWidth:100,unit:"metric"};function Kd(v,o,h){const p=h&&h.maxWidth||100,m=v._container.clientHeight/2,_=v.unproject([0,m]),T=v.unproject([p,m]),I=_.distanceTo(T);if(h&&h.unit==="imperial"){const R=3.2808*I;R>5280?Ka(o,p,R/5280,v._getUIString("ScaleControl.Miles")):Ka(o,p,R,v._getUIString("ScaleControl.Feet"))}else h&&h.unit==="nautical"?Ka(o,p,I/1852,v._getUIString("ScaleControl.NauticalMiles")):I>=1e3?Ka(o,p,I/1e3,v._getUIString("ScaleControl.Kilometers")):Ka(o,p,I,v._getUIString("ScaleControl.Meters"))}function Ka(v,o,h,p){const m=function(_){const T=Math.pow(10,"".concat(Math.floor(_)).length-1);let I=_/T;return I=I>=10?10:I>=5?5:I>=3?3:I>=2?2:I>=1?1:function(R){const L=Math.pow(10,Math.ceil(-Math.log(R)/Math.LN10));return Math.round(R*L)/L}(I),T*I}(h);v.style.width=o*(m/h)+"px",v.innerHTML="".concat(m,"&nbsp;").concat(p)}const gp={closeButton:!0,closeOnClick:!0,focusAfterOpen:!0,className:"",maxWidth:"240px",subpixelPositioning:!1},yp=["a[href]","[tabindex]:not([tabindex='-1'])","[contenteditable]:not([contenteditable='false'])","button:not([disabled])","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].join(", ");function vp(v){if(v){if(typeof v=="number"){const o=Math.round(Math.abs(v)/Math.SQRT2);return{center:new c.P(0,0),top:new c.P(0,v),"top-left":new c.P(o,o),"top-right":new c.P(-o,o),bottom:new c.P(0,-v),"bottom-left":new c.P(o,-o),"bottom-right":new c.P(-o,-o),left:new c.P(v,0),right:new c.P(-v,0)}}if(v instanceof c.P||Array.isArray(v)){const o=c.P.convert(v);return{center:o,top:o,"top-left":o,"top-right":o,bottom:o,"bottom-left":o,"bottom-right":o,left:o,right:o}}return{center:c.P.convert(v.center||[0,0]),top:c.P.convert(v.top||[0,0]),"top-left":c.P.convert(v["top-left"]||[0,0]),"top-right":c.P.convert(v["top-right"]||[0,0]),bottom:c.P.convert(v.bottom||[0,0]),"bottom-left":c.P.convert(v["bottom-left"]||[0,0]),"bottom-right":c.P.convert(v["bottom-right"]||[0,0]),left:c.P.convert(v.left||[0,0]),right:c.P.convert(v.right||[0,0])}}return vp(new c.P(0,0))}const Cy=y;d.AJAXError=c.be,d.Evented=c.E,d.LngLat=c.M,d.MercatorCoordinate=c.Y,d.Point=c.P,d.addProtocol=c.bf,d.config=c.a,d.removeProtocol=c.bg,d.AttributionControl=ky,d.BoxZoomHandler=Gl,d.CanvasSource=ua,d.CooperativeGesturesHandler=Bt,d.DoubleClickZoomHandler=ap,d.DragPanHandler=$o,d.DragRotateHandler=bu,d.EdgeInsets=mu,d.FullscreenControl=class extends c.E{constructor(v={}){super(),this._onFullscreenChange=()=>{var o;let h=window.document.fullscreenElement||window.document.mozFullScreenElement||window.document.webkitFullscreenElement||window.document.msFullscreenElement;for(;!((o=h==null?void 0:h.shadowRoot)===null||o===void 0)&&o.fullscreenElement;)h=h.shadowRoot.fullscreenElement;h===this._container!==this._fullscreen&&this._handleFullscreenChange()},this._onClickFullscreen=()=>{this._isFullscreen()?this._exitFullscreen():this._requestFullscreen()},this._fullscreen=!1,v&&v.container&&(v.container instanceof HTMLElement?this._container=v.container:c.w("Full screen control 'container' must be a DOM element.")),"onfullscreenchange"in document?this._fullscreenchange="fullscreenchange":"onmozfullscreenchange"in document?this._fullscreenchange="mozfullscreenchange":"onwebkitfullscreenchange"in document?this._fullscreenchange="webkitfullscreenchange":"onmsfullscreenchange"in document&&(this._fullscreenchange="MSFullscreenChange")}onAdd(v){return this._map=v,this._container||(this._container=this._map.getContainer()),this._controlContainer=E.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._setupUI(),this._controlContainer}onRemove(){E.remove(this._controlContainer),this._map=null,window.document.removeEventListener(this._fullscreenchange,this._onFullscreenChange)}_setupUI(){const v=this._fullscreenButton=E.create("button","maplibregl-ctrl-fullscreen",this._controlContainer);E.create("span","maplibregl-ctrl-icon",v).setAttribute("aria-hidden","true"),v.type="button",this._updateTitle(),this._fullscreenButton.addEventListener("click",this._onClickFullscreen),window.document.addEventListener(this._fullscreenchange,this._onFullscreenChange)}_updateTitle(){const v=this._getTitle();this._fullscreenButton.setAttribute("aria-label",v),this._fullscreenButton.title=v}_getTitle(){return this._map._getUIString(this._isFullscreen()?"FullscreenControl.Exit":"FullscreenControl.Enter")}_isFullscreen(){return this._fullscreen}_handleFullscreenChange(){this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle("maplibregl-ctrl-shrink"),this._fullscreenButton.classList.toggle("maplibregl-ctrl-fullscreen"),this._updateTitle(),this._fullscreen?(this.fire(new c.k("fullscreenstart")),this._prevCooperativeGesturesEnabled=this._map.cooperativeGestures.isEnabled(),this._map.cooperativeGestures.disable()):(this.fire(new c.k("fullscreenend")),this._prevCooperativeGesturesEnabled&&this._map.cooperativeGestures.enable())}_exitFullscreen(){window.document.exitFullscreen?window.document.exitFullscreen():window.document.mozCancelFullScreen?window.document.mozCancelFullScreen():window.document.msExitFullscreen?window.document.msExitFullscreen():window.document.webkitCancelFullScreen?window.document.webkitCancelFullScreen():this._togglePseudoFullScreen()}_requestFullscreen(){this._container.requestFullscreen?this._container.requestFullscreen():this._container.mozRequestFullScreen?this._container.mozRequestFullScreen():this._container.msRequestFullscreen?this._container.msRequestFullscreen():this._container.webkitRequestFullscreen?this._container.webkitRequestFullscreen():this._togglePseudoFullScreen()}_togglePseudoFullScreen(){this._container.classList.toggle("maplibregl-pseudo-fullscreen"),this._handleFullscreenChange(),this._map.resize()}},d.GeoJSONSource=on,d.GeolocateControl=class extends c.E{constructor(v){super(),this._onSuccess=o=>{if(this._map){if(this._isOutOfMapMaxBounds(o))return this._setErrorState(),this.fire(new c.k("outofmaxbounds",o)),this._updateMarker(),void this._finish();if(this.options.trackUserLocation)switch(this._lastKnownPosition=o,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background");break;default:throw new Error("Unexpected watchState ".concat(this._watchState))}this.options.showUserLocation&&this._watchState!=="OFF"&&this._updateMarker(o),this.options.trackUserLocation&&this._watchState!=="ACTIVE_LOCK"||this._updateCamera(o),this.options.showUserLocation&&this._dotElement.classList.remove("maplibregl-user-location-dot-stale"),this.fire(new c.k("geolocate",o)),this._finish()}},this._updateCamera=o=>{const h=new c.M(o.coords.longitude,o.coords.latitude),p=o.coords.accuracy,m=this._map.getBearing(),_=c.e({bearing:m},this.options.fitBoundsOptions),T=zt.fromLngLat(h,p);this._map.fitBounds(T,_,{geolocateSource:!0})},this._updateMarker=o=>{if(o){const h=new c.M(o.coords.longitude,o.coords.latitude);this._accuracyCircleMarker.setLngLat(h).addTo(this._map),this._userLocationDotMarker.setLngLat(h).addTo(this._map),this._accuracy=o.coords.accuracy,this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}else this._userLocationDotMarker.remove(),this._accuracyCircleMarker.remove()},this._onZoom=()=>{this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()},this._onError=o=>{if(this._map){if(this.options.trackUserLocation)if(o.code===1){this._watchState="OFF",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error"),this._geolocateButton.disabled=!0;const h=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.title=h,this._geolocateButton.setAttribute("aria-label",h),this._geolocationWatchID!==void 0&&this._clearWatch()}else{if(o.code===3&&ga)return;this._setErrorState()}this._watchState!=="OFF"&&this.options.showUserLocation&&this._dotElement.classList.add("maplibregl-user-location-dot-stale"),this.fire(new c.k("error",o)),this._finish()}},this._finish=()=>{this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0},this._setupUI=o=>{if(this._map){if(this._container.addEventListener("contextmenu",h=>h.preventDefault()),this._geolocateButton=E.create("button","maplibregl-ctrl-geolocate",this._container),E.create("span","maplibregl-ctrl-icon",this._geolocateButton).setAttribute("aria-hidden","true"),this._geolocateButton.type="button",o===!1){c.w("Geolocation support is not available so the GeolocateControl will be disabled.");const h=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.disabled=!0,this._geolocateButton.title=h,this._geolocateButton.setAttribute("aria-label",h)}else{const h=this._map._getUIString("GeolocateControl.FindMyLocation");this._geolocateButton.title=h,this._geolocateButton.setAttribute("aria-label",h)}this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=E.create("div","maplibregl-user-location-dot"),this._userLocationDotMarker=new Yl({element:this._dotElement}),this._circleElement=E.create("div","maplibregl-user-location-accuracy-circle"),this._accuracyCircleMarker=new Yl({element:this._circleElement,pitchAlignment:"map"}),this.options.trackUserLocation&&(this._watchState="OFF"),this._map.on("zoom",this._onZoom)),this._geolocateButton.addEventListener("click",()=>this.trigger()),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",h=>{h.geolocateSource||this._watchState!=="ACTIVE_LOCK"||h.originalEvent&&h.originalEvent.type==="resize"||(this._watchState="BACKGROUND",this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this.fire(new c.k("trackuserlocationend")))})}},this.options=c.e({},pp,v)}onAdd(v){return this._map=v,this._container=E.create("div","maplibregl-ctrl maplibregl-ctrl-group"),function(){return c._(this,arguments,void 0,function*(o=!1){if($s!==void 0&&!o)return $s;if(window.navigator.permissions===void 0)return $s=!!window.navigator.geolocation,$s;try{$s=(yield window.navigator.permissions.query({name:"geolocation"})).state!=="denied"}catch(h){$s=!!window.navigator.geolocation}return $s})}().then(o=>this._setupUI(o)),this._container}onRemove(){this._geolocationWatchID!==void 0&&(window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),this.options.showAccuracyCircle&&this._accuracyCircleMarker&&this._accuracyCircleMarker.remove(),E.remove(this._container),this._map.off("zoom",this._onZoom),this._map=void 0,Jl=0,ga=!1}_isOutOfMapMaxBounds(v){const o=this._map.getMaxBounds(),h=v.coords;return o&&(h.longitude<o.getWest()||h.longitude>o.getEast()||h.latitude<o.getSouth()||h.latitude>o.getNorth())}_setErrorState(){switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting");break;case"ACTIVE_ERROR":break;default:throw new Error("Unexpected watchState ".concat(this._watchState))}}_updateCircleRadius(){const v=this._map.getBounds(),o=v.getSouthEast(),h=v.getNorthEast(),p=o.distanceTo(h),m=Math.ceil(this._accuracy/(p/this._map._container.clientHeight)*2);this._circleElement.style.width="".concat(m,"px"),this._circleElement.style.height="".concat(m,"px")}trigger(){if(!this._setup)return c.w("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new c.k("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":Jl--,ga=!1,this._watchState="OFF",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error"),this.fire(new c.k("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new c.k("trackuserlocationstart"));break;default:throw new Error("Unexpected watchState ".concat(this._watchState))}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active");break;case"OFF":break;default:throw new Error("Unexpected watchState ".concat(this._watchState))}if(this._watchState==="OFF"&&this._geolocationWatchID!==void 0)this._clearWatch();else if(this._geolocationWatchID===void 0){let v;this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),Jl++,Jl>1?(v={maximumAge:6e5,timeout:0},ga=!0):(v=this.options.positionOptions,ga=!1),this._geolocationWatchID=window.navigator.geolocation.watchPosition(this._onSuccess,this._onError,v)}}else window.navigator.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return!0}_clearWatch(){window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)}},d.Hash=Jf,d.ImageSource=vr,d.KeyboardHandler=Nn,d.LngLatBounds=zt,d.LogoControl=Xl,d.Map=class extends Sy{constructor(v){if(c.bc.mark(c.bd.create),(v=c.e({},dp,v)).minZoom!=null&&v.maxZoom!=null&&v.minZoom>v.maxZoom)throw new Error("maxZoom must be greater than or equal to minZoom");if(v.minPitch!=null&&v.maxPitch!=null&&v.minPitch>v.maxPitch)throw new Error("maxPitch must be greater than or equal to minPitch");if(v.minPitch!=null&&v.minPitch<0)throw new Error("minPitch must be greater than or equal to 0");if(v.maxPitch!=null&&v.maxPitch>85)throw new Error("maxPitch must be less than or equal to 85");if(super(new Nd(v.minZoom,v.maxZoom,v.minPitch,v.maxPitch,v.renderWorldCopies),{bearingSnap:v.bearingSnap}),this._contextLost=o=>{o.preventDefault(),this._frameRequest&&(this._frameRequest.abort(),this._frameRequest=null),this.fire(new c.k("webglcontextlost",{originalEvent:o}))},this._contextRestored=o=>{this._setupPainter(),this.resize(),this._update(),this.fire(new c.k("webglcontextrestored",{originalEvent:o}))},this._onMapScroll=o=>{if(o.target===this._container)return this._container.scrollTop=0,this._container.scrollLeft=0,!1},this._onWindowOnline=()=>{this._update()},this._interactive=v.interactive,this._maxTileCacheSize=v.maxTileCacheSize,this._maxTileCacheZoomLevels=v.maxTileCacheZoomLevels,this._failIfMajorPerformanceCaveat=v.failIfMajorPerformanceCaveat,this._preserveDrawingBuffer=v.preserveDrawingBuffer,this._antialias=v.antialias,this._trackResize=v.trackResize,this._bearingSnap=v.bearingSnap,this._refreshExpiredTiles=v.refreshExpiredTiles,this._fadeDuration=v.fadeDuration,this._crossSourceCollisions=v.crossSourceCollisions,this._crossFadingFactor=1,this._collectResourceTiming=v.collectResourceTiming,this._renderTaskQueue=new ti,this._controls=[],this._mapId=c.a3(),this._locale=c.e({},up,v.locale),this._clickTolerance=v.clickTolerance,this._overridePixelRatio=v.pixelRatio,this._maxCanvasSize=v.maxCanvasSize,this.transformCameraUpdate=v.transformCameraUpdate,this._imageQueueHandle=V.addThrottleControl(()=>this.isMoving()),this._requestManager=new Q(v.transformRequest),typeof v.container=="string"){if(this._container=document.getElementById(v.container),!this._container)throw new Error("Container '".concat(v.container,"' not found."))}else{if(!(v.container instanceof HTMLElement))throw new Error("Invalid type: 'container' must be a String or HTMLElement.");this._container=v.container}if(v.maxBounds&&this.setMaxBounds(v.maxBounds),this._setupContainer(),this._setupPainter(),this.on("move",()=>this._update(!1)),this.on("moveend",()=>this._update(!1)),this.on("zoom",()=>this._update(!0)),this.on("terrain",()=>{this.painter.terrainFacilitator.dirty=!0,this._update(!0)}),this.once("idle",()=>{this._idleTriggered=!0}),typeof window<"u"){addEventListener("online",this._onWindowOnline,!1);let o=!1;const h=Yf(p=>{this._trackResize&&!this._removed&&this.resize(p)._update()},50);this._resizeObserver=new ResizeObserver(p=>{o?h(p):o=!0}),this._resizeObserver.observe(this._container)}this.handlers=new Dr(this,v),this._hash=v.hash&&new Jf(typeof v.hash=="string"&&v.hash||void 0).addTo(this),this._hash&&this._hash._onHashChange()||(this.jumpTo({center:v.center,zoom:v.zoom,bearing:v.bearing,pitch:v.pitch}),v.bounds&&(this.resize(),this.fitBounds(v.bounds,c.e({},v.fitBoundsOptions,{duration:0})))),this.resize(),this._localIdeographFontFamily=v.localIdeographFontFamily,this._validateStyle=v.validateStyle,v.style&&this.setStyle(v.style,{localIdeographFontFamily:v.localIdeographFontFamily}),v.attributionControl&&this.addControl(new ky(typeof v.attributionControl=="boolean"?void 0:v.attributionControl)),v.maplibreLogo&&this.addControl(new Xl,v.logoPosition),this.on("style.load",()=>{this.transform.unmodified&&this.jumpTo(this.style.stylesheet)}),this.on("data",o=>{this._update(o.dataType==="style"),this.fire(new c.k("".concat(o.dataType,"data"),o))}),this.on("dataloading",o=>{this.fire(new c.k("".concat(o.dataType,"dataloading"),o))}),this.on("dataabort",o=>{this.fire(new c.k("sourcedataabort",o))})}_getMapId(){return this._mapId}addControl(v,o){if(o===void 0&&(o=v.getDefaultPosition?v.getDefaultPosition():"top-right"),!v||!v.onAdd)return this.fire(new c.j(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));const h=v.onAdd(this);this._controls.push(v);const p=this._controlPositions[o];return o.indexOf("bottom")!==-1?p.insertBefore(h,p.firstChild):p.appendChild(h),this}removeControl(v){if(!v||!v.onRemove)return this.fire(new c.j(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));const o=this._controls.indexOf(v);return o>-1&&this._controls.splice(o,1),v.onRemove(this),this}hasControl(v){return this._controls.indexOf(v)>-1}calculateCameraOptionsFromTo(v,o,h,p){return p==null&&this.terrain&&(p=this.terrain.getElevationForLngLatZoom(h,this.transform.tileZoom)),super.calculateCameraOptionsFromTo(v,o,h,p)}resize(v){var o;const h=this._containerDimensions(),p=h[0],m=h[1],_=this._getClampedPixelRatio(p,m);if(this._resizeCanvas(p,m,_),this.painter.resize(p,m,_),this.painter.overLimit()){const I=this.painter.context.gl;this._maxCanvasSize=[I.drawingBufferWidth,I.drawingBufferHeight];const R=this._getClampedPixelRatio(p,m);this._resizeCanvas(p,m,R),this.painter.resize(p,m,R)}this.transform.resize(p,m),(o=this._requestedCameraState)===null||o===void 0||o.resize(p,m);const T=!this._moving;return T&&(this.stop(),this.fire(new c.k("movestart",v)).fire(new c.k("move",v))),this.fire(new c.k("resize",v)),T&&this.fire(new c.k("moveend",v)),this}_getClampedPixelRatio(v,o){const{0:h,1:p}=this._maxCanvasSize,m=this.getPixelRatio(),_=v*m,T=o*m;return Math.min(_>h?h/_:1,T>p?p/T:1)*m}getPixelRatio(){var v;return(v=this._overridePixelRatio)!==null&&v!==void 0?v:devicePixelRatio}setPixelRatio(v){this._overridePixelRatio=v,this.resize()}getBounds(){return this.transform.getBounds()}getMaxBounds(){return this.transform.getMaxBounds()}setMaxBounds(v){return this.transform.setMaxBounds(zt.convert(v)),this._update()}setMinZoom(v){if((v=v==null?-2:v)>=-2&&v<=this.transform.maxZoom)return this.transform.minZoom=v,this._update(),this.getZoom()<v&&this.setZoom(v),this;throw new Error("minZoom must be between -2 and the current maxZoom, inclusive")}getMinZoom(){return this.transform.minZoom}setMaxZoom(v){if((v=v==null?22:v)>=this.transform.minZoom)return this.transform.maxZoom=v,this._update(),this.getZoom()>v&&this.setZoom(v),this;throw new Error("maxZoom must be greater than the current minZoom")}getMaxZoom(){return this.transform.maxZoom}setMinPitch(v){if((v=v==null?0:v)<0)throw new Error("minPitch must be greater than or equal to 0");if(v>=0&&v<=this.transform.maxPitch)return this.transform.minPitch=v,this._update(),this.getPitch()<v&&this.setPitch(v),this;throw new Error("minPitch must be between 0 and the current maxPitch, inclusive")}getMinPitch(){return this.transform.minPitch}setMaxPitch(v){if((v=v==null?60:v)>85)throw new Error("maxPitch must be less than or equal to 85");if(v>=this.transform.minPitch)return this.transform.maxPitch=v,this._update(),this.getPitch()>v&&this.setPitch(v),this;throw new Error("maxPitch must be greater than the current minPitch")}getMaxPitch(){return this.transform.maxPitch}getRenderWorldCopies(){return this.transform.renderWorldCopies}setRenderWorldCopies(v){return this.transform.renderWorldCopies=v,this._update()}project(v){return this.transform.locationPoint(c.M.convert(v),this.style&&this.terrain)}unproject(v){return this.transform.pointLocation(c.P.convert(v),this.terrain)}isMoving(){var v;return this._moving||((v=this.handlers)===null||v===void 0?void 0:v.isMoving())}isZooming(){var v;return this._zooming||((v=this.handlers)===null||v===void 0?void 0:v.isZooming())}isRotating(){var v;return this._rotating||((v=this.handlers)===null||v===void 0?void 0:v.isRotating())}_createDelegatedListener(v,o,h){if(v==="mouseenter"||v==="mouseover"){let p=!1;return{layer:o,listener:h,delegates:{mousemove:_=>{const T=this.getLayer(o)?this.queryRenderedFeatures(_.point,{layers:[o]}):[];T.length?p||(p=!0,h.call(this,new Ui(v,this,_.originalEvent,{features:T}))):p=!1},mouseout:()=>{p=!1}}}}if(v==="mouseleave"||v==="mouseout"){let p=!1;return{layer:o,listener:h,delegates:{mousemove:T=>{(this.getLayer(o)?this.queryRenderedFeatures(T.point,{layers:[o]}):[]).length?p=!0:p&&(p=!1,h.call(this,new Ui(v,this,T.originalEvent)))},mouseout:T=>{p&&(p=!1,h.call(this,new Ui(v,this,T.originalEvent)))}}}}{const p=m=>{const _=this.getLayer(o)?this.queryRenderedFeatures(m.point,{layers:[o]}):[];_.length&&(m.features=_,h.call(this,m),delete m.features)};return{layer:o,listener:h,delegates:{[v]:p}}}}on(v,o,h){if(h===void 0)return super.on(v,o);const p=this._createDelegatedListener(v,o,h);this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[v]=this._delegatedListeners[v]||[],this._delegatedListeners[v].push(p);for(const m in p.delegates)this.on(m,p.delegates[m]);return this}once(v,o,h){if(h===void 0)return super.once(v,o);const p=this._createDelegatedListener(v,o,h);for(const m in p.delegates)this.once(m,p.delegates[m]);return this}off(v,o,h){return h===void 0?super.off(v,o):(this._delegatedListeners&&this._delegatedListeners[v]&&(p=>{const m=this._delegatedListeners[v];for(let _=0;_<m.length;_++){const T=m[_];if(T.layer===o&&T.listener===h){for(const I in T.delegates)this.off(I,T.delegates[I]);return m.splice(_,1),this}}})(),this)}queryRenderedFeatures(v,o){if(!this.style)return[];let h;const p=v instanceof c.P||Array.isArray(v),m=p?v:[[0,0],[this.transform.width,this.transform.height]];if(o=o||(p?{}:v)||{},m instanceof c.P||typeof m[0]=="number")h=[c.P.convert(m)];else{const _=c.P.convert(m[0]),T=c.P.convert(m[1]);h=[_,new c.P(T.x,_.y),T,new c.P(_.x,T.y),_]}return this.style.queryRenderedFeatures(h,o,this.transform)}querySourceFeatures(v,o){return this.style.querySourceFeatures(v,o)}setStyle(v,o){return(o=c.e({},{localIdeographFontFamily:this._localIdeographFontFamily,validate:this._validateStyle},o)).diff!==!1&&o.localIdeographFontFamily===this._localIdeographFontFamily&&this.style&&v?(this._diffStyle(v,o),this):(this._localIdeographFontFamily=o.localIdeographFontFamily,this._updateStyle(v,o))}setTransformRequest(v){return this._requestManager.setTransformRequest(v),this}_getUIString(v){const o=this._locale[v];if(o==null)throw new Error("Missing UI string '".concat(v,"'"));return o}_updateStyle(v,o){if(o.transformStyle&&this.style&&!this.style._loaded)return void this.style.once("style.load",()=>this._updateStyle(v,o));const h=this.style&&o.transformStyle?this.style.serialize():void 0;return this.style&&(this.style.setEventedParent(null),this.style._remove(!v)),v?(this.style=new Sd(this,o||{}),this.style.setEventedParent(this,{style:this.style}),typeof v=="string"?this.style.loadURL(v,o,h):this.style.loadJSON(v,o,h),this):(delete this.style,this)}_lazyInitEmptyStyle(){this.style||(this.style=new Sd(this,{}),this.style.setEventedParent(this,{style:this.style}),this.style.loadEmpty())}_diffStyle(v,o){if(typeof v=="string"){const h=this._requestManager.transformRequest(v,Z.Style);c.h(h,new AbortController).then(p=>{this._updateDiff(p.data,o)}).catch(p=>{p&&this.fire(new c.j(p))})}else typeof v=="object"&&this._updateDiff(v,o)}_updateDiff(v,o){try{this.style.setState(v,o)&&this._update(!0)}catch(h){c.w("Unable to perform style diff: ".concat(h.message||h.error||h,".  Rebuilding the style from scratch.")),this._updateStyle(v,o)}}getStyle(){if(this.style)return this.style.serialize()}isStyleLoaded(){return this.style?this.style.loaded():c.w("There is no style added to the map.")}addSource(v,o){return this._lazyInitEmptyStyle(),this.style.addSource(v,o),this._update(!0)}isSourceLoaded(v){const o=this.style&&this.style.sourceCaches[v];if(o!==void 0)return o.loaded();this.fire(new c.j(new Error("There is no source with ID '".concat(v,"'"))))}setTerrain(v){if(this.style._checkLoaded(),this._terrainDataCallback&&this.style.off("data",this._terrainDataCallback),v){const o=this.style.sourceCaches[v.source];if(!o)throw new Error("cannot load terrain, because there exists no source with ID: ".concat(v.source));this.terrain===null&&o.reload();for(const h in this.style._layers){const p=this.style._layers[h];p.type==="hillshade"&&p.source===v.source&&c.w("You are using the same source for a hillshade layer and for 3D terrain. Please consider using two separate sources to improve rendering quality.")}this.terrain=new xu(this.painter,o,v),this.painter.renderToTexture=new cp(this.painter,this.terrain),this.transform.minElevationForCurrentTile=this.terrain.getMinTileElevationForLngLatZoom(this.transform.center,this.transform.tileZoom),this.transform.elevation=this.terrain.getElevationForLngLatZoom(this.transform.center,this.transform.tileZoom),this._terrainDataCallback=h=>{h.dataType==="style"?this.terrain.sourceCache.freeRtt():h.dataType==="source"&&h.tile&&(h.sourceId!==v.source||this._elevationFreeze||(this.transform.minElevationForCurrentTile=this.terrain.getMinTileElevationForLngLatZoom(this.transform.center,this.transform.tileZoom),this.transform.elevation=this.terrain.getElevationForLngLatZoom(this.transform.center,this.transform.tileZoom)),this.terrain.sourceCache.freeRtt(h.tile.tileID))},this.style.on("data",this._terrainDataCallback)}else this.terrain&&this.terrain.sourceCache.destruct(),this.terrain=null,this.painter.renderToTexture&&this.painter.renderToTexture.destruct(),this.painter.renderToTexture=null,this.transform.minElevationForCurrentTile=0,this.transform.elevation=0;return this.fire(new c.k("terrain",{terrain:v})),this}getTerrain(){var v,o;return(o=(v=this.terrain)===null||v===void 0?void 0:v.options)!==null&&o!==void 0?o:null}areTilesLoaded(){const v=this.style&&this.style.sourceCaches;for(const o in v){const h=v[o]._tiles;for(const p in h){const m=h[p];if(m.state!=="loaded"&&m.state!=="errored")return!1}}return!0}removeSource(v){return this.style.removeSource(v),this._update(!0)}getSource(v){return this.style.getSource(v)}addImage(v,o,h={}){const{pixelRatio:p=1,sdf:m=!1,stretchX:_,stretchY:T,content:I}=h;if(this._lazyInitEmptyStyle(),!(o instanceof HTMLImageElement||c.b(o))){if(o.width===void 0||o.height===void 0)return this.fire(new c.j(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));{const{width:R,height:L,data:B}=o,j=o;return this.style.addImage(v,{data:new c.R({width:R,height:L},new Uint8Array(B)),pixelRatio:p,stretchX:_,stretchY:T,content:I,sdf:m,version:0,userImage:j}),j.onAdd&&j.onAdd(this,v),this}}{const{width:R,height:L,data:B}=S.getImageData(o);this.style.addImage(v,{data:new c.R({width:R,height:L},B),pixelRatio:p,stretchX:_,stretchY:T,content:I,sdf:m,version:0})}}updateImage(v,o){const h=this.style.getImage(v);if(!h)return this.fire(new c.j(new Error("The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.")));const p=o instanceof HTMLImageElement||c.b(o)?S.getImageData(o):o,{width:m,height:_,data:T}=p;if(m===void 0||_===void 0)return this.fire(new c.j(new Error("Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));if(m!==h.data.width||_!==h.data.height)return this.fire(new c.j(new Error("The width and height of the updated image must be that same as the previous version of the image")));const I=!(o instanceof HTMLImageElement||c.b(o));return h.data.replace(T,I),this.style.updateImage(v,h),this}getImage(v){return this.style.getImage(v)}hasImage(v){return v?!!this.style.getImage(v):(this.fire(new c.j(new Error("Missing required image id"))),!1)}removeImage(v){this.style.removeImage(v)}loadImage(v){return V.getImage(this._requestManager.transformRequest(v,Z.Image),new AbortController)}listImages(){return this.style.listImages()}addLayer(v,o){return this._lazyInitEmptyStyle(),this.style.addLayer(v,o),this._update(!0)}moveLayer(v,o){return this.style.moveLayer(v,o),this._update(!0)}removeLayer(v){return this.style.removeLayer(v),this._update(!0)}getLayer(v){return this.style.getLayer(v)}getLayersOrder(){return this.style.getLayersOrder()}setLayerZoomRange(v,o,h){return this.style.setLayerZoomRange(v,o,h),this._update(!0)}setFilter(v,o,h={}){return this.style.setFilter(v,o,h),this._update(!0)}getFilter(v){return this.style.getFilter(v)}setPaintProperty(v,o,h,p={}){return this.style.setPaintProperty(v,o,h,p),this._update(!0)}getPaintProperty(v,o){return this.style.getPaintProperty(v,o)}setLayoutProperty(v,o,h,p={}){return this.style.setLayoutProperty(v,o,h,p),this._update(!0)}getLayoutProperty(v,o){return this.style.getLayoutProperty(v,o)}setGlyphs(v,o={}){return this._lazyInitEmptyStyle(),this.style.setGlyphs(v,o),this._update(!0)}getGlyphs(){return this.style.getGlyphsUrl()}addSprite(v,o,h={}){return this._lazyInitEmptyStyle(),this.style.addSprite(v,o,h,p=>{p||this._update(!0)}),this}removeSprite(v){return this._lazyInitEmptyStyle(),this.style.removeSprite(v),this._update(!0)}getSprite(){return this.style.getSprite()}setSprite(v,o={}){return this._lazyInitEmptyStyle(),this.style.setSprite(v,o,h=>{h||this._update(!0)}),this}setLight(v,o={}){return this._lazyInitEmptyStyle(),this.style.setLight(v,o),this._update(!0)}getLight(){return this.style.getLight()}setFeatureState(v,o){return this.style.setFeatureState(v,o),this._update()}removeFeatureState(v,o){return this.style.removeFeatureState(v,o),this._update()}getFeatureState(v){return this.style.getFeatureState(v)}getContainer(){return this._container}getCanvasContainer(){return this._canvasContainer}getCanvas(){return this._canvas}_containerDimensions(){let v=0,o=0;return this._container&&(v=this._container.clientWidth||400,o=this._container.clientHeight||300),[v,o]}_setupContainer(){const v=this._container;v.classList.add("maplibregl-map");const o=this._canvasContainer=E.create("div","maplibregl-canvas-container",v);this._interactive&&o.classList.add("maplibregl-interactive"),this._canvas=E.create("canvas","maplibregl-canvas",o),this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex","0"),this._canvas.setAttribute("aria-label","Map"),this._canvas.setAttribute("role","region");const h=this._containerDimensions(),p=this._getClampedPixelRatio(h[0],h[1]);this._resizeCanvas(h[0],h[1],p);const m=this._controlContainer=E.create("div","maplibregl-control-container",v),_=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach(T=>{_[T]=E.create("div","maplibregl-ctrl-".concat(T," "),m)}),this._container.addEventListener("scroll",this._onMapScroll,!1)}_resizeCanvas(v,o,h){this._canvas.width=Math.floor(h*v),this._canvas.height=Math.floor(h*o),this._canvas.style.width="".concat(v,"px"),this._canvas.style.height="".concat(o,"px")}_setupPainter(){const v={alpha:!0,stencil:!0,depth:!0,failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer,antialias:this._antialias||!1};let o=null;this._canvas.addEventListener("webglcontextcreationerror",p=>{o={requestedAttributes:v},p&&(o.statusMessage=p.statusMessage,o.type=p.type)},{once:!0});const h=this._canvas.getContext("webgl2",v)||this._canvas.getContext("webgl",v);if(!h){const p="Failed to initialize WebGL";throw o?(o.message=p,new Error(JSON.stringify(o))):new Error(p)}this.painter=new ql(h,this.transform),A.testSupport(h)}loaded(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()}_update(v){return this.style&&this.style._loaded?(this._styleDirty=this._styleDirty||v,this._sourcesDirty=!0,this.triggerRepaint(),this):this}_requestRenderFrame(v){return this._update(),this._renderTaskQueue.add(v)}_cancelRenderFrame(v){this._renderTaskQueue.remove(v)}_render(v){const o=this._idleTriggered?this._fadeDuration:0;if(this.painter.context.setDirty(),this.painter.setBaseState(),this._renderTaskQueue.run(v),this._removed)return;let h=!1;if(this.style&&this._styleDirty){this._styleDirty=!1;const m=this.transform.zoom,_=S.now();this.style.zoomHistory.update(m,_);const T=new c.a8(m,{now:_,fadeDuration:o,zoomHistory:this.style.zoomHistory,transition:this.style.getTransition()}),I=T.crossFadingFactor();I===1&&I===this._crossFadingFactor||(h=!0,this._crossFadingFactor=I),this.style.update(T)}this.style&&this._sourcesDirty&&(this._sourcesDirty=!1,this.style._updateSources(this.transform)),this.terrain?(this.terrain.sourceCache.update(this.transform,this.terrain),this.transform.minElevationForCurrentTile=this.terrain.getMinTileElevationForLngLatZoom(this.transform.center,this.transform.tileZoom),this._elevationFreeze||(this.transform.elevation=this.terrain.getElevationForLngLatZoom(this.transform.center,this.transform.tileZoom))):(this.transform.minElevationForCurrentTile=0,this.transform.elevation=0),this._placementDirty=this.style&&this.style._updatePlacement(this.painter.transform,this.showCollisionBoxes,o,this._crossSourceCollisions),this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showOverdrawInspector:this._showOverdrawInspector,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),fadeDuration:o,showPadding:this.showPadding}),this.fire(new c.k("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,c.bc.mark(c.bd.load),this.fire(new c.k("load"))),this.style&&(this.style.hasTransitions()||h)&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles();const p=this._sourcesDirty||this._styleDirty||this._placementDirty;return p||this._repaint?this.triggerRepaint():!this.isMoving()&&this.loaded()&&this.fire(new c.k("idle")),!this._loaded||this._fullyLoaded||p||(this._fullyLoaded=!0,c.bc.mark(c.bd.fullLoad)),this}redraw(){return this.style&&(this._frameRequest&&(this._frameRequest.abort(),this._frameRequest=null),this._render(0)),this}remove(){var v;this._hash&&this._hash.remove();for(const h of this._controls)h.onRemove(this);this._controls=[],this._frameRequest&&(this._frameRequest.abort(),this._frameRequest=null),this._renderTaskQueue.clear(),this.painter.destroy(),this.handlers.destroy(),delete this.handlers,this.setStyle(null),typeof window<"u"&&removeEventListener("online",this._onWindowOnline,!1),V.removeThrottleControl(this._imageQueueHandle),(v=this._resizeObserver)===null||v===void 0||v.disconnect();const o=this.painter.context.gl.getExtension("WEBGL_lose_context");o&&o.loseContext(),this._canvas.removeEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.removeEventListener("webglcontextlost",this._contextLost,!1),E.remove(this._canvasContainer),E.remove(this._controlContainer),this._container.classList.remove("maplibregl-map"),c.bc.clearMetrics(),this._removed=!0,this.fire(new c.k("remove"))}triggerRepaint(){this.style&&!this._frameRequest&&(this._frameRequest=new AbortController,S.frameAsync(this._frameRequest).then(v=>{c.bc.frame(v),this._frameRequest=null,this._render(v)}).catch(()=>{}))}get showTileBoundaries(){return!!this._showTileBoundaries}set showTileBoundaries(v){this._showTileBoundaries!==v&&(this._showTileBoundaries=v,this._update())}get showPadding(){return!!this._showPadding}set showPadding(v){this._showPadding!==v&&(this._showPadding=v,this._update())}get showCollisionBoxes(){return!!this._showCollisionBoxes}set showCollisionBoxes(v){this._showCollisionBoxes!==v&&(this._showCollisionBoxes=v,v?this.style._generateCollisionBoxes():this._update())}get showOverdrawInspector(){return!!this._showOverdrawInspector}set showOverdrawInspector(v){this._showOverdrawInspector!==v&&(this._showOverdrawInspector=v,this._update())}get repaint(){return!!this._repaint}set repaint(v){this._repaint!==v&&(this._repaint=v,this.triggerRepaint())}get vertices(){return!!this._vertices}set vertices(v){this._vertices=v,this._update()}get version(){return wu}getCameraTargetElevation(){return this.transform.elevation}},d.MapMouseEvent=Ui,d.MapTouchEvent=Zl,d.MapWheelEvent=vo,d.Marker=Yl,d.NavigationControl=class{constructor(v){this._updateZoomButtons=()=>{const o=this._map.getZoom(),h=o===this._map.getMaxZoom(),p=o===this._map.getMinZoom();this._zoomInButton.disabled=h,this._zoomOutButton.disabled=p,this._zoomInButton.setAttribute("aria-disabled",h.toString()),this._zoomOutButton.setAttribute("aria-disabled",p.toString())},this._rotateCompassArrow=()=>{const o=this.options.visualizePitch?"scale(".concat(1/Math.pow(Math.cos(this._map.transform.pitch*(Math.PI/180)),.5),") rotateX(").concat(this._map.transform.pitch,"deg) rotateZ(").concat(this._map.transform.angle*(180/Math.PI),"deg)"):"rotate(".concat(this._map.transform.angle*(180/Math.PI),"deg)");this._compassIcon.style.transform=o},this._setButtonTitle=(o,h)=>{const p=this._map._getUIString("NavigationControl.".concat(h));o.title=p,o.setAttribute("aria-label",p)},this.options=c.e({},hp,v),this._container=E.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._container.addEventListener("contextmenu",o=>o.preventDefault()),this.options.showZoom&&(this._zoomInButton=this._createButton("maplibregl-ctrl-zoom-in",o=>this._map.zoomIn({},{originalEvent:o})),E.create("span","maplibregl-ctrl-icon",this._zoomInButton).setAttribute("aria-hidden","true"),this._zoomOutButton=this._createButton("maplibregl-ctrl-zoom-out",o=>this._map.zoomOut({},{originalEvent:o})),E.create("span","maplibregl-ctrl-icon",this._zoomOutButton).setAttribute("aria-hidden","true")),this.options.showCompass&&(this._compass=this._createButton("maplibregl-ctrl-compass",o=>{this.options.visualizePitch?this._map.resetNorthPitch({},{originalEvent:o}):this._map.resetNorth({},{originalEvent:o})}),this._compassIcon=E.create("span","maplibregl-ctrl-icon",this._compass),this._compassIcon.setAttribute("aria-hidden","true"))}onAdd(v){return this._map=v,this.options.showZoom&&(this._setButtonTitle(this._zoomInButton,"ZoomIn"),this._setButtonTitle(this._zoomOutButton,"ZoomOut"),this._map.on("zoom",this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this._setButtonTitle(this._compass,"ResetBearing"),this.options.visualizePitch&&this._map.on("pitch",this._rotateCompassArrow),this._map.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new fp(this._map,this._compass,this.options.visualizePitch)),this._container}onRemove(){E.remove(this._container),this.options.showZoom&&this._map.off("zoom",this._updateZoomButtons),this.options.showCompass&&(this.options.visualizePitch&&this._map.off("pitch",this._rotateCompassArrow),this._map.off("rotate",this._rotateCompassArrow),this._handler.off(),delete this._handler),delete this._map}_createButton(v,o){const h=E.create("button",v,this._container);return h.type="button",h.addEventListener("click",o),h}},d.Popup=class extends c.E{constructor(v){super(),this.remove=()=>(this._content&&E.remove(this._content),this._container&&(E.remove(this._container),delete this._container),this._map&&(this._map.off("move",this._update),this._map.off("move",this._onClose),this._map.off("click",this._onClose),this._map.off("remove",this.remove),this._map.off("mousemove",this._onMouseMove),this._map.off("mouseup",this._onMouseUp),this._map.off("drag",this._onDrag),this._map._canvasContainer.classList.remove("maplibregl-track-pointer"),delete this._map,this.fire(new c.k("close"))),this),this._onMouseUp=o=>{this._update(o.point)},this._onMouseMove=o=>{this._update(o.point)},this._onDrag=o=>{this._update(o.point)},this._update=o=>{var h;if(!this._map||!this._lngLat&&!this._trackPointer||!this._content)return;if(!this._container){if(this._container=E.create("div","maplibregl-popup",this._map.getContainer()),this._tip=E.create("div","maplibregl-popup-tip",this._container),this._container.appendChild(this._content),this.options.className)for(const I of this.options.className.split(" "))this._container.classList.add(I);this._trackPointer&&this._container.classList.add("maplibregl-popup-track-pointer")}if(this.options.maxWidth&&this._container.style.maxWidth!==this.options.maxWidth&&(this._container.style.maxWidth=this.options.maxWidth),this._lngLat=this._map.transform.renderWorldCopies&&!this._trackPointer?Zd(this._lngLat,this._flatPos,this._map.transform):(h=this._lngLat)===null||h===void 0?void 0:h.wrap(),this._trackPointer&&!o)return;const p=this._flatPos=this._pos=this._trackPointer&&o?o:this._map.project(this._lngLat);this._map.terrain&&(this._flatPos=this._trackPointer&&o?o:this._map.transform.locationPoint(this._lngLat));let m=this.options.anchor;const _=vp(this.options.offset);if(!m){const I=this._container.offsetWidth,R=this._container.offsetHeight;let L;L=p.y+_.bottom.y<R?["top"]:p.y>this._map.transform.height-R?["bottom"]:[],p.x<I/2?L.push("left"):p.x>this._map.transform.width-I/2&&L.push("right"),m=L.length===0?"bottom":L.join("-")}let T=p.add(_[m]);this.options.subpixelPositioning||(T=T.round()),E.setTransform(this._container,"".concat(Su[m]," translate(").concat(T.x,"px,").concat(T.y,"px)")),Gd(this._container,m,"popup")},this._onClose=()=>{this.remove()},this.options=c.e(Object.create(gp),v)}addTo(v){return this._map&&this.remove(),this._map=v,this.options.closeOnClick&&this._map.on("click",this._onClose),this.options.closeOnMove&&this._map.on("move",this._onClose),this._map.on("remove",this.remove),this._update(),this._focusFirstElement(),this._trackPointer?(this._map.on("mousemove",this._onMouseMove),this._map.on("mouseup",this._onMouseUp),this._container&&this._container.classList.add("maplibregl-popup-track-pointer"),this._map._canvasContainer.classList.add("maplibregl-track-pointer")):this._map.on("move",this._update),this.fire(new c.k("open")),this}isOpen(){return!!this._map}getLngLat(){return this._lngLat}setLngLat(v){return this._lngLat=c.M.convert(v),this._pos=null,this._flatPos=null,this._trackPointer=!1,this._update(),this._map&&(this._map.on("move",this._update),this._map.off("mousemove",this._onMouseMove),this._container&&this._container.classList.remove("maplibregl-popup-track-pointer"),this._map._canvasContainer.classList.remove("maplibregl-track-pointer")),this}trackPointer(){return this._trackPointer=!0,this._pos=null,this._flatPos=null,this._update(),this._map&&(this._map.off("move",this._update),this._map.on("mousemove",this._onMouseMove),this._map.on("drag",this._onDrag),this._container&&this._container.classList.add("maplibregl-popup-track-pointer"),this._map._canvasContainer.classList.add("maplibregl-track-pointer")),this}getElement(){return this._container}setText(v){return this.setDOMContent(document.createTextNode(v))}setHTML(v){const o=document.createDocumentFragment(),h=document.createElement("body");let p;for(h.innerHTML=v;p=h.firstChild,p;)o.appendChild(p);return this.setDOMContent(o)}getMaxWidth(){var v;return(v=this._container)===null||v===void 0?void 0:v.style.maxWidth}setMaxWidth(v){return this.options.maxWidth=v,this._update(),this}setDOMContent(v){if(this._content)for(;this._content.hasChildNodes();)this._content.firstChild&&this._content.removeChild(this._content.firstChild);else this._content=E.create("div","maplibregl-popup-content",this._container);return this._content.appendChild(v),this._createCloseButton(),this._update(),this._focusFirstElement(),this}addClassName(v){this._container&&this._container.classList.add(v)}removeClassName(v){this._container&&this._container.classList.remove(v)}setOffset(v){return this.options.offset=v,this._update(),this}toggleClassName(v){if(this._container)return this._container.classList.toggle(v)}setSubpixelPositioning(v){this.options.subpixelPositioning=v}_createCloseButton(){this.options.closeButton&&(this._closeButton=E.create("button","maplibregl-popup-close-button",this._content),this._closeButton.type="button",this._closeButton.setAttribute("aria-label","Close popup"),this._closeButton.innerHTML="&#215;",this._closeButton.addEventListener("click",this._onClose))}_focusFirstElement(){if(!this.options.focusAfterOpen||!this._container)return;const v=this._container.querySelector(yp);v&&v.focus()}},d.RasterDEMTileSource=Ki,d.RasterTileSource=qn,d.ScaleControl=class{constructor(v){this._onMove=()=>{Kd(this._map,this._container,this.options)},this.setUnit=o=>{this.options.unit=o,Kd(this._map,this._container,this.options)},this.options=c.e({},mp,v)}getDefaultPosition(){return"bottom-left"}onAdd(v){return this._map=v,this._container=E.create("div","maplibregl-ctrl maplibregl-ctrl-scale",v.getContainer()),this._map.on("move",this._onMove),this._onMove(),this._container}onRemove(){E.remove(this._container),this._map.off("move",this._onMove),this._map=void 0}},d.ScrollZoomHandler=sp,d.Style=Sd,d.TerrainControl=class{constructor(v){this._toggleTerrain=()=>{this._map.getTerrain()?this._map.setTerrain(null):this._map.setTerrain(this.options),this._updateTerrainIcon()},this._updateTerrainIcon=()=>{this._terrainButton.classList.remove("maplibregl-ctrl-terrain"),this._terrainButton.classList.remove("maplibregl-ctrl-terrain-enabled"),this._map.terrain?(this._terrainButton.classList.add("maplibregl-ctrl-terrain-enabled"),this._terrainButton.title=this._map._getUIString("TerrainControl.Disable")):(this._terrainButton.classList.add("maplibregl-ctrl-terrain"),this._terrainButton.title=this._map._getUIString("TerrainControl.Enable"))},this.options=v}onAdd(v){return this._map=v,this._container=E.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._terrainButton=E.create("button","maplibregl-ctrl-terrain",this._container),E.create("span","maplibregl-ctrl-icon",this._terrainButton).setAttribute("aria-hidden","true"),this._terrainButton.type="button",this._terrainButton.addEventListener("click",this._toggleTerrain),this._updateTerrainIcon(),this._map.on("terrain",this._updateTerrainIcon),this._container}onRemove(){E.remove(this._container),this._map.off("terrain",this._updateTerrainIcon),this._map=void 0}},d.TwoFingersTouchPitchHandler=xy,d.TwoFingersTouchRotateHandler=rp,d.TwoFingersTouchZoomHandler=Vd,d.TwoFingersTouchZoomRotateHandler=Pt,d.VectorTileSource=Ne,d.VideoSource=zr,d.addSourceType=(v,o)=>c._(void 0,void 0,void 0,function*(){if(Os(v))throw new Error('A source type called "'.concat(v,'" already exists.'));((h,p)=>{da[h]=p})(v,o)}),d.clearPrewarmedResources=function(){const v=Ft;v&&(v.isPreloaded()&&v.numActive()===1?(v.release(yt),Ft=null):console.warn("Could not clear WebWorkers since there are active Map instances that still reference it. The pre-warmed WebWorker pool can only be cleared when all map instances have been removed with map.remove()"))},d.getMaxParallelImageRequests=function(){return c.a.MAX_PARALLEL_IMAGE_REQUESTS},d.getRTLTextPluginStatus=function(){return br().getRTLTextPluginStatus()},d.getVersion=function(){return Cy},d.getWorkerCount=function(){return wt.workerCount},d.getWorkerUrl=function(){return c.a.WORKER_URL},d.importScriptInWorkers=function(v){return Mi().broadcast("importScript",v)},d.prewarm=function(){vn().acquire(yt)},d.setMaxParallelImageRequests=function(v){c.a.MAX_PARALLEL_IMAGE_REQUESTS=v},d.setRTLTextPlugin=function(v,o){return br().setRTLTextPlugin(v,o)},d.setWorkerCount=function(v){wt.workerCount=v},d.setWorkerUrl=function(v){c.a.WORKER_URL=v}});var l=n;return l})})(w5);var hee=w5.exports;const Pu=fd(hee);var wi=function(){function e(){}return e.setup=function(t){t===void 0&&(t={}),e.options=t},e.get=function(){return e.options||{}},e.clear=function(){e.options={}},e.defaultOptions={live:!1,logLevel:"error",host:"https://api.radar.io",version:"v1",debug:!1},e}(),Cc={none:0,error:1,warn:2,info:3,debug:4},Iv=function(){if(window&&window.RADAR_TEST_ENV)return Cc.none;var e=wi.get(),t=e.logLevel,n=e.debug;return n?Cc.debug:t?Cc[t]:Cc.error},$n=function(){function e(){}return e.debug=function(t){Iv()===Cc.debug&&console.log("Radar SDK (debug): ".concat(t.trim()))},e.info=function(t){Iv()>=Cc.info&&console.log("Radar SDK: ".concat(t.trim()))},e.warn=function(t){Iv()>=Cc.warn&&console.warn("Radar SDK: ".concat(t.trim()))},e.error=function(t){Iv()>=Cc.error&&console.error("Radar SDK: ".concat(t.trim()))},e}(),Vt=function(){function e(){}return Object.defineProperty(e,"USER_ID",{get:function(){return"radar-userId"},enumerable:!1,configurable:!0}),Object.defineProperty(e,"DEVICE_ID",{get:function(){return"radar-deviceId"},enumerable:!1,configurable:!0}),Object.defineProperty(e,"INSTALL_ID",{get:function(){return"radar-installId"},enumerable:!1,configurable:!0}),Object.defineProperty(e,"SESSION_ID",{get:function(){return"radar-sessionId"},enumerable:!1,configurable:!0}),Object.defineProperty(e,"DESCRIPTION",{get:function(){return"radar-description"},enumerable:!1,configurable:!0}),Object.defineProperty(e,"METADATA",{get:function(){return"radar-metadata"},enumerable:!1,configurable:!0}),Object.defineProperty(e,"CACHED_LOCATION",{get:function(){return"radar-cached-location"},enumerable:!1,configurable:!0}),Object.defineProperty(e,"TRIP_OPTIONS",{get:function(){return"radar-trip-options"},enumerable:!1,configurable:!0}),e.getStorage=function(){var t=window==null?void 0:window.localStorage;return t||$n.warn("localStorage not available."),t},e.setItem=function(t,n){var i=this.getStorage();i&&n!=null&&i.setItem(t,n)},e.getItem=function(t){var n=this.getStorage();if(!n)return null;var i=n.getItem(t);return i!=null?i:null},e.getJSON=function(t){var n=this.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch(i){return $n.warn("could not getJSON from storage for key: ".concat(t)),null}},e.removeItem=function(t){var n=this.getStorage();if(!n)return null;n.removeItem(t)},e.clear=function(){var t=this.getStorage();if(!t)return null;t.clear()},e}(),L2=function(e,t){return L2=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(n[s]=i[s])},L2(e,t)};function mo(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");L2(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var Tc=function(){return Tc=Object.assign||function(t){for(var n,i=1,s=arguments.length;i<s;i++){n=arguments[i];for(var l in n)Object.prototype.hasOwnProperty.call(n,l)&&(t[l]=n[l])}return t},Tc.apply(this,arguments)};function bi(e,t,n,i){function s(l){return l instanceof n?l:new n(function(d){d(l)})}return new(n||(n=Promise))(function(l,d){function c(k){try{b(i.next(k))}catch(S){d(S)}}function y(k){try{b(i.throw(k))}catch(S){d(S)}}function b(k){k.done?l(k.value):s(k.value).then(c,y)}b((i=i.apply(e,t||[])).next())})}function _i(e,t){var n={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},i,s,l,d;return d={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function c(b){return function(k){return y([b,k])}}function y(b){if(i)throw new TypeError("Generator is already executing.");for(;d&&(d=0,b[0]&&(n=0)),n;)try{if(i=1,s&&(l=b[0]&2?s.return:b[0]?s.throw||((l=s.return)&&l.call(s),0):s.next)&&!(l=l.call(s,b[1])).done)return l;switch(s=0,l&&(b=[b[0]&2,l.value]),b[0]){case 0:case 1:l=b;break;case 4:return n.label++,{value:b[1],done:!1};case 5:n.label++,s=b[1],b=[0];continue;case 7:b=n.ops.pop(),n.trys.pop();continue;default:if(l=n.trys,!(l=l.length>0&&l[l.length-1])&&(b[0]===6||b[0]===2)){n=0;continue}if(b[0]===3&&(!l||b[1]>l[0]&&b[1]<l[3])){n.label=b[1];break}if(b[0]===6&&n.label<l[1]){n.label=l[1],l=b;break}if(l&&n.label<l[2]){n.label=l[2],n.ops.push(b);break}l[2]&&n.ops.pop(),n.trys.pop();continue}b=t.call(e,n)}catch(k){b=[6,k],s=0}finally{i=l=0}if(b[0]&5)throw b[1];return{value:b[0]?b[1]:void 0,done:!0}}}var Lo=function(e){mo(t,e);function t(n){var i=e.call(this,n)||this;return i.status="",i}return t}(Error),O2=function(e){mo(t,e);function t(n){var i=e.call(this,n)||this;return i.name="RadarPublishableKeyError",i.status="ERROR_PUBLISHABLE_KEY",i}return t}(Lo),om=function(e){mo(t,e);function t(n){var i=e.call(this,n)||this;return i.name="RadarLocationError",i.status="ERROR_LOCATION",i}return t}(Lo),k5=function(e){mo(t,e);function t(n){var i=e.call(this,n)||this;return i.name="RadarLocationPermissionsError",i.status="ERROR_PERMISSIONS",i}return t}(Lo),fee=function(e){mo(t,e);function t(){var n=e.call(this,"Desktop app not running.")||this;return n.name="RadarDesktopAppError",n.status="ERROR_DESKTOP_APP",n}return t}(Lo),pee=function(e){mo(t,e);function t(n){var i=this,s;return i=e.call(this,((s=n==null?void 0:n.meta)===null||s===void 0?void 0:s.message)||"Bad request.")||this,i.name="RadarBadRequestError",i.code=400,i.response=n,i.status="ERROR_BAD_REQUEST",i}return t}(Lo),mee=function(e){mo(t,e);function t(n){var i=this,s;return i=e.call(this,((s=n==null?void 0:n.meta)===null||s===void 0?void 0:s.message)||"Unauthorized.")||this,i.name="RadarUnauthorizedError",i.code=401,i.response=n,i.status="ERROR_UNAUTHORIZED",i}return t}(Lo),gee=function(e){mo(t,e);function t(n){var i=this,s;return i=e.call(this,((s=n==null?void 0:n.meta)===null||s===void 0?void 0:s.message)||"Payment required.")||this,i.name="RadarPaymentRequiredError",i.code=402,i.response=n,i.status="ERROR_PAYMENT_REQUIRED",i}return t}(Lo),yee=function(e){mo(t,e);function t(n){var i=this,s;return i=e.call(this,((s=n==null?void 0:n.meta)===null||s===void 0?void 0:s.message)||"Forbidden.")||this,i.name="RadarForbiddenError",i.code=403,i.response=n,i.status="ERROR_FORBIDDEN",i}return t}(Lo),vee=function(e){mo(t,e);function t(n){var i=this,s;return i=e.call(this,((s=n==null?void 0:n.meta)===null||s===void 0?void 0:s.message)||"Not found.")||this,i.name="RadarNotFoundError",i.code=404,i.response=n,i.status="ERROR_NOT_FOUND",i}return t}(Lo),bee=function(e){mo(t,e);function t(n){var i=this,s,l;return i=e.call(this,((s=n==null?void 0:n.meta)===null||s===void 0?void 0:s.message)||"Rate limit exceeded.")||this,i.name="RadarRateLimitError",i.code=429,i.response=n,i.type=(l=n==null?void 0:n.meta)===null||l===void 0?void 0:l.type,i.status="ERROR_RATE_LIMIT",i}return t}(Lo),O1=function(e){mo(t,e);function t(n){var i=this,s;return i=e.call(this,((s=n==null?void 0:n.meta)===null||s===void 0?void 0:s.message)||"Internal server error.")||this,i.name="RadarServerError",i.response=n,i.status="ERROR_SERVER",i}return t}(Lo),hR=function(e){mo(t,e);function t(){var n=e.call(this,"Request timed out.")||this;return n.name="RadarTimeoutError",n.status="ERROR_TIMED_OUT",n}return t}(Lo),_ee=function(e){mo(t,e);function t(n){var i=this,s;return i=e.call(this,((s=n==null?void 0:n.meta)===null||s===void 0?void 0:s.message)||"Something went wrong.")||this,i.name="RadarUnknownError",i.response=n,i.status="ERROR_UNKNOWN",i}return t}(Lo),xee=function(e){mo(t,e);function t(n){var i=e.call(this,n)||this;return i.name="RadarAutocompleteContainerNotFound",i.status="CONTAINER_NOT_FOUND",i}return t}(Lo),wee={1:"Permission denied.",2:"Position unavailable.",3:"Timeout."},See={maximumAge:0,timeout:1e3*30,enableHighAccuracy:!0},fR=function(e){return e==="high"},La=function(){function e(){}return e.getCurrentPosition=function(t){return t===void 0&&(t={}),bi(this,void 0,void 0,function(){return _i(this,function(n){return[2,new Promise(function(i,s){var l=wi.get();if(!navigator||!navigator.geolocation)return s(new om("navigator.geolocation is not available."));if(l.cacheLocationMinutes)try{var d=Vt.getItem(Vt.CACHED_LOCATION);if(d){var c=JSON.parse(d),y=c||{},b=y.latitude,k=y.longitude,S=y.accuracy,E=y.expiresAt;if(Date.now()<parseInt(E)&&b&&k&&S)return i({latitude:b,longitude:k,accuracy:S})}}catch(z){$n.warn("could not load cached location.")}var A=Object.assign({},See);l.locationMaximumAge!==void 0&&(A.maximumAge=l.locationMaximumAge),l.locationTimeout!==void 0&&(A.timeout=l.locationTimeout),l.desiredAccuracy!==void 0&&(A.enableHighAccuracy=fR(l.desiredAccuracy)),t.desiredAccuracy!==void 0&&(A.enableHighAccuracy=fR(t.desiredAccuracy)),$n.info("Using geolocation options: ".concat(JSON.stringify(A))),navigator.geolocation.getCurrentPosition(function(z){if(!z||!z.coords)return s(new om("device location return empty coordinates."));var N=z.coords,q=N.latitude,F=N.longitude,$=N.accuracy;if(l.cacheLocationMinutes){var V=Number.parseFloat(l.cacheLocationMinutes),Z=Date.now(),Q=Z+V*60*1e3,fe={latitude:q,longitude:F,accuracy:$,updatedAt:Z,expiresAt:Q};Vt.setItem(Vt.CACHED_LOCATION,JSON.stringify(fe))}return i({latitude:q,longitude:F,accuracy:$})},function(z){if(z&&z.code){var N=wee[z.code.toString()]||"unknown";return s(new k5(N))}return s(new om("Could not determine location."))},A)})]})})},e.getPermissionStatus=function(){return bi(this,void 0,void 0,function(){return _i(this,function(t){return[2,new Promise(function(n,i){if(!navigator||!navigator.permissions)return i(new om("navigator.permissions is not available."));navigator.permissions.query({name:"geolocation"}).then(function(s){var l="NOT_DETERMINED";switch(s.state){case"granted":l="GRANTED_FOREGROUND";break;case"denied":l="DENIED";break;case"prompt":l="NOT_DETERMINED";break}return n(l)})})]})})},e}(),v_="4.1.18",tr=function(){function e(){}return e.request=function(t){var n=t.method,i=t.path,s=t.data,l=t.host,d=t.headers;return bi(this,void 0,void 0,function(){return _i(this,function(c){return[2,new Promise(function(y,b){var k=wi.get(),S=k.publishableKey;if(!S){b(new O2("publishableKey not set."));return}var E=l||k.host,A=k.version,z="".concat(E,"/").concat(A,"/").concat(i),N={};if(Object.keys(s||{}).forEach(function(Z){var Q=s[Z];Q!==void 0&&(N[Z]=Q)}),n==="GET"){var q=Object.keys(N).map(function(Z){return"".concat(Z,"=").concat(encodeURIComponent(N[Z]))});if(q.length>0){var F=q.join("&");z="".concat(z,"?").concat(F)}N=void 0}var $=new XMLHttpRequest;if($.open(n,z,!0),$.setRequestHeader("Authorization",S),$.setRequestHeader("Content-Type","application/json"),$.setRequestHeader("X-Radar-Device-Type","Web"),$.setRequestHeader("X-Radar-SDK-Version",v_),d&&Object.keys(d).forEach(function(Z){var Q=d[Z];$.setRequestHeader(Z,Q)}),typeof k.getRequestHeaders=="function"){var V=k.getRequestHeaders();Object.keys(V||{}).forEach(function(Z){$.setRequestHeader(Z,V[Z])})}$.onload=function(){var Z,Q;try{Q=JSON.parse($.response)}catch(oe){return b(new O1(Q))}var fe=(Z=Q==null?void 0:Q.meta)===null||Z===void 0?void 0:Z.error;if(fe==="ERROR_PERMISSIONS")return b(new k5("Location permissions not granted."));if(fe==="ERROR_LOCATION")return b(new om("Could not determine location."));if(fe==="ERROR_NETWORK")return b(new hR);if($.status==200)return y(Q);k.debug&&($n.debug("API call failed: ".concat(z)),$n.debug(JSON.stringify(Q))),$.status===400?b(new pee(Q)):$.status===401?b(new mee(Q)):$.status===402?b(new gee(Q)):$.status===403?b(new yee(Q)):$.status===404?b(new vee(Q)):$.status===429?b(new bee(Q)):500<=$.status&&$.status<600?b(new O1(Q)):b(new _ee(Q))},$.onerror=function(){b(l&&(l==="http://localhost:52516"||l==="https://radar-verify.com:52516")?new fee:new O1)},$.ontimeout=function(){b(new hR)},$.send(JSON.stringify(N))})]})})},e}(),kee=function(){function e(){}return e.validateAddress=function(t){return bi(this,void 0,void 0,function(){var n,i,s,l,d;return _i(this,function(c){switch(c.label){case 0:return n=wi.get(),[4,tr.request({method:"GET",path:"addresses/validate",data:t})];case 1:return i=c.sent(),s=i.address,l=i.result,d={address:s,result:l},n.debug&&(d.response=i),[2,d]}})})},e}(),pR=function(){var e="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var n=Math.random()*16|0,i=t=="x"?n:n&3|8;return i.toString(16)});return e},Kc=function(){function e(){}return e.getDeviceId=function(){var t=Vt.getItem(Vt.DEVICE_ID);if(t)return t;var n=pR();return Vt.setItem(Vt.DEVICE_ID,n),n},e.getInstallId=function(){var t=Vt.getItem(Vt.INSTALL_ID);if(t)return t;var n=pR();return Vt.setItem(Vt.INSTALL_ID,n),n},e}(),Eee=300,Cee=function(e){var t=Math.trunc(Date.now()/1e3),n=Number.parseInt(e),i=Math.abs(t-n);return i<Eee},NE=function(){function e(){}return e.getSessionId=function(){var t=Vt.getItem(Vt.SESSION_ID);if(t&&Cee(t))return t;var n=Math.trunc(Date.now()/1e3).toString();return Vt.setItem(Vt.SESSION_ID,n),n},e}(),mR=function(){function e(){}return e.getConfig=function(t){return t===void 0&&(t={}),bi(this,void 0,void 0,function(){var n,i,s,l,d,c,y;return _i(this,function(b){switch(b.label){case 0:return n=wi.get(),n.version!="v1"?($n.info("Skipping /config call."),[2]):(i=t.deviceId||Kc.getDeviceId(),s=t.installId||Kc.getInstallId(),l=NE.getSessionId(),[4,La.getPermissionStatus()]);case 1:d=b.sent(),c={deviceId:i,installId:s,sessionId:l,locationAuthorization:d},b.label=2;case 2:return b.trys.push([2,4,,5]),[4,tr.request({method:"GET",path:"config",data:c})];case 3:return b.sent(),[3,5];case 4:return y=b.sent(),$n.warn("Error calling /config: ".concat(y.message)),[3,5];case 5:return[2]}})})},e}(),Tee=function(){function e(){}return e.getContext=function(t){return bi(this,void 0,void 0,function(){var n,i,s,l,d,c,y,b,k,S,E,A;return _i(this,function(z){switch(z.label){case 0:return n=wi.get(),!t.latitude||!t.longitude?[4,La.getCurrentPosition()]:[3,2];case 1:t=z.sent(),z.label=2;case 2:return i=t.latitude,s=t.longitude,l=t.accuracy,[4,tr.request({method:"GET",path:"context",data:{coordinates:"".concat(i,",").concat(s),accuracy:l}})];case 3:return d=z.sent(),c=d.geofences,y=d.place,b=d.country,k=d.state,S=d.dma,E=d.postalCode,A={location:t,geofences:c,place:y,country:b,state:k,dma:S,postalCode:E},n.debug&&(A.response=d),[2,A]}})})},e}(),Iee=function(){function e(){}return e.logConversion=function(t){return bi(this,void 0,void 0,function(){var n,i,s,l,d,c,y,b,k,S;return _i(this,function(E){switch(E.label){case 0:return n=wi.get(),i=t.name,s=t.userId||Vt.getItem(Vt.USER_ID),l=t.deviceId||Kc.getDeviceId(),d=t.installId||Kc.getInstallId(),c=t.metadata||{},y=t.createdAt,t.revenue&&(c.revenue=t.revenue),b={name:i,userId:s,deviceId:l,installId:d,metadata:c},typeof y=="string"?b.createdAt=y:y instanceof Date?b.createdAt=y.toISOString():b.createdAt=new Date().toISOString(),[4,tr.request({method:"POST",path:"events",data:b})];case 1:return k=E.sent(),S={event:k.event},n.debug&&(S.response=k),[2,S]}})})},e}(),D1=function(){function e(){}return e.forwardGeocode=function(t){return bi(this,void 0,void 0,function(){var n,i,s,l,d,c;return _i(this,function(y){switch(y.label){case 0:return n=wi.get(),i=t.query,s=t.layers,l=t.country,[4,tr.request({method:"GET",path:"geocode/forward",data:{query:i,layers:s,country:l}})];case 1:return d=y.sent(),c={addresses:d.addresses},n.debug&&(c.response=d),[2,c]}})})},e.reverseGeocode=function(t){return bi(this,void 0,void 0,function(){var n,i,s,l,d,c,y;return _i(this,function(b){switch(b.label){case 0:return n=wi.get(),i=t.latitude,s=t.longitude,l=t.layers,!i||!s?[4,La.getCurrentPosition()]:[3,2];case 1:d=b.sent(),i=d.latitude,s=d.longitude,b.label=2;case 2:return[4,tr.request({method:"GET",path:"geocode/reverse",data:{coordinates:"".concat(i,",").concat(s),layers:l}})];case 3:return c=b.sent(),y={addresses:c.addresses},n.debug&&(y.response=c),[2,y]}})})},e.ipGeocode=function(){return bi(this,void 0,void 0,function(){var t,n,i;return _i(this,function(s){switch(s.label){case 0:return t=wi.get(),[4,tr.request({method:"GET",path:"geocode/ip"})];case 1:return n=s.sent(),i={ip:n.ip,address:n.address,proxy:n.proxy},t.debug&&(i.response=n),[2,i]}})})},e}(),gR=function(){function e(){}return e.distance=function(t){return bi(this,void 0,void 0,function(){var n,i,s,l,d,c,y,b,k,S,E,S,E,S,E,A,z;return _i(this,function(N){switch(N.label){case 0:return n=wi.get(),i=t.origin,s=t.destination,l=t.modes,d=t.units,c=t.geometry,y=t.geometryPoints,b=t.avoid,i?[3,2]:[4,La.getCurrentPosition()];case 1:return k=N.sent(),S=k.latitude,E=k.longitude,i="".concat(S,",").concat(E),[3,3];case 2:typeof i!="string"&&(S=i.latitude,E=i.longitude,i="".concat(S,",").concat(E)),N.label=3;case 3:return typeof s!="string"&&(S=s.latitude,E=s.longitude,s="".concat(S,",").concat(E)),Array.isArray(l)&&(l=l.join(",")),Array.isArray(b)&&(b=b.join(",")),[4,tr.request({method:"GET",path:"route/distance",data:{origin:i,destination:s,modes:l,units:d,geometry:c,geometryPoints:y,avoid:b}})];case 4:return A=N.sent(),z={routes:A.routes},n.debug&&(z.response=A),[2,z]}})})},e.matrix=function(t){return bi(this,void 0,void 0,function(){var n,i,s,l,d,c,y,b,k,S,E,A,z;return _i(this,function(N){switch(N.label){case 0:return n=wi.get(),i=t.origins,s=t.destinations,l=t.mode,d=t.units,c=t.avoid,i?[3,2]:[4,La.getCurrentPosition()];case 1:for(y=N.sent(),b=y.latitude,k=y.longitude,S=[],E=0;E<s.length;E++)S.push("".concat(b,",").concat(k));return i=S.join("|"),[3,3];case 2:Array.isArray(i)&&(i=i.map(function(q){return"".concat(q.latitude,",").concat(q.longitude)}).join("|")),N.label=3;case 3:return Array.isArray(s)&&(s=s.map(function(q){return"".concat(q.latitude,",").concat(q.longitude)}).join("|")),Array.isArray(c)&&(c=c.join(",")),[4,tr.request({method:"GET",path:"route/matrix",data:{origins:i,destinations:s,mode:l,units:d,avoid:c}})];case 4:return A=N.sent(),z={origins:A.origins,destinations:A.destinations,matrix:A.matrix},n.debug&&(z.response=A),[2,z]}})})},e}(),tb=function(){function e(){}return e.autocomplete=function(t){return bi(this,void 0,void 0,function(){var n,i,s,l,d,c,y,b,k,S;return _i(this,function(E){switch(E.label){case 0:return n=wi.get(),i=t.query,s=t.near,l=t.limit,d=t.layers,c=t.countryCode,y=t.expandUnits,b=t.mailable,s&&typeof s!="string"&&s.latitude&&s.longitude&&(s="".concat(s.latitude,",").concat(s.longitude)),[4,tr.request({method:"GET",path:"search/autocomplete",data:{query:i,near:s,limit:l,layers:d,countryCode:c,expandUnits:y,mailable:b}})];case 1:return k=E.sent(),S={addresses:k.addresses},n.debug&&(S.response=k),[2,S]}})})},e.searchGeofences=function(t){return bi(this,void 0,void 0,function(){var n,i,s,l,d,c,y,b,k,b,k,S,E;return _i(this,function(A){switch(A.label){case 0:return n=wi.get(),i=t.near,s=t.radius,l=t.tags,d=t.metadata,c=t.limit,i?[3,2]:[4,La.getCurrentPosition()];case 1:return y=A.sent(),b=y.latitude,k=y.longitude,i="".concat(b,",").concat(k),[3,3];case 2:typeof i!="string"&&(b=i.latitude,k=i.longitude,i="".concat(b,",").concat(k)),A.label=3;case 3:return Array.isArray(l)&&(l=l.join(",")),[4,tr.request({method:"GET",path:"search/geofences",data:{near:i,radius:s,tags:l,metadata:d,limit:c}})];case 4:return S=A.sent(),E={geofences:S.geofences},n.debug&&(E.response=S),[2,E]}})})},e.searchPlaces=function(t){return bi(this,void 0,void 0,function(){var n,i,s,l,d,c,y,b,k,S,k,S,E,A;return _i(this,function(z){switch(z.label){case 0:return n=wi.get(),i=t.near,s=t.radius,l=t.chains,d=t.categories,c=t.groups,y=t.limit,i?[3,2]:[4,La.getCurrentPosition()];case 1:return b=z.sent(),k=b.latitude,S=b.longitude,i="".concat(k,",").concat(S),[3,3];case 2:typeof i!="string"&&(k=i.latitude,S=i.longitude,i="".concat(k,",").concat(S)),z.label=3;case 3:return Array.isArray(l)&&(l=l.join(",")),Array.isArray(d)&&(d=d.join(",")),Array.isArray(c)&&(c=c.join(",")),[4,tr.request({method:"GET",path:"search/places",data:{near:i,radius:s,chains:l,categories:d,groups:c,limit:y}})];case 4:return E=z.sent(),A={places:E.places},n.debug&&(A.response=E),[2,A]}})})},e}(),yR=function(e){return e&&Object.prototype.toString.call(e)==="[object Date]"&&!isNaN(e)},cc=function(){function e(){}return e.setTripOptions=function(t){if(!t){e.clearTripOptions();return}var n=JSON.stringify(t);$n.debug("Saving trip options: ".concat(n)),Vt.setItem(Vt.TRIP_OPTIONS,n)},e.getTripOptions=function(){var t=Vt.getItem(Vt.TRIP_OPTIONS);return t&&(t=JSON.parse(t)),t},e.clearTripOptions=function(){Vt.removeItem(Vt.TRIP_OPTIONS)},e.startTrip=function(t){return bi(this,void 0,void 0,function(){var n,i,s,l,d,c,y,b,k,S,E,A;return _i(this,function(z){switch(z.label){case 0:return n=wi.get(),t=t||e.getTripOptions(),t||$n.warn('tripOptions not set when calling "startTrip"'),i=t.userId||Vt.getItem(Vt.USER_ID),i&&i!==Vt.getItem(Vt.USER_ID)&&Vt.setItem(Vt.USER_ID,i),s=t.externalId,l=t.destinationGeofenceTag,d=t.destinationGeofenceExternalId,c=t.mode,y=t.metadata,b=t.approachingThreshold,k=t.scheduledArrivalAt,S={userId:i,externalId:s,destinationGeofenceTag:l,destinationGeofenceExternalId:d,mode:c,metadata:y,approachingThreshold:b},yR(k)?S.scheduledArrivalAt=k==null?void 0:k.toJSON():(k&&$n.warn("Invalid date format for scheduledArrivalAt"),S.scheduledArrivalAt=void 0),[4,tr.request({method:"POST",path:"trips",data:S})];case 1:return E=z.sent(),e.setTripOptions(t),A={trip:E.trip,events:E.events},n.debug&&(A.response=E),[2,A]}})})},e.updateTrip=function(t,n){return bi(this,void 0,void 0,function(){var i,s,l,d,c,y,b,k,S,E,A;return _i(this,function(z){switch(z.label){case 0:return i=wi.get(),t=t||e.getTripOptions(),t||$n.warn('tripOptions not set when calling "startTrip"'),s=t.externalId,l=t.destinationGeofenceTag,d=t.destinationGeofenceExternalId,c=t.mode,y=t.metadata,b=t.approachingThreshold,k=t.scheduledArrivalAt,S={status:n,externalId:s,destinationGeofenceTag:l,destinationGeofenceExternalId:d,mode:c,metadata:y,approachingThreshold:b},yR(k)?S.scheduledArrivalAt=k==null?void 0:k.toJSON():(k&&$n.warn("Invalid date format for scheduledArrivalAt"),S.scheduledArrivalAt=void 0),[4,tr.request({method:"PATCH",path:"trips/".concat(s,"/update"),data:S})];case 1:return E=z.sent(),A={trip:E.trip,events:E.events},i.debug&&(A.response=E),[2,A]}})})},e.completeTrip=function(){return bi(this,void 0,void 0,function(){var t,n;return _i(this,function(i){switch(i.label){case 0:return t=e.getTripOptions(),[4,e.updateTrip(t,"completed")];case 1:return n=i.sent(),e.clearTripOptions(),[2,n]}})})},e.cancelTrip=function(){return bi(this,void 0,void 0,function(){var t,n;return _i(this,function(i){switch(i.label){case 0:return t=e.getTripOptions(),[4,e.updateTrip(t,"canceled")];case 1:return n=i.sent(),e.clearTripOptions(),[2,n]}})})},e}(),$1=function(e){return btoa(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")},Pee=function(e,t){return bi(void 0,void 0,void 0,function(){var n,i,s,l,d,c,y,b;return _i(this,function(k){switch(k.label){case 0:return n=new TextEncoder,i=$1(JSON.stringify({alg:"HS256",typ:"JWT"})),s=$1(JSON.stringify(e)),l=n.encode(t),d=n.encode("".concat(i,".").concat(s)),[4,crypto.subtle.importKey("raw",l,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"])];case 1:return c=k.sent(),[4,crypto.subtle.sign("HMAC",c,d)];case 2:return y=k.sent(),b=$1(String.fromCharCode.apply(String,Array.from(new Uint8Array(y)))),[2,"".concat(i,".").concat(s,".").concat(b)]}})})},Aee=function(e){return new Promise(function(t){var n=new WebSocket(e),i=0,s=[],l,d,c=function(){i++;var b=Date.now();n.send("ping"),n.onmessage=function(k){if(k.data==="pong"){var S=Date.now()-b;if(s.push(S),i>=3){clearInterval(l),clearInterval(d);var E=s.sort(function(A,z){return A-z})[1];n.close(),t(E)}}}},y=function(){$n.warn("Socket timeout"),clearInterval(l),clearInterval(d),n.close(),t(-1)};n.onerror=function(b){$n.warn("Error opening socket"),n.close(),t(-1)},n.onopen=function(){c(),l=setInterval(c,1e3),d=setInterval(y,1e4)}})},Ree=function(){function e(){}return e.trackOnce=function(t){return bi(this,void 0,void 0,function(){var n,i,s,l,d,c,y,b,k,S,E,A,z,N,q,F,$,V,Z,Q,fe,oe,re,Be,Le,Fe,Ze,Pe,De,Oe,$e,He,we,Ee,Ie,qe,Ye;return _i(this,function(yt){switch(yt.label){case 0:return n=wi.get(),i=t.latitude,s=t.longitude,l=t.accuracy,d=t.desiredAccuracy,c=t.fraud,!i||!s?[4,La.getCurrentPosition({desiredAccuracy:d})]:[3,2];case 1:y=yt.sent(),i=y.latitude,s=y.longitude,l=y.accuracy,yt.label=2;case 2:return yt.trys.push([2,4,,5]),[4,La.getPermissionStatus()];case 3:return b=yt.sent(),[3,5];case 4:return k=yt.sent(),$n.warn("Location authorization error: ".concat(k.message)),[3,5];case 5:S=t.userId||Vt.getItem(Vt.USER_ID),E=t.deviceId||Kc.getDeviceId(),A=t.installId||Kc.getInstallId(),z=NE.getSessionId(),N=t.deviceType||"Web",q=t.description||Vt.getItem(Vt.DESCRIPTION);try{F=Intl.DateTimeFormat().resolvedOptions().timeZone}catch(wt){$n.warn("Error getting time zone: ".concat(wt.message))}return S?Vt.setItem(Vt.USER_ID,S):$n.warn("userId not provided for trackOnce."),$=t.metadata||Vt.getJSON(Vt.METADATA),V=t.tripOptions||cc.getTripOptions(),V&&(V.version="2"),Z=Tc(Tc({},t),{locationAuthorization:b,accuracy:l,description:q,deviceId:E,deviceType:N,foreground:!0,installId:A,sessionId:z,latitude:i,longitude:s,metadata:$,sdkVersion:v_,stopped:!0,userId:S,tripOptions:V,timeZone:F}),c?(fe="https://api-verified.radar.io",oe="ping.radar-verify.com",re=navigator.language,Be=navigator.languages,[4,tr.request({host:fe,method:"GET",path:"config",data:{deviceId:E,installId:A,sessionId:z,locationAuthorization:b},headers:{"X-Radar-Desktop-Device-Type":"Web"}})]):[3,13];case 6:Le=yt.sent().dk,Fe=-1,Ze=-1,yt.label=7;case 7:return yt.trys.push([7,9,,10]),[4,Promise.all([tr.request({host:"https://".concat(oe),method:"GET",path:"ping"}),Aee("wss://".concat(oe))])];case 8:return Pe=yt.sent(),De=Pe[0],Oe=Pe[1],$e=De.scl,Fe=$e,Ze=Oe,[3,10];case 9:return yt.sent(),[3,10];case 10:return He={payload:JSON.stringify(Tc(Tc({},Z),{scl:Fe,csl:Ze,lang:re,langs:Be}))},[4,Pee(He,Le)];case 11:return we=yt.sent(),[4,tr.request({host:fe,method:"POST",path:"track",data:{token:we},headers:{"X-Radar-Body-Is-Token":"true"}})];case 12:return Q=yt.sent(),n.debug&&Q&&Q.user&&(Q.user.metadata||(Q.user.metadata={}),Q.user.metadata["radar:debug"]={sclVal:Fe,cslVal:Ze}),[3,15];case 13:return[4,tr.request({method:"POST",path:"track",data:Z})];case 14:Q=yt.sent(),yt.label=15;case 15:return Ee=Q.user,Ie=Q.events,qe={latitude:i,longitude:s,accuracy:l},Ye={user:Ee,events:Ie,location:qe},n.debug&&(Ye.response=Q),[2,Ye]}})})},e}(),vR=function(){function e(){}return e.trackVerified=function(t,n){return n===void 0&&(n=!1),bi(this,void 0,void 0,function(){var i,s,l,d,c,y,b,k,S,E,A,z,N,q,F,$,V;return _i(this,function(Z){switch(Z.label){case 0:return i=wi.get(),s=t.userId||Vt.getItem(Vt.USER_ID),l=t.deviceId||Kc.getDeviceId(),d=t.installId||Kc.getInstallId(),c=NE.getSessionId(),y=t.description||Vt.getItem(Vt.DESCRIPTION),s?Vt.setItem(Vt.USER_ID,s):$n.warn("userId not provided for trackVerified."),b=t.metadata||Vt.getJSON(Vt.METADATA),k=Tc(Tc({},t),{description:y,deviceId:l,foreground:!0,installId:d,sessionId:c,metadata:b,sdkVersion:v_,stopped:!0,userId:s,encrypted:n}),S=navigator.userAgent,E=S&&(S.toLowerCase().includes("mac")||S.toLowerCase().includes("iphone")||S.toLowerCase().includes("ipod")||S.toLowerCase().includes("ipad")),[4,tr.request({method:"GET",path:"verify",data:k,host:E?"https://radar-verify.com:52516":"http://localhost:52516"})];case 1:return A=Z.sent(),z=A.user,N=A.events,q=A.token,z&&z.location&&z.location.coordinates&&z.locationAccuracy&&(F={latitude:z.location.coordinates[1],longitude:z.location.coordinates[0],accuracy:z.locationAccuracy}),n?($={token:q},i.debug&&($.response=A),[2,$]):(V={user:z,events:N,location:F},i.debug&&(V.response=A),[2,V])}})})},e}(),Mee="radar-default-v1",E5=["radar-default-v1","radar-light-v1","radar-dark-v1"],zee="https://api.radar.io/maps/static/images/logo.svg",Lee={minZoom:1,maxZoom:20,attributionControl:!1,dragRotate:!1,touchPitch:!1,maplibreLogo:!1},Oee={color:"#000257"},C5=function(e,t){return t===void 0&&(t=Mee),"".concat(e.host,"/maps/styles/").concat(t,"?publishableKey=").concat(e.publishableKey)},Dee=function(e,t){var n=t.style;return!n||typeof n=="string"&&E5.includes(n)?C5(e,t.style):t.style},B1=function(){function e(){}return e.getMapLibre=function(){return Pu},e.createMap=function(t){var n=wi.get();n.publishableKey||$n.warn("publishableKey not set. Call Radar.initialize() with key before creating a new map.");var i=Dee(n,t),s=Object.assign({},Lee,t,{style:i});$n.debug("initialize map with options: ".concat(JSON.stringify(s))),s.container=t.container,s.transformRequest=function(E,A){if(A==="Style"&&E5.includes(E)){var z=C5(n,E);return{url:z}}else return{url:E}};var l=new Pu.Map(s),d=l.getContainer();!d.style.width&&!d.style.height&&$n.warn('map container does not have a set "width" or "height"');var c=document.createElement("img");c.src=zee;var y=document.createElement("a");y.id="radar-map-logo",y.href="https://radar.com?ref=powered_by_radar",y.target="_blank",y.style.position="absolute",y.style.bottom="0",y.style.left="5px",y.style.width="80px",y.style.height="38px",y.appendChild(c),l.getContainer().appendChild(y);var b=new Pu.AttributionControl({compact:!1});l.addControl(b,"bottom-right");var k=new Pu.NavigationControl({showCompass:!1});l.addControl(k,"bottom-right");var S=function(){var E=document.querySelector(".maplibregl-ctrl-attrib");if(E){var A=l.getContainer().clientWidth;A<380?E.classList.add("hidden"):E.classList.remove("hidden")}};return l.on("resize",S),l.on("load",S),l},e.createMarker=function(t){t===void 0&&(t={});var n=Object.assign({},Oee);t.color&&(n.color=t.color),t.element&&(n.element=t.element),t.scale&&(n.scale=t.scale);var i=new Pu.Marker(n);if(t.text){var s=new Pu.Popup({offset:35}).setText(t.text);i.setPopup(s)}else if(t.html){var s=new Pu.Popup({offset:35}).setHTML(t.html);i.setPopup(s)}return i},e}(),_o={WRAPPER:"radar-autocomplete-wrapper",INPUT:"radar-autocomplete-input",SEARCH_ICON:"radar-autocomplete-search-icon",RESULTS_LIST:"radar-autocomplete-results-list",RESULTS_ITEM:"radar-autocomplete-results-item",RESULTS_MARKER:"radar-autocomplete-results-marker",SELECTED_ITEM:"radar-autocomplete-results-item-selected",POWERED_BY_RADAR:"radar-powered",NO_RESULTS:"radar-no-results"},bR={EXPANDED:"aria-expanded"},$ee={container:"autocomplete",debounceMS:200,minCharacters:3,limit:8,placeholder:"Search address",responsive:!0,disabled:!1,showMarkers:!0,hideResultsOnBlur:!0},D2=function(e){return typeof e=="number"?"".concat(e,"px"):e},Bee=400,F1=function(e,t){if(t.responsive){e.style.width="100%",t.width&&(e.style.maxWidth=D2(t.width));return}e.style.width=D2(t.width||Bee),e.style.removeProperty("max-width")},_R=function(e,t){t.maxHeight&&(e.style.maxHeight=D2(t.maxHeight),e.style.overflowY="auto")},N1=function(e){e===void 0&&(e="#ACBDC8");var t=e.replace("#","%23"),n='<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">\n    <path d="M12.5704 6.57036C12.5704 4.11632 10.6342 2.11257 8.21016 2C8.14262 2 8.06757 2 8.00003 2C7.93249 2 7.85744 2 7.7899 2C5.35838 2.11257 3.42967 4.11632 3.42967 6.57036C3.42967 6.60037 3.42967 6.6379 3.42967 6.66792C3.42967 6.69794 3.42967 6.73546 3.42967 6.76548C3.42967 9.46717 7.09196 13.3621 7.4672 13.7598C7.61729 13.9174 7.84994 14 8.00003 14C8.15012 14 8.38277 13.9174 8.53286 13.7598C8.9156 13.3621 12.5704 9.46717 12.5704 6.76548C12.5704 6.72795 12.5704 6.69794 12.5704 6.66792C12.5704 6.6379 12.5704 6.60037 12.5704 6.57036ZM7.99252 8.28893C7.04693 8.28893 6.27395 7.52345 6.27395 6.57036C6.27395 5.61726 7.03943 4.85178 7.99252 4.85178C8.94562 4.85178 9.7111 5.61726 9.7111 6.57036C9.7111 7.52345 8.94562 8.28893 7.99252 8.28893Z" fill="'.concat(t,'"/>\n  </svg>').trim();return"data:image/svg+xml;charset=utf-8,".concat(n)},Fee=function(){function e(t){t===void 0&&(t={}),this.config=Object.assign({},$ee,t),this.isOpen=!1,this.debouncedFetchResults=this.debounce(this.fetchResults,this.config.debounceMS),this.results=[],this.highlightedIndex=-1,this.config.threshold!==void 0&&(this.config.minCharacters=this.config.threshold,$n.warn('AutocompleteUI option "threshold" is deprecated, use "minCharacters" instead.')),t.near&&(typeof t.near=="string"?this.near=t.near:this.near="".concat(t.near.latitude,",").concat(t.near.longitude));var n;if(typeof this.config.container=="string"?n=document.getElementById(this.config.container):n=this.config.container,!n)throw new xee("Could not find container element: ".concat(this.config.container));if(this.container=n,this.wrapper=document.createElement("div"),this.wrapper.classList.add(_o.WRAPPER),this.wrapper.style.display=this.config.responsive?"block":"inline-block",F1(this.wrapper,this.config),this.resultsList=document.createElement("ul"),this.resultsList.classList.add(_o.RESULTS_LIST),_R(this.resultsList,this.config),n.nodeName==="INPUT")this.inputField=n,this.wrapper.appendChild(this.resultsList),n.parentNode.appendChild(this.wrapper);else{this.inputField=document.createElement("input"),this.inputField.classList.add(_o.INPUT),this.inputField.placeholder=this.config.placeholder,this.inputField.type="text",this.inputField.disabled=this.config.disabled;var i=document.createElement("div");i.classList.add(_o.SEARCH_ICON),this.wrapper.appendChild(this.inputField),this.wrapper.appendChild(this.resultsList),this.wrapper.appendChild(i),this.container.appendChild(this.wrapper)}this.inputField.addEventListener("input",this.handleInput.bind(this)),this.inputField.addEventListener("keydown",this.handleKeyboardNavigation.bind(this)),this.config.hideResultsOnBlur&&this.inputField.addEventListener("blur",this.close.bind(this),!0),$n.debug("AutocompleteUI iniailized with options: ".concat(JSON.stringify(this.config)))}return e.createAutocomplete=function(t){return new e(t)},e.prototype.handleInput=function(){var t=this,n=this.inputField.value;n.length<this.config.minCharacters||this.debouncedFetchResults(n).then(function(i){var s=t.config.onResults;s&&s(i),t.displayResults(i)}).catch(function(i){$n.warn("Autocomplete ui error: ".concat(i.message));var s=t.config.onError;s&&s(i)})},e.prototype.debounce=function(t,n){var i=this,s,l,d;return function(){for(var c=[],y=0;y<arguments.length;y++)c[y]=arguments[y];return clearTimeout(s),s=setTimeout(function(){var b=t.apply(i,c);b instanceof Promise&&b.then(function(k){l&&l(k)}).catch(function(k){d&&d(k)})},n),new Promise(function(b,k){l=b,d=k})}},e.prototype.fetchResults=function(t){return bi(this,void 0,void 0,function(){var n,i,s,l,d,c,y,b,k;return _i(this,function(S){switch(S.label){case 0:return n=this.config,i=n.limit,s=n.layers,l=n.countryCode,d=n.expandUnits,c=n.mailable,y=n.onRequest,b={query:t,limit:i,layers:s,countryCode:l,expandUnits:d,mailable:c},this.near&&(b.near=this.near),y&&y(b),[4,tb.autocomplete(b)];case 1:return k=S.sent().addresses,[2,k]}})})},e.prototype.displayResults=function(t){var n=this;this.clearResultsList(),this.results=t;var i;if(this.config.showMarkers&&(i=document.createElement("img"),i.classList.add(_o.RESULTS_MARKER),i.setAttribute("src",N1(this.config.markerColor))),t.forEach(function(b,k){var S=document.createElement("li");S.classList.add(_o.RESULTS_ITEM);var E;if(b.formattedAddress.includes(b.addressLabel)&&b.layer!=="postalCode"){var A=new RegExp("(".concat(b.addressLabel,"),?"));E=b.formattedAddress.replace(A,"<b>$1</b>")}else{var z=b.placeLabel||b.addressLabel;E="<b>".concat(z,"</b> ").concat(b.formattedAddress)}S.innerHTML=E,i&&S.prepend(i.cloneNode()),S.addEventListener("mousedown",function(){n.select(k)}),n.resultsList.appendChild(S)}),this.open(),t.length>0){var s=document.createElement("a");s.href="https://radar.com?ref=powered_by_radar",s.target="_blank",this.poweredByLink=s;var l=document.createElement("span");l.textContent="Powered by",s.appendChild(l);var d=document.createElement("span");d.id="radar-powered-logo",s.appendChild(d);var c=document.createElement("div");c.classList.add(_o.POWERED_BY_RADAR),c.appendChild(s),this.resultsList.appendChild(c)}else{var y=document.createElement("div");y.classList.add(_o.NO_RESULTS),y.textContent="No results",this.resultsList.appendChild(y)}},e.prototype.open=function(){this.isOpen||(this.wrapper.setAttribute(bR.EXPANDED,"true"),this.resultsList.removeAttribute("hidden"),this.isOpen=!0)},e.prototype.close=function(t){var n=this;if(this.isOpen){var i=t&&t.relatedTarget===this.poweredByLink;setTimeout(function(){n.wrapper.removeAttribute(bR.EXPANDED),n.resultsList.setAttribute("hidden",""),n.highlightedIndex=-1,n.isOpen=!1,n.clearResultsList()},i?100:0)}},e.prototype.goTo=function(t){if(!(!this.isOpen||!this.results.length)){t<0?t=this.results.length-1:t>=this.results.length&&(t=0);var n=this.resultsList.getElementsByTagName("li");this.highlightedIndex>-1&&n[this.highlightedIndex].classList.remove(_o.SELECTED_ITEM),n[t].classList.add(_o.SELECTED_ITEM),this.highlightedIndex=t}},e.prototype.handleKeyboardNavigation=function(t){var n=t.code!==void 0?t.code:t.keyCode;if(this.isOpen)switch(n){case"Tab":case"ArrowDown":case 40:t.preventDefault(),this.goTo(this.highlightedIndex+1);break;case"ArrowUp":case 38:t.preventDefault(),this.goTo(this.highlightedIndex-1);break;case"Enter":case 13:this.select(this.highlightedIndex);break;case"Esc":case 27:this.close();break}},e.prototype.select=function(t){var n=this.results[t];if(!n){$n.warn("No autocomplete result found at index: ".concat(t));return}var i;if(n.formattedAddress.includes(n.addressLabel))i=n.formattedAddress;else{var s=n.placeLabel||n.addressLabel;i="".concat(s,", ").concat(n.formattedAddress)}this.inputField.value=i;var l=this.config.onSelection;l&&l(n),this.close()},e.prototype.clearResultsList=function(){this.resultsList.innerHTML="",this.results=[]},e.prototype.remove=function(){$n.debug("AutocompleteUI removed."),this.inputField.remove(),this.resultsList.remove(),this.wrapper.remove()},e.prototype.setNear=function(t){return t==null?this.near=void 0:typeof t=="string"?this.near=t:this.near="".concat(t.latitude,",").concat(t.longitude),this},e.prototype.setPlaceholder=function(t){return this.config.placeholder=t,this.inputField.placeholder=t,this},e.prototype.setDisabled=function(t){return this.config.disabled=t,this.inputField.disabled=t,this},e.prototype.setResponsive=function(t){return this.config.responsive=t,F1(this.wrapper,this.config),this},e.prototype.setWidth=function(t){return this.config.width=t,F1(this.wrapper,this.config),this},e.prototype.setMaxHeight=function(t){return this.config.maxHeight=t,_R(this.resultsList,this.config),this},e.prototype.setMinCharacters=function(t){return this.config.minCharacters=t,this.config.threshold=t,this},e.prototype.setLimit=function(t){return this.config.limit=t,this},e.prototype.setShowMarkers=function(t){if(this.config.showMarkers=t,t){var n=document.createElement("img");n.classList.add(_o.RESULTS_MARKER),n.setAttribute("src",N1(this.config.markerColor));for(var i=this.resultsList.getElementsByTagName("li"),s=0;s<i.length;s++){var l=i[s].getElementsByClassName(_o.RESULTS_MARKER)[0];l||i[s].prepend(n.cloneNode())}}else for(var i=this.resultsList.getElementsByTagName("li"),s=0;s<i.length;s++){var n=i[s].getElementsByClassName(_o.RESULTS_MARKER)[0];n&&n.remove()}return this},e.prototype.setMarkerColor=function(t){this.config.markerColor=t;for(var n=this.resultsList.getElementsByClassName(_o.RESULTS_MARKER),i=0;i<n.length;i++)n[i].setAttribute("src",N1(t));return this},e.prototype.setHideResultsOnBlur=function(t){return this.config.hideResultsOnBlur=t,t?this.inputField.addEventListener("blur",this.close.bind(this),!0):this.inputField.removeEventListener("blur",this.close.bind(this),!0),this},e}(),Nee=function(e){return e.includes("_sk_")},jee=function(e){return e.includes("_live_")},T5=function(){function e(){}return Object.defineProperty(e,"VERSION",{get:function(){return v_},enumerable:!1,configurable:!0}),Object.defineProperty(e,"ui",{get:function(){return{maplibregl:B1.getMapLibre(),map:B1.createMap,marker:B1.createMarker,autocomplete:Fee.createAutocomplete}},enumerable:!1,configurable:!0}),e.initialize=function(t,n){if(n===void 0&&(n={}),!t)throw new O2("Publishable key required in initialization.");if(Nee(t))throw new O2("Secret keys are not allowed. Please use your Radar publishable key.");var i=jee(t),s=i?"error":"info",l=!i,d=Object.assign(wi.defaultOptions,{publishableKey:t,live:i,logLevel:s,debug:l},n);wi.setup(d),$n.info("initialized with ".concat(i?"live":"test"," publishableKey.")),n.debug&&$n.info("using options: ".concat(JSON.stringify(n))),window!=null&&window.RADAR_TEST_ENV||mR.getConfig()},e.clear=function(){wi.clear()},e.setUserId=function(t){if(!t){Vt.removeItem(Vt.USER_ID);return}Vt.setItem(Vt.USER_ID,String(t).trim())},e.setDescription=function(t){if(!t){Vt.removeItem(Vt.DESCRIPTION);return}Vt.setItem(Vt.DESCRIPTION,String(t).trim())},e.setMetadata=function(t){if(!t){Vt.removeItem(Vt.METADATA);return}Vt.setItem(Vt.METADATA,JSON.stringify(t))},e.getLocation=function(){return La.getCurrentPosition()},e.trackOnce=function(t){t===void 0&&(t={});try{return Ree.trackOnce(t)}finally{mR.getConfig(t)}},e.trackVerified=function(t){return t===void 0&&(t={}),vR.trackVerified(t)},e.trackVerifiedToken=function(t){return t===void 0&&(t={}),vR.trackVerified(t,!0)},e.getContext=function(t){return Tee.getContext(t)},e.setTripOptions=function(t){cc.setTripOptions(t)},e.clearTripOptions=function(){cc.clearTripOptions()},e.getTripOptions=function(){return cc.getTripOptions()},e.startTrip=function(t){return cc.startTrip(t)},e.updateTrip=function(t){return cc.updateTrip(t)},e.completeTrip=function(){return cc.completeTrip()},e.cancelTrip=function(){return cc.cancelTrip()},e.logConversion=function(t){return Iee.logConversion(t)},e.forwardGeocode=function(t){return D1.forwardGeocode(t)},e.reverseGeocode=function(t){return D1.reverseGeocode(t)},e.ipGeocode=function(){return D1.ipGeocode()},e.autocomplete=function(t){return tb.autocomplete(t)},e.searchGeofences=function(t){return tb.searchGeofences(t)},e.searchPlaces=function(t){return tb.searchPlaces(t)},e.validateAddress=function(t){return kee.validateAddress(t)},e.distance=function(t){return gR.distance(t)},e.matrix=function(t){return gR.matrix(t)},e}();class jE{static autoComplete(t,n){return T5.autocomplete({query:t,near:{longitude:n.longitude,latitude:n.latitude},limit:10})}}const ca=e=>{const t=Af(),n=ou(),i=$k(FO),l=Dc({queryKey:["me"],queryFn:async()=>{if(!i.value)throw new Error("No token");const E=(await t.get("/users/me")).user;return Nc(E)}}),d=async()=>{if(!self)return null;const E=(await t.get("/users")).users;return await Promise.all(E.map(async A=>{const z=Nc(A);return n.setQueryData(["user",A.id],z),z}))},c=async()=>{const E=await t.get("/users/".concat(e));return Nc(E)},y=async E=>{const A=new FormData;for(const z in E)if(z=="backgroundImage"||z=="profileImage")typeof E[z]!="string"?A.append(z,E[z],E[z].name):A.append(z,E[z]);else if(z=="rules")E[z].forEach((N,q)=>{A.append(z,N)});else if(z=="city"){const{addresses:N}=await jE.autoComplete(E[z],{longitude:-111.8338,latitude:41.73698}),q=N[0].latitude,F=N[0].longitude;A.append("city",E[z]),A.append("latitude",q),A.append("longitude",F)}else A.append(z,E[z]);return await t.put("/users/".concat(E.id),A)},b=Dc({queryKey:["users"],queryFn:d,enabled:!!i.value}),k=Dc({queryKey:["user",e],queryFn:c,enabled:!!e}),S=$c({queryKey:["me"],mutationFn:y,onMutate:async E=>{await n.cancelQueries(["me"]);const A=n.getQueryData(["me"]);return n.setQueryData(["me"],z=>({...z,...E})),{previous:A,data:E}},onError:(E,A,z)=>{n.setQueryData(["me"],z.previous)}});return{me:l,user:k,users:b,updateSelf:S}},xR=({component:e,path:t})=>{const{me:n}=ca();return n.isLoading?null:ne.jsx(ms,{path:t,render:()=>n!=null&&n.data?ne.jsx(Ls,{to:"/home"}):ne.jsx(e,{})})},VE=({user:e})=>ne.jsxs(ne.Fragment,{children:[ne.jsxs("div",{className:"relative",children:[ne.jsx("div",{className:"w-full min-w-full rounded-lg overflow-hidden",children:ne.jsx("img",{src:e.backgroundImage,alt:"profileImage",className:"w-full h-full aspect-square object-cover"})}),ne.jsx(kl,{h:"xl"}),ne.jsx("div",{className:"absolute left-1/2 -translate-x-1/2 bottom-0",children:ne.jsx("img",{src:e.profileImage,alt:"profileImage",className:"size-36 sm:size-40 rounded-full object-cover"})})]}),ne.jsx(kl,{h:"xl"})]}),gm=e=>{const t=new Date;if(e)var n=e;else var n=new Date;const i=t-n;let s=Math.floor(i/1e3);const l=Math.floor(s/60),d=Math.floor(l/60),c=Math.floor(d/24),y=Math.floor(c/30);return s<0&&(s=0),y>0?"".concat(y," month").concat(y>1?"s":""," ago"):c>0?"".concat(c," day").concat(c>1?"s":""," ago"):d>0?"".concat(d," hour").concat(d>1?"s":""," ago"):l>0?"".concat(l," minute").concat(l>1?"s":""," ago"):"".concat(s," second").concat(s>1?"s":""," ago")},Hg=e=>{const t=Af(),n=ou(),i=$k(FO),s=async()=>{const{conversations:E}=await t.get("/conversations"),A=E.map(z=>{const N=Nc(z),q=new Date(z.lastMessageAt);return{...N,lastMessageAt:gm(q)}});return A.forEach(z=>{const N=z.messages.map(q=>{const F=new Date(q.createdAt);return{...q,createdAt:gm(F)}});n.setQueryData(["conversation",z.id],{...z,messages:N})}),A},l=async()=>{const{conversation:E}=await t.get("/conversations/".concat(e)),A=Nc(E),z=new Date(E.lastMessageAt);return{...A,lastMessageAt:gm(z)}},d=({profile1Id:E,profile2Id:A})=>t.post("/conversations",{profile1Id:E,profile2Id:A}),c=async()=>(await t.get("/conversations/count/".concat(e))).count,y=$c({queryKey:["conversations"],mutationFn:d,onSettled:()=>{n.invalidateQueries("conversations")}}),b=Dc({queryKey:["conversations"],queryFn:s,enabled:!!i.value}),k=Dc({queryKey:["conversation",e],queryFn:l,enabled:!!e});return{count:Dc({queryKey:["count",e],queryFn:c,enabled:!!e}),conversation:k,conversations:b,create:y}},UE=({user:e,friends:t=!1})=>{const{count:n}=Hg(e.id);return n.isLoading?null:ne.jsxs("div",{className:"space-y-4",children:[ne.jsxs("div",{className:"flex-between",children:[ne.jsxs("p",{children:[e.firstName," ",e.lastName]}),ne.jsx("div",{className:"flex items-center gap-2",children:t&&ne.jsxs(ne.Fragment,{children:[ne.jsx(Zr,{icon:VX,size:"large"}),ne.jsx("p",{children:n.data||"0"})]})}),!t&&ne.jsxs("p",{children:[e.distance," mi"]})]}),ne.jsxs("div",{className:"flex-between",children:[ne.jsx("p",{children:e.city}),ne.jsx("p",{children:e.host?"Host":"Traveler"})]})]})},Vee=({user:e})=>{const t=Y0(),n=()=>{t.push("/users/".concat(e.id))};return ne.jsxs("div",{className:"bg-red p-5 color-secondary rounded-lg w-full",children:[ne.jsx(VE,{user:e}),ne.jsxs("div",{className:"space-y-4",children:[ne.jsx(UE,{user:e}),ne.jsx(Ml,{expand:"full",shape:"round",onClick:n,children:"View Profile"})]})]})},zl=({title:e,back:t=!1,children:n,icon:i,onClick:s,footer:l,href:d,theme:c})=>ne.jsxs(Ng,{children:[ne.jsx(eE,{children:ne.jsxs(nE,{children:[ne.jsx(tE,{children:e}),t&&ne.jsx(hA,{className:"float-start",children:ne.jsx(fK,{defaultHref:d||"/home"})}),i&&ne.jsx(hA,{slot:"start",onClick:s,children:ne.jsx(Ml,{children:i})})]})}),c&&ne.jsx(mf,{color:c,children:ne.jsx("div",{className:"text-black",children:n})}),!c&&ne.jsx(mf,{children:ne.jsx("div",{className:"text-black",children:n})}),l&&ne.jsx(HG,{children:l})]});var I5={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},wR=J.createContext&&J.createContext(I5),Uee=["attr","size","title"];function Hee(e,t){if(e==null)return{};var n=qee(e,t),i,s;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(s=0;s<l.length;s++)i=l[s],!(t.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(e,i)&&(n[i]=e[i])}return n}function qee(e,t){if(e==null)return{};var n={},i=Object.keys(e),s,l;for(l=0;l<i.length;l++)s=i[l],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function e0(){return e0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},e0.apply(this,arguments)}function SR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function t0(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?SR(Object(n),!0).forEach(function(i){Wee(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):SR(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function Wee(e,t,n){return t=Zee(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Zee(e){var t=Gee(e,"string");return typeof t=="symbol"?t:String(t)}function Gee(e,t){if(typeof e!="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function P5(e){return e&&e.map((t,n)=>J.createElement(t.tag,t0({key:n},t.attr),P5(t.child)))}function A5(e){return t=>J.createElement(Kee,e0({attr:t0({},e.attr)},t),P5(e.child))}function Kee(e){var t=n=>{var{attr:i,size:s,title:l}=e,d=Hee(e,Uee),c=s||n.size||"1em",y;return n.className&&(y=n.className),e.className&&(y=(y?y+" ":"")+e.className),J.createElement("svg",e0({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,i,d,{className:y,style:t0(t0({color:e.color||n.color},n.style),e.style),height:c,width:c,xmlns:"http://www.w3.org/2000/svg"}),l&&J.createElement("title",null,l),e.children)};return wR!==void 0?J.createElement(wR.Consumer,null,n=>t(n)):t(I5)}function kR(e){return A5({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M512 144v288c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V144c0-26.5 21.5-48 48-48h88l12.3-32.9c7-18.7 24.9-31.1 44.9-31.1h125.5c20 0 37.9 12.4 44.9 31.1L376 96h88c26.5 0 48 21.5 48 48zM376 288c0-66.2-53.8-120-120-120s-120 53.8-120 120 53.8 120 120 120 120-53.8 120-120zm-32 0c0 48.5-39.5 88-88 88s-88-39.5-88-88 39.5-88 88-88 88 39.5 88 88z"},child:[]}]})(e)}function Xee(e){return A5({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M304 48c0 26.51-21.49 48-48 48s-48-21.49-48-48 21.49-48 48-48 48 21.49 48 48zm-48 368c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zm208-208c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zM96 256c0-26.51-21.49-48-48-48S0 229.49 0 256s21.49 48 48 48 48-21.49 48-48zm12.922 99.078c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.491-48-48-48zm294.156 0c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.49-48-48-48zM108.922 60.922c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.491-48-48-48z"},child:[]}]})(e)}const Yee=({state:e})=>ne.jsx(Xee,{className:"".concat(e?"spin flex w-100 items-center pos-center":"hidden"),size:"32px"}),Jee=["users","requests_sent","requests_received","details"],b_=()=>{const{me:e}=ca(),t=EX(),n=t.pathname.split("/")[1],i=Bk();ce.useEffect(()=>{e.data?Jee.includes(n)?i(T2()):i(WY()):i(T2())},[e]),ce.useEffect(()=>{i(n==="messages"?WQ():n==="profile"?ZQ():qQ())},[t])},Qee=()=>{var t;b_();const{users:e}=ca();return e.isLoading?null:e.data?ne.jsx(zl,{title:"Home",children:ne.jsxs("div",{className:"flex flex-col gap-8 items-center max m-auto pt-4",children:[ne.jsx(Yee,{state:e.isLoading}),(t=e==null?void 0:e.data)==null?void 0:t.map(n=>ne.jsx(Vee,{user:n},n.id))]})}):ne.jsx(Ls,{to:"/login"})},ete=({user:e})=>e.rules.map((t,n)=>ne.jsxs("div",{className:"flex",children:[ne.jsx("p",{children:n+1}),ne.jsx("p",{className:"pl-4",children:t})]},n)),R5=({user:e})=>ne.jsxs("div",{className:"space-y-4 color-background rounded-t-xl p-4 pb-8",children:[ne.jsx(Ob,{size:"lg",fw:"bold",children:"Bio"}),ne.jsx("p",{children:e.bio}),ne.jsx(Ob,{size:"lg",fw:"bold",children:"House Rules"}),ne.jsx(ete,{user:e,className:"h-full"})]}),__=e=>{const t=Af(),i=Dc({queryKey:["requests"],queryFn:async()=>{let{sent:E,received:A}=await t.get("/requests");return E=E.map(z=>({...Nc(z),createdAt:gm(new Date(z.createdAt))})),A=A.map(z=>({...Nc(z),createdAt:gm(new Date(z.createdAt))})),{sent:E,received:A}}}),s=E=>t.del("/requests/".concat(E)),l=E=>t.del("/requests/accept/".concat(E)),d=({fromId:E,toId:A})=>t.post("/requests",{fromId:E,toId:A}),y=Dc({queryKey:["request",e],queryFn:async()=>(await t.get("/requests/".concat(e))).request,enabled:!!e}),b=$c({queryKey:["requests"],mutationFn:s,onSettled:()=>{i.refetch()}}),k=$c({queryKey:["requests"],mutationFn:l,onSettled:()=>{i.refetch()}}),S=$c({queryKey:["requests"],mutationFn:d,onSettled:()=>{i.refetch(),y.refetch()}});return{requests:i,accept:k,cancel:b,create:S,request:y}},tte=({user:e})=>{var c,y;const t=_E().id,{me:n}=ca(),{conversation:i}=Hg(parseInt(t)),{create:s,request:l}=__(parseInt(t));if(l.isLoading)return null;const d=()=>{s.mutateAsync({fromId:n.data.profileId,toId:e.id})};return ne.jsxs("div",{className:"color-background",children:[ne.jsxs("div",{className:"color-secondary",children:[ne.jsx(VE,{user:e}),((c=l.data)==null?void 0:c.toId)==n.data.profileId&&ne.jsx("div",{className:"text-center mb-2",children:ne.jsx("p",{children:"This user has sent you a chat request!"})}),((y=l.data)==null?void 0:y.fromId)==n.data.profileId&&ne.jsx("div",{className:"text-center mb-2",children:ne.jsx("p",{children:"Your chat request is pending"})}),ne.jsx("div",{className:"text-center mb-2",children:i.data&&ne.jsx("p",{children:"You are currently friends!"})}),ne.jsx(UE,{user:e,friends:!0}),ne.jsx(kl,{h:"lg"})]}),ne.jsxs("div",{className:"color-secondary",children:[ne.jsx(R5,{user:e}),!l.data&&!i.data&&ne.jsx(UG,{class:"fixed bottom-2 right-2",children:ne.jsx(Ml,{color:"tertiary",onClick:d,children:ne.jsx(Zr,{icon:BX,size:"large"})})})]})]})},nte=()=>{const e=_E().id,{user:t}=ca(parseInt(e));return t.isLoading?null:t.data?ne.jsx(zl,{title:"User",back:!0,href:"/home",theme:"secondary",children:ne.jsx("div",{className:"color-secondary",children:ne.jsx("div",{className:"max m-auto pt-4",children:ne.jsx(tte,{user:t.data})})})}):ne.jsx(Ls,{to:"/login"})},M5=({request:e,sent:t})=>{const{me:n}=ca(),{cancel:i,accept:s}=__(),{create:l}=Hg(),d=async()=>{t===!0&&i.mutateAsync(e.id),t===!1&&(await s.mutateAsync(e.id),l.mutateAsync({profile1Id:n.data.id,profile2Id:e.fromId}))};return ne.jsxs(ne.Fragment,{children:[ne.jsxs("div",{className:"flex flex-row justify-between items-center",children:[ne.jsxs("div",{className:"flex flex-row items-center gap-4",children:[ne.jsx(Og,{size:"lg",src:e.profileImage}),ne.jsxs("div",{className:"flex flex-col",children:[ne.jsxs("p",{children:[e.firstName," ",e.lastName]}),ne.jsx("p",{children:e.createdAt})]})]}),ne.jsx(q0,{className:t?"bg-red-500":"bg-green-500",onClick:d,children:t?"Cancel":"Accept"})]}),ne.jsx(W0,{})]})},ite=({requests:e})=>ne.jsxs("div",{className:"flex flex-col gap-7 p-4 overflow-y-auto max m-auto",children:[e.received.map((t,n)=>ne.jsx(M5,{request:t,sent:!1},n)),e.received.length===0&&ne.jsx("p",{className:"text-center text-sm ",children:"You currently dont have any chat requests"})]}),rte=()=>{const{requests:e}=__();return e.isLoading?null:e.data?ne.jsx(zl,{title:"Requests Received",back:!0,children:ne.jsx(ite,{requests:e.data})}):ne.jsx(Ls,{to:"/login"})},ote=({m:e,conversation:t,setLoad:n})=>{ce.useEffect(()=>{n(l=>l-1)},[]);const i=e.senderId!=t.id,s=i?"bg-blue-700 text-white rounded-tl-lg":"bg-white rounded-tr-lg";return ne.jsxs("div",{className:"flex flex-col gap-1 p-3 ".concat(i&&" text-right ml-auto"),children:[ne.jsx("p",{className:"label",children:e.createdAt}),ne.jsx("div",{className:"w-fit max-w-80 p-3 ".concat(s," rounded-b"),children:e.body})]})},ste=({conversation:e})=>{const t=ce.useRef(null),[n,i]=ce.useState(e==null?void 0:e.messages.length);return ce.useEffect(()=>{t.current&&t.current.scrollIntoView({behavior:"smooth"})},[t,e]),ce.useEffect(()=>{n==0&&t.current.scrollIntoView()},[n]),ne.jsxs("div",{className:"flex flex-col overflow-y-auto",children:[e.messages.map((s,l)=>ne.jsx(ote,{m:s,conversation:e,setLoad:i},l)),ne.jsx("div",{ref:t})]})},ate=e=>{const t=Af(),n=ou(),i=async l=>t.post("/messages",{body:l,receiverId:e.id,profile1Id:e.profile1Id,profile2Id:e.profile2Id});return{send:$c({querykey:["conversation",e.id],mutationFn:i,onSettled:l=>{n.invalidateQueries(["conversation",e.id])},enabled:!!e.id})}},lte=({conversation:e})=>{const{send:t}=ate(e.data),[n,i]=ce.useState(""),s=async()=>{n!=""&&(t.mutateAsync(n),i(""))};return ne.jsxs("div",{className:"shadow-md pt-4 bg-white p-3 flex flex-row items-center gap-2",children:[ne.jsx(Zr,{icon:LX,size:"large"}),ne.jsxs(WG,{color:"white",className:"w-full","no-lines":!0,children:[ne.jsx(qG,{name:"Message",placeholder:"Enter Message",class:"w-full",color:"white",onIonInput:l=>i(l.target.value),value:n}),ne.jsx(Ml,{slot:"end",fill:"clear",onClick:s,children:ne.jsx(Zr,{icon:UX,size:"medium"})})]})]})},cte=()=>{b_();const e=_E().id,{conversation:t}=Hg(parseInt(e));return t.isLoading?null:t.error?ne.jsx(Ls,{to:"/login"}):ne.jsx(zl,{title:"".concat(t.data.firstName," ").concat(t.data.lastName),back:!0,footer:ne.jsx(lte,{conversation:t}),href:"/messages",children:ne.jsx(ste,{conversation:t.data})})},ute=({conversation:e})=>{const t=Y0();return ne.jsxs(ne.Fragment,{children:[ne.jsxs("div",{className:"flex flex-row gap-3 w-full justify-between items-center cursor-pointer",onClick:()=>t.push("/details/".concat(e.id)),children:[ne.jsxs("div",{className:"flex flex-row gap-3 items-center",children:[ne.jsx(Og,{size:"lg",src:e.profileImage}),ne.jsxs("div",{className:"flex flex-col justify-between",children:[ne.jsxs("p",{className:"truncate",children:[e.firstName," ",e.lastName]}),ne.jsx("p",{className:"label truncate max-w-52",children:e.lastMessage}),ne.jsx("p",{className:"label truncate",children:e.lastMessageAt})]})]}),ne.jsx("div",{children:ne.jsx(Zr,{icon:DX,size:"large"})})]}),ne.jsx(W0,{})]})},dte=({conversations:e})=>ne.jsxs("div",{className:"max justify-center flex flex-col m-auto pt-5",children:[ne.jsx("p",{className:"pb-5",children:"Below are your chats"}),ne.jsx("div",{className:"flex flex-col gap-2",children:e.map((t,n)=>ne.jsx(ute,{conversation:t},n))})]}),hte=()=>{b_();const{conversations:e}=Hg();if(e.isLoading)return null;if(!e.data)return ne.jsx(Ls,{to:"/login"});const t=()=>{Wi.open("chat-menu")},n=ne.jsx(Ml,{onClick:t,children:ne.jsx(Zr,{icon:_O,size:"large"})});return ne.jsx(ne.Fragment,{children:ne.jsx(zl,{title:"Messages",back:!1,icon:n,children:ne.jsx(dte,{conversations:e.data})})})},fte=({requests:e})=>ne.jsxs("div",{className:"flex flex-col gap-7 p-4 overflow-y-auto max m-auto",children:[e.sent.map((t,n)=>ne.jsx(M5,{request:t,sent:!0},n)),e.sent&&e.sent.length===0&&ne.jsx("p",{className:"text-center text-sm ",children:"You currently dont have any pending chat requests"})]}),pte=()=>{const{requests:e}=__();return e.isLoading?null:e.data?ne.jsx(zl,{title:"Requests Sent",back:!0,children:ne.jsx(fte,{requests:e.data})}):ne.jsx(Ls,{to:"/login"})},mte=({user:e})=>ne.jsxs("div",{className:"color-background",children:[ne.jsxs("div",{className:"color-secondary",children:[ne.jsx(VE,{user:e}),ne.jsx(UE,{user:e,friends:!0}),ne.jsx(kl,{h:"lg"})]}),ne.jsx("div",{className:"color-secondary",children:ne.jsx(R5,{user:e})})]}),gte=()=>{b_();const{me:e}=ca();if(NO(),e.isLoading)return null;if(!e.data)return ne.jsx(Ls,{to:"/login"});const t=async()=>{Wi.enable(!0,"profile-menu"),Wi.open("profile-menu")},n=ne.jsx(Ml,{onClick:t,children:ne.jsx(Zr,{icon:_O,size:"large"})});return ne.jsx(ne.Fragment,{children:ne.jsx(zl,{title:"Profile",icon:n,theme:"secondary",children:ne.jsx("div",{className:"color-secondary",children:ne.jsx("div",{className:"max m-auto pt-4",children:ne.jsx(mte,{user:e.data})})})})})};var yte=function e(t,n){if(t===n)return!0;if(t&&n&&typeof t=="object"&&typeof n=="object"){if(t.constructor!==n.constructor)return!1;var i,s,l;if(Array.isArray(t)){if(i=t.length,i!=n.length)return!1;for(s=i;s--!==0;)if(!e(t[s],n[s]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if(l=Object.keys(t),i=l.length,i!==Object.keys(n).length)return!1;for(s=i;s--!==0;)if(!Object.prototype.hasOwnProperty.call(n,l[s]))return!1;for(s=i;s--!==0;){var d=l[s];if(!e(t[d],n[d]))return!1}return!0}return t!==t&&n!==n};const ER=fd(yte);function vte(e){if(!/^[0-9a-zA-Z-]+$/.test(e))throw new Error('[@mantine/use-form] Form name "'.concat(e,'" is invalid, it should contain only letters, numbers and dashes'))}const bte=typeof window<"u"?ce.useLayoutEffect:ce.useEffect;function Tr(e,t){bte(()=>{if(e)return window.addEventListener(e,t),()=>window.removeEventListener(e,t)},[e])}function _te(e,t){e&&vte(e),Tr("mantine-form:".concat(e,":set-field-value"),n=>t.setFieldValue(n.detail.path,n.detail.value)),Tr("mantine-form:".concat(e,":set-values"),n=>t.setValues(n.detail)),Tr("mantine-form:".concat(e,":set-initial-values"),n=>t.setInitialValues(n.detail)),Tr("mantine-form:".concat(e,":set-errors"),n=>t.setErrors(n.detail)),Tr("mantine-form:".concat(e,":set-field-error"),n=>t.setFieldError(n.detail.path,n.detail.error)),Tr("mantine-form:".concat(e,":clear-field-error"),n=>t.clearFieldError(n.detail)),Tr("mantine-form:".concat(e,":clear-errors"),t.clearErrors),Tr("mantine-form:".concat(e,":reset"),t.reset),Tr("mantine-form:".concat(e,":validate"),t.validate),Tr("mantine-form:".concat(e,":validate-field"),n=>t.validateField(n.detail)),Tr("mantine-form:".concat(e,":reorder-list-item"),n=>t.reorderListItem(n.detail.path,n.detail.payload)),Tr("mantine-form:".concat(e,":remove-list-item"),n=>t.removeListItem(n.detail.path,n.detail.index)),Tr("mantine-form:".concat(e,":insert-list-item"),n=>t.insertListItem(n.detail.path,n.detail.item,n.detail.index)),Tr("mantine-form:".concat(e,":set-dirty"),n=>t.setDirty(n.detail)),Tr("mantine-form:".concat(e,":set-touched"),n=>t.setTouched(n.detail)),Tr("mantine-form:".concat(e,":reset-dirty"),n=>t.resetDirty(n.detail)),Tr("mantine-form:".concat(e,":reset-touched"),t.resetTouched)}function $2(e){return e===null||typeof e!="object"?{}:Object.keys(e).reduce((t,n)=>{const i=e[n];return i!=null&&i!==!1&&(t[n]=i),t},{})}function xte(e){return t=>{if(!t)e(t);else if(typeof t=="function")e(t);else if(typeof t=="object"&&"nativeEvent"in t){const{currentTarget:n}=t;n instanceof HTMLInputElement?n.type==="checkbox"?e(n.checked):e(n.value):(n instanceof HTMLTextAreaElement||n instanceof HTMLSelectElement)&&e(n.value)}else e(t)}}function CR(e,t){const n=Object.keys(e);if(typeof t=="string"){const i=n.filter(s=>s.startsWith("".concat(t,".")));return e[t]||i.some(s=>e[s])||!1}return n.some(i=>e[i])}function z5(e,t){if(t===null||typeof t!="object")return{};const n={...t};return Object.keys(t).forEach(i=>{i.includes("".concat(String(e),"."))&&delete n[i]}),n}function TR(e,t){const n=e.substring(t.length+1).split(".")[0];return parseInt(n,10)}function IR(e,t,n,i){if(t===void 0)return n;const s="".concat(String(e));let l=n;i===-1&&(l=z5("".concat(s,".").concat(t),l));const d={...l},c=new Set;return Object.entries(l).filter(([y])=>{if(!y.startsWith("".concat(s,".")))return!1;const b=TR(y,s);return Number.isNaN(b)?!1:b>=t}).forEach(([y,b])=>{const k=TR(y,s),S=y.replace("".concat(s,".").concat(k),"".concat(s,".").concat(k+i));d[S]=b,c.add(S),c.has(y)||delete d[y]}),d}function wte(e,{from:t,to:n},i){const s="".concat(e,".").concat(t),l="".concat(e,".").concat(n),d={...i};return Object.keys(i).every(c=>{let y,b;if(c.startsWith(s)&&(y=c,b=c.replace(s,l)),c.startsWith(l)&&(y=c.replace(l,s),b=c),y&&b){const k=d[y],S=d[b];return S===void 0?delete d[y]:d[y]=S,k===void 0?delete d[b]:d[b]=k,!1}return!0}),d}function L5(e){return typeof e!="string"?[]:e.split(".")}function Ca(e,t){const n=L5(e);if(n.length===0||typeof t!="object"||t===null)return;let i=t[n[0]];for(let s=1;s<n.length&&i!==void 0;s+=1)i=i[n[s]];return i}function PR(e,t,n){typeof n.value=="object"&&(n.value=Th(n.value)),!n.enumerable||n.get||n.set||!n.configurable||!n.writable||t==="__proto__"?Object.defineProperty(e,t,n):e[t]=n.value}function Th(e){if(typeof e!="object")return e;var t=0,n,i,s,l=Object.prototype.toString.call(e);if(l==="[object Object]"?s=Object.create(e.__proto__||null):l==="[object Array]"?s=Array(e.length):l==="[object Set]"?(s=new Set,e.forEach(function(d){s.add(Th(d))})):l==="[object Map]"?(s=new Map,e.forEach(function(d,c){s.set(Th(c),Th(d))})):l==="[object Date]"?s=new Date(+e):l==="[object RegExp]"?s=new RegExp(e.source,e.flags):l==="[object DataView]"?s=new e.constructor(Th(e.buffer)):l==="[object ArrayBuffer]"?s=e.slice(0):l.slice(-6)==="Array]"&&(s=new e.constructor(e)),s){for(i=Object.getOwnPropertySymbols(e);t<i.length;t++)PR(s,i[t],Object.getOwnPropertyDescriptor(e,i[t]));for(t=0,i=Object.getOwnPropertyNames(e);t<i.length;t++)Object.hasOwnProperty.call(s,n=i[t])&&s[n]===e[n]||PR(s,n,Object.getOwnPropertyDescriptor(e,n))}return s||e}function x_(e,t,n){const i=L5(e);if(i.length===0)return n;const s=Th(n);if(i.length===1)return s[i[0]]=t,s;let l=s[i[0]];for(let d=1;d<i.length-1;d+=1){if(l===void 0)return s;l=l[i[d]]}return l[i[i.length-1]]=t,s}function Ste(e,{from:t,to:n},i){const s=Ca(e,i);if(!Array.isArray(s))return i;const l=[...s],d=s[t];return l.splice(t,1),l.splice(n,0,d),x_(e,l,i)}function kte(e,t,n,i){const s=Ca(e,i);if(!Array.isArray(s))return i;const l=[...s];return l.splice(typeof n=="number"?n:l.length,0,t),x_(e,l,i)}function Ete(e,t,n){const i=Ca(e,n);return Array.isArray(i)?x_(e,i.filter((s,l)=>l!==t),n):n}function AR(e){const t=$2(e);return{hasErrors:Object.keys(t).length>0,errors:t}}function B2(e,t,n="",i={}){return typeof e!="object"||e===null?i:Object.keys(e).reduce((s,l)=>{const d=e[l],c="".concat(n===""?"":"".concat(n,".")).concat(l),y=Ca(c,t);let b=!1;return typeof d=="function"&&(s[c]=d(y,t,c)),typeof d=="object"&&Array.isArray(y)&&(b=!0,y.forEach((k,S)=>B2(d,t,"".concat(c,".").concat(S),s))),typeof d=="object"&&typeof y=="object"&&y!==null&&(b||B2(d,t,c,s)),s},i)}function F2(e,t){return AR(typeof e=="function"?e(t):B2(e,t))}function Pv(e,t,n){if(typeof e!="string")return{hasError:!1,error:null};const i=F2(t,n),s=Object.keys(i.errors).find(l=>e.split(".").every((d,c)=>d===l.split(".")[c]));return{hasError:!!s,error:s?i.errors[s]:null}}const Cte="__MANTINE_FORM_INDEX__";function RR(e,t){return t?typeof t=="boolean"?t:Array.isArray(t)?t.includes(e.replace(/[.][0-9]/g,".".concat(Cte))):!1:!1}function w_({name:e,initialValues:t,initialErrors:n={},initialDirty:i={},initialTouched:s={},clearInputErrorOnChange:l=!0,validateInputOnChange:d=!1,validateInputOnBlur:c=!1,onValuesChange:y,transformValues:b=E=>E,enhanceGetInputProps:k,validate:S}={}){const[E,A]=ce.useState(s),[z,N]=ce.useState(i),[q,F]=ce.useState(t||{}),[$,V]=ce.useState($2(n)),[Z,Q]=ce.useState(!1),fe=ce.useRef(t||{}),oe=ot=>{fe.current=ot},re=ce.useCallback(ot=>{Z||(Q(!0),F(ot),oe(ot))},[Z]),Be=ce.useCallback(()=>A({}),[]),Le=ot=>{const $t=ot?{...q,...ot}:q;oe($t),N({})},Fe=ce.useCallback(ot=>V($t=>$2(typeof ot=="function"?ot($t):ot)),[]),Ze=ce.useCallback(()=>V({}),[]),Pe=ce.useCallback(()=>{F(fe.current),Ze(),N({}),Be()},[]),De=ce.useCallback((ot,$t)=>Fe(Ct=>({...Ct,[ot]:$t})),[]),Oe=ce.useCallback(ot=>Fe($t=>{if(typeof ot!="string")return $t;const Ct={...$t};return delete Ct[ot],Ct}),[]),$e=ce.useCallback(ot=>N($t=>{if(typeof ot!="string")return $t;const Ct=z5(ot,$t);return delete Ct[ot],Ct}),[]),He=ce.useCallback((ot,$t)=>{const Ct=RR(ot,d);$e(ot),A(zt=>({...zt,[ot]:!0})),F(zt=>{const Rn=Ca(ot,zt),Ne=x_(ot,$t instanceof Function?$t(Rn):$t,zt);if(Ct){const qn=Pv(ot,S,Ne);qn.hasError?De(ot,qn.error):Oe(ot)}return y==null||y(Ne,zt),Ne}),!Ct&&l&&De(ot,null)},[y]),we=ce.useCallback(ot=>{F($t=>{const Ct=ot instanceof Function?ot($t):ot,zt={...$t,...Ct};return y==null||y(zt,$t),zt}),l&&Ze()},[y]),Ee=ce.useCallback((ot,$t)=>{$e(ot),F(Ct=>{const zt=Ste(ot,$t,Ct);return y==null||y(zt,Ct),zt}),V(Ct=>wte(ot,$t,Ct))},[]),Ie=ce.useCallback((ot,$t)=>{$e(ot),F(Ct=>{const zt=Ete(ot,$t,Ct);return y==null||y(zt,Ct),zt}),V(Ct=>IR(ot,$t,Ct,-1))},[]),qe=ce.useCallback((ot,$t,Ct)=>{$e(ot),F(zt=>{const Rn=kte(ot,$t,Ct,zt);return y==null||y(Rn,zt),Rn}),V(zt=>IR(ot,Ct,zt,1))},[]),Ye=ce.useCallback(()=>{const ot=F2(S,q);return V(ot.errors),ot},[q,S]),yt=ce.useCallback(ot=>{const $t=Pv(ot,S,q);return $t.hasError?De(ot,$t.error):Oe(ot),$t},[q,S]),wt=(ot,{type:$t="input",withError:Ct=!0,withFocus:zt=!0,...Rn}={})=>{const qn={onChange:xte(Ki=>He(ot,Ki))};return Ct&&(qn.error=$[ot]),$t==="checkbox"?qn.checked=Ca(ot,q):qn.value=Ca(ot,q),zt&&(qn.onFocus=()=>A(Ki=>({...Ki,[ot]:!0})),qn.onBlur=()=>{if(RR(ot,c)){const Ki=Pv(ot,S,q);Ki.hasError?De(ot,Ki.error):Oe(ot)}}),Object.assign(qn,k==null?void 0:k({inputProps:qn,field:ot,options:{type:$t,withError:Ct,withFocus:zt,...Rn},form:ir}))},Mt=(ot,$t)=>Ct=>{Ct==null||Ct.preventDefault();const zt=Ye();zt.hasErrors?$t==null||$t(zt.errors,q,Ct):ot==null||ot(b(q),Ct)},Ft=ot=>b(ot||q),Yt=ce.useCallback(ot=>{ot.preventDefault(),Pe()},[]),vn=ot=>{if(ot){const Ct=Ca(ot,z);if(typeof Ct=="boolean")return Ct;const zt=Ca(ot,q),Rn=Ca(ot,fe.current);return!ER(zt,Rn)}return Object.keys(z).length>0?CR(z):!ER(q,fe.current)},ei=ce.useCallback(ot=>CR(E,ot),[E]),Mi=ce.useCallback(ot=>ot?!Pv(ot,S,q).hasError:!F2(S,q).hasErrors,[q,S]),ir={initialized:Z,values:q,errors:$,initialize:re,setValues:we,setInitialValues:oe,setErrors:Fe,setFieldValue:He,setFieldError:De,clearFieldError:Oe,clearErrors:Ze,reset:Pe,validate:Ye,validateField:yt,reorderListItem:Ee,removeListItem:Ie,insertListItem:qe,getInputProps:wt,onSubmit:Mt,onReset:Yt,isDirty:vn,isTouched:ei,setTouched:A,setDirty:N,resetTouched:Be,resetDirty:Le,isValid:Mi,getTransformedValues:Ft};return _te(e,ir),ir}function S_(e){return t=>{const n=e.safeParse(t);if(n.success)return{};const i={};return n.error.errors.forEach(s=>{i[s.path.join(".")]=s.message}),i}}var Pn;(function(e){e.assertEqual=s=>s;function t(s){}e.assertIs=t;function n(s){throw new Error}e.assertNever=n,e.arrayToEnum=s=>{const l={};for(const d of s)l[d]=d;return l},e.getValidEnumValues=s=>{const l=e.objectKeys(s).filter(c=>typeof s[s[c]]!="number"),d={};for(const c of l)d[c]=s[c];return e.objectValues(d)},e.objectValues=s=>e.objectKeys(s).map(function(l){return s[l]}),e.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const l=[];for(const d in s)Object.prototype.hasOwnProperty.call(s,d)&&l.push(d);return l},e.find=(s,l)=>{for(const d of s)if(l(d))return d},e.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&isFinite(s)&&Math.floor(s)===s;function i(s,l=" | "){return s.map(d=>typeof d=="string"?"'".concat(d,"'"):d).join(l)}e.joinValues=i,e.jsonStringifyReplacer=(s,l)=>typeof l=="bigint"?l.toString():l})(Pn||(Pn={}));var N2;(function(e){e.mergeShapes=(t,n)=>({...t,...n})})(N2||(N2={}));const It=Pn.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),pc=e=>{switch(typeof e){case"undefined":return It.undefined;case"string":return It.string;case"number":return isNaN(e)?It.nan:It.number;case"boolean":return It.boolean;case"function":return It.function;case"bigint":return It.bigint;case"symbol":return It.symbol;case"object":return Array.isArray(e)?It.array:e===null?It.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?It.promise:typeof Map<"u"&&e instanceof Map?It.map:typeof Set<"u"&&e instanceof Set?It.set:typeof Date<"u"&&e instanceof Date?It.date:It.object;default:return It.unknown}},ft=Pn.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),Tte=e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:");class na extends Error{constructor(t){super(),this.issues=[],this.addIssue=i=>{this.issues=[...this.issues,i]},this.addIssues=(i=[])=>{this.issues=[...this.issues,...i]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=t}get errors(){return this.issues}format(t){const n=t||function(l){return l.message},i={_errors:[]},s=l=>{for(const d of l.issues)if(d.code==="invalid_union")d.unionErrors.map(s);else if(d.code==="invalid_return_type")s(d.returnTypeError);else if(d.code==="invalid_arguments")s(d.argumentsError);else if(d.path.length===0)i._errors.push(n(d));else{let c=i,y=0;for(;y<d.path.length;){const b=d.path[y];y===d.path.length-1?(c[b]=c[b]||{_errors:[]},c[b]._errors.push(n(d))):c[b]=c[b]||{_errors:[]},c=c[b],y++}}};return s(this),i}toString(){return this.message}get message(){return JSON.stringify(this.issues,Pn.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=n=>n.message){const n={},i=[];for(const s of this.issues)s.path.length>0?(n[s.path[0]]=n[s.path[0]]||[],n[s.path[0]].push(t(s))):i.push(t(s));return{formErrors:i,fieldErrors:n}}get formErrors(){return this.flatten()}}na.create=e=>new na(e);const Gm=(e,t)=>{let n;switch(e.code){case ft.invalid_type:e.received===It.undefined?n="Required":n="Expected ".concat(e.expected,", received ").concat(e.received);break;case ft.invalid_literal:n="Invalid literal value, expected ".concat(JSON.stringify(e.expected,Pn.jsonStringifyReplacer));break;case ft.unrecognized_keys:n="Unrecognized key(s) in object: ".concat(Pn.joinValues(e.keys,", "));break;case ft.invalid_union:n="Invalid input";break;case ft.invalid_union_discriminator:n="Invalid discriminator value. Expected ".concat(Pn.joinValues(e.options));break;case ft.invalid_enum_value:n="Invalid enum value. Expected ".concat(Pn.joinValues(e.options),", received '").concat(e.received,"'");break;case ft.invalid_arguments:n="Invalid function arguments";break;case ft.invalid_return_type:n="Invalid function return type";break;case ft.invalid_date:n="Invalid date";break;case ft.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(n='Invalid input: must include "'.concat(e.validation.includes,'"'),typeof e.validation.position=="number"&&(n="".concat(n," at one or more positions greater than or equal to ").concat(e.validation.position))):"startsWith"in e.validation?n='Invalid input: must start with "'.concat(e.validation.startsWith,'"'):"endsWith"in e.validation?n='Invalid input: must end with "'.concat(e.validation.endsWith,'"'):Pn.assertNever(e.validation):e.validation!=="regex"?n="Invalid ".concat(e.validation):n="Invalid";break;case ft.too_small:e.type==="array"?n="Array must contain ".concat(e.exact?"exactly":e.inclusive?"at least":"more than"," ").concat(e.minimum," element(s)"):e.type==="string"?n="String must contain ".concat(e.exact?"exactly":e.inclusive?"at least":"over"," ").concat(e.minimum," character(s)"):e.type==="number"?n="Number must be ".concat(e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than ").concat(e.minimum):e.type==="date"?n="Date must be ".concat(e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than ").concat(new Date(Number(e.minimum))):n="Invalid input";break;case ft.too_big:e.type==="array"?n="Array must contain ".concat(e.exact?"exactly":e.inclusive?"at most":"less than"," ").concat(e.maximum," element(s)"):e.type==="string"?n="String must contain ".concat(e.exact?"exactly":e.inclusive?"at most":"under"," ").concat(e.maximum," character(s)"):e.type==="number"?n="Number must be ".concat(e.exact?"exactly":e.inclusive?"less than or equal to":"less than"," ").concat(e.maximum):e.type==="bigint"?n="BigInt must be ".concat(e.exact?"exactly":e.inclusive?"less than or equal to":"less than"," ").concat(e.maximum):e.type==="date"?n="Date must be ".concat(e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"," ").concat(new Date(Number(e.maximum))):n="Invalid input";break;case ft.custom:n="Invalid input";break;case ft.invalid_intersection_types:n="Intersection results could not be merged";break;case ft.not_multiple_of:n="Number must be a multiple of ".concat(e.multipleOf);break;case ft.not_finite:n="Number must be finite";break;default:n=t.defaultError,Pn.assertNever(e)}return{message:n}};let O5=Gm;function Ite(e){O5=e}function n0(){return O5}const i0=e=>{const{data:t,path:n,errorMaps:i,issueData:s}=e,l=[...n,...s.path||[]],d={...s,path:l};let c="";const y=i.filter(b=>!!b).slice().reverse();for(const b of y)c=b(d,{data:t,defaultError:c}).message;return{...s,path:l,message:s.message||c}},Pte=[];function At(e,t){const n=i0({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,n0(),Gm].filter(i=>!!i)});e.common.issues.push(n)}class Xr{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,n){const i=[];for(const s of n){if(s.status==="aborted")return cn;s.status==="dirty"&&t.dirty(),i.push(s.value)}return{status:t.value,value:i}}static async mergeObjectAsync(t,n){const i=[];for(const s of n)i.push({key:await s.key,value:await s.value});return Xr.mergeObjectSync(t,i)}static mergeObjectSync(t,n){const i={};for(const s of n){const{key:l,value:d}=s;if(l.status==="aborted"||d.status==="aborted")return cn;l.status==="dirty"&&t.dirty(),d.status==="dirty"&&t.dirty(),l.value!=="__proto__"&&(typeof d.value<"u"||s.alwaysSet)&&(i[l.value]=d.value)}return{status:t.value,value:i}}}const cn=Object.freeze({status:"aborted"}),D5=e=>({status:"dirty",value:e}),ho=e=>({status:"valid",value:e}),j2=e=>e.status==="aborted",V2=e=>e.status==="dirty",Km=e=>e.status==="valid",r0=e=>typeof Promise<"u"&&e instanceof Promise;var Gt;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(Gt||(Gt={}));class Oa{constructor(t,n,i,s){this._cachedPath=[],this.parent=t,this.data=n,this._path=i,this._key=s}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const MR=(e,t)=>{if(Km(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new na(e.common.issues);return this._error=n,this._error}}};function dn(e){if(!e)return{};const{errorMap:t,invalid_type_error:n,required_error:i,description:s}=e;if(t&&(n||i))throw new Error('Can\'t use "invalid_type_error" or "required_error" in conjunction with custom error map.');return t?{errorMap:t,description:s}:{errorMap:(d,c)=>d.code!=="invalid_type"?{message:c.defaultError}:typeof c.data>"u"?{message:i!=null?i:c.defaultError}:{message:n!=null?n:c.defaultError},description:s}}class mn{constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(t){return pc(t.data)}_getOrReturnCtx(t,n){return n||{common:t.parent.common,data:t.data,parsedType:pc(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new Xr,ctx:{common:t.parent.common,data:t.data,parsedType:pc(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const n=this._parse(t);if(r0(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(t){const n=this._parse(t);return Promise.resolve(n)}parse(t,n){const i=this.safeParse(t,n);if(i.success)return i.data;throw i.error}safeParse(t,n){var i;const s={common:{issues:[],async:(i=n==null?void 0:n.async)!==null&&i!==void 0?i:!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:pc(t)},l=this._parseSync({data:t,path:s.path,parent:s});return MR(s,l)}async parseAsync(t,n){const i=await this.safeParseAsync(t,n);if(i.success)return i.data;throw i.error}async safeParseAsync(t,n){const i={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:pc(t)},s=this._parse({data:t,path:i.path,parent:i}),l=await(r0(s)?s:Promise.resolve(s));return MR(i,l)}refine(t,n){const i=s=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(s):n;return this._refinement((s,l)=>{const d=t(s),c=()=>l.addIssue({code:ft.custom,...i(s)});return typeof Promise<"u"&&d instanceof Promise?d.then(y=>y?!0:(c(),!1)):d?!0:(c(),!1)})}refinement(t,n){return this._refinement((i,s)=>t(i)?!0:(s.addIssue(typeof n=="function"?n(i,s):n),!1))}_refinement(t){return new aa({schema:this,typeName:en.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}optional(){return yl.create(this,this._def)}nullable(){return hd.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return ia.create(this,this._def)}promise(){return xf.create(this,this._def)}or(t){return Qm.create([this,t],this._def)}and(t){return eg.create(this,t,this._def)}transform(t){return new aa({...dn(this._def),schema:this,typeName:en.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const n=typeof t=="function"?t:()=>t;return new og({...dn(this._def),innerType:this,defaultValue:n,typeName:en.ZodDefault})}brand(){return new B5({typeName:en.ZodBranded,type:this,...dn(this._def)})}catch(t){const n=typeof t=="function"?t:()=>t;return new l0({...dn(this._def),innerType:this,catchValue:n,typeName:en.ZodCatch})}describe(t){const n=this.constructor;return new n({...this._def,description:t})}pipe(t){return qg.create(this,t)}readonly(){return u0.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const Ate=/^c[^\s-]{8,}$/i,Rte=/^[a-z][a-z0-9]*$/,Mte=/^[0-9A-HJKMNP-TV-Z]{26}$/,zte=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,Lte=/^(?!\.)(?!.*\.\.)([A-Z0-9_+-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,Ote="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let j1;const Dte=/^(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))$/,$te=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,Bte=e=>e.precision?e.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{".concat(e.precision,"}(([+-]\\d{2}(:?\\d{2})?)|Z)$")):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{".concat(e.precision,"}Z$")):e.precision===0?e.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}Z$"):e.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?Z$");function Fte(e,t){return!!((t==="v4"||!t)&&Dte.test(e)||(t==="v6"||!t)&&$te.test(e))}class Js extends mn{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==It.string){const l=this._getOrReturnCtx(t);return At(l,{code:ft.invalid_type,expected:It.string,received:l.parsedType}),cn}const i=new Xr;let s;for(const l of this._def.checks)if(l.kind==="min")t.data.length<l.value&&(s=this._getOrReturnCtx(t,s),At(s,{code:ft.too_small,minimum:l.value,type:"string",inclusive:!0,exact:!1,message:l.message}),i.dirty());else if(l.kind==="max")t.data.length>l.value&&(s=this._getOrReturnCtx(t,s),At(s,{code:ft.too_big,maximum:l.value,type:"string",inclusive:!0,exact:!1,message:l.message}),i.dirty());else if(l.kind==="length"){const d=t.data.length>l.value,c=t.data.length<l.value;(d||c)&&(s=this._getOrReturnCtx(t,s),d?At(s,{code:ft.too_big,maximum:l.value,type:"string",inclusive:!0,exact:!0,message:l.message}):c&&At(s,{code:ft.too_small,minimum:l.value,type:"string",inclusive:!0,exact:!0,message:l.message}),i.dirty())}else if(l.kind==="email")Lte.test(t.data)||(s=this._getOrReturnCtx(t,s),At(s,{validation:"email",code:ft.invalid_string,message:l.message}),i.dirty());else if(l.kind==="emoji")j1||(j1=new RegExp(Ote,"u")),j1.test(t.data)||(s=this._getOrReturnCtx(t,s),At(s,{validation:"emoji",code:ft.invalid_string,message:l.message}),i.dirty());else if(l.kind==="uuid")zte.test(t.data)||(s=this._getOrReturnCtx(t,s),At(s,{validation:"uuid",code:ft.invalid_string,message:l.message}),i.dirty());else if(l.kind==="cuid")Ate.test(t.data)||(s=this._getOrReturnCtx(t,s),At(s,{validation:"cuid",code:ft.invalid_string,message:l.message}),i.dirty());else if(l.kind==="cuid2")Rte.test(t.data)||(s=this._getOrReturnCtx(t,s),At(s,{validation:"cuid2",code:ft.invalid_string,message:l.message}),i.dirty());else if(l.kind==="ulid")Mte.test(t.data)||(s=this._getOrReturnCtx(t,s),At(s,{validation:"ulid",code:ft.invalid_string,message:l.message}),i.dirty());else if(l.kind==="url")try{new URL(t.data)}catch(d){s=this._getOrReturnCtx(t,s),At(s,{validation:"url",code:ft.invalid_string,message:l.message}),i.dirty()}else l.kind==="regex"?(l.regex.lastIndex=0,l.regex.test(t.data)||(s=this._getOrReturnCtx(t,s),At(s,{validation:"regex",code:ft.invalid_string,message:l.message}),i.dirty())):l.kind==="trim"?t.data=t.data.trim():l.kind==="includes"?t.data.includes(l.value,l.position)||(s=this._getOrReturnCtx(t,s),At(s,{code:ft.invalid_string,validation:{includes:l.value,position:l.position},message:l.message}),i.dirty()):l.kind==="toLowerCase"?t.data=t.data.toLowerCase():l.kind==="toUpperCase"?t.data=t.data.toUpperCase():l.kind==="startsWith"?t.data.startsWith(l.value)||(s=this._getOrReturnCtx(t,s),At(s,{code:ft.invalid_string,validation:{startsWith:l.value},message:l.message}),i.dirty()):l.kind==="endsWith"?t.data.endsWith(l.value)||(s=this._getOrReturnCtx(t,s),At(s,{code:ft.invalid_string,validation:{endsWith:l.value},message:l.message}),i.dirty()):l.kind==="datetime"?Bte(l).test(t.data)||(s=this._getOrReturnCtx(t,s),At(s,{code:ft.invalid_string,validation:"datetime",message:l.message}),i.dirty()):l.kind==="ip"?Fte(t.data,l.version)||(s=this._getOrReturnCtx(t,s),At(s,{validation:"ip",code:ft.invalid_string,message:l.message}),i.dirty()):Pn.assertNever(l);return{status:i.value,value:t.data}}_regex(t,n,i){return this.refinement(s=>t.test(s),{validation:n,code:ft.invalid_string,...Gt.errToObj(i)})}_addCheck(t){return new Js({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...Gt.errToObj(t)})}url(t){return this._addCheck({kind:"url",...Gt.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...Gt.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...Gt.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...Gt.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...Gt.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...Gt.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...Gt.errToObj(t)})}datetime(t){var n;return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(n=t==null?void 0:t.offset)!==null&&n!==void 0?n:!1,...Gt.errToObj(t==null?void 0:t.message)})}regex(t,n){return this._addCheck({kind:"regex",regex:t,...Gt.errToObj(n)})}includes(t,n){return this._addCheck({kind:"includes",value:t,position:n==null?void 0:n.position,...Gt.errToObj(n==null?void 0:n.message)})}startsWith(t,n){return this._addCheck({kind:"startsWith",value:t,...Gt.errToObj(n)})}endsWith(t,n){return this._addCheck({kind:"endsWith",value:t,...Gt.errToObj(n)})}min(t,n){return this._addCheck({kind:"min",value:t,...Gt.errToObj(n)})}max(t,n){return this._addCheck({kind:"max",value:t,...Gt.errToObj(n)})}length(t,n){return this._addCheck({kind:"length",value:t,...Gt.errToObj(n)})}nonempty(t){return this.min(1,Gt.errToObj(t))}trim(){return new Js({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Js({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Js({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get minLength(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxLength(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}}Js.create=e=>{var t;return new Js({checks:[],typeName:en.ZodString,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0?t:!1,...dn(e)})};function Nte(e,t){const n=(e.toString().split(".")[1]||"").length,i=(t.toString().split(".")[1]||"").length,s=n>i?n:i,l=parseInt(e.toFixed(s).replace(".","")),d=parseInt(t.toFixed(s).replace(".",""));return l%d/Math.pow(10,s)}class Xc extends mn{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==It.number){const l=this._getOrReturnCtx(t);return At(l,{code:ft.invalid_type,expected:It.number,received:l.parsedType}),cn}let i;const s=new Xr;for(const l of this._def.checks)l.kind==="int"?Pn.isInteger(t.data)||(i=this._getOrReturnCtx(t,i),At(i,{code:ft.invalid_type,expected:"integer",received:"float",message:l.message}),s.dirty()):l.kind==="min"?(l.inclusive?t.data<l.value:t.data<=l.value)&&(i=this._getOrReturnCtx(t,i),At(i,{code:ft.too_small,minimum:l.value,type:"number",inclusive:l.inclusive,exact:!1,message:l.message}),s.dirty()):l.kind==="max"?(l.inclusive?t.data>l.value:t.data>=l.value)&&(i=this._getOrReturnCtx(t,i),At(i,{code:ft.too_big,maximum:l.value,type:"number",inclusive:l.inclusive,exact:!1,message:l.message}),s.dirty()):l.kind==="multipleOf"?Nte(t.data,l.value)!==0&&(i=this._getOrReturnCtx(t,i),At(i,{code:ft.not_multiple_of,multipleOf:l.value,message:l.message}),s.dirty()):l.kind==="finite"?Number.isFinite(t.data)||(i=this._getOrReturnCtx(t,i),At(i,{code:ft.not_finite,message:l.message}),s.dirty()):Pn.assertNever(l);return{status:s.value,value:t.data}}gte(t,n){return this.setLimit("min",t,!0,Gt.toString(n))}gt(t,n){return this.setLimit("min",t,!1,Gt.toString(n))}lte(t,n){return this.setLimit("max",t,!0,Gt.toString(n))}lt(t,n){return this.setLimit("max",t,!1,Gt.toString(n))}setLimit(t,n,i,s){return new Xc({...this._def,checks:[...this._def.checks,{kind:t,value:n,inclusive:i,message:Gt.toString(s)}]})}_addCheck(t){return new Xc({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:Gt.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Gt.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Gt.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Gt.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Gt.toString(t)})}multipleOf(t,n){return this._addCheck({kind:"multipleOf",value:t,message:Gt.toString(n)})}finite(t){return this._addCheck({kind:"finite",message:Gt.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Gt.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Gt.toString(t)})}get minValue(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxValue(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&Pn.isInteger(t.value))}get isFinite(){let t=null,n=null;for(const i of this._def.checks){if(i.kind==="finite"||i.kind==="int"||i.kind==="multipleOf")return!0;i.kind==="min"?(n===null||i.value>n)&&(n=i.value):i.kind==="max"&&(t===null||i.value<t)&&(t=i.value)}return Number.isFinite(n)&&Number.isFinite(t)}}Xc.create=e=>new Xc({checks:[],typeName:en.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...dn(e)});class Yc extends mn{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce&&(t.data=BigInt(t.data)),this._getType(t)!==It.bigint){const l=this._getOrReturnCtx(t);return At(l,{code:ft.invalid_type,expected:It.bigint,received:l.parsedType}),cn}let i;const s=new Xr;for(const l of this._def.checks)l.kind==="min"?(l.inclusive?t.data<l.value:t.data<=l.value)&&(i=this._getOrReturnCtx(t,i),At(i,{code:ft.too_small,type:"bigint",minimum:l.value,inclusive:l.inclusive,message:l.message}),s.dirty()):l.kind==="max"?(l.inclusive?t.data>l.value:t.data>=l.value)&&(i=this._getOrReturnCtx(t,i),At(i,{code:ft.too_big,type:"bigint",maximum:l.value,inclusive:l.inclusive,message:l.message}),s.dirty()):l.kind==="multipleOf"?t.data%l.value!==BigInt(0)&&(i=this._getOrReturnCtx(t,i),At(i,{code:ft.not_multiple_of,multipleOf:l.value,message:l.message}),s.dirty()):Pn.assertNever(l);return{status:s.value,value:t.data}}gte(t,n){return this.setLimit("min",t,!0,Gt.toString(n))}gt(t,n){return this.setLimit("min",t,!1,Gt.toString(n))}lte(t,n){return this.setLimit("max",t,!0,Gt.toString(n))}lt(t,n){return this.setLimit("max",t,!1,Gt.toString(n))}setLimit(t,n,i,s){return new Yc({...this._def,checks:[...this._def.checks,{kind:t,value:n,inclusive:i,message:Gt.toString(s)}]})}_addCheck(t){return new Yc({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Gt.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Gt.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Gt.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Gt.toString(t)})}multipleOf(t,n){return this._addCheck({kind:"multipleOf",value:t,message:Gt.toString(n)})}get minValue(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxValue(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}}Yc.create=e=>{var t;return new Yc({checks:[],typeName:en.ZodBigInt,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0?t:!1,...dn(e)})};class Xm extends mn{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==It.boolean){const i=this._getOrReturnCtx(t);return At(i,{code:ft.invalid_type,expected:It.boolean,received:i.parsedType}),cn}return ho(t.data)}}Xm.create=e=>new Xm({typeName:en.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...dn(e)});class ud extends mn{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==It.date){const l=this._getOrReturnCtx(t);return At(l,{code:ft.invalid_type,expected:It.date,received:l.parsedType}),cn}if(isNaN(t.data.getTime())){const l=this._getOrReturnCtx(t);return At(l,{code:ft.invalid_date}),cn}const i=new Xr;let s;for(const l of this._def.checks)l.kind==="min"?t.data.getTime()<l.value&&(s=this._getOrReturnCtx(t,s),At(s,{code:ft.too_small,message:l.message,inclusive:!0,exact:!1,minimum:l.value,type:"date"}),i.dirty()):l.kind==="max"?t.data.getTime()>l.value&&(s=this._getOrReturnCtx(t,s),At(s,{code:ft.too_big,message:l.message,inclusive:!0,exact:!1,maximum:l.value,type:"date"}),i.dirty()):Pn.assertNever(l);return{status:i.value,value:new Date(t.data.getTime())}}_addCheck(t){return new ud({...this._def,checks:[...this._def.checks,t]})}min(t,n){return this._addCheck({kind:"min",value:t.getTime(),message:Gt.toString(n)})}max(t,n){return this._addCheck({kind:"max",value:t.getTime(),message:Gt.toString(n)})}get minDate(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t!=null?new Date(t):null}}ud.create=e=>new ud({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:en.ZodDate,...dn(e)});class o0 extends mn{_parse(t){if(this._getType(t)!==It.symbol){const i=this._getOrReturnCtx(t);return At(i,{code:ft.invalid_type,expected:It.symbol,received:i.parsedType}),cn}return ho(t.data)}}o0.create=e=>new o0({typeName:en.ZodSymbol,...dn(e)});class Ym extends mn{_parse(t){if(this._getType(t)!==It.undefined){const i=this._getOrReturnCtx(t);return At(i,{code:ft.invalid_type,expected:It.undefined,received:i.parsedType}),cn}return ho(t.data)}}Ym.create=e=>new Ym({typeName:en.ZodUndefined,...dn(e)});class Jm extends mn{_parse(t){if(this._getType(t)!==It.null){const i=this._getOrReturnCtx(t);return At(i,{code:ft.invalid_type,expected:It.null,received:i.parsedType}),cn}return ho(t.data)}}Jm.create=e=>new Jm({typeName:en.ZodNull,...dn(e)});class _f extends mn{constructor(){super(...arguments),this._any=!0}_parse(t){return ho(t.data)}}_f.create=e=>new _f({typeName:en.ZodAny,...dn(e)});class Yu extends mn{constructor(){super(...arguments),this._unknown=!0}_parse(t){return ho(t.data)}}Yu.create=e=>new Yu({typeName:en.ZodUnknown,...dn(e)});class Tl extends mn{_parse(t){const n=this._getOrReturnCtx(t);return At(n,{code:ft.invalid_type,expected:It.never,received:n.parsedType}),cn}}Tl.create=e=>new Tl({typeName:en.ZodNever,...dn(e)});class s0 extends mn{_parse(t){if(this._getType(t)!==It.undefined){const i=this._getOrReturnCtx(t);return At(i,{code:ft.invalid_type,expected:It.void,received:i.parsedType}),cn}return ho(t.data)}}s0.create=e=>new s0({typeName:en.ZodVoid,...dn(e)});class ia extends mn{_parse(t){const{ctx:n,status:i}=this._processInputParams(t),s=this._def;if(n.parsedType!==It.array)return At(n,{code:ft.invalid_type,expected:It.array,received:n.parsedType}),cn;if(s.exactLength!==null){const d=n.data.length>s.exactLength.value,c=n.data.length<s.exactLength.value;(d||c)&&(At(n,{code:d?ft.too_big:ft.too_small,minimum:c?s.exactLength.value:void 0,maximum:d?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),i.dirty())}if(s.minLength!==null&&n.data.length<s.minLength.value&&(At(n,{code:ft.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),i.dirty()),s.maxLength!==null&&n.data.length>s.maxLength.value&&(At(n,{code:ft.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),i.dirty()),n.common.async)return Promise.all([...n.data].map((d,c)=>s.type._parseAsync(new Oa(n,d,n.path,c)))).then(d=>Xr.mergeArray(i,d));const l=[...n.data].map((d,c)=>s.type._parseSync(new Oa(n,d,n.path,c)));return Xr.mergeArray(i,l)}get element(){return this._def.type}min(t,n){return new ia({...this._def,minLength:{value:t,message:Gt.toString(n)}})}max(t,n){return new ia({...this._def,maxLength:{value:t,message:Gt.toString(n)}})}length(t,n){return new ia({...this._def,exactLength:{value:t,message:Gt.toString(n)}})}nonempty(t){return this.min(1,t)}}ia.create=(e,t)=>new ia({type:e,minLength:null,maxLength:null,exactLength:null,typeName:en.ZodArray,...dn(t)});function ph(e){if(e instanceof yi){const t={};for(const n in e.shape){const i=e.shape[n];t[n]=yl.create(ph(i))}return new yi({...e._def,shape:()=>t})}else return e instanceof ia?new ia({...e._def,type:ph(e.element)}):e instanceof yl?yl.create(ph(e.unwrap())):e instanceof hd?hd.create(ph(e.unwrap())):e instanceof Da?Da.create(e.items.map(t=>ph(t))):e}class yi extends mn{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),n=Pn.objectKeys(t);return this._cached={shape:t,keys:n}}_parse(t){if(this._getType(t)!==It.object){const b=this._getOrReturnCtx(t);return At(b,{code:ft.invalid_type,expected:It.object,received:b.parsedType}),cn}const{status:i,ctx:s}=this._processInputParams(t),{shape:l,keys:d}=this._getCached(),c=[];if(!(this._def.catchall instanceof Tl&&this._def.unknownKeys==="strip"))for(const b in s.data)d.includes(b)||c.push(b);const y=[];for(const b of d){const k=l[b],S=s.data[b];y.push({key:{status:"valid",value:b},value:k._parse(new Oa(s,S,s.path,b)),alwaysSet:b in s.data})}if(this._def.catchall instanceof Tl){const b=this._def.unknownKeys;if(b==="passthrough")for(const k of c)y.push({key:{status:"valid",value:k},value:{status:"valid",value:s.data[k]}});else if(b==="strict")c.length>0&&(At(s,{code:ft.unrecognized_keys,keys:c}),i.dirty());else if(b!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const b=this._def.catchall;for(const k of c){const S=s.data[k];y.push({key:{status:"valid",value:k},value:b._parse(new Oa(s,S,s.path,k)),alwaysSet:k in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const b=[];for(const k of y){const S=await k.key;b.push({key:S,value:await k.value,alwaysSet:k.alwaysSet})}return b}).then(b=>Xr.mergeObjectSync(i,b)):Xr.mergeObjectSync(i,y)}get shape(){return this._def.shape()}strict(t){return Gt.errToObj,new yi({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(n,i)=>{var s,l,d,c;const y=(d=(l=(s=this._def).errorMap)===null||l===void 0?void 0:l.call(s,n,i).message)!==null&&d!==void 0?d:i.defaultError;return n.code==="unrecognized_keys"?{message:(c=Gt.errToObj(t).message)!==null&&c!==void 0?c:y}:{message:y}}}:{}})}strip(){return new yi({...this._def,unknownKeys:"strip"})}passthrough(){return new yi({...this._def,unknownKeys:"passthrough"})}extend(t){return new yi({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new yi({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:en.ZodObject})}setKey(t,n){return this.augment({[t]:n})}catchall(t){return new yi({...this._def,catchall:t})}pick(t){const n={};return Pn.objectKeys(t).forEach(i=>{t[i]&&this.shape[i]&&(n[i]=this.shape[i])}),new yi({...this._def,shape:()=>n})}omit(t){const n={};return Pn.objectKeys(this.shape).forEach(i=>{t[i]||(n[i]=this.shape[i])}),new yi({...this._def,shape:()=>n})}deepPartial(){return ph(this)}partial(t){const n={};return Pn.objectKeys(this.shape).forEach(i=>{const s=this.shape[i];t&&!t[i]?n[i]=s:n[i]=s.optional()}),new yi({...this._def,shape:()=>n})}required(t){const n={};return Pn.objectKeys(this.shape).forEach(i=>{if(t&&!t[i])n[i]=this.shape[i];else{let l=this.shape[i];for(;l instanceof yl;)l=l._def.innerType;n[i]=l}}),new yi({...this._def,shape:()=>n})}keyof(){return $5(Pn.objectKeys(this.shape))}}yi.create=(e,t)=>new yi({shape:()=>e,unknownKeys:"strip",catchall:Tl.create(),typeName:en.ZodObject,...dn(t)});yi.strictCreate=(e,t)=>new yi({shape:()=>e,unknownKeys:"strict",catchall:Tl.create(),typeName:en.ZodObject,...dn(t)});yi.lazycreate=(e,t)=>new yi({shape:e,unknownKeys:"strip",catchall:Tl.create(),typeName:en.ZodObject,...dn(t)});class Qm extends mn{_parse(t){const{ctx:n}=this._processInputParams(t),i=this._def.options;function s(l){for(const c of l)if(c.result.status==="valid")return c.result;for(const c of l)if(c.result.status==="dirty")return n.common.issues.push(...c.ctx.common.issues),c.result;const d=l.map(c=>new na(c.ctx.common.issues));return At(n,{code:ft.invalid_union,unionErrors:d}),cn}if(n.common.async)return Promise.all(i.map(async l=>{const d={...n,common:{...n.common,issues:[]},parent:null};return{result:await l._parseAsync({data:n.data,path:n.path,parent:d}),ctx:d}})).then(s);{let l;const d=[];for(const y of i){const b={...n,common:{...n.common,issues:[]},parent:null},k=y._parseSync({data:n.data,path:n.path,parent:b});if(k.status==="valid")return k;k.status==="dirty"&&!l&&(l={result:k,ctx:b}),b.common.issues.length&&d.push(b.common.issues)}if(l)return n.common.issues.push(...l.ctx.common.issues),l.result;const c=d.map(y=>new na(y));return At(n,{code:ft.invalid_union,unionErrors:c}),cn}}get options(){return this._def.options}}Qm.create=(e,t)=>new Qm({options:e,typeName:en.ZodUnion,...dn(t)});const nb=e=>e instanceof ng?nb(e.schema):e instanceof aa?nb(e.innerType()):e instanceof ig?[e.value]:e instanceof Jc?e.options:e instanceof rg?Object.keys(e.enum):e instanceof og?nb(e._def.innerType):e instanceof Ym?[void 0]:e instanceof Jm?[null]:null;class k_ extends mn{_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==It.object)return At(n,{code:ft.invalid_type,expected:It.object,received:n.parsedType}),cn;const i=this.discriminator,s=n.data[i],l=this.optionsMap.get(s);return l?n.common.async?l._parseAsync({data:n.data,path:n.path,parent:n}):l._parseSync({data:n.data,path:n.path,parent:n}):(At(n,{code:ft.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[i]}),cn)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(t,n,i){const s=new Map;for(const l of n){const d=nb(l.shape[t]);if(!d)throw new Error("A discriminator value for key `".concat(t,"` could not be extracted from all schema options"));for(const c of d){if(s.has(c))throw new Error("Discriminator property ".concat(String(t)," has duplicate value ").concat(String(c)));s.set(c,l)}}return new k_({typeName:en.ZodDiscriminatedUnion,discriminator:t,options:n,optionsMap:s,...dn(i)})}}function U2(e,t){const n=pc(e),i=pc(t);if(e===t)return{valid:!0,data:e};if(n===It.object&&i===It.object){const s=Pn.objectKeys(t),l=Pn.objectKeys(e).filter(c=>s.indexOf(c)!==-1),d={...e,...t};for(const c of l){const y=U2(e[c],t[c]);if(!y.valid)return{valid:!1};d[c]=y.data}return{valid:!0,data:d}}else if(n===It.array&&i===It.array){if(e.length!==t.length)return{valid:!1};const s=[];for(let l=0;l<e.length;l++){const d=e[l],c=t[l],y=U2(d,c);if(!y.valid)return{valid:!1};s.push(y.data)}return{valid:!0,data:s}}else return n===It.date&&i===It.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class eg extends mn{_parse(t){const{status:n,ctx:i}=this._processInputParams(t),s=(l,d)=>{if(j2(l)||j2(d))return cn;const c=U2(l.value,d.value);return c.valid?((V2(l)||V2(d))&&n.dirty(),{status:n.value,value:c.data}):(At(i,{code:ft.invalid_intersection_types}),cn)};return i.common.async?Promise.all([this._def.left._parseAsync({data:i.data,path:i.path,parent:i}),this._def.right._parseAsync({data:i.data,path:i.path,parent:i})]).then(([l,d])=>s(l,d)):s(this._def.left._parseSync({data:i.data,path:i.path,parent:i}),this._def.right._parseSync({data:i.data,path:i.path,parent:i}))}}eg.create=(e,t,n)=>new eg({left:e,right:t,typeName:en.ZodIntersection,...dn(n)});class Da extends mn{_parse(t){const{status:n,ctx:i}=this._processInputParams(t);if(i.parsedType!==It.array)return At(i,{code:ft.invalid_type,expected:It.array,received:i.parsedType}),cn;if(i.data.length<this._def.items.length)return At(i,{code:ft.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),cn;!this._def.rest&&i.data.length>this._def.items.length&&(At(i,{code:ft.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const l=[...i.data].map((d,c)=>{const y=this._def.items[c]||this._def.rest;return y?y._parse(new Oa(i,d,i.path,c)):null}).filter(d=>!!d);return i.common.async?Promise.all(l).then(d=>Xr.mergeArray(n,d)):Xr.mergeArray(n,l)}get items(){return this._def.items}rest(t){return new Da({...this._def,rest:t})}}Da.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Da({items:e,typeName:en.ZodTuple,rest:null,...dn(t)})};class tg extends mn{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:n,ctx:i}=this._processInputParams(t);if(i.parsedType!==It.object)return At(i,{code:ft.invalid_type,expected:It.object,received:i.parsedType}),cn;const s=[],l=this._def.keyType,d=this._def.valueType;for(const c in i.data)s.push({key:l._parse(new Oa(i,c,i.path,c)),value:d._parse(new Oa(i,i.data[c],i.path,c))});return i.common.async?Xr.mergeObjectAsync(n,s):Xr.mergeObjectSync(n,s)}get element(){return this._def.valueType}static create(t,n,i){return n instanceof mn?new tg({keyType:t,valueType:n,typeName:en.ZodRecord,...dn(i)}):new tg({keyType:Js.create(),valueType:t,typeName:en.ZodRecord,...dn(n)})}}class a0 extends mn{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:n,ctx:i}=this._processInputParams(t);if(i.parsedType!==It.map)return At(i,{code:ft.invalid_type,expected:It.map,received:i.parsedType}),cn;const s=this._def.keyType,l=this._def.valueType,d=[...i.data.entries()].map(([c,y],b)=>({key:s._parse(new Oa(i,c,i.path,[b,"key"])),value:l._parse(new Oa(i,y,i.path,[b,"value"]))}));if(i.common.async){const c=new Map;return Promise.resolve().then(async()=>{for(const y of d){const b=await y.key,k=await y.value;if(b.status==="aborted"||k.status==="aborted")return cn;(b.status==="dirty"||k.status==="dirty")&&n.dirty(),c.set(b.value,k.value)}return{status:n.value,value:c}})}else{const c=new Map;for(const y of d){const b=y.key,k=y.value;if(b.status==="aborted"||k.status==="aborted")return cn;(b.status==="dirty"||k.status==="dirty")&&n.dirty(),c.set(b.value,k.value)}return{status:n.value,value:c}}}}a0.create=(e,t,n)=>new a0({valueType:t,keyType:e,typeName:en.ZodMap,...dn(n)});class dd extends mn{_parse(t){const{status:n,ctx:i}=this._processInputParams(t);if(i.parsedType!==It.set)return At(i,{code:ft.invalid_type,expected:It.set,received:i.parsedType}),cn;const s=this._def;s.minSize!==null&&i.data.size<s.minSize.value&&(At(i,{code:ft.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),n.dirty()),s.maxSize!==null&&i.data.size>s.maxSize.value&&(At(i,{code:ft.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),n.dirty());const l=this._def.valueType;function d(y){const b=new Set;for(const k of y){if(k.status==="aborted")return cn;k.status==="dirty"&&n.dirty(),b.add(k.value)}return{status:n.value,value:b}}const c=[...i.data.values()].map((y,b)=>l._parse(new Oa(i,y,i.path,b)));return i.common.async?Promise.all(c).then(y=>d(y)):d(c)}min(t,n){return new dd({...this._def,minSize:{value:t,message:Gt.toString(n)}})}max(t,n){return new dd({...this._def,maxSize:{value:t,message:Gt.toString(n)}})}size(t,n){return this.min(t,n).max(t,n)}nonempty(t){return this.min(1,t)}}dd.create=(e,t)=>new dd({valueType:e,minSize:null,maxSize:null,typeName:en.ZodSet,...dn(t)});class $h extends mn{constructor(){super(...arguments),this.validate=this.implement}_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==It.function)return At(n,{code:ft.invalid_type,expected:It.function,received:n.parsedType}),cn;function i(c,y){return i0({data:c,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,n0(),Gm].filter(b=>!!b),issueData:{code:ft.invalid_arguments,argumentsError:y}})}function s(c,y){return i0({data:c,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,n0(),Gm].filter(b=>!!b),issueData:{code:ft.invalid_return_type,returnTypeError:y}})}const l={errorMap:n.common.contextualErrorMap},d=n.data;if(this._def.returns instanceof xf){const c=this;return ho(async function(...y){const b=new na([]),k=await c._def.args.parseAsync(y,l).catch(A=>{throw b.addIssue(i(y,A)),b}),S=await Reflect.apply(d,this,k);return await c._def.returns._def.type.parseAsync(S,l).catch(A=>{throw b.addIssue(s(S,A)),b})})}else{const c=this;return ho(function(...y){const b=c._def.args.safeParse(y,l);if(!b.success)throw new na([i(y,b.error)]);const k=Reflect.apply(d,this,b.data),S=c._def.returns.safeParse(k,l);if(!S.success)throw new na([s(k,S.error)]);return S.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...t){return new $h({...this._def,args:Da.create(t).rest(Yu.create())})}returns(t){return new $h({...this._def,returns:t})}implement(t){return this.parse(t)}strictImplement(t){return this.parse(t)}static create(t,n,i){return new $h({args:t||Da.create([]).rest(Yu.create()),returns:n||Yu.create(),typeName:en.ZodFunction,...dn(i)})}}class ng extends mn{get schema(){return this._def.getter()}_parse(t){const{ctx:n}=this._processInputParams(t);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}ng.create=(e,t)=>new ng({getter:e,typeName:en.ZodLazy,...dn(t)});class ig extends mn{_parse(t){if(t.data!==this._def.value){const n=this._getOrReturnCtx(t);return At(n,{received:n.data,code:ft.invalid_literal,expected:this._def.value}),cn}return{status:"valid",value:t.data}}get value(){return this._def.value}}ig.create=(e,t)=>new ig({value:e,typeName:en.ZodLiteral,...dn(t)});function $5(e,t){return new Jc({values:e,typeName:en.ZodEnum,...dn(t)})}class Jc extends mn{_parse(t){if(typeof t.data!="string"){const n=this._getOrReturnCtx(t),i=this._def.values;return At(n,{expected:Pn.joinValues(i),received:n.parsedType,code:ft.invalid_type}),cn}if(this._def.values.indexOf(t.data)===-1){const n=this._getOrReturnCtx(t),i=this._def.values;return At(n,{received:n.data,code:ft.invalid_enum_value,options:i}),cn}return ho(t.data)}get options(){return this._def.values}get enum(){const t={};for(const n of this._def.values)t[n]=n;return t}get Values(){const t={};for(const n of this._def.values)t[n]=n;return t}get Enum(){const t={};for(const n of this._def.values)t[n]=n;return t}extract(t){return Jc.create(t)}exclude(t){return Jc.create(this.options.filter(n=>!t.includes(n)))}}Jc.create=$5;class rg extends mn{_parse(t){const n=Pn.getValidEnumValues(this._def.values),i=this._getOrReturnCtx(t);if(i.parsedType!==It.string&&i.parsedType!==It.number){const s=Pn.objectValues(n);return At(i,{expected:Pn.joinValues(s),received:i.parsedType,code:ft.invalid_type}),cn}if(n.indexOf(t.data)===-1){const s=Pn.objectValues(n);return At(i,{received:i.data,code:ft.invalid_enum_value,options:s}),cn}return ho(t.data)}get enum(){return this._def.values}}rg.create=(e,t)=>new rg({values:e,typeName:en.ZodNativeEnum,...dn(t)});class xf extends mn{unwrap(){return this._def.type}_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==It.promise&&n.common.async===!1)return At(n,{code:ft.invalid_type,expected:It.promise,received:n.parsedType}),cn;const i=n.parsedType===It.promise?n.data:Promise.resolve(n.data);return ho(i.then(s=>this._def.type.parseAsync(s,{path:n.path,errorMap:n.common.contextualErrorMap})))}}xf.create=(e,t)=>new xf({type:e,typeName:en.ZodPromise,...dn(t)});class aa extends mn{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===en.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:n,ctx:i}=this._processInputParams(t),s=this._def.effect||null,l={addIssue:d=>{At(i,d),d.fatal?n.abort():n.dirty()},get path(){return i.path}};if(l.addIssue=l.addIssue.bind(l),s.type==="preprocess"){const d=s.transform(i.data,l);return i.common.issues.length?{status:"dirty",value:i.data}:i.common.async?Promise.resolve(d).then(c=>this._def.schema._parseAsync({data:c,path:i.path,parent:i})):this._def.schema._parseSync({data:d,path:i.path,parent:i})}if(s.type==="refinement"){const d=c=>{const y=s.refinement(c,l);if(i.common.async)return Promise.resolve(y);if(y instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return c};if(i.common.async===!1){const c=this._def.schema._parseSync({data:i.data,path:i.path,parent:i});return c.status==="aborted"?cn:(c.status==="dirty"&&n.dirty(),d(c.value),{status:n.value,value:c.value})}else return this._def.schema._parseAsync({data:i.data,path:i.path,parent:i}).then(c=>c.status==="aborted"?cn:(c.status==="dirty"&&n.dirty(),d(c.value).then(()=>({status:n.value,value:c.value}))))}if(s.type==="transform")if(i.common.async===!1){const d=this._def.schema._parseSync({data:i.data,path:i.path,parent:i});if(!Km(d))return d;const c=s.transform(d.value,l);if(c instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:c}}else return this._def.schema._parseAsync({data:i.data,path:i.path,parent:i}).then(d=>Km(d)?Promise.resolve(s.transform(d.value,l)).then(c=>({status:n.value,value:c})):d);Pn.assertNever(s)}}aa.create=(e,t,n)=>new aa({schema:e,typeName:en.ZodEffects,effect:t,...dn(n)});aa.createWithPreprocess=(e,t,n)=>new aa({schema:t,effect:{type:"preprocess",transform:e},typeName:en.ZodEffects,...dn(n)});class yl extends mn{_parse(t){return this._getType(t)===It.undefined?ho(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}yl.create=(e,t)=>new yl({innerType:e,typeName:en.ZodOptional,...dn(t)});class hd extends mn{_parse(t){return this._getType(t)===It.null?ho(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}hd.create=(e,t)=>new hd({innerType:e,typeName:en.ZodNullable,...dn(t)});class og extends mn{_parse(t){const{ctx:n}=this._processInputParams(t);let i=n.data;return n.parsedType===It.undefined&&(i=this._def.defaultValue()),this._def.innerType._parse({data:i,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}og.create=(e,t)=>new og({innerType:e,typeName:en.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...dn(t)});class l0 extends mn{_parse(t){const{ctx:n}=this._processInputParams(t),i={...n,common:{...n.common,issues:[]}},s=this._def.innerType._parse({data:i.data,path:i.path,parent:{...i}});return r0(s)?s.then(l=>({status:"valid",value:l.status==="valid"?l.value:this._def.catchValue({get error(){return new na(i.common.issues)},input:i.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new na(i.common.issues)},input:i.data})}}removeCatch(){return this._def.innerType}}l0.create=(e,t)=>new l0({innerType:e,typeName:en.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...dn(t)});class c0 extends mn{_parse(t){if(this._getType(t)!==It.nan){const i=this._getOrReturnCtx(t);return At(i,{code:ft.invalid_type,expected:It.nan,received:i.parsedType}),cn}return{status:"valid",value:t.data}}}c0.create=e=>new c0({typeName:en.ZodNaN,...dn(e)});const jte=Symbol("zod_brand");class B5 extends mn{_parse(t){const{ctx:n}=this._processInputParams(t),i=n.data;return this._def.type._parse({data:i,path:n.path,parent:n})}unwrap(){return this._def.type}}class qg extends mn{_parse(t){const{status:n,ctx:i}=this._processInputParams(t);if(i.common.async)return(async()=>{const l=await this._def.in._parseAsync({data:i.data,path:i.path,parent:i});return l.status==="aborted"?cn:l.status==="dirty"?(n.dirty(),D5(l.value)):this._def.out._parseAsync({data:l.value,path:i.path,parent:i})})();{const s=this._def.in._parseSync({data:i.data,path:i.path,parent:i});return s.status==="aborted"?cn:s.status==="dirty"?(n.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:i.path,parent:i})}}static create(t,n){return new qg({in:t,out:n,typeName:en.ZodPipeline})}}class u0 extends mn{_parse(t){const n=this._def.innerType._parse(t);return Km(n)&&(n.value=Object.freeze(n.value)),n}}u0.create=(e,t)=>new u0({innerType:e,typeName:en.ZodReadonly,...dn(t)});const F5=(e,t={},n)=>e?_f.create().superRefine((i,s)=>{var l,d;if(!e(i)){const c=typeof t=="function"?t(i):typeof t=="string"?{message:t}:t,y=(d=(l=c.fatal)!==null&&l!==void 0?l:n)!==null&&d!==void 0?d:!0,b=typeof c=="string"?{message:c}:c;s.addIssue({code:"custom",...b,fatal:y})}}):_f.create(),Vte={object:yi.lazycreate};var en;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(en||(en={}));const Ute=(e,t={message:"Input not instance of ".concat(e.name)})=>F5(n=>n instanceof e,t),N5=Js.create,j5=Xc.create,Hte=c0.create,qte=Yc.create,V5=Xm.create,Wte=ud.create,Zte=o0.create,Gte=Ym.create,Kte=Jm.create,Xte=_f.create,Yte=Yu.create,Jte=Tl.create,Qte=s0.create,ene=ia.create,tne=yi.create,nne=yi.strictCreate,ine=Qm.create,rne=k_.create,one=eg.create,sne=Da.create,ane=tg.create,lne=a0.create,cne=dd.create,une=$h.create,dne=ng.create,hne=ig.create,fne=Jc.create,pne=rg.create,mne=xf.create,zR=aa.create,gne=yl.create,yne=hd.create,vne=aa.createWithPreprocess,bne=qg.create,_ne=()=>N5().optional(),xne=()=>j5().optional(),wne=()=>V5().optional(),Sne={string:e=>Js.create({...e,coerce:!0}),number:e=>Xc.create({...e,coerce:!0}),boolean:e=>Xm.create({...e,coerce:!0}),bigint:e=>Yc.create({...e,coerce:!0}),date:e=>ud.create({...e,coerce:!0})},kne=cn;var Ni=Object.freeze({__proto__:null,defaultErrorMap:Gm,setErrorMap:Ite,getErrorMap:n0,makeIssue:i0,EMPTY_PATH:Pte,addIssueToContext:At,ParseStatus:Xr,INVALID:cn,DIRTY:D5,OK:ho,isAborted:j2,isDirty:V2,isValid:Km,isAsync:r0,get util(){return Pn},get objectUtil(){return N2},ZodParsedType:It,getParsedType:pc,ZodType:mn,ZodString:Js,ZodNumber:Xc,ZodBigInt:Yc,ZodBoolean:Xm,ZodDate:ud,ZodSymbol:o0,ZodUndefined:Ym,ZodNull:Jm,ZodAny:_f,ZodUnknown:Yu,ZodNever:Tl,ZodVoid:s0,ZodArray:ia,ZodObject:yi,ZodUnion:Qm,ZodDiscriminatedUnion:k_,ZodIntersection:eg,ZodTuple:Da,ZodRecord:tg,ZodMap:a0,ZodSet:dd,ZodFunction:$h,ZodLazy:ng,ZodLiteral:ig,ZodEnum:Jc,ZodNativeEnum:rg,ZodPromise:xf,ZodEffects:aa,ZodTransformer:aa,ZodOptional:yl,ZodNullable:hd,ZodDefault:og,ZodCatch:l0,ZodNaN:c0,BRAND:jte,ZodBranded:B5,ZodPipeline:qg,ZodReadonly:u0,custom:F5,Schema:mn,ZodSchema:mn,late:Vte,get ZodFirstPartyTypeKind(){return en},coerce:Sne,any:Xte,array:ene,bigint:qte,boolean:V5,date:Wte,discriminatedUnion:rne,effect:zR,enum:fne,function:une,instanceof:Ute,intersection:one,lazy:dne,literal:hne,map:lne,nan:Hte,nativeEnum:pne,never:Jte,null:Kte,nullable:yne,number:j5,object:tne,oboolean:wne,onumber:xne,optional:gne,ostring:_ne,pipeline:bne,preprocess:vne,promise:mne,record:ane,set:cne,strictObject:nne,string:N5,symbol:Zte,transformer:zR,tuple:sne,undefined:Gte,union:ine,unknown:Yte,void:Qte,NEVER:kne,ZodIssueCode:ft,quotelessJson:Tte,ZodError:na});function Ene({src:e,size:t="64px",alt:n,props:i}){return ne.jsx(VG,{style:{width:t,height:t},...i,children:ne.jsx("img",{src:e,alt:n,style:{width:t,height:t}})})}const Cne=()=>{const e=bE(),t=Bk(),n=Af();return{dispatch:t,api:n,navigate:e}},Tne=()=>{const{api:e,dispatch:t}=Cne(),n=ou(),i=({email:d,password:c})=>e.post("/sessions",{email:d,password:c}),{mutateAsync:s,error:l}=$c({queryKey:["user"],mutationFn:i,onSettled:async({token:d})=>{await t(KY({token:d})),n.invalidateQueries(["me"])}});return{login:s,error:l}},Ine=Ni.object({email:Ni.string().email("Invalid email address"),password:Ni.string().min(6,"Must be at least 6 characters")}),Pne=e=>{const{login:t,error:n}=Tne(),i=w_({initialValues:{email:"",password:""},validate:S_(Ine)}),s=async l=>{t(l)};return ne.jsx("div",{...e,children:ne.jsxs("div",{className:"col w-full",children:[ne.jsx(Ene,{src:"https://firebasestorage.googleapis.com/v0/b/saint-seeing-5d426.appspot.com/o/saint_seeing_logo.png?alt=media&token=655134ad-bc31-4232-b02b-dfb82019584d",alt:"logo",size:"120px"}),ne.jsx(Z0,{children:"Sign In"}),ne.jsxs("form",{onSubmit:i.onSubmit(s),className:"col w-full",children:[ne.jsx("p",{className:"text-center text-red-600",children:n&&n.message}),ne.jsx($u,{className:"w-full br",placeholder:"Your Email",required:!0,...i.getInputProps("email")}),ne.jsx(df,{className:"w-full br",placeholder:"Your password",required:!0,...i.getInputProps("password"),classNames:{input:"rounded-lg"}}),ne.jsx(Ml,{className:"w-full",type:"submit",children:"Login"})]}),ne.jsxs("div",{className:"flex gap-2 items-center",children:[ne.jsx("p",{children:"Don't have account?"}),ne.jsx(Fc,{className:"text-blue-600 text-lg",href:"/sign_up",children:"Sign Up"})]})]})})},Ane=()=>(ce.useEffect(()=>{Wi.enable(!1,"profile-menu"),Wi.enable(!1,"chat-menu")},[]),ne.jsx(Ng,{children:ne.jsx(mf,{fullscreen:!0,children:ne.jsx(Pne,{className:"pos-center middle"})})})),Rne=()=>({signup:$c({queryKey:["user"],mutationFn:async({data:n,backgroundImage:i,profileImage:s})=>{const l=new FormData;for(const d in n)if(d=="rules")n[d].forEach((c,y)=>{l.append(d,c)});else if(d=="city"){const{addresses:c}=await jE.autoComplete(n[d],{longitude:-111.8338,latitude:41.73698}),y=c[0].latitude,b=c[0].longitude;l.append("city",n[d]),l.append("latitude",y),l.append("longitude",b)}else l.append(d,n[d]);return l.append("background",i,i.name),l.append("profile",s,s.name),Gi.post("http://10.100.1.41:3000/users",l,{headers:{"content-type":"multipart/form-data"}})}})}),Mne=({form:e})=>{const t=ce.useRef(-1),[n,i]=ce.useState(e.values.city||""),[s,l]=ce.useState(!1),[d,c]=ce.useState([]),y=async b=>{window.clearTimeout(t.current),i(b),c([]),b.trim().length===0?l(!1):(l(!0),t.current=window.setTimeout(async()=>{const{addresses:k}=await jE.autoComplete(b,{longitude:-111.8338,latitude:41.73698}),S=k.map(A=>A.formattedAddress),E=[...new Set(S)];c(E),l(!1)},500))};return ne.jsx(Ek,{required:!0,value:n,data:d,onOptionSubmit:b=>{e.setFieldValue("city",b)},onChange:y,rightSection:s?ne.jsx(vd,{size:"1rem"}):null,placeholder:"Your City",classNames:{root:"w-full",input:"h-14 text-xl pl-5"}})},zne=({background:e,profile:t,backgroundImage:n,profileImage:i})=>{const s=ce.useRef(null),l=ce.useRef(null),[d,c]=ce.useState(n||null),[y,b]=ce.useState(i||null),k=E=>{e(E.target.files[0]),c(URL.createObjectURL(E.target.files[0]))},S=E=>{t(E.target.files[0]),b(URL.createObjectURL(E.target.files[0]))};return ne.jsxs(ne.Fragment,{children:[ne.jsx("input",{className:"hidden",type:"file",onChange:k,name:"background",ref:s,accept:"image/png, image/jpeg"}),ne.jsx("input",{className:"hidden",type:"file",onChange:S,name:"profile",ref:l,accept:"image/png, image/jpeg"}),ne.jsxs("div",{className:"relative",children:[ne.jsxs("div",{className:"w-full min-w-full rounded-lg overflow-hidden",children:[ne.jsx("img",{src:d||"https://craftsnippets.com/articles_images/placeholder/placeholder.jpg",alt:"profileImage",className:"w-full h-full aspect-square object-cover"}),ne.jsx("div",{className:"absolute top-3 right-3",children:ne.jsx("div",{className:"absolute top-3 right-3 color-secondary rounded-full p-2 cursor-pointer",onClick:()=>s.current.click(),children:ne.jsx(kR,{size:"30px"})})})]}),ne.jsx(kl,{h:"xl"}),ne.jsxs("div",{className:"absolute left-1/2 -translate-x-1/2 bottom-0",children:[ne.jsx("div",{className:"absolute top-3 right-3 color-secondary rounded-full p-2 cursor-pointer",onClick:()=>l.current.click(),children:ne.jsx(kR,{size:"20px"})}),ne.jsx("img",{src:y||"https://static.vecteezy.com/system/resources/thumbnails/003/337/584/small/default-avatar-photo-placeholder-profile-icon-vector.jpg",alt:"profileImage",className:"size-36 sm:size-40 rounded-full object-cover"})]})]}),ne.jsx(kl,{h:"xl"})]})},U5=({form:e,submit:t,error:n,setBackgroundImage:i,setProfileImage:s,handleSubmit:l,button:d,backgroundImage:c,profileImage:y})=>{var S,E,A;const b=()=>{const z=structuredClone(e.values.rules);z.push(""),e.setFieldValue("rules",z)},k=(z,N)=>{const q=structuredClone(e.values.rules);q[z]=N,e.setFieldValue("rules",q)};return ne.jsx(ne.Fragment,{children:ne.jsxs("form",{onSubmit:e.onSubmit(l),className:"col w-full",children:[ne.jsx(zne,{background:i,profile:s,backgroundImage:c,profileImage:y}),n&&ne.jsx("p",{className:"text-red-600",children:n}),ne.jsx("p",{className:"text-center text-red-600",children:(t==null?void 0:t.error)&&((A=(E=(S=t.error)==null?void 0:S.response)==null?void 0:E.data)==null?void 0:A.error)}),ne.jsx($u,{className:"w-full br",placeholder:"Your Email",required:!0,...e.getInputProps("email")}),e.getInputProps("password").value!=null&&ne.jsx(df,{className:"w-full br",placeholder:"Your password",required:!0,...e.getInputProps("password"),classNames:{input:"rounded-lg"}}),ne.jsx($u,{className:"w-full br",placeholder:"Your First Name",required:!0,...e.getInputProps("firstName")}),ne.jsx($u,{className:"w-full br",placeholder:"Your Last Name",required:!0,...e.getInputProps("lastName")}),ne.jsx(Mne,{form:e}),ne.jsx(Pk,{className:"w-full br",placeholder:"Your Bio",required:!0,rows:3,...e.getInputProps("bio"),classNames:{input:"text-lg"}}),ne.jsxs("div",{className:"flex justify-between w-full",children:[ne.jsx("p",{children:"House Rules"}),ne.jsx(Lg,{variant:"transparent",onClick:b,children:ne.jsx(Zr,{icon:OX,size:"large",color:"primary"})})]}),e.values.rules.map((z,N)=>ne.jsx("div",{className:"w-full",children:ne.jsx($u,{value:z,placeholder:"Rule",required:!0,onChange:q=>k(N,q.target.value)})},N)),ne.jsx(Ml,{className:"w-full",type:"submit",children:d})]})})},Lne=Ni.object({email:Ni.string().email("Invalid email address"),password:Ni.string().min(6,"Must be at least 6 characters"),firstName:Ni.string().min(2,"Must be at least 2 characters"),lastName:Ni.string().min(2,"Must be at least 2 characters"),bio:Ni.string().min(2,"Must be at least 2 characters"),rules:Ni.array(Ni.string().min(2,"Must be at least 2 characters"))}),One=e=>{const{signup:t}=Rne(),[n,i]=ce.useState(null),[s,l]=ce.useState(null),[d,c]=ce.useState(null),y=w_({initialValues:{email:"",password:"",firstName:"",lastName:"",city:"",bio:"",rules:[]},validate:S_(Lne)});if(t.isSuccess)return ne.jsx(Ls,{to:"/login"});const b=async k=>{if(c(null),y.values.city===""){c("Please select a city from the auto complete search");return}if(!n){c("Please select a background image");return}if(!s){c("Please select a profile image");return}if(y.values.rules.length===0){c("Please add at least one house rule");return}t.mutateAsync({data:k,backgroundImage:n,profileImage:s})};return ne.jsx("div",{...e,children:ne.jsxs("div",{className:"col w-full pt-4 pb-8",children:[ne.jsx(Z0,{children:"Sign Up"}),ne.jsx(U5,{form:y,submit:t,error:d,setBackgroundImage:i,setProfileImage:l,handleSubmit:b,button:"Sign Up"}),ne.jsxs("div",{className:"flex gap-2 items-center",children:[ne.jsx("p",{children:"Already have an account?"}),ne.jsx(Fc,{className:"text-blue-600 text-lg",href:"/login",children:"Log In"})]})]})})},Dne=()=>(ce.useEffect(()=>{Wi.enable(!1,"profile-menu"),Wi.enable(!1,"chat-menu")},[]),ne.jsx(Ng,{children:ne.jsx(mf,{fullscreen:!0,children:ne.jsx(One,{className:"max m-auto"})})})),$ne=Ni.object({email:Ni.string().email("Invalid email address"),firstName:Ni.string().min(2,"Must be at least 2 characters"),lastName:Ni.string().min(2,"Must be at least 2 characters"),bio:Ni.string().min(2,"Must be at least 2 characters"),rules:Ni.array(Ni.string().min(2,"Must be at least 2 characters"))}),Bne=()=>{const e=ou(),[t,{toggle:n}]=v8(!1),i=bE(),{me:s,updateSelf:l}=ca(),[d,c]=ce.useState(null),[y,b]=ce.useState(s.data.backgroundImage),[k,S]=ce.useState(s.data.profileImage),E=w_({initialValues:{email:s.data.email,firstName:s.data.firstName,lastName:s.data.lastName,city:s.data.city,bio:s.data.bio,rules:s.data.rules},validate:S_($ne)}),A=async z=>{n(),await l.mutateAsync({id:s.data.id,...z,background:y,profile:k}),e.invalidateQueries("me"),i.replace("/profile")};return ne.jsxs(ln,{pos:"relative",children:[ne.jsx(Ak,{visible:t,zIndex:1e3,overlayProps:{radius:"sm",blur:2}}),ne.jsx(kl,{h:"lg"}),ne.jsx("div",{className:"w-full max m-auto",children:ne.jsx(U5,{form:E,error:d,setBackgroundImage:b,setProfileImage:S,handleSubmit:A,button:"Update Profile",backgroundImage:y,profileImage:k})}),ne.jsx(kl,{h:"lg"})]})},Fne=()=>{const{me:e}=ca();return e.isLoading?null:e.data?ne.jsx(zl,{title:"Edit Profile",back:!0,href:"/profile",children:ne.jsx(Bne,{})}):ne.jsx(Ls,{to:"/login"})},Nne=Ni.object({current:Ni.string().min(1,"Must be at least 1 character"),password:Ni.string().min(6,"Must be at least 6 characters")}),jne=()=>{const e=bE(),t=Af(),{me:n}=ca(),i=w_({initialValues:{password:""},validate:S_(Nne)}),s=async l=>{await t.put("/users/password",l),e.replace("/profile")};return n.isLoading?null:n.isError?ne.jsx(Redirect,{to:"/login"}):n.data?ne.jsx("div",{children:ne.jsxs("form",{className:"flex flex-col gap-3 p-3 pt-5",onSubmit:i.onSubmit(s),children:[ne.jsx(df,{className:"w-full br",placeholder:"Current Password",required:!0,...i.getInputProps("current")}),ne.jsx(df,{className:"w-full br",placeholder:"New Password",required:!0,...i.getInputProps("password")}),ne.jsx(Ml,{type:"submit",children:"Update"})]})}):ne.jsx("p",{children:"There was an error"})},Vne=()=>{const{me:e}=ca();return e.isLoading?null:e.data?ne.jsx(zl,{title:"Edit Password",back:!0,href:"/profile",children:ne.jsx(jne,{})}):ne.jsx(Ls,{to:"/login"})};gK();const Une=()=>{const e=$k(GY);return ne.jsx(eK,{children:ne.jsxs(zX,{children:[ne.jsx(JY,{}),ne.jsx(qX,{}),ne.jsxs(hK,{children:[ne.jsxs(b2,{children:[ne.jsx(ms,{path:"/",render:()=>ne.jsx(Ls,{to:"/home"}),exact:!0}),ne.jsx(xR,{path:"/login",component:Ane,exact:!0}),ne.jsx(xR,{path:"/sign_up",component:Dne,exact:!0}),ne.jsx(ms,{path:"/home",component:Qee,exact:!0}),ne.jsx(ms,{path:"/messages",component:hte,exact:!0}),ne.jsx(ms,{path:"/details/:id",component:cte,exact:!0}),ne.jsx(ms,{path:"/profile",component:gte,exact:!0}),ne.jsx(ms,{path:"/profile/edit",component:Fne,exact:!0}),ne.jsx(ms,{path:"/profile/password",component:Vne,exact:!0}),ne.jsx(ms,{path:"/users/:id",component:nte}),ne.jsx(ms,{path:"/requests_sent",component:pte}),ne.jsx(ms,{path:"/requests_received",component:rte})]}),!e&&ne.jsx(qb,{}),e&&ne.jsxs(qb,{slot:"bottom",children:[ne.jsxs(Fc,{tab:"home",href:"/home",children:[ne.jsx(Zr,{"aria-hidden":"true",icon:FX}),ne.jsx(_1,{children:"Home"})]}),ne.jsxs(Fc,{tab:"messages",href:"/messages",children:[ne.jsx(Zr,{"aria-hidden":"true",icon:bO}),ne.jsx(_1,{children:"Messages"})]}),ne.jsxs(Fc,{tab:"profile",href:"/profile",children:[ne.jsx(Zr,{"aria-hidden":"true",icon:xO}),ne.jsx(_1,{children:"Profile"})]})]})]})]})})},Hne={fontFamily:"Montserrat, sans-serif",defaultRadius:"md",components:{Button:{vars:(e,t)=>({root:{"--button-height":Qe(60)}}),defaultProps:{}},Input:{defaultProps:{radius:"lg",size:"xl"}},Center:{defaultProps:{bg:"#CACCD2"}},TextInput:{defaultProps:{size:"xl"}}}};T5.initialize("prj_live_pk_c1ab83e2ccb33fb19cfc825945296336a651239f");const qne=document.getElementById("root"),Wne=Zz(qne);q6();const Zne=new fV({defaultOptions:{queries:{staleTime:1e3*60*10,cacheTime:1e3*60*15,useErrorBoundary:!0,retry:0}}});Wne.render(ne.jsx(YV,{store:FE,children:ne.jsx(Qz,{loading:null,persistor:YQ,children:ne.jsxs(vV,{client:Zne,children:[ne.jsx(P4,{theme:Hne,withGlobalStyles:!0,withNormalizeCss:!0,children:ne.jsx(Une,{})}),ne.jsx(RV,{initialIsOpen:!1,buttonPosition:"top-right"})]})})}));export{SL as G,p6 as H,IW as K,Kne as __vite_legacy_guard,K0 as a,pf as b,Xne as c,Dh as d,gie as e,Yne as f,y6 as g,f6 as h,Kq as i,sd as j,eie as k,tie as l,g2 as m,nie as n,gi as o,iie as p,_s as q,Jne as r,yie as s,h2 as t,vie as u,Bc as v,El as w,rie as x};
